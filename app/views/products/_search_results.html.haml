.table-responsive
  %table.table.table-striped.table-hover.table-loose
    %thead
      %tr
        %th.col-xs-2.no-wrap
          = sort_link(@q, :code, col(Product, :code), {}, {data: {push: 'partial', target: '.products'}})
        %th
          = sort_link(@q, :title, col(Product, :title), {}, {data: {push: 'partial', target: '.products'}})
        - if can_see_pricing?
          %th.no-wrap.text-right
            = sort_link(@q, :sales_price_cents, col(Product, :sales_price), {}, {data: {push: 'partial', target: '.products'}})
    %tbody
      = content_tag_for :tr, products do |product|
        %td= product.code
        %td
          = link_to show_product_path(product.category, product), data: {push: 'partial', target: '.product-detail'} do
            %strong= product.title
            = product.subtitle
        - if can_see_pricing?
          %td.currency.text-right= humanized_money_with_symbol product.sales_price
