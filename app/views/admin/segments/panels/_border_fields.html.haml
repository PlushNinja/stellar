%fieldset
  .row
    .col-sm-1
      .picture-icon{style: "margin: 3px; border: 1px dotted #ccc; #{attr.dasherize}: 3px solid #000"}
    .col-sm-4
      = f.select "#{attr}_style", Segment.border_style_options.map { |s| [t(".styles.#{s}"), s] }, {include_blank: true, skip_label: true}, {placeholder: t('.undefined'), class: 'input-sm'}
    .col-sm-4.pickr-controls
      = f.text_field "#{attr}_color", class: 'color', skip_label: true
    .col-sm-3
      = f.range_field "#{attr}_width", min: 0, max: 20, step: 1, value: segment.send("#{attr}_width") || 0, skip_label: true

:coffee
  $('#segment_#{attr}_style').betterSelectize
    plugins: ['remove_button']
    dropdownParent: null
  $('#segment_#{attr}_width').nouislider()
