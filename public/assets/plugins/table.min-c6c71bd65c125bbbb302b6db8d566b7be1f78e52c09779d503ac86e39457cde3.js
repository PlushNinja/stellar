/*!
 * froala_editor v2.2.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms
 * Copyright 2014-2016 Froala Labs
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,l){return void 0===l&&(l="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(l),l}:e(jQuery)}(function(e){"use strict";e.extend(e.FE.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_]"}),e.extend(e.FE.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableRemove","|","tableRows","tableColumns","tableStyle","-","tableCells","tableCellBackground","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,tableInsertHelperOffset:15}),e.FE.PLUGINS.table=function(t){function l(){var e=t.$tb.find('.fr-command[data-cmd="insertTable"]'),l=t.popups.get("table.insert");if(l||(l=o()),!l.hasClass("fr-active")){t.popups.refresh("table.insert"),t.popups.setContainer("table.insert",t.$tb);var a=e.offset().left+e.outerWidth()/2,s=e.offset().top+(t.opts.toolbarBottom?10:e.outerHeight()-10);t.popups.show("table.insert",a,s,e.outerHeight())}}function a(){var l=A();if(l){var a=t.popups.get("table.edit");a||(a=i()),t.popups.setContainer("table.edit",e(t.opts.scrollableContainer));var s=z(l),n=(s.left+s.right)/2,o=s.bottom;if(t.popups.show("table.edit",n,o,s.bottom-s.top),t.$el.find(".fr-selected-cell").length>1){t.toolbar.disable(),t.$el.removeClass("fr-no-selection"),t.edit.on();var r=e(t.o_win).scrollTop();t.$el.focus(),t.selection.setAtEnd(t.$el.find(".fr-selected-cell:last").get(0)),t.selection.restore(),e(t.o_win).scrollTop(r),t.button.bulkRefresh()}}}function s(){var l=A();if(l){var a=t.popups.get("table.colors");a||(a=f()),t.popups.setContainer("table.colors",e(t.opts.scrollableContainer));var s=z(l),n=(s.left+s.right)/2,o=s.bottom;c(),t.popups.show("table.colors",n,o,s.bottom-s.top)}}function n(){0===t.$el.get(0).querySelectorAll(".fr-selected-cell").length&&t.toolbar.enable()}function o(l){if(l)return t.popups.onHide("table.insert",function(){t.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseenter")}),!0;var a="";t.opts.tableInsertButtons.length>0&&(a='<div class="fr-buttons">'+t.button.buildList(t.opts.tableInsertButtons)+"</div>");var s={buttons:a,rows_columns:r()},n=t.popups.create("table.insert",s);return t.events.$on(n,"mouseenter",".fr-table-size .fr-select-table-size .fr-table-cell",function(l){var a=e(l.currentTarget),s=a.data("row"),n=a.data("col"),o=a.parent();o.siblings(".fr-table-size-info").html(s+" &times; "+n),o.find("> span").removeClass("hover");for(var r=1;r<=t.opts.tableInsertMaxSize;r++)for(var i=0;i<=t.opts.tableInsertMaxSize;i++){var f=o.find('> span[data-row="'+r+'"][data-col="'+i+'"]');s>=r&&n>=i?f.addClass("hover"):s+1>=r||2>=r&&!t.helpers.isMobile()?f.css("display","inline-block"):r>2&&!t.helpers.isMobile()&&f.css("display","none")}},!0),n}function r(){for(var e='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',l=1;l<=t.opts.tableInsertMaxSize;l++){for(var a=1;a<=t.opts.tableInsertMaxSize;a++){var s="inline-block";l>2&&!t.helpers.isMobile()&&(s="none");var n="fr-table-cell ";1==l&&1==a&&(n+=" hover"),e+='<span class="fr-command '+n+'" data-cmd="tableInsert" data-row="'+l+'" data-col="'+a+'" data-param1="'+l+'" data-param2="'+a+'" style="display: '+s+';"><span></span></span>'}e+='<div class="new-line"></div>'}return e+="</div></div>"}function i(e){if(e)return t.popups.onHide("table.edit",n),!0;var l="";t.opts.tableEditButtons.length>0&&(l='<div class="fr-buttons">'+t.button.buildList(t.opts.tableEditButtons)+"</div>");var s={buttons:l},o=t.popups.create("table.edit",s);return t.events.$on(t.$wp,"scroll.table-edit",function(){t.popups.isVisible("table.edit")&&a()}),o}function f(){var e="";t.opts.tableColorsButtons.length>0&&(e='<div class="fr-buttons fr-table-colors-buttons">'+t.button.buildList(t.opts.tableColorsButtons)+"</div>");var l={buttons:e,colors:d()},a=t.popups.create("table.colors",l);return t.events.$on(t.$wp,"scroll.table-colors",function(){t.popups.isVisible("table.colors")&&s()}),a}function d(){for(var e='<div class="fr-table-colors">',l=0;l<t.opts.tableColors.length;l++)0!==l&&l%t.opts.tableColorsStep===0&&(e+="<br>"),e+="REMOVE"!=t.opts.tableColors[l]?'<span class="fr-command" style="background: '+t.opts.tableColors[l]+';" data-cmd="tableCellBackgroundColor" data-param1="'+t.opts.tableColors[l]+'"></span>':'<span class="fr-command" data-cmd="tableCellBackgroundColor" data-param1="REMOVE" title="'+t.language.translate("Clear Formatting")+'"><i class="fa fa-eraser"></i></span>';return e+="</div>"}function c(){var e=t.popups.get("table.colors"),l=t.$el.find(".fr-selected-cell:first");e.find(".fr-selected-color").removeClass("fr-selected-color"),e.find('span[data-param1="'+t.helpers.RGBToHex(l.css("background-color"))+'"]').addClass("fr-selected-color")}function p(l,a){var s,n,o='<table style="width: 100%;"><tbody>',r=100/a;for(s=0;l>s;s++){for(o+="<tr>",n=0;a>n;n++)o+='<td style="width: '+r.toFixed(4)+'%;">',0===s&&0===n&&(o+=e.FE.MARKERS),o+="<br></td>";o+="</tr>"}o+="</tbody></table>",t.html.insert(o),t.selection.restore()}function h(){if(t.$el.find(".fr-selected-cell").length>0){var e=t.$el.find(".fr-selected-cell").closest("table");t.selection.setBefore(e.get(0))||t.selection.setAfter(e.get(0)),t.selection.restore(),t.popups.hide("table.edit"),e.remove()}}function u(){var l=t.$el.find(".fr-selected-cell").closest("table");if(l.length>0&&0===l.find("th").length){var s,n="<thead><tr>",o=0;for(l.find("tr:first > td").each(function(){var t=e(this);o+=parseInt(t.attr("colspan"),10)||1}),s=0;o>s;s++)n+="<th><br></th>";n+="</tr></thead>",l.prepend(n),a()}}function b(){var e=t.$el.find(".fr-selected-cell").closest("table"),l=e.find("thead");if(l.length>0)if(0===e.find("tbody tr").length)h();else if(l.remove(),t.$el.find(".fr-selected-cell").length>0)a();else{t.popups.hide("table.edit");var s=e.find("tbody tr:first td:first").get(0);s&&(t.selection.setAtEnd(s),t.selection.restore())}}function g(l){var s=t.$el.find(".fr-selected-cell").closest("table");if(s.length>0){if(t.$el.find("th.fr-selected-cell").length>0&&"above"==l)return;var n,o,r=A(),i=D(r);o="above"==l?i.min_i:i.max_i;var f="<tr>";for(n=0;n<r[o].length;n++)if("below"==l&&o<r.length-1&&r[o][n]==r[o+1][n]||"above"==l&&o>0&&r[o][n]==r[o-1][n]){if(0===n||n>0&&r[o][n]!=r[o][n-1]){var d=e(r[o][n]);d.attr("rowspan",parseInt(d.attr("rowspan"),10)+1)}}else f+="<td><br></td>";f+="</tr>";var c=e(s.find("tr").not(s.find("table tr")).get(o));"below"==l?c.after(f):"above"==l&&(c.before(f),t.popups.isVisible("table.edit")&&a())}}function m(){var l=t.$el.find(".fr-selected-cell").closest("table");if(l.length>0){var a,s,n,o=A(),r=D(o);if(0===r.min_i&&r.max_i==o.length-1)h();else{for(a=r.max_i;a>=r.min_i;a--){for(n=e(l.find("tr").not(l.find("table tr")).get(a)),s=0;s<o[a].length;s++)if(0===s||o[a][s]!=o[a][s-1]){var i=e(o[a][s]);if(parseInt(i.attr("rowspan"),10)>1){var f=parseInt(i.attr("rowspan"),10)-1;1==f?i.removeAttr("rowspan"):i.attr("rowspan",f)}if(a<o.length-1&&o[a][s]==o[a+1][s]&&(0===a||o[a][s]!=o[a-1][s])){for(var d=o[a][s],c=s;c>0&&o[a][c]==o[a][c-1];)c--;0===c?e(l.find("tr").not(l.find("table tr")).get(a+1)).prepend(d):e(o[a+1][c-1]).after(d)}}var p=n.parent();n.remove(),0===p.find("tr").length&&p.remove(),o=A(l)}r.min_i>0?t.selection.setAtEnd(o[r.min_i-1][0]):t.selection.setAtEnd(o[0][0]),t.selection.restore(),t.popups.hide("table.edit")}}}function v(l){var s=t.$el.find(".fr-selected-cell").closest("table");if(s.length>0){var n,o=A(),r=D(o);n="before"==l?r.min_j:r.max_j;var i,f=100/o[0].length,d=100/(o[0].length+1);s.find("th, td").each(function(){i=e(this),i.data("old-width",i.outerWidth()/s.outerWidth()*100)}),s.find("tr").not(s.find("table tr")).each(function(t){for(var a,s=e(this),r=0,i=0;n>r-1;){if(a=s.find("> th, > td").get(i),!a){a=null;break}a==o[t][r]?(r+=parseInt(e(a).attr("colspan"),10)||1,i++):(r+=parseInt(e(o[t][r]).attr("colspan"),10)||1,"after"==l&&(a=0===i?-1:s.find("> th, > td").get(i-1)))}var c=e(a);if("after"==l&&r-1>n||"before"==l&&n>0&&o[t][n]==o[t][n-1]){if(0===t||t>0&&o[t][n]!=o[t-1][n]){var p=parseInt(c.attr("colspan"),10)+1;c.attr("colspan",p),c.css("width",(c.data("old-width")*d/f+d).toFixed(4)+"%"),c.removeData("old-width")}}else{var h;h=s.find("th").length>0?'<th style="width: '+d.toFixed(4)+'%;"><br></th>':'<td style="width: '+d.toFixed(4)+'%;"><br></td>',-1==a?s.prepend(h):null==a?s.append(h):"before"==l?c.before(h):"after"==l&&c.after(h)}}),s.find("th, td").each(function(){i=e(this),i.data("old-width")&&(i.css("width",(i.data("old-width")*d/f).toFixed(4)+"%"),i.removeData("old-width"))}),t.popups.isVisible("table.edit")&&a()}}function w(){var l=t.$el.find(".fr-selected-cell").closest("table");if(l.length>0){var a,s,n,o=A(),r=D(o);if(0===r.min_j&&r.max_j==o[0].length-1)h();else{var i=100/o[0].length,f=100/(o[0].length-r.max_j+r.min_j-1);for(l.find("th, td").each(function(){n=e(this),n.hasClass("fr-selected-cell")||n.data("old-width",n.outerWidth()/l.outerWidth()*100)}),s=r.max_j;s>=r.min_j;s--)for(a=0;a<o.length;a++)if(0===a||o[a][s]!=o[a-1][s])if(n=e(o[a][s]),parseInt(n.attr("colspan"),10)>1){var d=parseInt(n.attr("colspan"),10)-1;1==d?n.removeAttr("colspan"):n.attr("colspan",d),n.css("width",((n.data("old-width")-J(s,o))*f/i).toFixed(4)+"%"),n.removeData("old-width")}else{var c=e(n.parent().get(0));n.remove(),0===c.find("> th, > td").length&&(0===c.prev().length||0===c.next().length||c.prev().find("> th[rowspan], > td[rowspan]").length<c.prev().find("> th, > td").length)&&c.remove()}r.min_j>0?t.selection.setAtEnd(o[r.min_i][r.min_j-1]):t.selection.setAtEnd(o[r.min_i][0]),t.selection.restore(),t.popups.hide("table.edit"),l.find("th, td").each(function(){n=e(this),n.data("old-width")&&(n.css("width",(n.data("old-width")*f/i).toFixed(4)+"%"),n.removeData("old-width"))})}}}function C(){if(t.$el.find(".fr-selected-cell").length>1&&(0===t.$el.find("th.fr-selected-cell").length||0===t.$el.find("td.fr-selected-cell").length)){var l,s,n,o=A(),r=D(o),i=t.$el.find(".fr-selected-cell"),f=e(i[0]),d=f.parent(),c=d.find(".fr-selected-cell"),p=f.closest("table"),h=f.html(),u=0;for(l=0;l<c.length;l++)u+=e(c[l]).outerWidth();for(f.css("width",(u/d.outerWidth()*100).toFixed(4)+"%"),r.min_j<r.max_j&&f.attr("colspan",r.max_j-r.min_j+1),r.min_i<r.max_i&&f.attr("rowspan",r.max_i-r.min_i+1),l=1;l<i.length;l++)s=e(i[l]),"<br>"!=s.html()&&""!==s.html()&&(h+="<br>"+s.html()),s.remove();f.html(h),t.selection.setAtEnd(f.get(0)),t.selection.restore(),t.toolbar.enable();var b=p.find("tr:empty");for(l=b.length-1;l>=0;l--)n=e(b[l]),(0===n.prev().length||0===n.next().length||n.prev().find("> th[rowspan], > td[rowspan]").length<n.prev().find("> th, > td").length)&&n.remove();a()}}function $(){if(1==t.$el.find(".fr-selected-cell").length){var l=t.$el.find(".fr-selected-cell"),a=l.parent(),s=l.closest("table"),n=parseInt(l.attr("rowspan"),10),o=A(),r=_(l.get(0),o),i=l.clone().html("<br>");if(n>1){var f=Math.ceil(n/2);f>1?l.attr("rowspan",f):l.removeAttr("rowspan"),n-f>1?i.attr("rowspan",n-f):i.removeAttr("rowspan");for(var d=r.row+f,c=0===r.col?r.col:r.col-1;c>=0&&(o[d][c]==o[d][c-1]||d>0&&o[d][c]==o[d-1][c]);)c--;-1==c?e(s.find("tr").not(s.find("table tr")).get(d)).prepend(i):e(o[d][c]).after(i)}else{var p,h=e("<tr>").append(i);for(p=0;p<o[0].length;p++)if(0===p||o[r.row][p]!=o[r.row][p-1]){var u=e(o[r.row][p]);u.is(l)||u.attr("rowspan",(parseInt(u.attr("rowspan"),10)||1)+1)}a.after(h)}R(),t.popups.hide("table.edit")}}function E(){if(1==t.$el.find(".fr-selected-cell").length){var l=t.$el.find(".fr-selected-cell"),a=parseInt(l.attr("colspan"),10)||1,s=l.parent().outerWidth(),n=l.outerWidth(),o=l.clone().html("<br>"),r=A(),i=_(l.get(0),r);if(a>1){var f=Math.ceil(a/2);n=Q(i.col,i.col+f-1,r)/s*100;var d=Q(i.col+f,i.col+a-1,r)/s*100;f>1?l.attr("colspan",f):l.removeAttr("colspan"),a-f>1?o.attr("colspan",a-f):o.removeAttr("colspan"),l.css("width",n.toFixed(4)+"%"),o.css("width",d.toFixed(4)+"%")}else{var c;for(c=0;c<r.length;c++)if(0===c||r[c][i.col]!=r[c-1][i.col]){var p=e(r[c][i.col]);if(!p.is(l)){var h=(parseInt(p.attr("colspan"),10)||1)+1;p.attr("colspan",h)}}n=n/s*100/2,l.css("width",n.toFixed(4)+"%"),o.css("width",n.toFixed(4)+"%")}l.after(o),R(),t.popups.hide("table.edit")}}function y(e){"REMOVE"!=e?t.$el.find(".fr-selected-cell").css("background-color",t.helpers.HEXtoRGB(e)):t.$el.find(".fr-selected-cell").css("background-color","")}function F(e){t.$el.find(".fr-selected-cell").css("vertical-align",e)}function M(e){t.$el.find(".fr-selected-cell").css("text-align",e)}function x(e,t,l,a){if(t.length>0){if(!l){var s=Object.keys(a);s.splice(s.indexOf(e),1),t.removeClass(s.join(" "))}t.toggleClass(e)}}function A(l){l=l||null;var a=[];if(null==l&&t.$el.find(".fr-selected-cell").length>0&&(l=t.$el.find(".fr-selected-cell").closest("table")),l){var s=e(l);return s.find("tr").not(s.find("table tr")).each(function(t,l){var s=e(l),n=0;s.find("> th, > td").each(function(l,s){for(var o=e(s),r=parseInt(o.attr("colspan"),10)||1,i=parseInt(o.attr("rowspan"),10)||1,f=t;t+i>f;f++)for(var d=n;n+r>d;d++)a[f]||(a[f]=[]),a[f][d]?n++:a[f][d]=s;n+=r})}),a}}function _(e,t){for(var l=0;l<t.length;l++)for(var a=0;a<t[l].length;a++)if(t[l][a]==e)return{row:l,col:a}}function I(e,t,l){for(var a=e+1,s=t+1;a<l.length;){if(l[a][t]!=l[e][t]){a--;break}a++}for(a==l.length&&a--;s<l[e].length;){if(l[e][s]!=l[e][t]){s--;break}s++}return s==l[e].length&&s--,{row:a,col:s}}function R(){var l=t.$el.find(".fr-selected-cell");l.length>0&&l.each(function(){var t=e(this);t.removeClass("fr-selected-cell"),""===t.attr("class")&&t.removeAttr("class")})}function O(){setTimeout(function(){t.selection.clear(),t.$el.addClass("fr-no-selection"),t.edit.off(),t.$el.blur()},0)}function D(e){var l,a=e.length,s=0,n=e[0].length,o=0,r=t.$el.find(".fr-selected-cell");for(l=0;l<r.length;l++){var i=_(r[l],e),f=I(i.row,i.col,e);a=Math.min(i.row,a),s=Math.max(f.row,s),n=Math.min(i.col,n),o=Math.max(f.col,o)}return{min_i:a,max_i:s,min_j:n,max_j:o}}function S(t,l,a,s,n){var o,r,i,f,d=t,c=l,p=a,h=s;for(o=d;c>=o;o++)((parseInt(e(n[o][p]).attr("rowspan"),10)||1)>1||(parseInt(e(n[o][p]).attr("colspan"),10)||1)>1)&&(i=_(n[o][p],n),f=I(i.row,i.col,n),d=Math.min(i.row,d),c=Math.max(f.row,c),p=Math.min(i.col,p),h=Math.max(f.col,h)),((parseInt(e(n[o][h]).attr("rowspan"),10)||1)>1||(parseInt(e(n[o][h]).attr("colspan"),10)||1)>1)&&(i=_(n[o][h],n),f=I(i.row,i.col,n),d=Math.min(i.row,d),c=Math.max(f.row,c),p=Math.min(i.col,p),h=Math.max(f.col,h));for(r=p;h>=r;r++)((parseInt(e(n[d][r]).attr("rowspan"),10)||1)>1||(parseInt(e(n[d][r]).attr("colspan"),10)||1)>1)&&(i=_(n[d][r],n),f=I(i.row,i.col,n),d=Math.min(i.row,d),c=Math.max(f.row,c),p=Math.min(i.col,p),h=Math.max(f.col,h)),((parseInt(e(n[c][r]).attr("rowspan"),10)||1)>1||(parseInt(e(n[c][r]).attr("colspan"),10)||1)>1)&&(i=_(n[c][r],n),f=I(i.row,i.col,n),d=Math.min(i.row,d),c=Math.max(f.row,c),p=Math.min(i.col,p),h=Math.max(f.col,h));return d==t&&c==l&&p==a&&h==s?{min_i:t,max_i:l,min_j:a,max_j:s}:S(d,c,p,h,n)}function z(t){var l=D(t),a=e(t[l.min_i][l.min_j]),s=e(t[l.min_i][l.max_j]),n=e(t[l.max_i][l.min_j]),o=a.offset().left,r=s.offset().left+s.outerWidth(),i=a.offset().top,f=n.offset().top+n.outerHeight();return{left:o,right:r,top:i,bottom:f}}function k(t,l){if(e(t).is(l))R(),e(t).addClass("fr-selected-cell");else{O();var a=A(),s=_(t,a),n=_(l,a),o=S(Math.min(s.row,n.row),Math.max(s.row,n.row),Math.min(s.col,n.col),Math.max(s.col,n.col),a);R();for(var r=o.min_i;r<=o.max_i;r++)for(var i=o.min_j;i<=o.max_j;i++)e(a[r][i]).addClass("fr-selected-cell")}}function T(l){var a=null,s=e(l.target);return"TD"==l.target.tagName||"TH"==l.target.tagName?a=l.target:s.closest("td").length>0?a=s.closest("td").get(0):s.closest("th").length>0&&(a=s.closest("th").get(0)),0===t.$el.find(a).length?null:a}function B(l){if(t.$el.find(".fr-selected-cell").length>0&&!l.shiftKey&&(R(),t.$el.removeClass("fr-no-selection"),t.edit.on()),1==l.which){ie=!0;var a=T(l);if(a){t.popups.hide("table.edit"),l.stopPropagation(),t.events.trigger("image.hideResizer"),t.events.trigger("video.hideResizer"),re=!0;var s=a.tagName.toLowerCase();l.shiftKey&&t.$el.find(s+".fr-selected-cell").length>0?e(t.$el.find(s+".fr-selected-cell").closest("table")).is(e(a).closest("table"))?k(fe,a):O():((t.keys.ctrlKey(l)||l.shiftKey)&&O(),fe=a,k(fe,fe))}}}function N(l){if(1==l.which){if(ie=!1,re){re=!1;var s=T(l);s||1!=t.$el.find(".fr-selected-cell").length?t.$el.find(".fr-selected-cell").length>0&&(t.selection.isCollapsed()?a():R()):R()}else t.$tb.is(l.target)||t.$tb.is(e(l.target).closest(t.$tb.get(0)))||(t.$el.get(0).querySelectorAll(".fr-selected-cell").length>0&&t.toolbar.enable(),R());if(ce){ce=!1,ne.removeClass("fr-moving"),t.$el.removeClass("fr-no-selection"),t.edit.on();var n=parseFloat(ne.css("left"))+t.opts.tableResizerOffset;t.opts.iframe&&(n-=t.$iframe.offset().left),ne.data("release-position",n),ne.removeData("max-left"),ne.removeData("max-right"),G(l),W()}}}function H(l){if(re===!0){var a=e(l.currentTarget);if(a.closest("table").is(t.$el.find(".fr-selected-cell").closest("table"))){if("TD"==l.currentTarget.tagName&&0===t.$el.find("th.fr-selected-cell").length)return void k(fe,l.currentTarget);if("TH"==l.currentTarget.tagName&&0===t.$el.find("td.fr-selected-cell").length)return void k(fe,l.currentTarget)}O()}}function L(e){(37==e.which||38==e.which||39==e.which||40==e.which)&&t.$el.find(".fr-selected-cell").length>0&&(R(),t.popups.hide("table.edit"))}function j(){t.shared.$table_resizer||(t.shared.$table_resizer=e('<div class="fr-table-resizer"><div></div></div>')),ne=t.shared.$table_resizer,t.events.$on(ne,"mousedown",function(){return t.core.sameInstance(ne)?(ce=!0,ne.addClass("fr-moving"),R(),O(),ne.find("div").css("opacity",1),!1):!0}),t.events.$on(ne,"mousemove",function(e){return t.core.sameInstance(ne)?void(ce&&(t.opts.iframe&&(e.pageX-=t.$iframe.offset().left),Z(e))):!0}),t.events.on("shared.destroy",function(){ne.html("").removeData().remove()},!0),t.events.on("destroy",function(){t.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),ne.hide().appendTo(e("body"))},!0)}function W(){ne&&(ne.find("div").css("opacity",0),ne.css("top",0),ne.css("left",0),ne.css("height",0),ne.find("div").css("height",0),ne.hide())}function V(){oe&&oe.removeClass("fr-visible").css("left","-9999px")}function X(l,a){var s=e(a),n=s.closest("table");if(a&&"TD"!=a.tagName&&"TH"!=a.tagName&&(s.closest("td").length>0?a=s.closest("td"):s.closest("th").length>0&&(a=s.closest("th"))),!a||"TD"!=a.tagName&&"TH"!=a.tagName)ne&&s.get(0)!=ne.get(0)&&s.parent().get(0)!=ne.get(0)&&t.core.sameInstance(ne)&&W();else{if(s=e(a),0===t.$el.find(s).length)return!1;var o=s.offset().left-1,r=o+s.outerWidth();if(Math.abs(l.pageX-o)<=t.opts.tableResizerOffset||Math.abs(r-l.pageX)<=t.opts.tableResizerOffset){var i,f,d,c,p,h=A(n),u=_(a,h),b=I(u.row,u.col,h),g=n.offset().top,m=n.outerHeight()-1;if(u.col>0&&l.pageX-o<=t.opts.tableResizerOffset){d=o;var v=e(h[u.row][u.col-1]);c=1==(parseInt(v.attr("colspan"),10)||1)?v.offset().left-1+t.opts.tableResizingLimit:o-J(u.col-1,h)+t.opts.tableResizingLimit,p=1==(parseInt(s.attr("colspan"),10)||1)?o+s.outerWidth()-t.opts.tableResizingLimit:o+J(u.col,h)-t.opts.tableResizingLimit,i=u.col-1,f=u.col}else if(r-l.pageX<=t.opts.tableResizerOffset)if(d=r,b.col<h[b.row].length&&h[b.row][b.col+1]){var w=e(h[b.row][b.col+1]);c=1==(parseInt(s.attr("colspan"),10)||1)?o+t.opts.tableResizingLimit:r-J(b.col,h)+t.opts.tableResizingLimit,p=1==(parseInt(w.attr("colspan"),10)||1)?r+w.outerWidth()-t.opts.tableResizingLimit:r+J(u.col+1,h)-t.opts.tableResizingLimit,i=b.col,f=b.col+1}else{i=b.col,f=null;var C=n.parent();c=n.offset().left-1+h[0].length*t.opts.tableResizingLimit,p=C.offset().left-1+C.width()+parseFloat(C.css("padding-left"))}ne||j(),ne.data("table",n),ne.data("first",i),ne.data("second",f),ne.data("instance",t),t.$wp.append(ne);var $=d-t.win.pageXOffset-t.opts.tableResizerOffset,E=g-t.win.pageYOffset;t.opts.iframe&&($+=t.$iframe.offset().left-e(t.o_win).scrollLeft(),E+=t.$iframe.offset().top-e(t.o_win).scrollTop(),c+=t.$iframe.offset().left,p+=t.$iframe.offset().left),ne.data("max-left",c),ne.data("max-right",p),ne.data("origin",d-t.win.pageXOffset),ne.css("top",E),ne.css("left",$),ne.css("height",m),ne.find("div").css("height",m),ne.css("padding-left",t.opts.tableResizerOffset),ne.css("padding-right",t.opts.tableResizerOffset),ne.show()}else t.core.sameInstance(ne)&&W()}}function P(l,a){if(t.$box.find(".fr-line-breaker").is(":visible"))return!1;oe||le(),t.$box.append(oe),oe.data("instance",t);var s=e(a),n=s.find("tr:first"),o=l.pageX,r=0,i=0;t.opts.iframe&&(r+=t.$iframe.offset().left-e(t.o_win).scrollLeft(),i+=t.$iframe.offset().top-e(t.o_win).scrollTop());var f;n.find("th, td").each(function(){var l=e(this);return l.offset().left<=o&&o<l.offset().left+l.outerWidth()/2?(f=parseInt(oe.find("a").css("width"),10),oe.css("top",i+l.offset().top-t.win.pageYOffset-f-5),oe.css("left",r+l.offset().left-t.win.pageXOffset-f/2),oe.data("selected-cell",l),oe.data("position","before"),oe.addClass("fr-visible"),!1):l.offset().left+l.outerWidth()/2<=o&&o<l.offset().left+l.outerWidth()?(f=parseInt(oe.find("a").css("width"),10),oe.css("top",i+l.offset().top-t.win.pageYOffset-f-5),oe.css("left",r+l.offset().left+l.outerWidth()-t.win.pageXOffset-f/2),oe.data("selected-cell",l),oe.data("position","after"),oe.addClass("fr-visible"),!1):void 0})}function Y(l,a){if(t.$box.find(".fr-line-breaker").is(":visible"))return!1;oe||le(),t.$box.append(oe),oe.data("instance",t);var s=e(a),n=l.pageY,o=0,r=0;t.opts.iframe&&(o+=t.$iframe.offset().left-e(t.o_win).scrollLeft(),r+=t.$iframe.offset().top-e(t.o_win).scrollTop());var i;s.find("tr").each(function(){var l=e(this);return l.offset().top<=n&&n<l.offset().top+l.outerHeight()/2?(i=parseInt(oe.find("a").css("width"),10),oe.css("top",r+l.offset().top-t.win.pageYOffset-i/2),oe.css("left",o+l.offset().left-t.win.pageXOffset-i-5),oe.data("selected-cell",l.find("td:first")),oe.data("position","above"),oe.addClass("fr-visible"),!1):l.offset().top+l.outerHeight()/2<=n&&n<l.offset().top+l.outerHeight()?(i=parseInt(oe.find("a").css("width"),10),oe.css("top",r+l.offset().top+l.outerHeight()-t.win.pageYOffset-i/2),oe.css("left",o+l.offset().left-t.win.pageXOffset-i-5),oe.data("selected-cell",l.find("td:first")),oe.data("position","below"),oe.addClass("fr-visible"),!1):void 0})}function K(l,a){if(0===t.$el.find(".fr-selected-cell").length){var s,n,o;if(a&&("HTML"==a.tagName||"BODY"==a.tagName||t.node.isElement(a)))for(s=1;s<=t.opts.tableInsertHelperOffset;s++){if(n=t.doc.elementFromPoint(l.pageX-t.win.pageXOffset,l.pageY-t.win.pageYOffset+s),e(n).hasClass("fr-tooltip"))return!0;if(n&&("TH"==n.tagName||"TD"==n.tagName||"TABLE"==n.tagName)&&e(n).parents(t.$wp).length)return P(l,n.closest("table")),!0;if(o=t.doc.elementFromPoint(l.pageX-t.win.pageXOffset+s,l.pageY-t.win.pageYOffset),e(o).hasClass("fr-tooltip"))return!0;if(o&&("TH"==o.tagName||"TD"==o.tagName||"TABLE"==o.tagName)&&e(o).parents(t.$wp).length)return Y(l,o.closest("table")),!0}t.core.sameInstance(oe)&&V()}}function q(e){de=null;var l=t.doc.elementFromPoint(e.pageX-t.win.pageXOffset,e.pageY-t.win.pageYOffset);(!t.popups.areVisible()||t.popups.areVisible()&&t.popups.isVisible("table.edit"))&&X(e,l),t.popups.areVisible()||t.$tb.hasClass("fr-inline")&&t.$tb.is(":visible")||K(e,l)}function U(){if(ce){var l=ne.data("table"),a=l.offset().top-t.win.pageYOffset;t.opts.iframe&&(a+=t.$iframe.offset().top-e(t.o_win).scrollTop()),ne.css("top",a)}}function G(){var l=ne.data("origin"),a=ne.data("release-position");if(l!==a){var s=ne.data("first"),n=ne.data("second"),o=ne.data("table"),r=o.outerWidth();if(null!==s&&null!==n){var i,f,d,c=A(o),p=[],h=[],u=[],b=[];for(i=0;i<c.length;i++)f=e(c[i][s]),d=e(c[i][n]),p[i]=f.outerWidth(),u[i]=d.outerWidth(),h[i]=p[i]/r*100,b[i]=u[i]/r*100;for(i=0;i<c.length;i++){f=e(c[i][s]),d=e(c[i][n]);var g=(h[i]*(p[i]+a-l)/p[i]).toFixed(4);f.css("width",g+"%"),d.css("width",(h[i]+b[i]-g).toFixed(4)+"%")}}else{var m,v=o.parent(),w=r/v.width()*100;m=null==s?(r-a+l)/r*w:(r+a-l)/r*w,o.css("width",Math.round(m).toFixed(4)+"%")}}ne.removeData("origin"),ne.removeData("release-position"),ne.removeData("first"),ne.removeData("second"),ne.removeData("table"),t.undo.saveStep()}function J(t,l){var a,s=e(l[0][t]).outerWidth();for(a=1;a<l.length;a++)s=Math.min(s,e(l[a][t]).outerWidth());return s}function Q(e,t,l){var a,s=0;for(a=e;t>=a;a++)s+=J(a,l);return s}function Z(e){if(t.$el.find(".fr-selected-cell").length>1&&ie&&O(),ie===!1&&re===!1&&ce===!1)de&&clearTimeout(de),de=setTimeout(q,30,e);else if(ce){var l=e.pageX-t.win.pageXOffset;t.opts.iframe&&(l+=t.$iframe.offset().left);var a=ne.data("max-left"),s=ne.data("max-right");l>=a&&s>=l?ne.css("left",l-t.opts.tableResizerOffset):a>l&&parseFloat(ne.css("left"),10)>a-t.opts.tableResizerOffset?ne.css("left",a-t.opts.tableResizerOffset):l>s&&parseFloat(ne.css("left"),10)<s-t.opts.tableResizerOffset&&ne.css("left",s-t.opts.tableResizerOffset)}else ie&&V()}function ee(l){t.node.isEmpty(l.get(0))?l.prepend(e.FE.MARKERS):l.prepend(e.FE.START_MARKER).append(e.FE.END_MARKER)}function te(l){var a=l.which;if(a==e.FE.KEYCODE.TAB&&0===t.opts.tabSpaces){var s;if(t.$el.find(".fr-selected-cell").length>0)s=t.$el.find(".fr-selected-cell:last");else{var n=t.selection.element();"TD"==n.tagName||"TH"==n.tagName?s=e(n):e(n).closest("td").length>0?s=e(n).closest("td"):e(n).closest("th").length>0&&(s=e(n).closest("th"))}s&&(l.preventDefault(),R(),t.popups.hide("table.edit"),l.shiftKey?s.prev().length>0?ee(s.prev()):s.closest("tr").length>0&&s.closest("tr").prev().length>0?ee(s.closest("tr").prev().find("td:last")):s.closest("tbody").length>0&&s.closest("table").find("thead tr").length>0&&ee(s.closest("table").find("thead tr th:last")):s.next().length>0?ee(s.next()):s.closest("tr").length>0&&s.closest("tr").next().length>0?ee(s.closest("tr").next().find("td:first")):s.closest("thead").length>0&&s.closest("table").find("tbody tr").length>0?ee(s.closest("table").find("tbody tr td:first")):(s.addClass("fr-selected-cell"),g("below"),R(),ee(s.closest("tr").next().find("td:first"))),t.selection.restore())}}function le(){t.shared.$ti_helper||(t.shared.$ti_helper=e('<div class="fr-insert-helper"><a class="fr-floating-btn" role="button" tabindex="-1" title="'+t.language.translate("Insert")+'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a></div>'),t.events.bindClick(t.shared.$ti_helper,"a",function(){var e=oe.data("selected-cell"),l=oe.data("position"),a=oe.data("instance")||t;"before"==l?(e.addClass("fr-selected-cell"),a.table.insertColumn(l),e.removeClass("fr-selected-cell")):"after"==l?(e.addClass("fr-selected-cell"),a.table.insertColumn(l),e.removeClass("fr-selected-cell")):"above"==l?(e.addClass("fr-selected-cell"),a.table.insertRow(l),e.removeClass("fr-selected-cell")):"below"==l&&(e.addClass("fr-selected-cell"),a.table.insertRow(l),e.removeClass("fr-selected-cell")),V()})),oe=t.shared.$ti_helper,t.tooltip.bind(t.$box,".fr-insert-helper > a.fr-floating-btn"),t.events.on("shared.destroy",function(){oe.html("").removeData().remove()},!0),t.events.$on(oe,"mousemove",function(e){e.stopPropagation()},!0),t.events.$on(e(t.win),"scroll",function(){V()},!0)}function ae(){if(!t.$wp)return!1;if(!t.helpers.isMobile()){ie=!1,re=!1,ce=!1,t.events.$on(t.$el,"mousedown",B),t.popups.onShow("image.edit",function(){R(),ie=!1,re=!1}),t.popups.onShow("link.edit",function(){R(),ie=!1,re=!1}),t.events.on("commands.mousedown",function(e){e.parents(".fr-toolbar").length>0&&R()}),t.events.$on(t.$el,"mouseenter","th, td",H),t.events.$on(t.$win,"mouseup",N),t.opts.iframe&&t.events.$on(e(t.o_win),"mouseup",N),t.events.$on(t.$el,"keydown",L),t.events.$on(t.$win,"mousemove",Z),t.events.$on(e(t.o_win),"scroll",U),t.events.on("contentChanged",function(){t.$el.find(".fr-selected-cell").length>0&&(a(),t.$el.find("img").on("load.selected-cells",function(){e(this).off("load.selected-cells"),t.$el.find(".fr-selected-cell").length>0&&a()}))}),t.events.$on(e(t.o_win),"resize",function(){R()}),t.events.on("keydown",function(l){if(t.$el.find(".fr-selected-cell").length>0){if(l.which==e.FE.KEYCODE.ESC&&t.popups.isVisible("table.edit"))return R(),t.popups.hide("table.edit"),l.preventDefault(),l.stopPropagation(),l.stopImmediatePropagation(),!1;if(t.$el.find(".fr-selected-cell").length>1)return l.preventDefault(),!1}},!0),t.events.$on(e(t.win),"keydown input keyup",a);var l;t.events.on("html.beforeGet",function(){l=t.$el.find(".fr-selected-cell"),l.removeClass("fr-selected-cell")}),t.events.on("html.get",function(e){return e=e.replace(/<(td|th)((?:[\w\W]*?)) class=""((?:[\w\W]*?))>((?:[\w\W]*?))<\/(td|th)>/g,"<$1$2$3>$4</$5>")}),t.events.on("html.afterGet",function(){l.addClass("fr-selected-cell")}),o(!0),i(!0)}t.events.on("keydown",te,!0)}function se(){t.$el.find(".fr-selected-cell").length>0?a():(t.popups.hide("table.insert"),t.toolbar.showInline())}var ne,oe,re,ie,fe,de,ce;return{_init:ae,insert:p,remove:h,insertRow:g,deleteRow:m,insertColumn:v,deleteColumn:w,mergeCells:C,splitCellVertically:E,splitCellHorizontally:$,addHeader:u,removeHeader:b,setBackground:y,showInsertPopup:l,showEditPopup:a,showColorsPopup:s,back:se,verticalAlign:F,horizontalAlign:M,applyStyle:x}},e.FE.DefineIcon("insertTable",{NAME:"table"}),e.FE.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker")&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),e.FE.RegisterCommand("tableInsert",{callback:function(e,t,l){this.table.insert(t,l),this.popups.hide("table.insert")}}),e.FE.DefineIcon("tableHeader",{NAME:"header"}),e.FE.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,callback:function(){var e=this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]');e.hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(e){var t=this.$el.find(".fr-selected-cell").closest("table");t.length>0&&(0===t.find("th").length?e.removeClass("fr-active"):e.addClass("fr-active"))}}),e.FE.DefineIcon("tableRows",{NAME:"bars"}),e.FE.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below","delete":"Delete row"},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FE.COMMANDS.tableRows.options;for(var a in l)t+='<li><a class="fr-command" data-cmd="tableRows" data-param1="'+a+'" title="'+this.language.translate(l[a])+'">'+this.language.translate(l[a])+"</a></li>";return t+="</ul>"},callback:function(e,t){"above"==t||"below"==t?this.table.insertRow(t):this.table.deleteRow()}}),e.FE.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90"}),e.FE.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after","delete":"Delete column"},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FE.COMMANDS.tableColumns.options;for(var a in l)t+='<li><a class="fr-command" data-cmd="tableColumns" data-param1="'+a+'" title="'+this.language.translate(l[a])+'">'+this.language.translate(l[a])+"</a></li>";return t+="</ul>"},callback:function(e,t){"before"==t||"after"==t?this.table.insertColumn(t):this.table.deleteColumn()}}),e.FE.DefineIcon("tableCells",{NAME:"square-o"}),e.FE.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FE.COMMANDS.tableCells.options;for(var a in l)t+='<li><a class="fr-command" data-cmd="tableCells" data-param1="'+a+'" title="'+this.language.translate(l[a])+'">'+this.language.translate(l[a])+"</a></li>";
return t+="</ul>"},callback:function(e,t){"merge"==t?this.table.mergeCells():"vertical-split"==t?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(e,t){this.$el.find(".fr-selected-cell").length>1?(t.find('a[data-param1="vertical-split"]').addClass("fr-disabled"),t.find('a[data-param1="horizontal-split"]').addClass("fr-disabled"),t.find('a[data-param1="merge"]').removeClass("fr-disabled")):(t.find('a[data-param1="merge"]').addClass("fr-disabled"),t.find('a[data-param1="vertical-split"]').removeClass("fr-disabled"),t.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled"))}}),e.FE.DefineIcon("tableRemove",{NAME:"trash"}),e.FE.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),e.FE.DefineIcon("tableStyle",{NAME:"paint-brush"}),e.FE.RegisterCommand("tableStyle",{title:"Table Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list">',t=this.opts.tableStyles;for(var l in t)e+='<li><a class="fr-command" data-cmd="tableStyle" data-param1="'+l+'" title="'+this.language.translate(t[l])+'">'+this.language.translate(t[l])+"</a></li>";return e+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell").closest("table"),this.opts.tableMultipleStyles,this.opts.tableStyles)},refreshOnShow:function(t,l){var a=this.$el.find(".fr-selected-cell").closest("table");a&&l.find(".fr-command").each(function(){var t=e(this).data("param1");e(this).toggleClass("fr-active",a.hasClass(t))})}}),e.FE.DefineIcon("tableCellBackground",{NAME:"tint"}),e.FE.RegisterCommand("tableCellBackground",{title:"Cell Background",focus:!1,callback:function(){this.table.showColorsPopup()}}),e.FE.RegisterCommand("tableCellBackgroundColor",{undo:!0,focus:!1,callback:function(e,t){this.table.setBackground(t)}}),e.FE.DefineIcon("tableBack",{NAME:"arrow-left"}),e.FE.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){this.table.back()},refresh:function(e){0!==this.$el.find(".fr-selected-cell").length||this.opts.toolbarInline?(e.removeClass("fr-hidden"),e.next(".fr-separator").removeClass("fr-hidden")):(e.addClass("fr-hidden"),e.next(".fr-separator").addClass("fr-hidden"))}}),e.FE.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v"}),e.FE.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FE.COMMANDS.tableCellVerticalAlign.options;for(var a in l)t+='<li><a class="fr-command" data-cmd="tableCellVerticalAlign" data-param1="'+a.toLowerCase()+'" title="'+this.language.translate(l[a])+'">'+this.language.translate(a)+"</a></li>";return t+="</ul>"},callback:function(e,t){this.table.verticalAlign(t)},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active")}}),e.FE.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left"}),e.FE.DefineIcon("align-left",{NAME:"align-left"}),e.FE.DefineIcon("align-right",{NAME:"align-right"}),e.FE.DefineIcon("align-center",{NAME:"align-center"}),e.FE.DefineIcon("align-justify",{NAME:"align-justify"}),e.FE.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var t='<ul class="fr-dropdown-list">',l=e.FE.COMMANDS.tableCellHorizontalAlign.options;for(var a in l)t+='<li><a class="fr-command fr-title" data-cmd="tableCellHorizontalAlign" data-param1="'+a+'" title="'+this.language.translate(l[a])+'">'+this.icon.create("align-"+a)+"</a></li>";return t+="</ul>"},callback:function(e,t){this.table.horizontalAlign(t)},refresh:function(e){e.find("> *:first").replaceWith(this.icon.create("align-"+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))))},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell:first"))+'"]').addClass("fr-active")}}),e.FE.DefineIcon("tableCellStyle",{NAME:"magic"}),e.FE.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list">',t=this.opts.tableCellStyles;for(var l in t)e+='<li><a class="fr-command" data-cmd="tableCellStyle" data-param1="'+l+'" title="'+this.language.translate(t[l])+'">'+this.language.translate(t[l])+"</a></li>";return e+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(t,l){var a=this.$el.find(".fr-selected-cell:first");a&&l.find(".fr-command").each(function(){var t=e(this).data("param1");e(this).toggleClass("fr-active",a.hasClass(t))})}})});