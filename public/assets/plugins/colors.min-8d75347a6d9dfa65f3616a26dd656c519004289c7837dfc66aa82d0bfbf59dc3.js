/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){e.Editable.DEFAULTS=e.extend(e.Editable.DEFAULTS,{colors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorGroups:[{text:"Text",cmd:"foreColor"},{text:"Background",cmd:"backColor"}],defaultColorGroup:"foreColor"}),e.Editable.prototype.refreshColors=function(){var e=this.getSelectionElement();this.$editor.find(".fr-color-picker button.fr-color-bttn").removeClass("active"),this.refreshColor(e,"background-color","backColor"),this.refreshColor(e,"color","foreColor")},e.Editable.prototype.refreshColor=function(t,l,a){for(;e(t).get(0)!=this.$element.get(0);){if("transparent"!==e(t).css(l)&&"rgba(0, 0, 0, 0)"!==e(t).css(l)){this.$editor.find('.fr-color-picker button.fr-color-bttn[data-param="'+a+'"][data-val="'+e.Editable.RGBToHex(e(t).css(l))+'"]').addClass("active");break}t=e(t).parent()}},e.Editable.commands=e.extend(e.Editable.commands,{color:{icon:"fa fa-tint",title:"Color",refreshOnShow:e.Editable.prototype.refreshColors,callback:function(e,t,l){this[l].apply(this,[t])},callbackWithoutSelection:function(t,l,a){"backColor"===a&&(a="background-color"),"foreColor"===a&&(a="color"),this._startInFontExec(a,t,l),"#123456"===l&&""===this.text()&&(this.cleanify(!0,!1),this.$element.find("span").each(function(t,l){var a=e(l),n=a.css("background-color");("#123456"===n||"#123456"===e.Editable.RGBToHex(n))&&a.css("background-color",""),n=a.css("color"),("#123456"===n||"#123456"===e.Editable.RGBToHex(n))&&a.css("color","")}))},undo:!0}}),e.Editable.prototype.command_dispatcher=e.extend(e.Editable.prototype.command_dispatcher,{color:function(e){var t=this.buildDropdownColor(e),l=this.buildDropdownButton(e,t,"fr-color-picker");return l}}),e.Editable.prototype.buildColorList=function(e,t){for(var l=this.options.defaultColorGroup==e?"block":"none",a='<div class="fr-color-set fr-'+e+'" style="display: '+l+'">',n=0;n<t.length;n++){var i=t[n];a+="REMOVE"!==i?'<button type="button" class="fr-color-bttn" data-val="'+i+'" data-cmd="color" data-param="'+e+'" style="background: '+i+';">&nbsp;</button>':'<button type="button" class="fr-color-bttn" data-val="#123456" data-cmd="color" data-param="'+e+'" style="background: #FFF;"><i class="fa fa-eraser"></i></button>',n%this.options.colorsStep==this.options.colorsStep-1&&n>0&&(a+="<hr/>",n!=this.options.colorsStep-1&&n!=2*this.options.colorsStep-1||!this.options.colorsTopChoices||(a+='<div class="separator"></div>'))}return a+="</div>"},e.Editable.prototype.buildDropdownColor=function(){for(var t="",l='<div class="fr-dropdown-menu">',a=0;a<this.options.colorGroups.length;a++)l+=this.buildColorList(this.options.colorGroups[a].cmd,this.options.colorGroups[a].colors||this.options.colors);for(l+="<p>",a=0;a<this.options.colorGroups.length;a++)t=this.options.defaultColorGroup==this.options.colorGroups[a].cmd?"active":"",l+='<span class="fr-choose-color '+t+'" data-text="true" data-param="'+this.options.colorGroups[a].cmd+'" style="width: '+100/this.options.colorGroups.length+'%;">'+this.options.colorGroups[a].text+"</span>";l+="</p></div>",this.$bttn_wrapper.on(this.mousedown,".fr-choose-color",function(e){return e.preventDefault(),e.stopPropagation(),"mousedown"===e.type&&1!==e.which?!0:void 0});var n=this;return this.$bttn_wrapper.on(this.mouseup,".fr-choose-color",function(t){if(t.preventDefault(),t.stopPropagation(),"mouseup"===t.type&&1!==t.which)return!0;var l=e(this);l.siblings().removeClass("active"),l.addClass("active"),l.parents(".fr-dropdown-menu").find("button").attr("data-param",l.attr("data-param")),l.parents(".fr-dropdown-menu").find(".fr-color-set").hide(),l.parents(".fr-dropdown-menu").find(".fr-color-set.fr-"+l.attr("data-param")).show(),n.refreshColors()}),l},e.Editable.prototype.backColor=function(t){this.inlineStyle("background-color","backColor",t),this.saveSelectionByMarkers(),this.$element.find("span").each(function(t,l){var a=e(l),n=a.css("background-color");("#123456"===n||"#123456"===e.Editable.RGBToHex(n))&&(a.css("background-color",""),a.find("span").each(function(t,l){var a=e(l);a.css("background-color",""),""!==a.attr("style")||a.hasClass("f-marker")||a.replaceWith(a.contents())})),""!==a.attr("style")||a.hasClass("f-marker")||a.replaceWith(a.contents())}),this.restoreSelectionByMarkers(),this.cleanify();var l=this.$editor.find('button.fr-color-bttn[data-cmd="backColor"][data-val="'+t+'"]');l.addClass("active"),l.siblings().removeClass("active")},e.Editable.prototype.foreColor=function(t){this.inlineStyle("color","foreColor",t),this.saveSelectionByMarkers(),this.$element.find("span").each(function(t,l){var a=e(l),n=a.css("color");("#123456"===n||"#123456"===e.Editable.RGBToHex(n))&&(a.css("color",""),a.find("span").each(function(t,l){var a=e(l);a.css("color",""),""!==a.attr("style")||a.hasClass("f-marker")||a.replaceWith(a.contents())})),""!==a.attr("style")||a.hasClass("f-marker")||a.replaceWith(a.contents())}),this.restoreSelectionByMarkers(),this.cleanify();var l=this.$editor.find('button.fr-color-bttn[data-cmd="foreColor"][data-val="'+t+'"]');l.addClass("active"),l.siblings().removeClass("active")}}(jQuery);