/*!
 * jQuery JavaScript Library v1.11.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-17T15:27Z
 */
/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=st.type(e);return"function"===i||st.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(st.isFunction(t))return st.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return st.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(pt.test(t))return st.filter(t,e,i);t=st.filter(t,e)}return st.grep(e,function(e){return st.inArray(e,t)>=0!==i})}function s(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function r(e){var t=wt[e]={};return st.each(e.match(yt)||[],function(e,i){t[i]=!0}),t}function a(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1)):(ft.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(a(),st.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Et,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:St.test(i)?st.parseJSON(i):i}catch(s){}st.data(e,t,i)}else i=void 0}return i}function d(e){var t;for(t in e)if(("data"!==t||!st.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,i,n){if(st.acceptData(e)){var s,r,a=st.expando,o=e.nodeType,l=o?st.cache:e,d=o?e[a]:e[a]&&a;if(d&&l[d]&&(n||l[d].data)||void 0!==i||"string"!=typeof t)return d||(d=o?e[a]=Q.pop()||st.guid++:a),l[d]||(l[d]=o?{}:{toJSON:st.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[d]=st.extend(l[d],t):l[d].data=st.extend(l[d].data,t)),r=l[d],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[st.camelCase(t)]=i),"string"==typeof t?(s=r[t],null==s&&(s=r[st.camelCase(t)])):s=r,s}}function h(e,t,i){if(st.acceptData(e)){var n,s,r=e.nodeType,a=r?st.cache:e,o=r?e[st.expando]:st.expando;if(a[o]){if(t&&(n=i?a[o]:a[o].data)){st.isArray(t)?t=t.concat(st.map(t,st.camelCase)):t in n?t=[t]:(t=st.camelCase(t),t=t in n?[t]:t.split(" ")),s=t.length;for(;s--;)delete n[t[s]];if(i?!d(n):!st.isEmptyObject(n))return}(i||(delete a[o].data,d(a[o])))&&(r?st.cleanData([e],!0):it.deleteExpando||a!=a.window?delete a[o]:a[o]=null)}}}function p(){return!0}function u(){return!1}function f(){try{return ft.activeElement}catch(e){}}function m(e){var t=Ot.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function g(e,t){var i,n,s=0,r=typeof e.getElementsByTagName!==kt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==kt?e.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],i=e.childNodes||e;null!=(n=i[s]);s++)!t||st.nodeName(n,t)?r.push(n):st.merge(r,g(n,t));return void 0===t||t&&st.nodeName(e,t)?st.merge([e],r):r}function v(e){Dt.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t){return st.nodeName(e,"table")&&st.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==st.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Yt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var i,n=0;null!=(i=e[n]);n++)st._data(i,"globalEval",!t||st._data(t[n],"globalEval"))}function C(e,t){if(1===t.nodeType&&st.hasData(e)){var i,n,s,r=st._data(e),a=st._data(t,r),o=r.events;if(o){delete a.handle,a.events={};for(i in o)for(n=0,s=o[i].length;s>n;n++)st.event.add(t,i,o[i][n])}a.data&&(a.data=st.extend({},a.data))}}function k(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[st.expando]){s=st._data(t);for(n in s.events)st.removeEvent(t,n,s.handle);t.removeAttribute(st.expando)}"script"===i&&t.text!==e.text?(y(t).text=e.text,w(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!st.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Dt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function S(t,i){var n,s=st(i.createElement(t)).appendTo(i.body),r=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(s[0]))?n.display:st.css(s[0],"display");return s.detach(),r}function E(e){var t=ft,i=Zt[e];return i||(i=S(e,t),"none"!==i&&i||(Jt=(Jt||st("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Jt[0].contentWindow||Jt[0].contentDocument).document,t.write(),t.close(),i=S(e,t),Jt.detach()),Zt[e]=i),i}function T(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function _(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=pi.length;s--;)if(t=pi[s]+i,t in e)return t;return n}function $(e,t){for(var i,n,s,r=[],a=0,o=e.length;o>a;a++)n=e[a],n.style&&(r[a]=st._data(n,"olddisplay"),i=n.style.display,t?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&$t(n)&&(r[a]=st._data(n,"olddisplay",E(n.nodeName)))):(s=$t(n),(i&&"none"!==i||!s)&&st._data(n,"olddisplay",s?i:st.css(n,"display"))));for(a=0;o>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function I(e,t,i){var n=li.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function D(e,t,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=st.css(e,i+_t[r],!0,s)),n?("content"===i&&(a-=st.css(e,"padding"+_t[r],!0,s)),"margin"!==i&&(a-=st.css(e,"border"+_t[r]+"Width",!0,s))):(a+=st.css(e,"padding"+_t[r],!0,s),"padding"!==i&&(a+=st.css(e,"border"+_t[r]+"Width",!0,s)));return a}function L(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=ei(e),a=it.boxSizing&&"border-box"===st.css(e,"boxSizing",!1,r);if(0>=s||null==s){if(s=ti(e,t,r),(0>s||null==s)&&(s=e.style[t]),ni.test(s))return s;n=a&&(it.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+D(e,t,i||(a?"border":"content"),n,r)+"px"}function A(e,t,i,n,s){return new A.prototype.init(e,t,i,n,s)}function N(){return setTimeout(function(){ui=void 0}),ui=st.now()}function M(e,t){var i,n={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=_t[s],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function R(e,t,i){for(var n,s=(yi[t]||[]).concat(yi["*"]),r=0,a=s.length;a>r;r++)if(n=s[r].call(i,t,e))return n}function O(e,t,i){var n,s,r,a,o,l,d,c,h=this,p={},u=e.style,f=e.nodeType&&$t(e),m=st._data(e,"fxshow");i.queue||(o=st._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,st.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],d=st.css(e,"display"),c="none"===d?st._data(e,"olddisplay")||E(e.nodeName):d,"inline"===c&&"none"===st.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",it.shrinkWrapBlocks()||h.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in t)if(s=t[n],mi.exec(s)){if(delete t[n],r=r||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;f=!0}p[n]=m&&m[n]||st.style(e,n)}else d=void 0;if(st.isEmptyObject(p))"inline"===("none"===d?E(e.nodeName):d)&&(u.display=d);else{m?"hidden"in m&&(f=m.hidden):m=st._data(e,"fxshow",{}),r&&(m.hidden=!f),f?st(e).show():h.done(function(){st(e).hide()}),h.done(function(){var t;st._removeData(e,"fxshow");for(t in p)st.style(e,t,p[t])});for(n in p)a=R(f?m[n]:0,n,h),n in m||(m[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function F(e,t){var i,n,s,r,a;for(i in e)if(n=st.camelCase(i),s=t[n],r=e[i],st.isArray(r)&&(s=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),a=st.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=s)}else t[n]=s}function H(e,t,i){var n,s,r=0,a=bi.length,o=st.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=ui||N(),i=Math.max(0,d.startTime+d.duration-t),n=i/d.duration||0,r=1-n,a=0,l=d.tweens.length;l>a;a++)d.tweens[a].run(r);return o.notifyWith(e,[d,r,i]),1>r&&l?i:(o.resolveWith(e,[d]),!1)},d=o.promise({elem:e,props:st.extend({},t),opts:st.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:ui||N(),duration:i.duration,tweens:[],createTween:function(t,i){var n=st.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(n),n},stop:function(t){var i=0,n=t?d.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)d.tweens[i].run(1);return t?o.resolveWith(e,[d,t]):o.rejectWith(e,[d,t]),this}}),c=d.props;for(F(c,d.opts.specialEasing);a>r;r++)if(n=bi[r].call(d,e,c,d.opts))return n;return st.map(c,R,d),st.isFunction(d.opts.start)&&d.opts.start.call(e,d),st.fx.timer(st.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function P(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,s=0,r=t.toLowerCase().match(yt)||[];if(st.isFunction(i))for(;n=r[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function j(e,t,i,n){function s(o){var l;return r[o]=!0,st.each(e[o]||[],function(e,o){var d=o(t,i,n);return"string"!=typeof d||a||r[d]?a?!(l=d):void 0:(t.dataTypes.unshift(d),s(d),!1)}),l}var r={},a=e===Ui;return s(t.dataTypes[0])||!r["*"]&&s("*")}function z(e,t){var i,n,s=st.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&st.extend(!0,e,i),e}function B(e,t,i){for(var n,s,r,a,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(a in o)if(o[a]&&o[a].test(s)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||e.converters[a+" "+l[0]]){r=a;break}n||(n=a)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function U(e,t,i,n){var s,r,a,o,l,d={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a];for(r=c.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=d[l+" "+r]||d["* "+r],!a)for(s in d)if(o=s.split(" "),o[1]===r&&(a=d[l+" "+o[0]]||d["* "+o[0]])){a===!0?a=d[s]:d[s]!==!0&&(r=o[0],c.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function W(e,t,i,n){var s;if(st.isArray(t))st.each(t,function(t,s){i||Yi.test(e)?n(e,s):W(e+"["+("object"==typeof s?t:"")+"]",s,i,n)});else if(i||"object"!==st.type(t))n(e,t);else for(s in t)W(e+"["+s+"]",t[s],i,n)}function q(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return st.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Q=[],X=Q.slice,K=Q.concat,G=Q.push,J=Q.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,it={},nt="1.11.2",st=function(e,t){return new st.fn.init(e,t)},rt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,ot=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};st.fn=st.prototype={jquery:nt,constructor:st,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=st.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return st.each(this,e,t)},map:function(e){return this.pushStack(st.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:Q.sort,splice:Q.splice},st.extend=st.fn.extend=function(){var e,t,i,n,s,r,a=arguments[0]||{},o=1,l=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[o]||{},o++),"object"==typeof a||st.isFunction(a)||(a={}),o===l&&(a=this,o--);l>o;o++)if(null!=(s=arguments[o]))for(n in s)e=a[n],i=s[n],a!==i&&(d&&i&&(st.isPlainObject(i)||(t=st.isArray(i)))?(t?(t=!1,r=e&&st.isArray(e)?e:[]):r=e&&st.isPlainObject(e)?e:{},a[n]=st.extend(d,r,i)):void 0!==i&&(a[n]=i));return a},st.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===st.type(e)},isArray:Array.isArray||function(e){return"array"===st.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!st.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==st.type(e)||e.nodeType||st.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&st.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(ot,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var s,r=0,a=e.length,o=i(e);if(n){if(o)for(;a>r&&(s=t.apply(e[r],n),s!==!1);r++);else for(r in e)if(s=t.apply(e[r],n),s===!1)break}else if(o)for(;a>r&&(s=t.call(e[r],r,e[r]),s!==!1);r++);else for(r in e)if(s=t.call(e[r],r,e[r]),s===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(rt,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?st.merge(n,"string"==typeof e?[e]:e):G.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(J)return J.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,s=e.length;i>n;)e[s++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[s++]=t[n++];return e.length=s,e},grep:function(e,t,i){for(var n,s=[],r=0,a=e.length,o=!i;a>r;r++)n=!t(e[r],r),n!==o&&s.push(e[r]);return s},map:function(e,t,n){var s,r=0,a=e.length,o=i(e),l=[];if(o)for(;a>r;r++)s=t(e[r],r,n),null!=s&&l.push(s);else for(r in e)s=t(e[r],r,n),null!=s&&l.push(s);return K.apply([],l)},guid:1,proxy:function(e,t){var i,n,s;return"string"==typeof t&&(s=e[t],t=e,e=s),st.isFunction(e)?(i=X.call(arguments,2),n=function(){return e.apply(t||this,i.concat(X.call(arguments)))},n.guid=e.guid=e.guid||st.guid++,n):void 0},now:function(){return+new Date},support:it}),st.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var dt=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,i,n){var s,r,a,o,l,d,h,u,f,m;if((t?t.ownerDocument||t:j)!==A&&L(t),t=t||A,i=i||[],o=t.nodeType,"string"!=typeof e||!e||1!==o&&9!==o&&11!==o)return i;if(!n&&M){if(11!==o&&(s=bt.exec(e)))if(a=s[1]){if(9===o){if(r=t.getElementById(a),!r||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&H(t,r)&&r.id===a)return i.push(r),i}else{if(s[2])return J.apply(i,t.getElementsByTagName(e)),i;if((a=s[3])&&x.getElementsByClassName)return J.apply(i,t.getElementsByClassName(a)),i}if(x.qsa&&(!R||!R.test(e))){if(u=h=P,f=t,m=1!==o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(d=E(e),(h=t.getAttribute("id"))?u=h.replace(wt,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=d.length;l--;)d[l]=u+p(d[l]);f=yt.test(e)&&c(t.parentNode)||t,m=d.join(",")}if(m)try{return J.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{h||t.removeAttribute("id")}}}return _(e.replace(lt,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>C.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[P]=!0,e}function s(e){var t=A.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)C.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function o(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return n(function(t){return t=+t,n(function(i,n){for(var s,r=e([],i.length,t),a=r.length;a--;)i[s=r[a]]&&(i[s]=!(n[s]=i[s]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function u(e,t,i){var n=t.dir,s=i&&"parentNode"===n,r=B++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r)}:function(t,i,a){var o,l,d=[z,r];if(a){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||s){if(l=t[P]||(t[P]={}),(o=l[n])&&o[0]===z&&o[1]===r)return d[2]=o[2];if(l[n]=d,d[2]=e(t,i,a))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var s=e.length;s--;)if(!e[s](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var s=0,r=i.length;r>s;s++)t(e,i[s],n);return n}function g(e,t,i,n,s){for(var r,a=[],o=0,l=e.length,d=null!=t;l>o;o++)(r=e[o])&&(!i||i(r,n,s))&&(a.push(r),d&&t.push(o));return a}function v(e,t,i,s,r,a){return s&&!s[P]&&(s=v(s)),r&&!r[P]&&(r=v(r,a)),n(function(n,a,o,l){var d,c,h,p=[],u=[],f=a.length,v=n||m(t||"*",o.nodeType?[o]:o,[]),b=!e||!n&&t?v:g(v,p,e,o,l),y=i?r||(n?e:f||s)?[]:a:b;if(i&&i(b,y,o,l),s)for(d=g(y,u),s(d,[],o,l),c=d.length;c--;)(h=d[c])&&(y[u[c]]=!(b[u[c]]=h));if(n){if(r||e){if(r){for(d=[],c=y.length;c--;)(h=y[c])&&d.push(b[c]=h);r(null,y=[],d,l)}for(c=y.length;c--;)(h=y[c])&&(d=r?et(n,h):p[c])>-1&&(n[d]=!(a[d]=h))}}else y=g(y===a?y.splice(f,y.length):y),r?r(null,a,y,l):J.apply(a,y)})}function b(e){for(var t,i,n,s=e.length,r=C.relative[e[0].type],a=r||C.relative[" "],o=r?1:0,l=u(function(e){return e===t},a,!0),d=u(function(e){return et(t,e)>-1},a,!0),c=[function(e,i,n){var s=!r&&(n||i!==$)||((t=i).nodeType?l(e,i,n):d(e,i,n));return t=null,s}];s>o;o++)if(i=C.relative[e[o].type])c=[u(f(c),i)];else{if(i=C.filter[e[o].type].apply(null,e[o].matches),i[P]){for(n=++o;s>n&&!C.relative[e[n].type];n++);return v(o>1&&f(c),o>1&&p(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(lt,"$1"),i,n>o&&b(e.slice(o,n)),s>n&&b(e=e.slice(n)),s>n&&p(e))}c.push(i)}return f(c)}function y(e,i){var s=i.length>0,r=e.length>0,a=function(n,a,o,l,d){var c,h,p,u=0,f="0",m=n&&[],v=[],b=$,y=n||r&&C.find.TAG("*",d),w=z+=null==b?1:Math.random()||.1,x=y.length;for(d&&($=a!==A&&a);f!==x&&null!=(c=y[f]);f++){if(r&&c){for(h=0;p=e[h++];)if(p(c,a,o)){l.push(c);break}d&&(z=w)}s&&((c=!p&&c)&&u--,n&&m.push(c))}if(u+=f,s&&f!==u){for(h=0;p=i[h++];)p(m,v,a,o);if(n){if(u>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(l));v=g(v)}J.apply(l,v),d&&!n&&v.length>0&&u+i.length>1&&t.uniqueSort(l)}return d&&(z=w,$=b),m};return s?n(a):a}var w,x,C,k,S,E,T,_,$,I,D,L,A,N,M,R,O,F,H,P="sizzle"+1*new Date,j=e.document,z=0,B=0,U=i(),W=i(),q=i(),V=function(e,t){return e===t&&(D=!0),0},Y=1<<31,Q={}.hasOwnProperty,X=[],K=X.pop,G=X.push,J=X.push,Z=X.slice,et=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=nt.replace("w","w#"),rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+st+"))|)"+it+"*\\]",at=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",ot=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),dt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),pt=new RegExp(at),ut=new RegExp("^"+st+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Ct=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},kt=function(){L()};try{J.apply(X=Z.call(j.childNodes),j.childNodes),X[j.childNodes.length].nodeType}catch(St){J={apply:X.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:j;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,N=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",kt,!1):i.attachEvent&&i.attachEvent("onunload",kt)),M=!S(n),x.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=s(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(n.getElementsByClassName),x.getById=s(function(e){return N.appendChild(e).id=P,!n.getElementsByName||!n.getElementsByName(P).length}),x.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&M){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},C.find.CLASS=x.getElementsByClassName&&function(e,t){return M?t.getElementsByClassName(e):void 0},O=[],R=[],(x.qsa=vt.test(n.querySelectorAll))&&(s(function(e){N.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+it+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+P+"-]").length||R.push("~="),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||R.push(".#.+[+~]")}),s(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=vt.test(F=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&s(function(e){x.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),O.push("!=",at)}),R=R.length&&new RegExp(R.join("|")),O=O.length&&new RegExp(O.join("|")),t=vt.test(N.compareDocumentPosition),H=t||vt.test(N.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return D=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===j&&H(j,e)?-1:t===n||t.ownerDocument===j&&H(j,t)?1:I?et(I,e)-et(I,t):0:4&i?-1:1)}:function(e,t){if(e===t)return D=!0,0;var i,s=0,r=e.parentNode,o=t.parentNode,l=[e],d=[t];if(!r||!o)return e===n?-1:t===n?1:r?-1:o?1:I?et(I,e)-et(I,t):0;if(r===o)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)d.unshift(i);for(;l[s]===d[s];)s++;return s?a(l[s],d[s]):l[s]===j?-1:d[s]===j?1:0},n):A},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==A&&L(e),i=i.replace(ht,"='$1']"),!(!x.matchesSelector||!M||O&&O.test(i)||R&&R.test(i)))try{var n=F.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(s){}return t(i,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&L(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&L(e);var i=C.attrHandle[t.toLowerCase()],n=i&&Q.call(C.attrHandle,t.toLowerCase())?i(e,t,!M):void 0;return void 0!==n?n:x.attributes||!M?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,s=0;if(D=!x.detectDuplicates,I=!x.sortStable&&e.slice(0),e.sort(V),D){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return I=null,e},k=t.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},C=t.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,Ct),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,Ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&pt.test(i)&&(t=E(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,Ct).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(s){var r=t.attr(s,e);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ot," ")+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,s){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===n&&0===s?function(e){return!!e.parentNode}:function(t,i,l){var d,c,h,p,u,f,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),b=!l&&!o;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(o?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&b){for(c=g[P]||(g[P]={}),d=c[e]||[],u=d[0]===z&&d[1],p=d[0]===z&&d[2],h=u&&g.childNodes[u];h=++u&&h&&h[m]||(p=u=0)||f.pop();)if(1===h.nodeType&&++p&&h===t){c[e]=[z,u,p];break}}else if(b&&(d=(t[P]||(t[P]={}))[e])&&d[0]===z)p=d[1];else for(;(h=++u&&h&&h[m]||(p=u=0)||f.pop())&&((o?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(b&&((h[P]||(h[P]={}))[e]=[z,p]),h!==t)););return p-=s,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(e,i){var s,r=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[P]?r(i):r.length>1?(s=[e,e,"",i],C.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,s=r(e,i),a=s.length;a--;)n=et(e,s[a]),e[n]=!(t[n]=s[a])}):function(e){return r(e,0,s)}):r}},pseudos:{not:n(function(e){var t=[],i=[],s=T(e.replace(lt,"$1"));return s[P]?n(function(e,t,i,n){for(var r,a=s(e,null,n,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,n,r){return t[0]=e,s(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(xt,Ct),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:n(function(e){return ut.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,Ct).toLowerCase(),function(t){var i;do if(i=M?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:d(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=o(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,E=t.tokenize=function(e,i){var n,s,r,a,o,l,d,c=W[e+" "];if(c)return i?0:c.slice(0);for(o=e,l=[],d=C.preFilter;o;){(!n||(s=dt.exec(o)))&&(s&&(o=o.slice(s[0].length)||o),l.push(r=[])),n=!1,(s=ct.exec(o))&&(n=s.shift(),r.push({value:n,type:s[0].replace(lt," ")}),o=o.slice(n.length));for(a in C.filter)!(s=ft[a].exec(o))||d[a]&&!(s=d[a](s))||(n=s.shift(),r.push({value:n,type:a,matches:s}),o=o.slice(n.length));if(!n)break}return i?o.length:o?t.error(e):W(e,l).slice(0)},T=t.compile=function(e,t){var i,n=[],s=[],r=q[e+" "];if(!r){for(t||(t=E(e)),i=t.length;i--;)r=b(t[i]),r[P]?n.push(r):s.push(r);r=q(e,y(s,n)),r.selector=e}return r},_=t.select=function(e,t,i,n){var s,r,a,o,l,d="function"==typeof e&&e,h=!n&&E(e=d.selector||e);if(i=i||[],1===h.length){if(r=h[0]=h[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&x.getById&&9===t.nodeType&&M&&C.relative[r[1].type]){if(t=(C.find.ID(a.matches[0].replace(xt,Ct),t)||[])[0],!t)return i;d&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(s=ft.needsContext.test(e)?0:r.length;s--&&(a=r[s],!C.relative[o=a.type]);)if((l=C.find[o])&&(n=l(a.matches[0].replace(xt,Ct),yt.test(r[0].type)&&c(t.parentNode)||t))){if(r.splice(s,1),e=n.length&&p(r),!e)return J.apply(i,n),i;break}}return(d||T(e,h))(n,t,!M,i,yt.test(e)&&c(t.parentNode)||t),i},x.sortStable=P.split("").sort(V).join("")===P,x.detectDuplicates=!!D,L(),x.sortDetached=s(function(e){return 1&e.compareDocumentPosition(A.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||r(tt,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);st.find=dt,st.expr=dt.selectors,st.expr[":"]=st.expr.pseudos,st.unique=dt.uniqueSort,st.text=dt.getText,st.isXMLDoc=dt.isXML,st.contains=dt.contains;var ct=st.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;st.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?st.find.matchesSelector(n,e)?[n]:[]:st.find.matches(e,st.grep(t,function(e){return 1===e.nodeType}))},st.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(st(e).filter(function(){for(t=0;s>t;t++)if(st.contains(n[t],this))return!0}));for(t=0;s>t;t++)st.find(e,n[t],i);return i=this.pushStack(s>1?st.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ct.test(e)?st(e):e||[],!1).length}});var ut,ft=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=st.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||ut).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof st?t[0]:t,st.merge(this,st.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ft,!0)),ht.test(i[1])&&st.isPlainObject(t))for(i in t)st.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=ft.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return ut.find(e);this.length=1,this[0]=n}return this.context=ft,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):st.isFunction(e)?"undefined"!=typeof ut.ready?ut.ready(e):e(st):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),st.makeArray(e,this))};gt.prototype=st.fn,ut=st(ft);var vt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};st.extend({dir:function(e,t,i){for(var n=[],s=e[t];s&&9!==s.nodeType&&(void 0===i||1!==s.nodeType||!st(s).is(i));)1===s.nodeType&&n.push(s),s=s[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),st.fn.extend({has:function(e){var t,i=st(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(st.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,s=this.length,r=[],a=ct.test(e)||"string"!=typeof e?st(e,t||this.context):0;s>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&st.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?st.unique(r):r)},index:function(e){return e?"string"==typeof e?st.inArray(this[0],st(e)):st.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(st.unique(st.merge(this.get(),st(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),st.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return st.dir(e,"parentNode")},parentsUntil:function(e,t,i){return st.dir(e,"parentNode",i)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return st.dir(e,"nextSibling")},prevAll:function(e){return st.dir(e,"previousSibling")},nextUntil:function(e,t,i){return st.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return st.dir(e,"previousSibling",i)},siblings:function(e){return st.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return st.sibling(e.firstChild)},contents:function(e){return st.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:st.merge([],e.childNodes)}},function(e,t){st.fn[e]=function(i,n){var s=st.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=st.filter(n,s)),this.length>1&&(bt[e]||(s=st.unique(s)),vt.test(e)&&(s=s.reverse())),this.pushStack(s)}});var yt=/\S+/g,wt={};st.Callbacks=function(e){e="string"==typeof e?wt[e]||r(e):st.extend({},e);var t,i,n,s,a,o,l=[],d=!e.once&&[],c=function(r){for(i=e.memory&&r,n=!0,a=o||0,o=0,s=l.length,t=!0;l&&s>a;a++)if(l[a].apply(r[0],r[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(d?d.length&&c(d.shift()):i?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function r(t){st.each(t,function(t,i){var n=st.type(i);"function"===n?e.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),t?s=l.length:i&&(o=n,c(i))}return this},remove:function(){return l&&st.each(arguments,function(e,i){for(var n;(n=st.inArray(i,l,n))>-1;)l.splice(n,1),t&&(s>=n&&s--,a>=n&&a--)}),this},has:function(e){return e?st.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=d=i=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,i||h.disable(),this},locked:function(){return!d},fireWith:function(e,i){return!l||n&&!d||(i=i||[],i=[e,i.slice?i.slice():i],t?d.push(i):c(i)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},st.extend({Deferred:function(e){var t=[["resolve","done",st.Callbacks("once memory"),"resolved"],["reject","fail",st.Callbacks("once memory"),"rejected"],["notify","progress",st.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return st.Deferred(function(i){st.each(t,function(t,r){var a=st.isFunction(e[t])&&e[t];s[r[1]](function(){var e=a&&a.apply(this,arguments);e&&st.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?st.extend(e,n):n}},s={};return n.pipe=n.then,st.each(t,function(e,r){var a=r[2],o=r[3];n[r[1]]=a.add,o&&a.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=a.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,n,s=0,r=X.call(arguments),a=r.length,o=1!==a||e&&st.isFunction(e.promise)?a:0,l=1===o?e:st.Deferred(),d=function(e,i,n){return function(s){i[e]=this,n[e]=arguments.length>1?X.call(arguments):s,n===t?l.notifyWith(i,n):--o||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);a>s;s++)r[s]&&st.isFunction(r[s].promise)?r[s].promise().done(d(s,n,r)).fail(l.reject).progress(d(s,i,t)):--o;return o||l.resolveWith(n,r),l.promise()}});var xt;st.fn.ready=function(e){return st.ready.promise().done(e),this},st.extend({isReady:!1,readyWait:1,holdReady:function(e){e?st.readyWait++:st.ready(!0)},ready:function(e){if(e===!0?!--st.readyWait:!st.isReady){if(!ft.body)return setTimeout(st.ready);st.isReady=!0,e!==!0&&--st.readyWait>0||(xt.resolveWith(ft,[st]),st.fn.triggerHandler&&(st(ft).triggerHandler("ready"),st(ft).off("ready")))}}}),st.ready.promise=function(t){if(!xt)if(xt=st.Deferred(),"complete"===ft.readyState)setTimeout(st.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1);else{ft.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var i=!1;try{i=null==e.frameElement&&ft.documentElement}catch(n){}i&&i.doScroll&&!function s(){if(!st.isReady){try{i.doScroll("left")}catch(e){return setTimeout(s,50)}a(),st.ready()}}()}return xt.promise(t)};var Ct,kt="undefined";for(Ct in st(it))break;it.ownLast="0"!==Ct,it.inlineBlockNeedsLayout=!1,st(function(){var e,t,i,n;i=ft.getElementsByTagName("body")[0],i&&i.style&&(t=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",it.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=ft.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),st.acceptData=function(e){var t=st.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/([A-Z])/g;st.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?st.cache[e[st.expando]]:e[st.expando],!!e&&!d(e)},data:function(e,t,i){return c(e,t,i)},removeData:function(e,t){return h(e,t)},_data:function(e,t,i){return c(e,t,i,!0)},_removeData:function(e,t){return h(e,t,!0)}}),st.fn.extend({data:function(e,t){var i,n,s,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(s=st.data(r),1===r.nodeType&&!st._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=st.camelCase(n.slice(5)),l(r,n,s[n])));st._data(r,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){st.data(this,e)}):arguments.length>1?this.each(function(){st.data(this,e,t)}):r?l(r,e,st.data(r,e)):void 0},removeData:function(e){return this.each(function(){st.removeData(this,e)})}}),st.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=st._data(e,t),i&&(!n||st.isArray(i)?n=st._data(e,t,st.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=st.queue(e,t),n=i.length,s=i.shift(),r=st._queueHooks(e,t),a=function(){st.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete r.stop,s.call(e,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return st._data(e,i)||st._data(e,i,{empty:st.Callbacks("once memory").add(function(){st._removeData(e,t+"queue"),st._removeData(e,i)})})}}),st.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?st.queue(this[0],e):void 0===t?this:this.each(function(){var i=st.queue(this,e,t);st._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&st.dequeue(this,e)})},dequeue:function(e){return this.each(function(){st.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=st.Deferred(),r=this,a=this.length,o=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=st._data(r[a],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(o));return o(),s.promise(t)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=["Top","Right","Bottom","Left"],$t=function(e,t){return e=t||e,"none"===st.css(e,"display")||!st.contains(e.ownerDocument,e)},It=st.access=function(e,t,i,n,s,r,a){var o=0,l=e.length,d=null==i;if("object"===st.type(i)){s=!0;for(o in i)st.access(e,t,o,i[o],!0,r,a)}else if(void 0!==n&&(s=!0,st.isFunction(n)||(a=!0),d&&(a?(t.call(e,n),t=null):(d=t,t=function(e,t,i){return d.call(st(e),i)})),t))for(;l>o;o++)t(e[o],i,a?n:n.call(e[o],o,t(e[o],i)));return s?e:d?t.call(e):l?t(e[0],i):r},Dt=/^(?:checkbox|radio)$/i;!function(){var e=ft.createElement("input"),t=ft.createElement("div"),i=ft.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),it.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(n){it.deleteExpando=!1}}}(),function(){var t,i,n=ft.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(it[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),it[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Lt=/^(?:input|select|textarea)$/i,At=/^key/,Nt=/^(?:mouse|pointer|contextmenu)|click/,Mt=/^(?:focusinfocus|focusoutblur)$/,Rt=/^([^.]*)(?:\.(.+)|)$/;st.event={global:{},add:function(e,t,i,n,s){var r,a,o,l,d,c,h,p,u,f,m,g=st._data(e);if(g){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=st.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof st===kt||e&&st.event.triggered===e.type?void 0:st.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(yt)||[""],o=t.length;o--;)r=Rt.exec(t[o])||[],u=m=r[1],f=(r[2]||"").split(".").sort(),u&&(d=st.event.special[u]||{},u=(s?d.delegateType:d.bindType)||u,d=st.event.special[u]||{},h=st.extend({type:u,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&st.expr.match.needsContext.test(s),namespace:f.join(".")},l),(p=a[u])||(p=a[u]=[],p.delegateCount=0,d.setup&&d.setup.call(e,n,f,c)!==!1||(e.addEventListener?e.addEventListener(u,c,!1):e.attachEvent&&e.attachEvent("on"+u,c))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?p.splice(p.delegateCount++,0,h):p.push(h),st.event.global[u]=!0);e=null}},remove:function(e,t,i,n,s){var r,a,o,l,d,c,h,p,u,f,m,g=st.hasData(e)&&st._data(e);if(g&&(c=g.events)){for(t=(t||"").match(yt)||[""],d=t.length;d--;)if(o=Rt.exec(t[d])||[],u=m=o[1],f=(o[2]||"").split(".").sort(),u){for(h=st.event.special[u]||{},u=(n?h.delegateType:h.bindType)||u,p=c[u]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=p.length;r--;)a=p[r],!s&&m!==a.origType||i&&i.guid!==a.guid||o&&!o.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(p.splice(r,1),a.selector&&p.delegateCount--,h.remove&&h.remove.call(e,a));l&&!p.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||st.removeEvent(e,u,g.handle),delete c[u])}else for(u in c)st.event.remove(e,u+t[d],i,n,!0);st.isEmptyObject(c)&&(delete g.handle,st._removeData(e,"events"))}},trigger:function(t,i,n,s){var r,a,o,l,d,c,h,p=[n||ft],u=tt.call(t,"type")?t.type:t,f=tt.call(t,"namespace")?t.namespace.split("."):[];if(o=c=n=n||ft,3!==n.nodeType&&8!==n.nodeType&&!Mt.test(u+st.event.triggered)&&(u.indexOf(".")>=0&&(f=u.split("."),u=f.shift(),f.sort()),a=u.indexOf(":")<0&&"on"+u,t=t[st.expando]?t:new st.Event(u,"object"==typeof t&&t),t.isTrigger=s?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:st.makeArray(i,[t]),d=st.event.special[u]||{},s||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!s&&!d.noBubble&&!st.isWindow(n)){for(l=d.delegateType||u,Mt.test(l+u)||(o=o.parentNode);o;o=o.parentNode)p.push(o),c=o;
c===(n.ownerDocument||ft)&&p.push(c.defaultView||c.parentWindow||e)}for(h=0;(o=p[h++])&&!t.isPropagationStopped();)t.type=h>1?l:d.bindType||u,r=(st._data(o,"events")||{})[t.type]&&st._data(o,"handle"),r&&r.apply(o,i),r=a&&o[a],r&&r.apply&&st.acceptData(o)&&(t.result=r.apply(o,i),t.result===!1&&t.preventDefault());if(t.type=u,!s&&!t.isDefaultPrevented()&&(!d._default||d._default.apply(p.pop(),i)===!1)&&st.acceptData(n)&&a&&n[u]&&!st.isWindow(n)){c=n[a],c&&(n[a]=null),st.event.triggered=u;try{n[u]()}catch(m){}st.event.triggered=void 0,c&&(n[a]=c)}return t.result}},dispatch:function(e){e=st.event.fix(e);var t,i,n,s,r,a=[],o=X.call(arguments),l=(st._data(this,"events")||{})[e.type]||[],d=st.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(a=st.event.handlers.call(this,e,l),t=0;(s=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,r=0;(n=s.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,i=((st.event.special[n.origType]||{}).handle||n.handler).apply(s.elem,o),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,s,r,a=[],o=t.delegateCount,l=e.target;if(o&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(s=[],r=0;o>r;r++)n=t[r],i=n.selector+" ",void 0===s[i]&&(s[i]=n.needsContext?st(i,this).index(l)>=0:st.find(i,this,null,[l]).length),s[i]&&s.push(n);s.length&&a.push({elem:l,handlers:s})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},fix:function(e){if(e[st.expando])return e;var t,i,n,s=e.type,r=e,a=this.fixHooks[s];for(a||(this.fixHooks[s]=a=Nt.test(s)?this.mouseHooks:At.test(s)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new st.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=r.srcElement||ft),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,s,r=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||ft,s=n.documentElement,i=n.body,e.pageX=t.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return st.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return st.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=st.extend(new st.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?st.event.trigger(s,null,t):st.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},st.removeEvent=ft.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===kt&&(e[n]=null),e.detachEvent(n,i))},st.Event=function(e,t){return this instanceof st.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:u):this.type=e,t&&st.extend(this,t),this.timeStamp=e&&e.timeStamp||st.now(),void(this[st.expando]=!0)):new st.Event(e,t)},st.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},st.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){st.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,s=e.relatedTarget,r=e.handleObj;return(!s||s!==n&&!st.contains(n,s))&&(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),it.submitBubbles||(st.event.special.submit={setup:function(){return st.nodeName(this,"form")?!1:void st.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=st.nodeName(t,"input")||st.nodeName(t,"button")?t.form:void 0;i&&!st._data(i,"submitBubbles")&&(st.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),st._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&st.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return st.nodeName(this,"form")?!1:void st.event.remove(this,"._submit")}}),it.changeBubbles||(st.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(st.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),st.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),st.event.simulate("change",this,e,!0)})),!1):void st.event.add(this,"beforeactivate._change",function(e){var t=e.target;Lt.test(t.nodeName)&&!st._data(t,"changeBubbles")&&(st.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||st.event.simulate("change",this.parentNode,e,!0)}),st._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return st.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),it.focusinBubbles||st.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){st.event.simulate(t,e.target,st.event.fix(e),!0)};st.event.special[t]={setup:function(){var n=this.ownerDocument||this,s=st._data(n,t);s||n.addEventListener(e,i,!0),st._data(n,t,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=st._data(n,t)-1;s?st._data(n,t,s):(n.removeEventListener(e,i,!0),st._removeData(n,t))}}}),st.fn.extend({on:function(e,t,i,n,s){var r,a;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(r in e)this.on(r,t,i,e[r],s);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=u;else if(!n)return this;return 1===s&&(a=n,n=function(e){return st().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=st.guid++)),this.each(function(){st.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,st(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=u),this.each(function(){st.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){st.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?st.event.trigger(e,t,i,!0):void 0}});var Ot="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ft=/ jQuery\d+="(?:null|\d+)"/g,Ht=new RegExp("<(?:"+Ot+")[\\s/>]","i"),Pt=/^\s+/,jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Bt=/<tbody/i,Ut=/<|&#?\w+;/,Wt=/<(?:script|style|link)/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Yt=/^true\/(.*)/,Qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Kt=m(ft),Gt=Kt.appendChild(ft.createElement("div"));Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td,st.extend({clone:function(e,t,i){var n,s,r,a,o,l=st.contains(e.ownerDocument,e);if(it.html5Clone||st.isXMLDoc(e)||!Ht.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(Gt.innerHTML=e.outerHTML,Gt.removeChild(r=Gt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||st.isXMLDoc(e)))for(n=g(r),o=g(e),a=0;null!=(s=o[a]);++a)n[a]&&k(s,n[a]);if(t)if(i)for(o=o||g(e),n=n||g(r),a=0;null!=(s=o[a]);a++)C(s,n[a]);else C(e,r);return n=g(r,"script"),n.length>0&&x(n,!l&&g(e,"script")),n=o=s=null,r},buildFragment:function(e,t,i,n){for(var s,r,a,o,l,d,c,h=e.length,p=m(t),u=[],f=0;h>f;f++)if(r=e[f],r||0===r)if("object"===st.type(r))st.merge(u,r.nodeType?[r]:r);else if(Ut.test(r)){for(o=o||p.appendChild(t.createElement("div")),l=(zt.exec(r)||["",""])[1].toLowerCase(),c=Xt[l]||Xt._default,o.innerHTML=c[1]+r.replace(jt,"<$1></$2>")+c[2],s=c[0];s--;)o=o.lastChild;if(!it.leadingWhitespace&&Pt.test(r)&&u.push(t.createTextNode(Pt.exec(r)[0])),!it.tbody)for(r="table"!==l||Bt.test(r)?"<table>"!==c[1]||Bt.test(r)?0:o:o.firstChild,s=r&&r.childNodes.length;s--;)st.nodeName(d=r.childNodes[s],"tbody")&&!d.childNodes.length&&r.removeChild(d);for(st.merge(u,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=p.lastChild}else u.push(t.createTextNode(r));for(o&&p.removeChild(o),it.appendChecked||st.grep(g(u,"input"),v),f=0;r=u[f++];)if((!n||-1===st.inArray(r,n))&&(a=st.contains(r.ownerDocument,r),o=g(p.appendChild(r),"script"),a&&x(o),i))for(s=0;r=o[s++];)Vt.test(r.type||"")&&i.push(r);return o=null,p},cleanData:function(e,t){for(var i,n,s,r,a=0,o=st.expando,l=st.cache,d=it.deleteExpando,c=st.event.special;null!=(i=e[a]);a++)if((t||st.acceptData(i))&&(s=i[o],r=s&&l[s])){if(r.events)for(n in r.events)c[n]?st.event.remove(i,n):st.removeEvent(i,n,r.handle);l[s]&&(delete l[s],d?delete i[o]:typeof i.removeAttribute!==kt?i.removeAttribute(o):i[o]=null,Q.push(s))}}}),st.fn.extend({text:function(e){return It(this,function(e){return void 0===e?st.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?st.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||st.cleanData(g(i)),i.parentNode&&(t&&st.contains(i.ownerDocument,i)&&x(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&st.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&st.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return st.clone(this,e,t)})},html:function(e){return It(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ft,""):void 0;if(!("string"!=typeof e||Wt.test(e)||!it.htmlSerialize&&Ht.test(e)||!it.leadingWhitespace&&Pt.test(e)||Xt[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(jt,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(st.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,st.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var i,n,s,r,a,o,l=0,d=this.length,c=this,h=d-1,p=e[0],u=st.isFunction(p);if(u||d>1&&"string"==typeof p&&!it.checkClone&&qt.test(p))return this.each(function(i){var n=c.eq(i);u&&(e[0]=p.call(this,i,n.html())),n.domManip(e,t)});if(d&&(o=st.buildFragment(e,this[0].ownerDocument,!1,this),i=o.firstChild,1===o.childNodes.length&&(o=i),i)){for(r=st.map(g(o,"script"),y),s=r.length;d>l;l++)n=o,l!==h&&(n=st.clone(n,!0,!0),s&&st.merge(r,g(n,"script"))),t.call(this[l],n,l);if(s)for(a=r[r.length-1].ownerDocument,st.map(r,w),l=0;s>l;l++)n=r[l],Vt.test(n.type||"")&&!st._data(n,"globalEval")&&st.contains(a,n)&&(n.src?st._evalUrl&&st._evalUrl(n.src):st.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Qt,"")));o=i=null}return this}}),st.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){st.fn[e]=function(e){for(var i,n=0,s=[],r=st(e),a=r.length-1;a>=n;n++)i=n===a?this:this.clone(!0),st(r[n])[t](i),G.apply(s,i.get());return this.pushStack(s)}});var Jt,Zt={};!function(){var e;it.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=ft.getElementsByTagName("body")[0],i&&i.style?(t=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ft.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var ei,ti,ii=/^margin/,ni=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),si=/^(top|right|bottom|left)$/;e.getComputedStyle?(ei=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},ti=function(e,t,i){var n,s,r,a,o=e.style;return i=i||ei(e),a=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==a||st.contains(e.ownerDocument,e)||(a=st.style(e,t)),ni.test(a)&&ii.test(t)&&(n=o.width,s=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=i.width,o.width=n,o.minWidth=s,o.maxWidth=r)),void 0===a?a:a+""}):ft.documentElement.currentStyle&&(ei=function(e){return e.currentStyle},ti=function(e,t,i){var n,s,r,a,o=e.style;return i=i||ei(e),a=i?i[t]:void 0,null==a&&o&&o[t]&&(a=o[t]),ni.test(a)&&!si.test(t)&&(n=o.left,s=e.runtimeStyle,r=s&&s.left,r&&(s.left=e.currentStyle.left),o.left="fontSize"===t?"1em":a,a=o.pixelLeft+"px",o.left=n,r&&(s.left=r)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,i,n,s;i=ft.getElementsByTagName("body")[0],i&&i.style&&(t=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,l=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,s=t.appendChild(ft.createElement("div")),s.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",s.style.marginRight=s.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(s,null)||{}).marginRight),t.removeChild(s)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=t.getElementsByTagName("td"),s[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===s[0].offsetHeight,o&&(s[0].style.display="",s[1].style.display="none",o=0===s[0].offsetHeight),i.removeChild(n))}var i,n,s,r,a,o,l;i=ft.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",s=i.getElementsByTagName("a")[0],n=s&&s.style,n&&(n.cssText="float:left;opacity:.5",it.opacity="0.5"===n.opacity,it.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===i.style.backgroundClip,it.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,st.extend(it,{reliableHiddenOffsets:function(){return null==o&&t(),o},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){return null==l&&t(),l}}))}(),st.swap=function(e,t,i,n){var s,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];s=i.apply(e,n||[]);for(r in t)e.style[r]=a[r];return s};var ri=/alpha\([^)]*\)/i,ai=/opacity\s*=\s*([^)]*)/,oi=/^(none|table(?!-c[ea]).+)/,li=new RegExp("^("+Tt+")(.*)$","i"),di=new RegExp("^([+-])=("+Tt+")","i"),ci={position:"absolute",visibility:"hidden",display:"block"},hi={letterSpacing:"0",fontWeight:"400"},pi=["Webkit","O","Moz","ms"];st.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ti(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,a,o=st.camelCase(t),l=e.style;if(t=st.cssProps[o]||(st.cssProps[o]=_(l,o)),a=st.cssHooks[t]||st.cssHooks[o],void 0===i)return a&&"get"in a&&void 0!==(s=a.get(e,!1,n))?s:l[t];if(r=typeof i,"string"===r&&(s=di.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(st.css(e,t)),r="number"),null!=i&&i===i&&("number"!==r||st.cssNumber[o]||(i+="px"),it.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(e,i,n)))))try{l[t]=i}catch(d){}}},css:function(e,t,i,n){var s,r,a,o=st.camelCase(t);return t=st.cssProps[o]||(st.cssProps[o]=_(e.style,o)),a=st.cssHooks[t]||st.cssHooks[o],a&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=ti(e,t,n)),"normal"===r&&t in hi&&(r=hi[t]),""===i||i?(s=parseFloat(r),i===!0||st.isNumeric(s)?s||0:r):r}}),st.each(["height","width"],function(e,t){st.cssHooks[t]={get:function(e,i,n){return i?oi.test(st.css(e,"display"))&&0===e.offsetWidth?st.swap(e,ci,function(){return L(e,t,n)}):L(e,t,n):void 0},set:function(e,i,n){var s=n&&ei(e);return I(e,i,n?D(e,t,n,it.boxSizing&&"border-box"===st.css(e,"boxSizing",!1,s),s):0)}}}),it.opacity||(st.cssHooks.opacity={get:function(e,t){return ai.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=st.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===st.trim(r.replace(ri,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ri.test(r)?r.replace(ri,s):r+" "+s)}}),st.cssHooks.marginRight=T(it.reliableMarginRight,function(e,t){return t?st.swap(e,{display:"inline-block"},ti,[e,"marginRight"]):void 0}),st.each({margin:"",padding:"",border:"Width"},function(e,t){st.cssHooks[e+t]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];4>n;n++)s[e+_t[n]+t]=r[n]||r[n-2]||r[0];return s}},ii.test(e)||(st.cssHooks[e+t].set=I)}),st.fn.extend({css:function(e,t){return It(this,function(e,t,i){var n,s,r={},a=0;if(st.isArray(t)){for(n=ei(e),s=t.length;s>a;a++)r[t[a]]=st.css(e,t[a],!1,n);return r}return void 0!==i?st.style(e,t,i):st.css(e,t)},e,t,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){$t(this)?st(this).show():st(this).hide()})}}),st.Tween=A,A.prototype={constructor:A,init:function(e,t,i,n,s,r){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(st.cssNumber[i]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,i=A.propHooks[this.prop];return this.pos=t=this.options.duration?st.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=st.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){st.fx.step[e.prop]?st.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[st.cssProps[e.prop]]||st.cssHooks[e.prop])?st.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},st.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},st.fx=A.prototype.init,st.fx.step={};var ui,fi,mi=/^(?:toggle|show|hide)$/,gi=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),vi=/queueHooks$/,bi=[O],yi={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=gi.exec(t),r=s&&s[3]||(st.cssNumber[e]?"":"px"),a=(st.cssNumber[e]||"px"!==r&&+n)&&gi.exec(st.css(i.elem,e)),o=1,l=20;if(a&&a[3]!==r){r=r||a[3],s=s||[],a=+n||1;do o=o||".5",a/=o,st.style(i.elem,e,a+r);while(o!==(o=i.cur()/n)&&1!==o&&--l)}return s&&(a=i.start=+a||+n||0,i.unit=r,i.end=s[1]?a+(s[1]+1)*s[2]:+s[2]),i}]};st.Animation=st.extend(H,{tweener:function(e,t){st.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;s>n;n++)i=e[n],yi[i]=yi[i]||[],yi[i].unshift(t)},prefilter:function(e,t){t?bi.unshift(e):bi.push(e)}}),st.speed=function(e,t,i){var n=e&&"object"==typeof e?st.extend({},e):{complete:i||!i&&t||st.isFunction(e)&&e,duration:e,easing:i&&t||t&&!st.isFunction(t)&&t};return n.duration=st.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in st.fx.speeds?st.fx.speeds[n.duration]:st.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){st.isFunction(n.old)&&n.old.call(this),n.queue&&st.dequeue(this,n.queue)},n},st.fn.extend({fadeTo:function(e,t,i,n){return this.filter($t).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var s=st.isEmptyObject(e),r=st.speed(t,i,n),a=function(){var t=H(this,st.extend({},e),r);(s||st._data(this,"finish"))&&t.stop(!0)};return a.finish=a,s||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",r=st.timers,a=st._data(this);if(s)a[s]&&a[s].stop&&n(a[s]);else for(s in a)a[s]&&a[s].stop&&vi.test(s)&&n(a[s]);for(s=r.length;s--;)r[s].elem!==this||null!=e&&r[s].queue!==e||(r[s].anim.stop(i),t=!1,r.splice(s,1));(t||!i)&&st.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=st._data(this),n=i[e+"queue"],s=i[e+"queueHooks"],r=st.timers,a=n?n.length:0;for(i.finish=!0,st.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),st.each(["toggle","show","hide"],function(e,t){var i=st.fn[t];st.fn[t]=function(e,n,s){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(M(t,!0),e,n,s)}}),st.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){st.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),st.timers=[],st.fx.tick=function(){var e,t=st.timers,i=0;for(ui=st.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||st.fx.stop(),ui=void 0},st.fx.timer=function(e){st.timers.push(e),e()?st.fx.start():st.timers.pop()},st.fx.interval=13,st.fx.start=function(){fi||(fi=setInterval(st.fx.tick,st.fx.interval))},st.fx.stop=function(){clearInterval(fi),fi=null},st.fx.speeds={slow:600,fast:200,_default:400},st.fn.delay=function(e,t){return e=st.fx?st.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,s;t=ft.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=ft.createElement("select"),s=i.appendChild(ft.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",it.getSetAttribute="t"!==t.className,it.style=/top/.test(n.getAttribute("style")),it.hrefNormalized="/a"===n.getAttribute("href"),it.checkOn=!!e.value,it.optSelected=s.selected,it.enctype=!!ft.createElement("form").enctype,i.disabled=!0,it.optDisabled=!s.disabled,e=ft.createElement("input"),e.setAttribute("value",""),it.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),it.radioValue="t"===e.value}();var wi=/\r/g;st.fn.extend({val:function(e){var t,i,n,s=this[0];{if(arguments.length)return n=st.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=n?e.call(this,i,st(this).val()):e,null==s?s="":"number"==typeof s?s+="":st.isArray(s)&&(s=st.map(s,function(e){return null==e?"":e+""})),t=st.valHooks[this.type]||st.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=st.valHooks[s.type]||st.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(wi,""):null==i?"":i)}}}),st.extend({valHooks:{option:{get:function(e){var t=st.find.attr(e,"value");return null!=t?t:st.trim(st.text(e))}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,r="select-one"===e.type||0>s,a=r?null:[],o=r?s+1:n.length,l=0>s?o:r?s:0;o>l;l++)if(i=n[l],!(!i.selected&&l!==s||(it.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&st.nodeName(i.parentNode,"optgroup"))){if(t=st(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,s=e.options,r=st.makeArray(t),a=s.length;a--;)if(n=s[a],st.inArray(st.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(o){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),s}}}}),st.each(["radio","checkbox"],function(){st.valHooks[this]={set:function(e,t){return st.isArray(t)?e.checked=st.inArray(st(e).val(),t)>=0:void 0}},it.checkOn||(st.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xi,Ci,ki=st.expr.attrHandle,Si=/^(?:checked|selected)$/i,Ei=it.getSetAttribute,Ti=it.input;st.fn.extend({attr:function(e,t){return It(this,st.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){st.removeAttr(this,e)})}}),st.extend({attr:function(e,t,i){var n,s,r=e.nodeType;if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===kt?st.prop(e,t,i):(1===r&&st.isXMLDoc(e)||(t=t.toLowerCase(),n=st.attrHooks[t]||(st.expr.match.bool.test(t)?Ci:xi)),void 0===i?n&&"get"in n&&null!==(s=n.get(e,t))?s:(s=st.find.attr(e,t),null==s?void 0:s):null!==i?n&&"set"in n&&void 0!==(s=n.set(e,i,t))?s:(e.setAttribute(t,i+""),i):void st.removeAttr(e,t))},removeAttr:function(e,t){var i,n,s=0,r=t&&t.match(yt);if(r&&1===e.nodeType)for(;i=r[s++];)n=st.propFix[i]||i,st.expr.match.bool.test(i)?Ti&&Ei||!Si.test(i)?e[n]=!1:e[st.camelCase("default-"+i)]=e[n]=!1:st.attr(e,i,""),e.removeAttribute(Ei?i:n)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&st.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ci={set:function(e,t,i){return t===!1?st.removeAttr(e,i):Ti&&Ei||!Si.test(i)?e.setAttribute(!Ei&&st.propFix[i]||i,i):e[st.camelCase("default-"+i)]=e[i]=!0,i}},st.each(st.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ki[t]||st.find.attr;ki[t]=Ti&&Ei||!Si.test(t)?function(e,t,n){var s,r;return n||(r=ki[t],ki[t]=s,s=null!=i(e,t,n)?t.toLowerCase():null,ki[t]=r),s}:function(e,t,i){return i?void 0:e[st.camelCase("default-"+t)]?t.toLowerCase():null}}),Ti&&Ei||(st.attrHooks.value={set:function(e,t,i){return st.nodeName(e,"input")?void(e.defaultValue=t):xi&&xi.set(e,t,i)}}),Ei||(xi={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},ki.id=ki.name=ki.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},st.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:xi.set},st.attrHooks.contenteditable={set:function(e,t,i){xi.set(e,""===t?!1:t,i)}},st.each(["width","height"],function(e,t){st.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),it.style||(st.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var _i=/^(?:input|select|textarea|button|object)$/i,$i=/^(?:a|area)$/i;st.fn.extend({prop:function(e,t){return It(this,st.prop,e,t,arguments.length>1)},removeProp:function(e){return e=st.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),st.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,s,r,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return r=1!==a||!st.isXMLDoc(e),r&&(t=st.propFix[t]||t,s=st.propHooks[t]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(e,i,t))?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=st.find.attr(e,"tabindex");return t?parseInt(t,10):_i.test(e.nodeName)||$i.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||st.each(["href","src"],function(e,t){st.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(st.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),st.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){st.propFix[this.toLowerCase()]=this}),it.enctype||(st.propFix.enctype="encoding");var Ii=/[\t\r\n\f]/g;st.fn.extend({addClass:function(e){var t,i,n,s,r,a,o=0,l=this.length,d="string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).addClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(yt)||[];l>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ii," "):" ")){for(r=0;s=t[r++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");a=st.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(e){var t,i,n,s,r,a,o=0,l=this.length,d=0===arguments.length||"string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).removeClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(yt)||[];l>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ii," "):"")){for(r=0;s=t[r++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");a=e?st.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(st.isFunction(e)?function(i){st(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,s=st(this),r=e.match(yt)||[];t=r[n++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);
else(i===kt||"boolean"===i)&&(this.className&&st._data(this,"__className__",this.className),this.className=this.className||e===!1?"":st._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ii," ").indexOf(t)>=0)return!0;return!1}}),st.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){st.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),st.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Di=st.now(),Li=/\?/,Ai=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;st.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,s=st.trim(t+"");return s&&!st.trim(s.replace(Ai,function(e,t,s,r){return i&&t&&(n=0),0===n?e:(i=s||t,n+=!r-!s,"")}))?Function("return "+s)():st.error("Invalid JSON: "+t)},st.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(s){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||st.error("Invalid XML: "+t),i};var Ni,Mi,Ri=/#.*$/,Oi=/([?&])_=[^&]*/,Fi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Hi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pi=/^(?:GET|HEAD)$/,ji=/^\/\//,zi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Bi={},Ui={},Wi="*/".concat("*");try{Mi=location.href}catch(qi){Mi=ft.createElement("a"),Mi.href="",Mi=Mi.href}Ni=zi.exec(Mi.toLowerCase())||[],st.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mi,type:"GET",isLocal:Hi.test(Ni[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":st.parseJSON,"text xml":st.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,st.ajaxSettings),t):z(st.ajaxSettings,e)},ajaxPrefilter:P(Bi),ajaxTransport:P(Ui),ajax:function(e,t){function i(e,t,i,n){var s,c,v,b,w,C=t;2!==y&&(y=2,o&&clearTimeout(o),d=void 0,a=n||"",x.readyState=e>0?4:0,s=e>=200&&300>e||304===e,i&&(b=B(h,x,i)),b=U(h,b,x,s),s?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(st.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(st.etag[r]=w)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=b.state,c=b.data,v=b.error,s=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(t||C)+"",s?f.resolveWith(p,[c,C,x]):f.rejectWith(p,[x,C,v]),x.statusCode(g),g=void 0,l&&u.trigger(s?"ajaxSuccess":"ajaxError",[x,h,s?c:v]),m.fireWith(p,[x,C]),l&&(u.trigger("ajaxComplete",[x,h]),--st.active||st.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,s,r,a,o,l,d,c,h=st.ajaxSetup({},t),p=h.context||h,u=h.context&&(p.nodeType||p.jquery)?st(p):st.event,f=st.Deferred(),m=st.Callbacks("once memory"),g=h.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=Fi.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return y||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return d&&d.abort(t),i(0,t),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||Mi)+"").replace(Ri,"").replace(ji,Ni[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=st.trim(h.dataType||"*").toLowerCase().match(yt)||[""],null==h.crossDomain&&(n=zi.exec(h.url.toLowerCase()),h.crossDomain=!(!n||n[1]===Ni[1]&&n[2]===Ni[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Ni[3]||("http:"===Ni[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=st.param(h.data,h.traditional)),j(Bi,h,t,x),2===y)return x;l=st.event&&h.global,l&&0===st.active++&&st.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Pi.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Li.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Oi.test(r)?r.replace(Oi,"$1_="+Di++):r+(Li.test(r)?"&":"?")+"_="+Di++)),h.ifModified&&(st.lastModified[r]&&x.setRequestHeader("If-Modified-Since",st.lastModified[r]),st.etag[r]&&x.setRequestHeader("If-None-Match",st.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wi+"; q=0.01":""):h.accepts["*"]);for(s in h.headers)x.setRequestHeader(s,h.headers[s]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===y))return x.abort();w="abort";for(s in{success:1,error:1,complete:1})x[s](h[s]);if(d=j(Ui,h,t,x)){x.readyState=1,l&&u.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(o=setTimeout(function(){x.abort("timeout")},h.timeout));try{y=1,d.send(v,i)}catch(C){if(!(2>y))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return st.get(e,t,i,"json")},getScript:function(e,t){return st.get(e,void 0,t,"script")}}),st.each(["get","post"],function(e,t){st[t]=function(e,i,n,s){return st.isFunction(i)&&(s=s||n,n=i,i=void 0),st.ajax({url:e,type:t,dataType:s,data:i,success:n})}}),st._evalUrl=function(e){return st.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},st.fn.extend({wrapAll:function(e){if(st.isFunction(e))return this.each(function(t){st(this).wrapAll(e.call(this,t))});if(this[0]){var t=st(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(st.isFunction(e)?function(t){st(this).wrapInner(e.call(this,t))}:function(){var t=st(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=st.isFunction(e);return this.each(function(i){st(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){st.nodeName(this,"body")||st(this).replaceWith(this.childNodes)}).end()}}),st.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||st.css(e,"display"))},st.expr.filters.visible=function(e){return!st.expr.filters.hidden(e)};var Vi=/%20/g,Yi=/\[\]$/,Qi=/\r?\n/g,Xi=/^(?:submit|button|image|reset|file)$/i,Ki=/^(?:input|select|textarea|keygen)/i;st.param=function(e,t){var i,n=[],s=function(e,t){t=st.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=st.ajaxSettings&&st.ajaxSettings.traditional),st.isArray(e)||e.jquery&&!st.isPlainObject(e))st.each(e,function(){s(this.name,this.value)});else for(i in e)W(i,e[i],t,s);return n.join("&").replace(Vi,"+")},st.fn.extend({serialize:function(){return st.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=st.prop(this,"elements");return e?st.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!st(this).is(":disabled")&&Ki.test(this.nodeName)&&!Xi.test(e)&&(this.checked||!Dt.test(e))}).map(function(e,t){var i=st(this).val();return null==i?null:st.isArray(i)?st.map(i,function(e){return{name:t.name,value:e.replace(Qi,"\r\n")}}):{name:t.name,value:i.replace(Qi,"\r\n")}}).get()}}),st.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||V()}:q;var Gi=0,Ji={},Zi=st.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Ji)Ji[e](void 0,!0)}),it.cors=!!Zi&&"withCredentials"in Zi,Zi=it.ajax=!!Zi,Zi&&st.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(i,n){var s,r=e.xhr(),a=++Gi;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)r[s]=e.xhrFields[s];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)void 0!==i[s]&&r.setRequestHeader(s,i[s]+"");r.send(e.hasContent&&e.data||null),t=function(i,s){var o,l,d;if(t&&(s||4===r.readyState))if(delete Ji[a],t=void 0,r.onreadystatechange=st.noop,s)4!==r.readyState&&r.abort();else{d={},o=r.status,"string"==typeof r.responseText&&(d.text=r.responseText);try{l=r.statusText}catch(c){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=d.text?200:404}d&&n(o,l,d,r.getAllResponseHeaders())},e.async?4===r.readyState?setTimeout(t):r.onreadystatechange=Ji[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),st.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return st.globalEval(e),e}}}),st.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),st.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=ft.head||st("head")[0]||ft.documentElement;return{send:function(n,s){t=ft.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||s(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;st.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||st.expando+"_"+Di++;return this[e]=!0,e}}),st.ajaxPrefilter("json jsonp",function(t,i,n){var s,r,a,o=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(s=t.jsonpCallback=st.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(tn,"$1"+s):t.jsonp!==!1&&(t.url+=(Li.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return a||st.error(s+" was not called"),a[0]},t.dataTypes[0]="json",r=e[s],e[s]=function(){a=arguments},n.always(function(){e[s]=r,t[s]&&(t.jsonpCallback=i.jsonpCallback,en.push(s)),a&&st.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),st.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||ft;var n=ht.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=st.buildFragment([e],t,s),s&&s.length&&st(s).remove(),st.merge([],n.childNodes))};var nn=st.fn.load;st.fn.load=function(e,t,i){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var n,s,r,a=this,o=e.indexOf(" ");return o>=0&&(n=st.trim(e.slice(o,e.length)),e=e.slice(0,o)),st.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&st.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){s=arguments,a.html(n?st("<div>").append(st.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){a.each(i,s||[e.responseText,t,e])}),this},st.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){st.fn[t]=function(e){return this.on(t,e)}}),st.expr.filters.animated=function(e){return st.grep(st.timers,function(t){return e===t.elem}).length};var sn=e.document.documentElement;st.offset={setOffset:function(e,t,i){var n,s,r,a,o,l,d,c=st.css(e,"position"),h=st(e),p={};"static"===c&&(e.style.position="relative"),o=h.offset(),r=st.css(e,"top"),l=st.css(e,"left"),d=("absolute"===c||"fixed"===c)&&st.inArray("auto",[r,l])>-1,d?(n=h.position(),a=n.top,s=n.left):(a=parseFloat(r)||0,s=parseFloat(l)||0),st.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(p.top=t.top-o.top+a),null!=t.left&&(p.left=t.left-o.left+s),"using"in t?t.using.call(e,p):h.css(p)}},st.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){st.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},s=this[0],r=s&&s.ownerDocument;if(r)return t=r.documentElement,st.contains(t,s)?(typeof s.getBoundingClientRect!==kt&&(n=s.getBoundingClientRect()),i=Y(r),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===st.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),st.nodeName(e[0],"html")||(i=e.offset()),i.top+=st.css(e[0],"borderTopWidth",!0),i.left+=st.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-st.css(n,"marginTop",!0),left:t.left-i.left-st.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||sn;e&&!st.nodeName(e,"html")&&"static"===st.css(e,"position");)e=e.offsetParent;return e||sn})}}),st.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);st.fn[e]=function(n){return It(this,function(e,n,s){var r=Y(e);return void 0===s?r?t in r?r[t]:r.document.documentElement[n]:e[n]:void(r?r.scrollTo(i?st(r).scrollLeft():s,i?s:st(r).scrollTop()):e[n]=s)},e,n,arguments.length,null)}}),st.each(["top","left"],function(e,t){st.cssHooks[t]=T(it.pixelPosition,function(e,i){return i?(i=ti(e,t),ni.test(i)?st(e).position()[t]+"px":i):void 0})}),st.each({Height:"height",Width:"width"},function(e,t){st.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){st.fn[n]=function(n,s){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||s===!0?"margin":"border");return It(this,function(t,i,n){var s;return st.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===n?st.css(t,i,a):st.style(t,i,n,a)},t,r?n:void 0,r,null)}})}),st.fn.size=function(){return this.length},st.fn.andSelf=st.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return st});var rn=e.jQuery,an=e.$;return st.noConflict=function(t){return e.$===st&&(e.$=an),t&&e.jQuery===st&&(e.jQuery=rn),st},typeof t===kt&&(e.jQuery=e.$=st),st}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");e('form input[name="'+i+'"]').val(t)},fire:function(t,i,n){var s=e.Event(i);return t.trigger(s,n),s.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var s,r,a,o,l,d,c,h;if(i.fire(n,"ajax:before")){if(o=n.data("cross-domain"),l=o===t?null:o,d=n.data("with-credentials")||null,c=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){s=n.attr("method"),r=n.attr("action"),a=n.serializeArray();var p=n.data("ujs:submit-button");p&&(a.push(p),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(s=n.data("method"),r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",r=n.data("url"),a=n.serialize(),n.data("params")&&(a=a+"&"+n.data("params"))):(s=n.data("method"),r=i.href(n),a=n.data("params")||null);return h={type:s||"GET",data:a,dataType:c,beforeSend:function(e,s){return s.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),i.fire(n,"ajax:beforeSend",[e,s])?void n.trigger("ajax:send",e):!1},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:l},d&&(h.xhrFields={withCredentials:d}),r&&(h.url=r),i.ajax(h)}return!1},handleMethod:function(n){var s=i.href(n),r=n.data("method"),a=n.attr("target"),o=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),d=e('<form method="post" action="'+s+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';l!==t&&o!==t&&(c+='<input name="'+l+'" value="'+o+'" type="hidden" />'),a&&d.attr("target",a),d.hide().append(c).appendTo("body"),d.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",n=e.data("disable-with"),e.data("ujs:enable-with",e[i]()),n!==t&&e[i](n),e.prop("disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,n=e.data("confirm"),s=!1;return n?(i.fire(e,"confirm")&&(s=i.confirm(n),t=i.fire(e,"confirm:complete",[s])),s&&t):!0},blankInputs:function(t,i,n){var s,r,a=e(),o=i||"input,textarea",l=t.find(o);return l.each(function(){if(s=e(this),r=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val(),!r==!n){if(s.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;a=a.add(s)}}),a.length?a:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");e.data("ujs:enable-with",e.html()),n!==t&&e.html(n),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableElement(t)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(e(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var s=e(this),r=s.data("method"),a=s.data("params"),o=n.metaKey||n.ctrlKey;if(!i.allowAction(s))return i.stopEverything(n);if(!o&&s.is(i.linkDisableSelector)&&i.disableElement(s),s.data("remote")!==t){if(o&&(!r||"GET"===r)&&!a)return!0;var l=i.handleRemote(s);return l===!1?i.enableElement(s):l.fail(function(){i.enableElement(s)}),!1}return r?(i.handleMethod(s),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var s=i.handleRemote(n);return s===!1?i.enableFormElement(n):s.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var s,r,a=e(this),o=a.data("remote")!==t;if(!i.allowAction(a))return i.stopEverything(n);if(a.attr("novalidate")==t&&(s=i.blankInputs(a,i.requiredInputSelector),s&&i.fire(a,"ajax:aborted:required",[s])))return i.stopEverything(n);if(o){if(r=i.nonBlankInputs(a,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(a)},13);var l=i.fire(a,"ajax:aborted:file",[r]);return l||setTimeout(function(){i.enableFormElements(a)},13),l}return i.handleRemote(a),!1}setTimeout(function(){i.disableFormElements(a)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var s=n.attr("name"),r=s?{name:s,value:n.val()}:null;n.closest("form").data("ujs:submit-button",r)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t="ui-effects-",i=e;/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
return e.effects={effect:{}},function(e,t){function i(e,t,i){var n=h[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=d(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,s){var r,a=s.re.exec(t),o=a&&s.parse(a),l=s.space||"rgba";return o?(r=i[l](o),i[c[l].cache]=r[c[l].cache],n=i._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,r.transparent),i):r[t]}function s(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var r,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",o=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],d=e.Color=function(t,i,n,s){return new e.Color.fn.parse(t,i,n,s)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=d.support={},u=e("<p>")[0],f=e.each;u.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=u.style.backgroundColor.indexOf("rgba")>-1,f(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),d.fn=e.extend(d.prototype,{parse:function(s,a,o,l){if(s===t)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=e(s).css(a),a=t);var h=this,p=e.type(s),u=this._rgba=[];return a!==t&&(s=[s,a,o,l],p="array"),"string"===p?this.parse(n(s)||r._default):"array"===p?(f(c.rgba.props,function(e,t){u[t.idx]=i(s[t.idx],t)}),this):"object"===p?(s instanceof d?f(c,function(e,t){s[t.cache]&&(h[t.cache]=s[t.cache].slice())}):f(c,function(t,n){var r=n.cache;f(n.props,function(e,t){if(!h[r]&&n.to){if("alpha"===e||null==s[e])return;h[r]=n.to(h._rgba)}h[r][t.idx]=i(s[e],t,!0)}),h[r]&&e.inArray(null,h[r].slice(0,3))<0&&(h[r][3]=1,n.from&&(h._rgba=n.from(h[r])))}),this):void 0},is:function(e){var t=d(e),i=!0,n=this;return f(c,function(e,s){var r,a=t[s.cache];return a&&(r=n[s.cache]||s.to&&s.to(n._rgba)||[],f(s.props,function(e,t){return null!=a[t.idx]?i=a[t.idx]===r[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(c,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=d(e),s=n._space(),r=c[s],a=0===this.alpha()?d("transparent"):this,o=a[r.cache]||r.to(a._rgba),l=o.slice();return n=n[r.cache],f(r.props,function(e,s){var r=s.idx,a=o[r],d=n[r],c=h[s.type]||{};null!==d&&(null===a?l[r]=d:(c.mod&&(d-a>c.mod/2?a+=c.mod:a-d>c.mod/2&&(a-=c.mod)),l[r]=i((d-a)*t+a,s)))}),this[s](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=d(t)._rgba;return d(e.map(i,function(e,t){return(1-n)*s[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,s=e[1]/255,r=e[2]/255,a=e[3],o=Math.max(n,s,r),l=Math.min(n,s,r),d=o-l,c=o+l,h=.5*c;return t=l===o?0:n===o?60*(s-r)/d+360:s===o?60*(r-n)/d+120:60*(n-s)/d+240,i=0===d?0:.5>=h?d/c:d/(2-c),[Math.round(t)%360,i,h,null==a?1:a]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],r=e[3],a=.5>=n?n*(1+i):n+i-n*i,o=2*n-a;return[Math.round(255*s(o,a,t+1/3)),Math.round(255*s(o,a,t)),Math.round(255*s(o,a,t-1/3)),r]},f(c,function(n,s){var r=s.props,a=s.cache,l=s.to,c=s.from;d.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===t)return this[a].slice();var s,o=e.type(n),h="array"===o||"object"===o?n:arguments,p=this[a].slice();return f(r,function(e,t){var n=h["object"===o?e:t.idx];null==n&&(n=p[t.idx]),p[t.idx]=i(n,t)}),c?(s=d(c(p)),s[a]=p,s):d(p)},f(r,function(t,i){d.fn[t]||(d.fn[t]=function(s){var r,a=e.type(s),l="alpha"===t?this._hsla?"hsla":"rgba":n,d=this[l](),c=d[i.idx];return"undefined"===a?c:("function"===a&&(s=s.call(this,c),a=e.type(s)),null==s&&i.empty?this:("string"===a&&(r=o.exec(s),r&&(s=c+parseFloat(r[2])*("+"===r[1]?1:-1))),d[i.idx]=s,this[l](d)))})})}),d.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,s){var r,a,o="";if("transparent"!==s&&("string"!==e.type(s)||(r=n(s)))){if(s=d(r||s),!p.rgba&&1!==s._rgba[3]){for(a="backgroundColor"===i?t.parentNode:t;(""===o||"transparent"===o)&&a&&a.style;)try{o=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}s=s.blend(o&&"transparent"!==o?o:"_default")}s=s.toRgbaString()}try{t.style[i]=s}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=d(t.elem,i),t.end=d(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},d.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function t(t){var i,n,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(r[e.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(r[i]=s[i]);return r}function n(t,i){var n,s,a={};for(n in i)s=i[n],t[n]!==s&&(r[n]||(e.fx.step[n]||!isNaN(parseFloat(s)))&&(a[n]=s));return a}var s=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(i.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,r,a,o){var l=e.speed(r,a,o);return this.queue(function(){var r,a=e(this),o=a.attr("class")||"",d=l.children?a.find("*").addBack():a;d=d.map(function(){var i=e(this);return{el:i,start:t(this)}}),r=function(){e.each(s,function(e,t){i[t]&&a[t+"Class"](i[t])})},r(),d=d.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",o),d=d.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,d.get()).done(function(){r(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(i,n,s,r){return n?e.effects.animateClass.call(this,{add:i},n,s,r):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,s,r){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,s,r):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,s,r,a){return"boolean"==typeof n||void 0===n?s?e.effects.animateClass.call(this,n?{add:i}:{remove:i},s,r,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,s,r)}}(e.fn.toggleClass),switchClass:function(t,i,n,s,r){return e.effects.animateClass.call(this,{add:i,remove:t},n,s,r)}})}(),function(){function i(t,i,n,s){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(s=n,n=i,i={}),e.isFunction(n)&&(s=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=s||i.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,i){for(var n=0;n<i.length;n++)null!==i[n]&&e.data(t+i[n],e[0].style[i[n]])},restore:function(e,i){var n,s;for(s=0;s<i.length;s++)null!==i[s]&&(n=e.data(t+i[s]),void 0===n&&(n=""),e.css(i[s],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(a){r=document.body}return t.wrap(n),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,s){return s=s||{},e.each(i,function(e,i){var r=t.cssUnit(i);r[0]>0&&(s[i]=r[0]*n+r[1])}),s}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(r)&&r.call(s[0]),e.isFunction(t)&&t()}var s=e(this),r=n.complete,o=n.mode;(s.is(":hidden")?"hide"===o:"show"===o)?(s[o](),i()):a.call(s[0],n,i)}var n=i.apply(this,arguments),s=n.mode,r=n.queue,a=e.effects.effect[n.effect];return e.fx.off||!a?s?this[s](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):r===!1?this.each(t):this.queue(r||"fx",t)},show:function(e){return function(t){if(n(t))return e.apply(this,arguments);var s=i.apply(this,arguments);return s.mode="show",this.effect.call(this,s)}}(e.fn.show),hide:function(e){return function(t){if(n(t))return e.apply(this,arguments);var s=i.apply(this,arguments);return s.mode="hide",this.effect.call(this,s)}}(e.fn.hide),toggle:function(e){return function(t){if(n(t)||"boolean"==typeof t)return e.apply(this,arguments);var s=i.apply(this,arguments);return s.mode="toggle",this.effect.call(this,s)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects}),/*!
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.blind=function(t,i){var n,s,r,a=e(this),o=/up|down|vertical/,l=/up|left|vertical|horizontal/,d=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(a,t.mode||"hide"),h=t.direction||"up",p=o.test(h),u=p?"height":"width",f=p?"top":"left",m=l.test(h),g={},v="show"===c;a.parent().is(".ui-effects-wrapper")?e.effects.save(a.parent(),d):e.effects.save(a,d),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),s=n[u](),r=parseFloat(n.css(f))||0,g[u]=v?s:0,m||(a.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:s+r),v&&(n.css(u,0),m||n.css(f,r+s)),n.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===c&&a.hide(),e.effects.restore(a,d),e.effects.removeWrapper(a),i()}})}}),/*!
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.bounce=function(t,i){var n,s,r,a=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),d="hide"===l,c="show"===l,h=t.direction||"up",p=t.distance,u=t.times||5,f=2*u+(c||d?1:0),m=t.duration/f,g=t.easing,v="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,y=a.queue(),w=y.length;for((c||d)&&o.push("opacity"),e.effects.save(a,o),a.show(),e.effects.createWrapper(a),p||(p=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(r={opacity:1},r[v]=0,a.css("opacity",0).css(v,b?2*-p:2*p).animate(r,m,g)),d&&(p/=Math.pow(2,u-1)),r={},r[v]=0,n=0;u>n;n++)s={},s[v]=(b?"-=":"+=")+p,a.animate(s,m,g).animate(r,m,g),p=d?2*p:p/2;d&&(s={opacity:0},s[v]=(b?"-=":"+=")+p,a.animate(s,m,g)),a.queue(function(){d&&a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,f+1))),a.dequeue()}}),/*!
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.clip=function(t,i){var n,s,r,a=e(this),o=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),d="show"===l,c=t.direction||"vertical",h="vertical"===c,p=h?"height":"width",u=h?"top":"left",f={};e.effects.save(a,o),a.show(),n=e.effects.createWrapper(a).css({overflow:"hidden"}),s="IMG"===a[0].tagName?n:a,r=s[p](),d&&(s.css(p,0),s.css(u,r/2)),f[p]=d?r:0,f[u]=d?0:r/2,s.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){d||a.hide(),e.effects.restore(a,o),e.effects.removeWrapper(a),i()}})}}),/*!
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.drop=function(t,i){var n,s=e(this),r=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(s,t.mode||"hide"),o="show"===a,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",h={opacity:o?1:0};e.effects.save(s,r),s.show(),e.effects.createWrapper(s),n=t.distance||s["top"===d?"outerHeight":"outerWidth"](!0)/2,o&&s.css("opacity",0).css(d,"pos"===c?-n:n),h[d]=(o?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,s.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.explode=function(t,i){function n(){y.push(this),y.length===h*p&&s()}function s(){u.css({visibility:"visible"}),e(y).remove(),m||u.hide(),i()}var r,a,o,l,d,c,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,p=h,u=e(this),f=e.effects.setMode(u,t.mode||"hide"),m="show"===f,g=u.show().css("visibility","hidden").offset(),v=Math.ceil(u.outerWidth()/p),b=Math.ceil(u.outerHeight()/h),y=[];for(r=0;h>r;r++)for(l=g.top+r*b,c=r-(h-1)/2,a=0;p>a;a++)o=g.left+a*v,d=a-(p-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-r*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:o+(m?d*v:0),top:l+(m?c*b:0),opacity:m?0:1}).animate({left:o+(m?0:d*v),top:l+(m?0:c*b),opacity:m?1:0},t.duration||500,t.easing,n)}}),/*!
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fade=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}),/*!
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fold=function(t,i){var n,s,r=e(this),a=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(r,t.mode||"hide"),l="show"===o,d="hide"===o,c=t.size||15,h=/([0-9]+)%/.exec(c),p=!!t.horizFirst,u=l!==p,f=u?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(r,a),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),s=u?[n.width(),n.height()]:[n.height(),n.width()],h&&(c=parseInt(h[1],10)/100*s[d?0:1]),l&&n.css(p?{height:0,width:c}:{height:c,width:0}),g[f[0]]=l?s[0]:c,v[f[1]]=l?s[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){d&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()})}}),/*!
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.highlight=function(t,i){var n=e(this),s=["backgroundImage","backgroundColor","opacity"],r=e.effects.setMode(n,t.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===r&&(a.opacity=0),e.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&n.hide(),e.effects.restore(n,s),i()}})}}),/*!
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.size=function(t,i){var n,s,r,a=e(this),o=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],d=["width","height","overflow"],c=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],p=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.effects.setMode(a,t.mode||"effect"),f=t.restore||"effect"!==u,m=t.scale||"both",g=t.origin||["middle","center"],v=a.css("position"),b=f?o:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===u&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===u?(a.from=t.to||y,a.to=t.from||n):(a.from=t.from||("show"===u?y:n),a.to=t.to||("hide"===u?y:n)),r={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},("box"===m||"both"===m)&&(r.from.y!==r.to.y&&(b=b.concat(h),a.from=e.effects.setTransition(a,h,r.from.y,a.from),a.to=e.effects.setTransition(a,h,r.to.y,a.to)),r.from.x!==r.to.x&&(b=b.concat(p),a.from=e.effects.setTransition(a,p,r.from.x,a.from),a.to=e.effects.setTransition(a,p,r.to.x,a.to))),("content"===m||"both"===m)&&r.from.y!==r.to.y&&(b=b.concat(c).concat(d),a.from=e.effects.setTransition(a,c,r.from.y,a.from),a.to=e.effects.setTransition(a,c,r.to.y,a.to)),e.effects.save(a,b),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(s=e.effects.getBaseline(g,n),a.from.top=(n.outerHeight-a.outerHeight())*s.y,a.from.left=(n.outerWidth-a.outerWidth())*s.x,a.to.top=(n.outerHeight-a.to.outerHeight)*s.y,a.to.left=(n.outerWidth-a.to.outerWidth)*s.x),a.css(a.from),("content"===m||"both"===m)&&(h=h.concat(["marginTop","marginBottom"]).concat(c),p=p.concat(["marginLeft","marginRight"]),d=o.concat(h).concat(p),a.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,d),i.from={height:n.height*r.from.y,width:n.width*r.from.x,outerHeight:n.outerHeight*r.from.y,outerWidth:n.outerWidth*r.from.x},i.to={height:n.height*r.to.y,width:n.width*r.to.x,outerHeight:n.height*r.to.y,outerWidth:n.width*r.to.x},r.from.y!==r.to.y&&(i.from=e.effects.setTransition(i,h,r.from.y,i.from),i.to=e.effects.setTransition(i,h,r.to.y,i.to)),r.from.x!==r.to.x&&(i.from=e.effects.setTransition(i,p,r.from.x,i.from),i.to=e.effects.setTransition(i,p,r.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,d)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===u&&a.hide(),e.effects.restore(a,b),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,i){var n=parseInt(i,10),s=e?a.to.left:a.to.top;return"auto"===i?s+"px":n+s+"px"})})),e.effects.removeWrapper(a),i()}})}}),/*!
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],e):e(jQuery)}(function(e){return e.effects.effect.scale=function(t,i){var n=e(this),s=e.extend(!0,{},t),r=e.effects.setMode(n,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===r?0:100),o=t.direction||"both",l=t.origin,d={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c={y:"horizontal"!==o?a/100:1,x:"vertical"!==o?a/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==r&&(s.origin=l||["middle","center"],s.restore=!0),s.from=t.from||("show"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:d),s.to={height:d.height*c.y,width:d.width*c.x,outerHeight:d.outerHeight*c.y,outerWidth:d.outerWidth*c.x},s.fade&&("show"===r&&(s.from.opacity=0,s.to.opacity=1),"hide"===r&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)}}),/*!
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],e):e(jQuery)}(function(e){return e.effects.effect.puff=function(t,i){var n=e(this),s=e.effects.setMode(n,t.mode||"hide"),r="hide"===s,a=parseInt(t.percent,10)||150,o=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:r?a:100,from:r?l:{height:l.height*o,width:l.width*o,outerHeight:l.outerHeight*o,outerWidth:l.outerWidth*o}}),n.effect(t)}}),/*!
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.pulsate=function(t,i){var n,s=e(this),r=e.effects.setMode(s,t.mode||"show"),a="show"===r,o="hide"===r,l=a||"hide"===r,d=2*(t.times||5)+(l?1:0),c=t.duration/d,h=0,p=s.queue(),u=p.length;for((a||!s.is(":visible"))&&(s.css("opacity",0).show(),h=1),n=1;d>n;n++)s.animate({opacity:h},c,t.easing),h=1-h;s.animate({opacity:h},c,t.easing),s.queue(function(){o&&s.hide(),i()}),u>1&&p.splice.apply(p,[1,0].concat(p.splice(u,d+1))),s.dequeue()}}),/*!
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.shake=function(t,i){var n,s=e(this),r=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(s,t.mode||"effect"),o=t.direction||"left",l=t.distance||20,d=t.times||3,c=2*d+1,h=Math.round(t.duration/c),p="up"===o||"down"===o?"top":"left",u="up"===o||"left"===o,f={},m={},g={},v=s.queue(),b=v.length;for(e.effects.save(s,r),s.show(),e.effects.createWrapper(s),f[p]=(u?"-=":"+=")+l,m[p]=(u?"+=":"-=")+2*l,g[p]=(u?"-=":"+=")+2*l,s.animate(f,h,t.easing),n=1;d>n;n++)s.animate(m,h,t.easing).animate(g,h,t.easing);s.animate(m,h,t.easing).animate(f,h/2,t.easing).queue(function(){"hide"===a&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,c+1))),s.dequeue()}}),/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.slide=function(t,i){var n,s=e(this),r=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(s,t.mode||"show"),o="show"===a,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h={};e.effects.save(s,r),s.show(),n=t.distance||s["top"===d?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(s).css({overflow:"hidden"}),o&&s.css(d,c?isNaN(n)?"-"+n:-n:n),h[d]=(o?c?"+=":"-=":c?"-=":"+=")+n,s.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.transfer=function(t,i){var n=e(this),s=e(t.to),r="fixed"===s.css("position"),a=e("body"),o=r?a.scrollTop():0,l=r?a.scrollLeft():0,d=s.offset(),c={top:d.top-o,left:d.left-l,height:s.innerHeight(),width:s.innerWidth()},h=n.offset(),p=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:h.top-o,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){p.remove(),i()})}}),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var i=e.scrollTo=function(t,i,n){e(window).scrollTo(t,i,n)};i.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},i.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,i=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!i)return t;var n=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==n.compatMode?n.body:n.documentElement})},e.fn.scrollTo=function(n,s,r){return"object"==typeof s&&(r=s,s=0),"function"==typeof r&&(r={onAfter:r}),"max"==n&&(n=9e9),r=e.extend({},i.defaults,r),s=s||r.duration,r.queue=r.queue&&r.axis.length>1,r.queue&&(s/=2),r.offset=t(r.offset),r.over=t(r.over),this._scrollable().each(function(){function a(e){d.animate(h,s,r.easing,e&&function(){e.call(this,n,r)})}if(null!=n){var o,l=this,d=e(l),c=n,h={},p=d.is("html,body");switch(typeof c){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(c)){c=t(c);break}if(c=e(c,this),!c.length)return;case"object":(c.is||c.style)&&(o=(c=e(c)).offset())}e.each(r.axis.split(""),function(e,t){var n="x"==t?"Left":"Top",s=n.toLowerCase(),u="scroll"+n,f=l[u],m=i.max(l,t);if(o)h[u]=o[s]+(p?0:f-d.offset()[s]),r.margin&&(h[u]-=parseInt(c.css("margin"+n))||0,h[u]-=parseInt(c.css("border"+n+"Width"))||0),h[u]+=r.offset[s]||0,r.over[s]&&(h[u]+=c["x"==t?"width":"height"]()*r.over[s]);else{var g=c[s];h[u]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}r.limit&&/^\d+$/.test(h[u])&&(h[u]=h[u]<=0?0:Math.min(h[u],m)),!e&&r.queue&&(f!=h[u]&&a(r.onAfterFirst),delete h[u])}),a(r.onAfter)}}).end()},i.max=function(t,i){var n="x"==i?"Width":"Height",s="scroll"+n;if(!e(t).is("html,body"))return t[s]-e(t)[n.toLowerCase()]();var r="client"+n,a=t.ownerDocument.documentElement,o=t.ownerDocument.body;return Math.max(a[s],o[s])-Math.min(a[r],o[r])}}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),s=i.data("bs.collapse"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!s&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),s||i.data("bs.collapse",s=new n(this,r)),"string"==typeof t&&s[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.4",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(t=s.data("bs.collapse"),t&&t.transitioning))){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),t||s.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION):s.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var s=e(n);this.addAriaAndCollapsedClass(t(s),s)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=s,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var s=e(this);s.attr("data-target")||n.preventDefault();var r=t(s),a=r.data("bs.collapse"),o=a?"toggle":s.data();i.call(r,o)})}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t,n){return this.each(function(){var s=e(this),r=s.data("bs.modal"),a=e.extend({},i.DEFAULTS,s.data(),"object"==typeof t&&t);r||s.data("bs.modal",r=new i(this,a)),"string"==typeof t?r[t](n):a.show&&r.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,s=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),s&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});s?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&s;if(this.$backdrop=e('<div class="modal-backdrop '+s+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),s=n.attr("href"),r=e(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(s)&&s},r.data(),n.data());n.is("a")&&i.preventDefault(),r.one("show.bs.modal",function(e){e.isDefaultPrevented()||r.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(r,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.button"),r="object"==typeof t&&t;s||n.data("bs.button",s=new i(this,r)),"toggle"==t?s.toggle():t&&s.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[s]()),setTimeout(e.proxy(function(){n[s](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.affix"),r="object"==typeof t&&t;s||n.data("bs.affix",s=new i(this,r)),"string"==typeof t&&s[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var s=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>s?"top":!1;if("bottom"==this.affixed)return null!=i?s+this.unpin<=r.top?!1:"bottom":e-n>=s+a?!1:"bottom";var o=null==this.affixed,l=o?s:r.top,d=o?a:t;return null!=i&&i>=s?"top":null!=n&&l+d>=e-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,s=n.top,r=n.bottom,a=e(document.body).height();"object"!=typeof n&&(r=s=n),"function"==typeof s&&(s=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var o=this.getState(a,t,s,r);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var l="affix"+(o?"-"+o:""),d=e.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:a-t-r})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof t&&s[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var s=i.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(r),t.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var o=e(n);this.activate(t.closest("li"),i),this.activate(o,o.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(t,n,s){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var a=n.find("> .active"),o=s&&e.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&o?a.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var s=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof t&&s[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){a.detach().trigger("closed.bs.alert").remove()}var s=e(this),r=s.attr("data-target");r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=e(r);t&&t.preventDefault(),a.length||(a=s.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var s=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=s,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(s,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.tooltip"),r="object"==typeof t&&t;(s||!/destroy|hide/.test(t))&&(s||n.data("bs.tooltip",s=new i(this,r)),"string"==typeof t&&s[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),r=s.length;r--;){var a=s[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var o="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var s=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(o);d&&(o=o.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var c=this.getPosition(),h=r[0].offsetWidth,p=r[0].offsetHeight;if(d){var u=o,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);o="bottom"==o&&c.bottom+p>m.bottom?"top":"top"==o&&c.top-p<m.top?"bottom":"right"==o&&c.right+h>m.width?"left":"left"==o&&c.left-h<m.left?"right":o,r.removeClass(u).addClass(o)}var g=this.getCalculatedOffset(o,c,h,p);this.applyPlacement(g,o);var v=function(){var e=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==e&&s.leave(s)};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),s=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),o=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(o)&&(o=0),t.top=t.top+a,t.left=t.left+o,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,d=n[0].offsetHeight;"top"==i&&d!=r&&(t.top=t.top+r-d);var c=this.getViewportAdjustedDelta(i,t,l,d);c.left?t.left+=c.left:t.top+=c.top;var h=/top|bottom/.test(i),p=h?2*c.left-s+l:2*c.top-r+d,u=h?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][u],h)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=s.hoverState&&r.detach(),s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),t&&t()}var s=this,r=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=e.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var r=n?{top:0,left:0}:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},s,a,o,r)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var o=t.top-r-a.scroll,l=t.top+r-a.scroll+n;o<a.top?s.top=a.top-o:l>a.top+a.height&&(s.top=a.top+a.height-l)}else{var d=t.left-r,c=t.left+r+i;d<a.left?s.left=a.left-d:c>a.width&&(s.left=a.left+a.width-c)}return s},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.popover"),r="object"==typeof t&&t;(s||!/destroy|hide/.test(t))&&(s||n.data("bs.popover",s=new i(this,r)),"string"==typeof t&&s[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){t&&3===t.which||(e(s).remove(),e(r).each(function(){var n=e(this),s=i(n),r={relatedTarget:this};s.hasClass("open")&&(s.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||(n.attr("aria-expanded","false"),s.removeClass("open").trigger("hidden.bs.dropdown",r)))}))}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new a(this)),"string"==typeof t&&n[t].call(i)})}var s=".dropdown-backdrop",r='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.4",a.prototype.toggle=function(n){var s=e(this);if(!s.is(".disabled, :disabled")){var r=i(s),a=r.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var o={relatedTarget:this};if(r.trigger(n=e.Event("show.bs.dropdown",o)),n.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",o)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),a=s.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&s.find(r).trigger("focus"),n.trigger("click");var o=" li:not(.disabled):visible a",l=s.find('[role="menu"]'+o+', [role="listbox"]'+o);if(l.length){var d=l.index(t.target);38==t.which&&d>0&&d--,40==t.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var o=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",r,a.prototype.toggle).on("keydown.bs.dropdown.data-api",r,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),function(){var e;$.fn.twitter_bootstrap_confirmbox={defaults:{title:null,proceed:"OK",proceed_class:"btn proceed",cancel:"Cancel",cancel_class:"btn cancel",fade:!1}},e=function(e,t,i){var n,s;return s="function"==typeof $().emulateTransitionEnd?3:2,n=$(2===s?'<div class="modal hide" id="confirmation_dialog"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">\xd7</button> <h3 class="modal-title">...</h3> </div> <div class="modal-body"></div> <div class="modal-footer"></div> </div>':'<div class="modal" id="confirmation_dialog" role="dialog"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal">\xd7</button> <h4 class="modal-title">...</h4> </div> <div class="modal-body"></div> <div class="modal-footer"></div> </div> </div> </div>'),(t.data("confirm-fade")||$.fn.twitter_bootstrap_confirmbox.defaults.fade)&&n.addClass("fade"),n.find(".modal-header").find(".modal-title").html(t.data("confirm-title")||$.fn.twitter_bootstrap_confirmbox.defaults.title||window.top.location.origin).end().end().find(".modal-body").html(e.toString().replace(/\n/g,"<br />")).end().find(".modal-footer").append($("<a />",{href:"#","data-dismiss":"modal"}).html(t.data("confirm-cancel")||$.fn.twitter_bootstrap_confirmbox.defaults.cancel).addClass($.fn.twitter_bootstrap_confirmbox.defaults.cancel_class).addClass(t.data("confirm-cancel-class")||"btn-default").click(function(e){return e.preventDefault(),n.modal("hide")}),$("<a />",{href:"#"}).html(t.data("confirm-proceed")||$.fn.twitter_bootstrap_confirmbox.defaults.proceed).addClass($.fn.twitter_bootstrap_confirmbox.defaults.proceed_class).addClass(t.data("confirm-proceed-class")||"btn-primary").click(function(e){return e.preventDefault(),n.modal("hide"),i()})).end().on("hidden",function(){return $(this).remove()}).modal("show").appendTo(document.body)},"function"==typeof $().modal&&($.rails.allowAction=function(t){var i,n;return n=t.data("confirm"),i=!1,n?($.rails.fire(t,"confirm")&&e(n,t,function(){var e,n;return $.rails.fire(t,"confirm:complete",[i])?(e=$.rails.allowAction,$.rails.allowAction=function(){return!0},t.get(0).click?t.get(0).click():"undefined"!=typeof Event&&null!==Event?(n=new Event("click",{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:document.body.parentNode}),t.get(0).dispatchEvent(n)):$.isFunction(document.createEvent)&&(n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,document.body.parentNode),t.get(0).dispatchEvent(n)),$.rails.allowAction=e):void 0}),!1):!0})}.call(this),"undefined"==typeof jQuery)throw new Error("Froala requires jQuery");!function(e){"use strict";var t=function(i,n){return this.options=e.extend({},t.DEFAULTS,e(i).data(),"object"==typeof n&&n),this.options.unsupportedAgents.test(navigator.userAgent)?!1:(this.valid_nodes=e.merge([],t.VALID_NODES),this.valid_nodes=e.merge(this.valid_nodes,e.map(Object.keys(this.options.blockTags),function(e){return e.toUpperCase()})),this.browser=t.browser(),this.disabledList=[],this._id=++t.count,this._events={},this.blurred=!0,this.$original_element=e(i),this.document=i.ownerDocument,this.window="defaultView"in this.document?this.document.defaultView:this.document.parentWindow,this.$document=e(this.document),this.$window=e(this.window),this.br=this.browser.msie&&e.Editable.getIEversion()<=10?"":"<br/>",this.init(i),void e(i).on("editable.focus",e.proxy(function(){for(var t=1;t<=e.Editable.count;t++)t!=this._id&&this.$window.trigger("blur."+t)},this)))};t.initializers=[],t.count=0,t.VALID_NODES=["P","DIV","LI","TD","TH"],t.LANGS=[],t.INVISIBLE_SPACE="&#x200b;",t.DEFAULTS={allowComments:!0,allowScript:!1,allowStyle:!1,allowedAttrs:["accept","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","width","wrap"],allowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],alwaysBlank:!1,alwaysVisible:!1,autosave:!1,autosaveInterval:1e4,beautifyCode:!0,blockTags:{n:"Normal",blockquote:"Quote",pre:"Code",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},buttons:["bold","italic","underline","strikeThrough","fontSize","fontFamily","color","sep","formatBlock","blockStyle","align","insertOrderedList","insertUnorderedList","outdent","indent","sep","createLink","insertImage","insertVideo","insertHorizontalRule","undo","redo","html"],crossDomain:!0,convertMailAddresses:!0,customButtons:{},customDropdowns:{},customText:!1,defaultTag:"P",direction:"ltr",disableRightClick:!1,editInPopup:!1,editorClass:"",formatTags:["p","pre","blockquote","h1","h2","h3","h4","h5","h6","div","ul","ol","li","table","tbody","thead","tfoot","tr","th","td","body","head","html","title","meta","link","base","script","style"],headers:{},height:"auto",icons:{},inlineMode:!0,initOnClick:!1,fullPage:!1,language:"en_us",linkList:[],linkText:!1,linkClasses:{},linkAttributes:{},linkAutoPrefix:"",maxHeight:"auto",minHeight:"auto",multiLine:!0,noFollow:!0,paragraphy:!0,placeholder:"Type something",plainPaste:!1,preloaderSrc:"",saveURL:null,saveParam:"body",saveParams:{},saveRequestType:"POST",scrollableContainer:"body",simpleAmpersand:!1,shortcuts:!0,shortcutsAvailable:["show","bold","italic","underline","createLink","insertImage","indent","outdent","html","formatBlock n","formatBlock h1","formatBlock h2","formatBlock h3","formatBlock h4","formatBlock h5","formatBlock h6","formatBlock blockquote","formatBlock pre","strikeThrough"],showNextToCursor:!1,spellcheck:!1,theme:null,toolbarFixed:!0,trackScroll:!1,unlinkButton:!0,useClasses:!0,tabSpaces:!0,typingTimer:500,pastedImagesUploadRequestType:"POST",pastedImagesUploadURL:"http://i.froala.com/upload_base64",unsupportedAgents:/Opera Mini/i,useFrTag:!1,width:"auto",withCredentials:!1,zIndex:2e3},t.prototype.destroy=function(){this.sync(),this.options.useFrTag&&this.addFrTag(),this.hide(),this.isHTML&&this.html(),this.$bttn_wrapper&&this.$bttn_wrapper.html("").removeData().remove(),this.$editor&&this.$editor.html("").removeData().remove(),this.raiseEvent("destroy"),this.$popup_editor&&this.$popup_editor.html("").removeData().remove(),this.$placeholder&&this.$placeholder.html("").removeData().remove(),clearTimeout(this.ajaxInterval),clearTimeout(this.typingTimer),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop"),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop","**"),this.$window.off("mouseup."+this._id),this.$window.off("keydown."+this._id),this.$window.off("keyup."+this._id),this.$window.off("blur."+this._id),this.$window.off("hide."+this._id),this.$window.off("scroll."+this._id),this.$window.off("resize."+this._id),this.$window.off("orientationchange."+this._id),this.$document.off("selectionchange."+this._id),this.$original_element.off("editable"),void 0!==this.$upload_frame&&this.$upload_frame.remove(),this.$textarea&&(this.$box.remove(),this.$textarea.removeData("fa.editable"),this.$textarea.show());for(var e in this._events)delete this._events[e];this.$placeholder&&this.$placeholder.remove(),this.isLink?this.$element.removeData("fa.editable"):(this.$wrapper?this.$wrapper.replaceWith(this.getHTML(!1,!1)):this.$element.replaceWith(this.getHTML(!1,!1)),this.$box&&!this.editableDisabled&&(this.$box.removeClass("froala-box f-rtl"),this.$box.find(".html-switch").remove(),this.$box.removeData("fa.editable"),clearTimeout(this.typingTimer))),this.$lb&&this.$lb.remove()},t.prototype.triggerEvent=function(t,i,n,s){void 0===n&&(n=!0),void 0===s&&(s=!1),n===!0&&(this.isResizing()||this.editableDisabled||this.imageMode||!s||this.cleanify(),this.sync());var r=!0;return i||(i=[]),r=this.$original_element.triggerHandler("editable."+t,e.merge([this],i)),void 0===r?!0:r},t.prototype.syncStyle=function(){if(this.options.fullPage){var e=this.$element.html().match(/\[style[^\]]*\].*\[\/style\]/gi);if(this.$document.find("head style[data-id]").remove(),e)for(var t=0;t<e.length;t++)this.$document.find("head").append(e[t].replace(/\[/gi,"<").replace(/\]/gi,">"))}},t.prototype.sync=function(){if(!this.isHTML){this.raiseEvent("sync"),this.disableImageResize(),this.isLink||this.isImage||this.checkPlaceholder();var e=this.getHTML();this.trackHTML!==e&&null!=this.trackHTML?(this.refreshImageList(),this.refreshButtons(),this.trackHTML=e,this.$textarea&&this.$textarea.val(e),this.doingRedo||this.saveUndoStep(),this.triggerEvent("contentChanged",[],!1)):null==this.trackHTML&&(this.trackHTML=e),this.syncStyle()}},t.prototype.emptyElement=function(t){if("IMG"==t.tagName||e(t).find("img").length>0)return!1;if(e(t).find("input, iframe, object").length>0)return!1;for(var i=e(t).text(),n=0;n<i.length;n++)if("\n"!==i[n]&&"\r"!==i[n]&&"	"!==i[n]&&8203!=i[n].charCodeAt(0))return!1;return!0},t.prototype.initEvents=function(){this.mobile()?(this.mousedown="touchstart",this.mouseup="touchend",this.move="touchmove"):(this.mousedown="mousedown",this.mouseup="mouseup",this.move="")},t.prototype.initDisable=function(){this.$element.on("keypress keydown keyup",e.proxy(function(e){return this.isDisabled?(e.stopPropagation(),e.preventDefault(),!1):void 0},this))},t.prototype.continueInit=function(){this.initDisable(),this.initEvents(),this.browserFixes(),this.handleEnter(),this.editableDisabled||(this.initUndoRedo(),this.enableTyping(),this.initShortcuts()),this.initTabs(),this.initEditor();for(var t=0;t<e.Editable.initializers.length;t++)e.Editable.initializers[t].call(this);this.initOptions(),this.initEditorSelection(),this.initAjaxSaver(),this.setLanguage(),this.setCustomText(),this.editableDisabled||this.registerPaste(),this.refreshDisabledState(),this.refreshUndo(),this.refreshRedo(),this.initPopupSubmit(),this.initialized=!0,this.triggerEvent("initialized",[],!1,!1)},t.prototype.initPopupSubmit=function(){this.$popup_editor.find(".froala-popup input").keydown(function(t){var i=t.which;13==i&&(t.preventDefault(),t.stopPropagation(),e(this).blur(),e(this).parents(".froala-popup").find("button.f-submit").click())})},t.prototype.lateInit=function(){this.saveSelectionByMarkers(),this.continueInit(),this.restoreSelectionByMarkers(),this.$element.focus(),this.hideOtherEditors()},t.prototype.init=function(t){this.options.paragraphy||(this.options.defaultTag="DIV"),this.options.allowStyle&&this.setAllowStyle(),this.options.allowScript&&this.setAllowScript(),this.initElement(t),this.initElementStyle(),(!this.isLink||this.isImage)&&(this.initImageEvents(),this.buildImageMove()),this.options.initOnClick?(this.editableDisabled||(this.$element.attr("contenteditable",!0),this.$element.attr("spellcheck",!1)),this.$element.bind("mousedown.element focus.element",e.proxy(function(e){return this.isLink||e.stopPropagation(),this.isDisabled?!1:(this.$element.unbind("mousedown.element focus.element"),this.browser.webkit&&(this.initMouseUp=!1),void this.lateInit())},this))):this.continueInit()},t.prototype.phone=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},t.prototype.mobile=function(){return this.phone()||this.android()||this.iOS()||this.blackberry()},t.prototype.iOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},t.prototype.iOSVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)];if(t&&t[0])return t[0]}return 0},t.prototype.iPad=function(){return/(iPad)/g.test(navigator.userAgent)},t.prototype.iPhone=function(){return/(iPhone)/g.test(navigator.userAgent)},t.prototype.iPod=function(){return/(iPod)/g.test(navigator.userAgent)},t.prototype.android=function(){return/(Android)/g.test(navigator.userAgent)},t.prototype.blackberry=function(){return/(Blackberry)/g.test(navigator.userAgent)},t.prototype.initOnTextarea=function(t){this.$textarea=e(t),void 0!==this.$textarea.attr("placeholder")&&"Type something"==this.options.placeholder&&(this.options.placeholder=this.$textarea.attr("placeholder")),this.$element=e("<div>").html(this.clean(this.$textarea.val(),!0,!1)),this.$element.find("pre br").replaceWith("\n"),this.$textarea.before(this.$element).hide(),this.$textarea.parents("form").bind("submit",e.proxy(function(){this.isHTML?this.html():this.sync()},this)),this.addListener("destroy",e.proxy(function(){this.$textarea.parents("form").unbind("submit")},this))},t.prototype.initOnLink=function(t){this.isLink=!0,this.options.linkText=!0,this.selectionDisabled=!0,this.editableDisabled=!0,this.options.buttons=[],this.$element=e(t),this.options.paragraphy=!1,this.options.countCharacters=!1,this.$box=this.$element},t.prototype.initOnImage=function(t){var i=e(t).css("float");"A"==e(t).parent().get(0).tagName&&(t=e(t).parent()),this.isImage=!0,this.editableDisabled=!0,this.imageList=[],this.options.buttons=[],this.options.paragraphy=!1,this.options.imageMargin="auto",e(t).wrap("<div>"),this.$element=e(t).parent(),this.$element.css("display","inline-block"),this.$element.css("max-width","100%"),this.$element.css("margin-left","auto"),this.$element.css("margin-right","auto"),this.$element.css("float",i),this.$element.addClass("f-image"),this.$box=e(t)},t.prototype.initForPopup=function(t){this.$element=e(t),this.$box=this.$element,this.editableDisabled=!0,this.options.countCharacters=!1,this.options.buttons=[],this.$element.on("click",e.proxy(function(e){e.preventDefault()},this))},t.prototype.initOnDefault=function(t){"DIV"!=t.tagName&&this.options.buttons.indexOf("formatBlock")>=0&&this.disabledList.push("formatBlock"),this.$element=e(t)},t.prototype.initElement=function(t){if("TEXTAREA"==t.tagName?this.initOnTextarea(t):"A"==t.tagName?this.initOnLink(t):"IMG"==t.tagName?this.initOnImage(t):this.options.editInPopup?this.initForPopup(t):this.initOnDefault(t),!this.editableDisabled){this.$box=this.$element.addClass("froala-box"),this.$wrapper=e('<div class="froala-wrapper">'),this.$element=e("<div>");var i=this.$box.html();this.$box.html(this.$wrapper.html(this.$element)),this.$element.on("keyup",e.proxy(function(){this.$element.find("ul, ol").length>1&&this.cleanupLists()},this)),this.setHTML(i,!0)}this.$element.on("drop",e.proxy(function(){setTimeout(e.proxy(function(){e("html").click(),this.$element.find(".f-img-wrap").each(function(t,i){0===e(i).find("img").length&&e(i).remove()}),this.$element.find(this.options.defaultTag+":empty").remove()},this),1)},this))},t.prototype.trim=function(e){return e=String(e).replace(/^\s+|\s+$/g,""),e=e.replace(/\u200B/gi,"")},t.prototype.unwrapText=function(){this.options.paragraphy||this.$element.find(this.options.defaultTag).each(e.proxy(function(t,i){if(0===i.attributes.length){var n=e(i).find("br:last");e(i).replaceWith(n.length&&this.isLastSibling(n.get(0))?e(i).html():e(i).html()+"<br/>")}},this))},t.prototype.wrapTextInElement=function(t,i){void 0===i&&(i=!1);var n=[],s=["SPAN","A","B","I","EM","U","S","STRONG","STRIKE","FONT","IMG","SUB","SUP","BUTTON","INPUT"],r=this;this.no_verify=!0;var a=function(){if(0===n.length)return!1;var t=e("<"+r.options.defaultTag+">"),i=e(n[0]);if(1==n.length&&"f-marker"==i.attr("class"))return void(n=[]);for(var s=0;s<n.length;s++){var a=e(n[s]);t.append(a.clone()),s==n.length-1?a.replaceWith(t):a.remove()}n=[]},o=!1,l=!1,d=!1;t.contents().filter(function(){var t=e(this);if(t.hasClass("f-marker")||t.find(".f-marker").length){var c=t;if(1==t.find(".f-marker").length||t.hasClass("f-marker")){c=t.find(".f-marker").length?e(t.find(".f-marker")[0]):t;var h=c.prev();"true"===c.attr("data-type")?h.length&&e(h[0]).hasClass("f-marker")?d=!0:(o=!0,l=!1):l=!0}else d=!0}this.nodeType==Node.TEXT_NODE&&t.text().length>0||s.indexOf(this.tagName)>=0?n.push(this):this.nodeType==Node.TEXT_NODE&&0===t.text().length&&r.options.beautifyCode?t.remove():o||i||d?("BR"===this.tagName&&(n.length>0?t.remove():n.push(this)),a(),l&&(o=!1),d=!1):n=[]}),(o||i||d)&&a(),t.find("> "+this.options.defaultTag).each(function(t,i){0===e(i).text().trim().length&&0===e(i).find("img").length&&0===e(i).find("br").length&&e(i).append(this.br)}),t.find("div:empty:not([class])").remove(),t.is(":empty")&&t.append(r.options.paragraphy===!0?"<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">":this.br),this.no_verify=!1},t.prototype.wrapText=function(t){if(this.isImage||this.isLink)return!1;this.allow_div=!0,this.removeBlankSpans();for(var i=this.getSelectionElements(),n=0;n<i.length;n++){var s=e(i[n]);["LI","TH","TD"].indexOf(s.get(0).tagName)>=0?this.wrapTextInElement(s,!0):this.parents(s,"li").length?this.wrapTextInElement(e(this.parents(s,"li")[0]),t):this.wrapTextInElement(this.$element,t)}this.allow_div=!1},t.prototype.convertNewLines=function(){this.$element.find("pre").each(function(t,i){var n=e(i),s=e(i).html();s.indexOf("\n")>=0&&n.html(s.replace(/\n/g,"<br>"))})},t.prototype.setHTML=function(t,i){this.no_verify=!0,this.allow_div=!0,void 0===i&&(i=!0),t=this.clean(t,!0,!1),t=t.replace(/>\s+</g,"><"),this.$element.html(t),this.cleanAttrs(this.$element.get(0)),this.convertNewLines(),this.imageList=[],this.refreshImageList(),this.options.paragraphy&&this.wrapText(!0),this.$element.find("li:empty").append(e.Editable.INVISIBLE_SPACE),this.cleanupLists(),this.cleanify(!1,!0,!1),i&&(this.restoreSelectionByMarkers(),this.sync()),this.$element.find("span").attr("data-fr-verified",!0),this.initialized&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.no_verify=!1,this.allow_div=!1},t.prototype.beforePaste=function(){this.saveSelectionByMarkers(),this.clipboardHTML=null,this.scrollPosition=this.$window.scrollTop(),this.$pasteDiv?this.$pasteDiv.html(""):(this.$pasteDiv=e('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; z-index: 4000; line-height: 140%;" tabindex="-1"></div>'),this.$box.after(this.$pasteDiv)),this.$pasteDiv.focus(),this.window.setTimeout(e.proxy(this.processPaste,this),1)},t.prototype.processPaste=function(){var i=this.clipboardHTML;null===this.clipboardHTML&&(i=this.$pasteDiv.html(),this.restoreSelectionByMarkers(),this.$window.scrollTop(this.scrollPosition));var n,s=this.triggerEvent("onPaste",[i],!1);"string"==typeof s&&(i=s),i=i.replace(/<img /gi,'<img data-fr-image-pasted="true" '),i.match(/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/gi)?(n=this.wordClean(i),n=this.clean(e("<div>").append(n).html(),!1,!0),n=this.removeEmptyTags(n)):(n=this.clean(i,!1,!0),n=this.removeEmptyTags(n),t.copiedText&&e("<div>").html(n).text().replace(/\u00A0/gi," ")==t.copiedText.replace(/(\u00A0|\r|\n)/gi," ")&&(n=t.copiedHTML)),this.options.plainPaste&&(n=this.plainPasteClean(n)),s=this.triggerEvent("afterPasteCleanup",[n],!1),"string"==typeof s&&(n=s),""!==n&&(this.insertHTML(n,!0,!0),this.saveSelectionByMarkers(),this.removeBlankSpans(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove(),this.restoreSelectionByMarkers(),this.$element.find("li[data-indent]").each(e.proxy(function(t,i){this.indentLi?(e(i).removeAttr("data-indent"),this.indentLi(e(i))):e(i).removeAttr("data-indent")},this)),this.$element.find("li").each(e.proxy(function(t,i){this.wrapTextInElement(e(i),!0)},this)),this.options.paragraphy&&this.wrapText(!0),this.cleanupLists()),this.afterPaste()},t.prototype.afterPaste=function(){this.uploadPastedImages(),this.checkPlaceholder(),this.pasting=!1,this.triggerEvent("afterPaste",[],!0,!1)},t.prototype.getSelectedHTML=function(){function t(t,n){for(;3==n.nodeType||i.valid_nodes.indexOf(n.tagName)<0;)3!=n.nodeType&&e(t).wrapInner("<"+n.tagName+i.attrs(n)+"></"+n.tagName+">"),n=n.parentNode}var i=this,n="";if("undefined"!=typeof window.getSelection)for(var s=this.getRanges(),r=0;r<s.length;r++){var a=document.createElement("div");a.appendChild(s[r].cloneContents()),t(a,this.getSelectionParent()),n+=a.innerHTML}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(n=document.selection.createRange().htmlText);return n},t.prototype.registerPaste=function(){this.$element.on("copy cut",e.proxy(function(){this.isHTML||(t.copiedHTML=this.getSelectedHTML(),t.copiedText=e("<div>").html(t.copiedHTML).text())},this)),this.$element.on("paste",e.proxy(function(t){if(!this.isHTML){if(t.originalEvent&&(t=t.originalEvent),!this.triggerEvent("beforePaste",[],!1))return!1;if(this.clipboardPaste(t))return!1;this.clipboardHTML="",this.pasting=!0,this.scrollPosition=this.$window.scrollTop();var i=!1;if(t&&t.clipboardData&&t.clipboardData.getData){var n="",s=t.clipboardData.types;if(e.Editable.isArray(s))for(var r=0;r<s.length;r++)n+=s[r]+";";else n=s;if(/text\/html/.test(n)?this.clipboardHTML=t.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&this.browser.safari?this.clipboardHTML=t.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(this.clipboardHTML=this.escapeEntities(t.clipboardData.getData("text/plain")).replace(/\n/g,"<br/>")),""!==this.clipboardHTML?i=!0:this.clipboardHTML=null,i)return this.processPaste(),t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!1}this.beforePaste()}},this))},t.prototype.clipboardPaste=function(t){if(t&&t.clipboardData&&t.clipboardData.items&&t.clipboardData.items[0]){var i=t.clipboardData.items[0].getAsFile();if(i){var n=new FileReader;return n.onload=e.proxy(function(e){var t=e.target.result;this.insertHTML('<img data-fr-image-pasted="true" src="'+t+'" />'),this.afterPaste()},this),n.readAsDataURL(i),!0}}return!1},t.prototype.uploadPastedImages=function(){this.options.pasteImage?this.options.imageUpload&&this.$element.find("img[data-fr-image-pasted]").each(e.proxy(function(t,i){if(0===i.src.indexOf("data:")){if(this.options.defaultImageWidth&&e(i).attr("width",this.options.defaultImageWidth),this.options.pastedImagesUploadURL){if(!this.triggerEvent("beforeUploadPastedImage",[i],!1))return!1;setTimeout(e.proxy(function(){this.showImageLoader(),this.$progress_bar.find("span").css("width","100%").text("Please wait!"),this.showByCoordinates(e(i).offset().left+e(i).width()/2,e(i).offset().top+e(i).height()+10),this.isDisabled=!0},this),10),e.ajax({type:this.options.pastedImagesUploadRequestType,url:this.options.pastedImagesUploadURL,data:e.extend({image:decodeURIComponent(i.src)},this.options.imageUploadParams),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers,dataType:"json"}).done(e.proxy(function(t){try{if(t.link){var n=new Image;n.onerror=e.proxy(function(){e(i).remove(),this.hide(),this.throwImageError(1)},this),n.onload=e.proxy(function(){i.src=t.link,this.hideImageLoader(),this.hide(),this.enable(),setTimeout(function(){e(i).trigger("touchend")},50),this.triggerEvent("afterUploadPastedImage",[e(i)])},this),n.src=t.link}else t.error?(e(i).remove(),this.hide(),this.throwImageErrorWithMessage(t.error)):(e(i).remove(),this.hide(),this.throwImageError(2))}catch(s){e(i).remove(),this.hide(),this.throwImageError(4)}},this)).fail(e.proxy(function(){e(i).remove(),this.hide(),this.throwImageError(3)},this))}}else 0!==i.src.indexOf("http")&&e(i).remove();e(i).removeAttr("data-fr-image-pasted")},this)):this.$element.find("img[data-fr-image-pasted]").remove()},t.prototype.disable=function(){this.isDisabled=!0,this.$element.blur(),this.$box.addClass("fr-disabled"),this.$element.attr("contenteditable",!1)},t.prototype.enable=function(){this.isDisabled=!1,this.$box.removeClass("fr-disabled"),this.$element.attr("contenteditable",!0)},t.prototype.wordClean=function(e){e.indexOf("<body")>=0&&(e=e.replace(/[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,"$1")),e=e.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),e=e.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),e=e.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),e=e.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),e=e.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),e=e.replace(/<!--[\s\S]*?-->/gi,""),e=e.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var t=["style","script","applet","embed","noframes","noscript"],i=0;i<t.length;i++){var n=new RegExp("<"+t[i]+".*?"+t[i]+"(.*?)>","gi");e=e.replace(n,"")}e=e.replace(/&nbsp;/gi," ");var s;do s=e,e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(e!=s);return e=e.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),e=e.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),e=this.clean(e),e=e.replace(/<a>(.[^<]+)<\/a>/gi,"$1")},t.prototype.tabs=function(e){for(var t="",i=0;e>i;i++)t+="  ";return t},t.prototype.cleanTags=function(e,t){void 0===t&&(t=!1);var i,n,s,r,a=[],o=[],l=!1,d=!1,c=this.options.formatTags;for(n=0;n<e.length;n++)if(i=e.charAt(n),"<"==i){var h=e.indexOf(">",n+1);if(-1!==h){var p=e.substring(n,h+1),u=this.tagName(p);if(0===u.indexOf("!--")&&(h=e.indexOf("-->",n+1),-1!==h)){p=e.substring(n,h+3),o.push(p),n=h+2;continue}if(0===u.indexOf("!")&&o.length&&o[o.length-1]!=p){o.push(p),n=h;continue}if("head"==u&&this.options.fullPage&&(d=!0),d){o.push(p),n=h,"head"==u&&this.isClosingTag(p)&&(d=!1);continue}if(this.options.allowedTags.indexOf(u)<0&&(!this.options.fullPage||["html","head","body","!doctype"].indexOf(u)<0)){n=h;continue}var f=this.isClosingTag(p);if("pre"===u&&(l=f?!1:!0),this.isSelfClosingTag(p))o.push("br"===u&&l?"\n":p);else if(f)for(s=!1,r=!0;s===!1&&void 0!==r;)r=a.pop(),void 0!==r&&r.tag_name!==u?o.splice(r.i,1):(s=!0,void 0!==r&&o.push(p));else o.push(p),a.push({tag_name:u,i:o.length-1});n=h}}else"\n"===i&&this.options.beautifyCode?t&&l?o.push("<br/>"):l?o.push(i):a.length>0&&o.push(" "):9!=i.charCodeAt(0)&&o.push(i);for(;a.length>0;)r=a.pop(),o.splice(r.i,1);
var m="\n";this.options.beautifyCode||(m=""),e="",a=0;var g=!0;for(n=0;n<o.length;n++)1==o[n].length?g&&" "===o[n]||(e+=o[n],g=!1):c.indexOf(this.tagName(o[n]).toLowerCase())<0?(e+=o[n],"br"==this.tagName(o[n])&&(e+=m)):this.isSelfClosingTag(o[n])?c.indexOf(this.tagName(o[n]).toLowerCase())>=0?(e+=this.tabs(a)+o[n]+m,g=!1):e+=o[n]:this.isClosingTag(o[n])?(a-=1,0===a&&(g=!0),e.length>0&&e[e.length-1]==m&&(e+=this.tabs(a)),e+=o[n]+m):(e+=m+this.tabs(a)+o[n],a+=1,g=!1);return e[0]==m&&(e=e.substring(1,e.length)),e[e.length-1]==m&&(e=e.substring(0,e.length-1)),e},t.prototype.cleanupLists=function(){this.$element.find("ul, ol").each(e.proxy(function(t,i){var n=e(i);if(this.parents(e(i),"ul, ol").length>0)return!0;if(n.find(".close-ul, .open-ul, .close-ol, .open-ol, .open-li, .close-li").length>0){var s="<"+i.tagName.toLowerCase()+">"+n.html()+"</"+i.tagName.toLowerCase()+">";s=s.replace(new RegExp('<span class="close-ul" data-fr-verified="true"></span>',"g"),"</ul>"),s=s.replace(new RegExp('<span class="open-ul" data-fr-verified="true"></span>',"g"),"<ul>"),s=s.replace(new RegExp('<span class="close-ol" data-fr-verified="true"></span>',"g"),"</ol>"),s=s.replace(new RegExp('<span class="open-ol" data-fr-verified="true"></span>',"g"),"<ol>"),s=s.replace(new RegExp('<span class="close-li" data-fr-verified="true"></span>',"g"),"</li>"),s=s.replace(new RegExp('<span class="open-li" data-fr-verified="true"></span>',"g"),"<li>"),s=s.replace(new RegExp("<li></li>","g"),""),n.replaceWith(s)}},this)),this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(e.Editable.INVISIBLE_SPACE),this.$element.find(" > li").wrap("<ul>"),this.$element.find("ul, ol").each(e.proxy(function(t,i){var n=e(i);0===n.find(this.valid_nodes.join(",")).length&&n.remove()},this)),this.$element.find("li > ul, li > ol").each(e.proxy(function(t,i){var n=e(i).parent().get(0).previousSibling;this.isFirstSibling(i)&&(n&&"LI"==n.tagName?e(n).append(e(i)):e(i).before("<br/>"))},this)),this.$element.find("li:empty").remove();for(var t=this.$element.find("ol + ol, ul + ul"),i=0;i<t.length;i++){var n=e(t[i]);this.attrs(t[i])==this.attrs(n.prev().get(0))&&(n.prev().append(n.html()),n.remove())}this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(e.Editable.INVISIBLE_SPACE),this.$element.find("li > "+this.options.defaultTag).each(function(t,i){0===i.attributes.length&&e(i).replaceWith(e(i).html())})},t.prototype.escapeEntities=function(e){return e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&apos;")},t.prototype.cleanNodeAttrs=function(e,t){var i=e.attributes;if(i)for(var n=new RegExp("^"+t.join("$|^")+"$","i"),s=0;s<i.length;s++){var r=i[s];n.test(r.nodeName)?e.setAttribute(r.nodeName,r.nodeValue.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")):e.removeAttribute(r.nodeName)}},t.prototype.cleanAttrs=function(e){1==e.nodeType&&e.className.indexOf("f-marker")<0&&e!==this.$element.get(0)&&"IFRAME"!=e.tagName&&this.cleanNodeAttrs(e,this.options.allowedAttrs,!0);for(var t=e.childNodes,i=0;i<t.length;i++)this.cleanAttrs(t[i])},t.prototype.clean=function(i,n,s,r,a){this.pasting&&t.copiedText===e("<div>").html(i).text()&&(s=!1,n=!0),a||(a=e.merge([],this.options.allowedAttrs)),r||(r=e.merge([],this.options.allowedTags)),n||a.indexOf("id")>-1&&a.splice(a.indexOf("id"),1),this.options.fullPage&&(i=i.replace(/<!DOCTYPE([^>]*?)>/i,"<!-- DOCTYPE$1 -->"),i=i.replace(/<html([^>]*?)>/i,"<!-- html$1 -->"),i=i.replace(/<\/html([^>]*?)>/i,"<!-- /html$1 -->"),i=i.replace(/<body([^>]*?)>/i,"<!-- body$1 -->"),i=i.replace(/<\/body([^>]*?)>/i,"<!-- /body$1 -->"),i=i.replace(/<head>([\w\W]*)<\/head>/i,function(e,t){var i=1;return t=t.replace(/(<style)/gi,function(e,t){return t+" data-id="+i++}),"<!-- head "+t.replace(/(>)([\s|\t]*)(<)/gi,"$1$3").replace(/</gi,"[").replace(/>/gi,"]")+" -->"})),this.options.allowComments?(this.options.allowedTags.push("!--"),this.options.allowedTags.push("!")):i=i.replace(/(<!--[.\s\w\W]*?-->)/gi,""),this.options.allowScript||(i=i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")),this.options.allowStyle||(i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(e,t){return"<!--"+t.replace(/</g,"[[").replace(/>/g,"]]")+"-->"});var o=new RegExp("<\\/?((?!(?:"+r.join(" |")+" |"+r.join(">|")+">|"+r.join("/>|")+"/>))\\w+)[^>]*?>","gi");if(i=i.replace(o,""),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(e,t){return"<!--"+t.replace(/\[\[/g,"<").replace(/\]\]/g,">")+"-->"}),s){var l=new RegExp("style=(\"[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/'%]*\"|'[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/\"%]*')","gi");i=i.replace(l,""),i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")}i=this.cleanTags(i,!0),i=i.replace(/(\r|\n)/gi,"");var d=new RegExp("<([^>]*)( src| href)=('[^']*'|\"[^\"]*\"|[^\\s>]+)([^>]*)>","gi");if(i=i.replace(d,e.proxy(function(e,t,i,n,s){return"<"+t+i+'="'+this.sanitizeURL(n.replace(/^["'](.*)["']\/?$/gi,"$1"))+'"'+s+">"},this)),!n){var c=e("<div>").append(i);c.find('[class]:not([class^="fr-"])').each(function(t,i){e(i).removeAttr("class")}),i=c.html()}return i},t.prototype.removeBlankSpans=function(){this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),this.$element.find("span").each(e.proxy(function(t,i){0===this.attrs(i).length&&e(i).replaceWith(e(i).html())},this)),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1},t.prototype.plainPasteClean=function(t){var i=e("<div>").html(t);i.find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote").each(e.proxy(function(t,i){e(i).replaceWith("<"+this.options.defaultTag+">"+e(i).html()+"</"+this.options.defaultTag+">")},this)),e(i.find("*").not("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br").get().reverse()).each(function(){e(this).replaceWith(e(this).html())});var n=function(t){for(var i=t.contents(),s=0;s<i.length;s++)3!=i[s].nodeType&&1!=i[s].nodeType?e(i[s]).remove():n(e(i[s]))};return n(i),i.html()},t.prototype.removeEmptyTags=function(t){for(var i,n=e("<div>").html(t),s=n.find("*:empty:not(br, img, td, th)");s.length;){for(i=0;i<s.length;i++)e(s[i]).remove();s=n.find("*:empty:not(br, img, td, th)")}for(var r=n.find("> div, td > div, th > div, li > div");r.length;){var a=e(r[r.length-1]);a.replaceWith(a.html()+"<br/>"),r=n.find("> div, td > div, th > div, li > div")}for(r=n.find("div");r.length;){for(i=0;i<r.length;i++){var o=e(r[i]),l=o.html().replace(/\u0009/gi,"").trim();o.replaceWith(l)}r=n.find("div")}return n.html()},t.prototype.initElementStyle=function(){this.editableDisabled||this.$element.attr("contenteditable",!0);var e="froala-view froala-element "+this.options.editorClass;this.browser.msie&&t.getIEversion()<9&&(e+=" ie8"),this.$element.css("outline",0),this.browser.msie||(e+=" not-msie"),this.$element.addClass(e)},t.prototype.CJKclean=function(e){var t=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return e.replace(t,"")},t.prototype.enableTyping=function(){this.typingTimer=null,this.$element.on("keydown","textarea, input",function(e){e.stopPropagation()}),this.$element.on("keydown cut",e.proxy(function(t){if(!this.isHTML){if(!this.options.multiLine&&13==t.which)return t.preventDefault(),t.stopPropagation(),!1;if("keydown"===t.type&&!this.triggerEvent("keydown",[t],!1))return!1;clearTimeout(this.typingTimer),this.ajaxSave=!1,this.oldHTML=this.getHTML(!0,!1),this.typingTimer=setTimeout(e.proxy(function(){var e=this.getHTML(!0,!1);this.ime||this.CJKclean(e)===this.CJKclean(this.oldHTML)||this.CJKclean(e)!==e||this.sync()},this),Math.max(this.options.typingTimer,500))}},this))},t.prototype.removeMarkersByRegex=function(e){return e.replace(/<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>([\S\s][^\/])*<\/span>/gi,"")},t.prototype.getImageHTML=function(){return JSON.stringify({src:this.$element.find("img").attr("src"),style:this.$element.find("img").attr("style"),alt:this.$element.find("img").attr("alt"),width:this.$element.find("img").attr("width"),link:this.$element.find("a").attr("href"),link_title:this.$element.find("a").attr("title"),link_target:this.$element.find("a").attr("target")})},t.prototype.getLinkHTML=function(){return JSON.stringify({body:this.$element.html(),href:this.$element.attr("href"),title:this.$element.attr("title"),popout:this.$element.hasClass("popout"),nofollow:"nofollow"==this.$element.attr("ref"),blank:"_blank"==this.$element.attr("target"),cls:this.$element.attr("class")?this.$element.attr("class").replace(/froala-element ?|not-msie ?|froala-view ?/gi,"").trim():""})},t.prototype.addFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").addClass("fr-tag")},t.prototype.removeFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").removeClass("fr-tag")},t.prototype.getHTML=function(t,i,n){if(void 0===t&&(t=!1),void 0===i&&(i=this.options.useFrTag),void 0===n&&(n=!0),this.$element.hasClass("f-placeholder")&&!t)return"";if(this.isHTML)return this.$html_area.val();if(this.isImage)return this.getImageHTML();if(this.isLink)return this.getLinkHTML();this.$element.find("a").data("fr-link",!0),i&&this.addFrTag(),this.$element.find(".f-img-editor > img").each(e.proxy(function(t,i){e(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(e(i).parent().attr("class")))},this)),this.options.useClasses||this.$element.find("img").each(e.proxy(function(t,i){var n=e(i);n.attr("data-style",this.getImageStyle(n))},this)),this.$element.find("pre").each(e.proxy(function(t,i){var n=e(i),s=n.html(),r=s.replace(/\&nbsp;/gi," ").replace(/\n/gi,"<br>");s!=r&&(this.saveSelectionByMarkers(),n.html(r),this.restoreSelectionByMarkers())},this)),this.$element.find("pre br").addClass("fr-br"),this.$element.find('[class=""]').removeAttr("class"),this.cleanAttrs(this.$element.get(0));var s=this.$element.html();this.removeFrTag(),this.$element.find("pre br").removeAttr("class"),s=s.replace(/<a[^>]*?><\/a>/g,""),t||(s=this.removeMarkersByRegex(s)),s=s.replace(/<span[^>]*? class\s*=\s*["']?f-img-handle[^>]+><\/span>/gi,""),s=s.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-editor[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),s=s.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-wrap[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),this.options.useClasses||(s=s.replace(/data-style/gi,"style"),s=s.replace(/(<img[^>]*)( class\s*=['"]?[a-zA-Z0-9- ]+['"]?)([^>]*\/?>)/gi,"$1$3")),this.options.simpleAmpersand&&(s=s.replace(/\&amp;/gi,"&")),n&&(s=s.replace(/ data-fr-verified="true"/gi,"")),this.options.beautifyCode&&(s=s.replace(/\n/gi,"")),s=s.replace(/<br class="fr-br">/gi,"\n"),s=s.replace(/\u200B/gi,""),this.options.fullPage&&(s=s.replace(/<!-- DOCTYPE([^>]*?) -->/i,"<!DOCTYPE$1>"),s=s.replace(/<!-- html([^>]*?) -->/i,"<html$1>"),s=s.replace(/<!-- \/html([^>]*?) -->/i,"</html$1>"),s=s.replace(/<!-- body([^>]*?) -->/i,"<body$1>"),s=s.replace(/<!-- \/body([^>]*?) -->/i,"</body$1>"),s=s.replace(/<!-- head ([\w\W]*?) -->/i,function(e,t){return"<head>"+t.replace(/\[/gi,"<").replace(/\]/gi,">")+"</head>"}));var r=this.triggerEvent("getHTML",[s],!1);return"string"==typeof r?r:s},t.prototype.getText=function(){return this.$element.text()},t.prototype.setDirty=function(e){this.dirty=e,e||(clearTimeout(this.ajaxInterval),this.ajaxHTML=this.getHTML(!1,!1))},t.prototype.initAjaxSaver=function(){this.ajaxHTML=this.getHTML(!1,!1),this.ajaxSave=!0,this.ajaxInterval=setInterval(e.proxy(function(){var e=this.getHTML(!1,!1);(this.ajaxHTML!=e||this.dirty)&&this.ajaxSave&&(this.options.autosave&&this.save(),this.dirty=!1,this.ajaxHTML=e),this.ajaxSave=!0},this),Math.max(this.options.autosaveInterval,100))},t.prototype.disableBrowserUndo=function(){this.$element.keydown(e.proxy(function(e){var t=e.which,i=(e.ctrlKey||e.metaKey)&&!e.altKey;if(!this.isHTML&&i){if(90==t&&e.shiftKey)return e.preventDefault(),!1;if(90==t)return e.preventDefault(),!1}},this))},t.prototype.shortcutEnabled=function(e){return this.options.shortcutsAvailable.indexOf(e)>=0},t.prototype.shortcuts_map={69:{cmd:"show",params:[null],id:"show"},66:{cmd:"exec",params:["bold"],id:"bold"},73:{cmd:"exec",params:["italic"],id:"italic"},85:{cmd:"exec",params:["underline"],id:"underline"},83:{cmd:"exec",params:["strikeThrough"],id:"strikeThrough"},75:{cmd:"exec",params:["createLink"],id:"createLink"},80:{cmd:"exec",params:["insertImage"],id:"insertImage"},221:{cmd:"exec",params:["indent"],id:"indent"},219:{cmd:"exec",params:["outdent"],id:"outdent"},72:{cmd:"exec",params:["html"],id:"html"},48:{cmd:"exec",params:["formatBlock","n"],id:"formatBlock n"},49:{cmd:"exec",params:["formatBlock","h1"],id:"formatBlock h1"},50:{cmd:"exec",params:["formatBlock","h2"],id:"formatBlock h2"},51:{cmd:"exec",params:["formatBlock","h3"],id:"formatBlock h3"},52:{cmd:"exec",params:["formatBlock","h4"],id:"formatBlock h4"},53:{cmd:"exec",params:["formatBlock","h5"],id:"formatBlock h5"},54:{cmd:"exec",params:["formatBlock","h6"],id:"formatBlock h6"},222:{cmd:"exec",params:["formatBlock","blockquote"],id:"formatBlock blockquote"},220:{cmd:"exec",params:["formatBlock","pre"],id:"formatBlock pre"}},t.prototype.ctrlKey=function(e){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(e.metaKey&&!e.altKey)return!0}else if(e.ctrlKey&&!e.altKey)return!0;return!1},t.prototype.initShortcuts=function(){this.options.shortcuts&&this.$element.on("keydown",e.proxy(function(e){var t=e.which,i=this.ctrlKey(e);if(!this.isHTML&&i){if(this.shortcuts_map[t]&&this.shortcutEnabled(this.shortcuts_map[t].id))return this.execDefaultShortcut(this.shortcuts_map[t].cmd,this.shortcuts_map[t].params);if(90==t&&e.shiftKey)return e.preventDefault(),e.stopPropagation(),this.redo(),!1;if(90==t)return e.preventDefault(),e.stopPropagation(),this.undo(),!1}},this))},t.prototype.initTabs=function(){this.$element.on("keydown",e.proxy(function(e){var t=e.which;if(9!=t||e.shiftKey)9==t&&e.shiftKey&&(this.raiseEvent("shift+tab")?this.options.tabSpaces?e.preventDefault():this.blur():e.preventDefault());else if(this.raiseEvent("tab"))if(this.options.tabSpaces){e.preventDefault();var i="&nbsp;&nbsp;&nbsp;&nbsp;",n=this.getSelectionElements()[0];"PRE"===n.tagName&&(i="    "),this.insertHTML(i,!1)}else this.blur();else e.preventDefault()},this))},t.prototype.textEmpty=function(t){var i=e(t).text().replace(/(\r\n|\n|\r|\t)/gm,"");return(""===i||t===this.$element.get(0))&&0===e(t).find("br").length},t.prototype.inEditor=function(e){for(;e&&"BODY"!==e.tagName;){if(e===this.$element.get(0))return!0;e=e.parentNode}return!1},t.prototype.focus=function(t){if(this.isDisabled)return!1;if(void 0===t&&(t=!0),""!==this.text()&&!this.$element.is(":focus"))return void(this.browser.msie||(this.clearSelection(),this.$element.focus()));if(!this.isHTML){if(t&&!this.pasting&&this.$element.focus(),this.pasting&&!this.$element.is(":focus")&&this.$element.focus(),this.$element.hasClass("f-placeholder"))return void this.setSelection(this.$element.find(this.options.defaultTag).length>0?this.$element.find(this.options.defaultTag)[0]:this.$element.get(0));var i=this.getRange();if(""===this.text()&&i&&(0===i.startOffset||i.startContainer===this.$element.get(0)||!this.inEditor(i.startContainer))){var n,s,r=this.getSelectionElements();if(e.merge(["IMG","BR"],this.valid_nodes).indexOf(this.getSelectionElement().tagName)<0)return!1;if(i.startOffset>0&&this.valid_nodes.indexOf(this.getSelectionElement().tagName)>=0&&"BODY"!=i.startContainer.tagName||i.startContainer&&3===i.startContainer.nodeType)return;if(!this.options.paragraphy&&r.length>=1&&r[0]===this.$element.get(0)){var a=function(t){if(!t)return null;if(3==t.nodeType&&t.textContent.length>0)return t;if(1==t.nodeType&&"BR"==t.tagName)return t;for(var i=e(t).contents(),n=0;n<i.length;n++){var s=a(i[n]);if(null!=s)return s}return null};if(0===i.startOffset&&this.$element.contents().length>0&&3!=this.$element.contents()[0].nodeType){var o=a(this.$element.get(0));null!=o&&("BR"==o.tagName?this.$element.is(":focus")&&(e(o).before(this.markers_html),this.restoreSelectionByMarkers()):this.setSelection(o))}return!1}if(r.length>=1&&r[0]!==this.$element.get(0))for(n=0;n<r.length;n++){if(s=r[n],!this.textEmpty(s)||this.browser.msie)return void this.setSelection(s);if(this.textEmpty(s)&&["LI","TD"].indexOf(s.tagName)>=0)return}if(i.startContainer===this.$element.get(0)&&i.startOffset>0&&!this.options.paragraphy)return void this.setSelection(this.$element.get(0),i.startOffset);for(r=this.$element.find(this.valid_nodes.join(",")),n=0;n<r.length;n++)if(s=r[n],!this.textEmpty(s)&&0===e(s).find(this.valid_nodes.join(",")).length)return void this.setSelection(s);this.setSelection(this.$element.get(0))}}},t.prototype.addMarkersAtEnd=function(t){if(t.find(".fr-marker").length>0)return!1;for(var i=t.get(0),n=e(i).contents();n.length&&this.valid_nodes.indexOf(n[n.length-1].tagName)>=0;)i=n[n.length-1],n=e(n[n.length-1]).contents();e(i).append(this.markers_html)},t.prototype.setFocusAtEnd=function(e){void 0===e&&(e=this.$element),this.addMarkersAtEnd(e),this.restoreSelectionByMarkers()},t.prototype.breakHTML=function(t,i){"undefined"==typeof i&&(i=!0),this.removeMarkers(),0===this.$element.find("break").length&&this.insertSimpleHTML("<break></break>");var n=this.parents(this.$element.find("break"),e.merge(["UL","OL"],this.valid_nodes).join(","))[0];if(this.parents(e(n),"ul, ol").length&&(n=this.parents(e(n),"ul, ol")[0]),void 0===n&&(n=this.$element.get(0)),["UL","OL"].indexOf(n.tagName)>=0){var s=e("<div>").html(t);s.find("> li").wrap("<"+n.tagName+">"),t=s.html()}if(n==this.$element.get(0)){if(this.$element.find("break").next().length){this.insertSimpleHTML('<div id="inserted-div">'+t+"</div>");var r=this.$element.find("div#inserted-div");this.setFocusAtEnd(r),this.saveSelectionByMarkers(),r.replaceWith(r.contents()),this.restoreSelectionByMarkers()}else this.insertSimpleHTML(t),this.setFocusAtEnd();return this.$element.find("break").remove(),this.checkPlaceholder(),!0}if("TD"===n.tagName)return this.$element.find("break").remove(),this.insertSimpleHTML(t),!0;var a=e("<div>").html(t);if(this.addMarkersAtEnd(a),t=a.html(),this.emptyElement(e(n)))return e(n).replaceWith(t),this.restoreSelectionByMarkers(),this.checkPlaceholder(),!0;this.$element.find("li").each(e.proxy(function(t,i){this.emptyElement(i)&&e(i).addClass("empty-li")},this));for(var o,l,d=e("<div></div>").append(e(n).clone()).html(),c=[],h={},p=[],u=0,f=0;f<d.length;f++)if(l=d.charAt(f),"<"==l){var m=d.indexOf(">",f+1);if(-1!==m){o=d.substring(f,m+1);var g=this.tagName(o);if(f=m,"break"==g){if(!this.isClosingTag(o)){for(var v=!0,b=[],y=c.length-1;y>=0;y--){var w=this.tagName(c[y]);if(!i&&"LI"==w.toUpperCase()){v=!1;break}p.push("</"+w+">"),b.push(c[y])}p.push(t),v||p.push("</li><li>");for(var x=0;x<b.length;x++)p.push(b[x])}}else if(p.push(o),!this.isSelfClosingTag(o))if(this.isClosingTag(o)){var C=h[g].pop();c.splice(C,1)}else c.push(o),void 0===h[g]&&(h[g]=[]),h[g].push(c.length-1)}}else u++,p.push(l);e(n).replaceWith(p.join("")),this.$element.find("li").each(e.proxy(function(t,i){var n=e(i);n.hasClass("empty-li")?n.removeClass("empty-li"):this.emptyElement(i)&&n.remove()},this)),this.cleanupLists(),this.restoreSelectionByMarkers()},t.prototype.insertSimpleHTML=function(e){var t,i;if(this.no_verify=!0,this.window.getSelection){if(t=this.window.getSelection(),t.getRangeAt&&t.rangeCount){i=t.getRangeAt(0),this.browser.webkit?i.collapsed||this.document.execCommand("delete"):i.deleteContents(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove();var n=this.document.createElement("div");n.innerHTML=e;for(var s,r,a=this.document.createDocumentFragment();s=n.firstChild;)r=a.appendChild(s);i.insertNode(a),r&&(i=i.cloneRange(),i.setStartAfter(r),i.collapse(!0),t.removeAllRanges(),t.addRange(i))}}else if((t=this.document.selection)&&"Control"!=t.type){var o=t.createRange();o.collapse(!0),t.createRange().pasteHTML(e)}this.no_verify=!1},t.prototype.insertHTML=function(t,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!1),!this.isHTML&&i&&this.focus(),this.removeMarkers(),this.insertSimpleHTML("<break></break>"),this.checkPlaceholder(!0),this.$element.hasClass("f-placeholder"))return this.$element.html(t),this.options.paragraphy&&this.wrapText(!0),this.$element.find("p > br").each(function(){var t=this.parentNode;1==e(t).contents().length&&e(t).remove()}),this.$element.find("break").remove(),this.setFocusAtEnd(),this.checkPlaceholder(),this.convertNewLines(),!1;for(var s=e("<div>").append(t).find("*"),r=0;r<s.length;r++)if(this.valid_nodes.indexOf(s[r].tagName)>=0)return this.breakHTML(t),this.$element.find("break").remove(),this.convertNewLines(),!1;this.$element.find("break").remove(),this.insertSimpleHTML(t),this.convertNewLines()},t.prototype.execDefaultShortcut=function(e,t){return this[e].apply(this,t),!1},t.prototype.initEditor=function(){var i="froala-editor";this.mobile()&&(i+=" touch"),this.browser.msie&&t.getIEversion()<9&&(i+=" ie8"),this.$editor=e('<div class="'+i+'" style="display: none;">');var n=this.$document.find(this.options.scrollableContainer);n.append(this.$editor),this.options.inlineMode?this.initInlineEditor():this.initBasicEditor()},t.prototype.refreshToolbarPosition=function(){this.$window.scrollTop()>this.$box.offset().top&&this.$window.scrollTop()<this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.iOS()&&(this.$element.is(":focus")?this.$editor.css("top",this.$window.scrollTop()):this.$editor.css("top",""))):this.$window.scrollTop()<this.$box.offset().top?this.iOS()&&this.$element.is(":focus")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.$editor.css("top",this.$box.offset().top)):(this.$editor.removeClass("f-scroll f-scroll-abs").css("bottom","").css("top","").width(""),this.$element.css("padding-top",""),this.$placeholder.css("margin-top","")):this.$window.scrollTop()>this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()&&!this.$editor.hasClass("f-scroll-abs")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.removeClass("f-scroll").addClass("f-scroll-abs"),this.$editor.css("bottom",0).css("top","").css("left","")):this.$editor.removeClass("f-scroll").css("bottom","").css("top","").css("left","").width("")},t.prototype.toolbarTop=function(){this.options.toolbarFixed||this.options.inlineMode||(this.$element.data("padding-top",parseInt(this.$element.css("padding-top"),10)),this.$window.on("scroll resize load",e.proxy(function(){this.refreshToolbarPosition()},this)),this.iOS()&&this.$element.on("focus blur",e.proxy(function(){this.refreshToolbarPosition()},this)))},t.prototype.initBasicEditor=function(){this.$element.addClass("f-basic"),this.$wrapper.addClass("f-basic"),this.$popup_editor=this.$editor.clone();var e=this.$document.find(this.options.scrollableContainer);this.$popup_editor.appendTo(e).addClass("f-inline"),this.$editor.addClass("f-basic").show(),this.$editor.insertBefore(this.$wrapper),this.toolbarTop()},t.prototype.initInlineEditor=function(){this.$editor.addClass("f-inline"),this.$element.addClass("f-inline"),this.$popup_editor=this.$editor},t.prototype.initDrag=function(){this.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!this.window.FormData,progress:"upload"in new XMLHttpRequest}},t.prototype.initOptions=function(){this.setDimensions(),this.setSpellcheck(),this.setImageUploadURL(),this.setButtons(),this.setDirection(),this.setZIndex(),this.setTheme(),this.options.editInPopup&&this.buildEditPopup(),this.editableDisabled||(this.setPlaceholder(),this.setPlaceholderEvents())},t.prototype.setAllowStyle=function(e){"undefined"==typeof e&&(e=this.options.allowStyle),e?this.options.allowedTags.push("style"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("style"),1)},t.prototype.setAllowScript=function(e){"undefined"==typeof e&&(e=this.options.allowScript),e?this.options.allowedTags.push("script"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("script"),1)},t.prototype.isTouch=function(){return WYSIWYGModernizr.touch&&void 0!==this.window.Touch},t.prototype.initEditorSelection=function(){this.$element.on("keyup",e.proxy(function(e){return this.triggerEvent("keyup",[e],!1)},this)),this.$element.on("focus",e.proxy(function(){this.blurred&&(this.blurred=!1,this.pasting||""!==this.text()||this.focus(!1),this.triggerEvent("focus",[],!1))},this)),this.$element.on("mousedown touchstart",e.proxy(function(){return this.isDisabled?!1:void(this.isResizing()||(this.closeImageMode(),this.hide()))},this)),this.options.disableRightClick&&this.$element.contextmenu(e.proxy(function(e){return e.preventDefault(),this.options.inlineMode&&this.$element.focus(),!1},this)),this.$element.on(this.mouseup,e.proxy(function(t){if(this.isDisabled)return!1;if(!this.isResizing()){var i=this.text();t.stopPropagation(),this.imageMode=!1,!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==t.which||2==t.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode?this.options.inlineMode||this.refreshButtons():setTimeout(e.proxy(function(){i=this.text(),!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==t.which||2==t.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode||(this.show(t),this.options.editInPopup&&this.showEditPopup())},this),0)}this.hideDropdowns(),this.hideOtherEditors()},this)),this.$editor.on(this.mouseup,e.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||(e.stopPropagation(),this.options.inlineMode===!1&&this.hide()))},this)),this.$editor.on("mousedown",".fr-dropdown-menu",e.proxy(function(e){return this.isDisabled?!1:(e.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mousedown",".fr-dropdown-menu",e.proxy(function(e){return this.isDisabled?!1:(e.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mouseup",e.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||e.stopPropagation())},this)),this.$edit_popup_wrapper&&this.$edit_popup_wrapper.on("mouseup",e.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||e.stopPropagation())},this)),this.setDocumentSelectionChangeEvent(),this.setWindowMouseUpEvent(),this.setWindowKeyDownEvent(),this.setWindowKeyUpEvent(),this.setWindowOrientationChangeEvent(),this.setWindowHideEvent(),this.setWindowBlurEvent(),this.options.trackScroll&&this.setWindowScrollEvent(),this.setWindowResize()},t.prototype.setWindowResize=function(){this.$window.on("resize."+this._id,e.proxy(function(){this.hide(),this.closeImageMode(),this.imageMode=!1},this))},t.prototype.blur=function(t){this.blurred||this.pasting||(this.selectionDisabled=!0,this.triggerEvent("blur",[]),t&&0===e("*:focus").length&&this.clearSelection(),this.isLink||this.isImage||(this.selectionDisabled=!1),this.blurred=!0)},t.prototype.setWindowBlurEvent=function(){this.$window.on("blur."+this._id,e.proxy(function(e,t){this.blur(t)},this))},t.prototype.setWindowHideEvent=function(){this.$window.on("hide."+this._id,e.proxy(function(){this.isResizing()?this.$element.find(".f-img-handle").trigger("moveend"):this.hide(!1)},this))},t.prototype.setWindowOrientationChangeEvent=function(){this.$window.on("orientationchange."+this._id,e.proxy(function(){setTimeout(e.proxy(function(){this.hide()},this),10)},this))},t.prototype.setDocumentSelectionChangeEvent=function(){this.$document.on("selectionchange."+this._id,e.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||this.isScrolling||(clearTimeout(this.selectionChangedTimeout),this.selectionChangedTimeout=setTimeout(e.proxy(function(){if(this.options.inlineMode&&this.selectionInEditor()&&this.link!==!0&&this.isTouch()){var e=this.text();""!==e?(this.iPod()?this.options.alwaysVisible&&this.hide():this.show(null),t.stopPropagation()):this.options.alwaysVisible?this.show(null):(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this),75)))},this))},t.prototype.setWindowMouseUpEvent=function(){this.$window.on(this.mouseup+"."+this._id,e.proxy(function(){return this.browser.webkit&&!this.initMouseUp?(this.initMouseUp=!0,!1):(this.isResizing()||this.isScrolling||this.isDisabled||(this.$bttn_wrapper.find("button.fr-trigger").removeClass("active"),this.selectionInEditor()&&""!==this.text()&&!this.isTouch()?this.show(null):this.$popup_editor.is(":visible")&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.blur(!0)),void e("[data-down]").removeAttr("data-down"))},this))},t.prototype.setWindowKeyDownEvent=function(){this.$window.on("keydown."+this._id,e.proxy(function(t){var i=t.which;if(27==i&&(this.focus(),this.restoreSelection(),this.hide(),this.closeImageMode(),this.imageMode=!1),this.imageMode){if(13==i)return this.$element.find(".f-img-editor").parents(".f-img-wrap").before("<br/>"),this.sync(),this.$element.find(".f-img-editor img").click(),!1;if(46==i||8==i)return t.stopPropagation(),t.preventDefault(),setTimeout(e.proxy(function(){this.removeImage(this.$element.find(".f-img-editor img"))},this),0),!1}else if(this.selectionInEditor()){if(this.isDisabled)return!0;var n=(t.ctrlKey||t.metaKey)&&!t.altKey;!n&&this.$popup_editor.is(":visible")&&this.$bttn_wrapper.is(":visible")&&this.options.inlineMode&&(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this))},t.prototype.setWindowKeyUpEvent=function(){this.$window.on("keyup."+this._id,e.proxy(function(){return this.isDisabled?!1:void(this.selectionInEditor()&&""!==this.text()&&!this.$popup_editor.is(":visible")&&this.repositionEditor())},this))},t.prototype.setWindowScrollEvent=function(){e.merge(this.$window,e(this.options.scrollableContainer)).on("scroll."+this._id,e.proxy(function(){return this.isDisabled?!1:(clearTimeout(this.scrollTimer),this.isScrolling=!0,void(this.scrollTimer=setTimeout(e.proxy(function(){this.isScrolling=!1},this),2500)))},this))},t.prototype.setPlaceholder=function(t){t&&(this.options.placeholder=t),this.$textarea&&this.$textarea.attr("placeholder",this.options.placeholder),this.$placeholder||(this.$placeholder=e('<span class="fr-placeholder" unselectable="on"></span>').bind("click",e.proxy(function(){this.focus()},this)),this.$element.after(this.$placeholder)),this.$placeholder.text(this.options.placeholder)},t.prototype.isEmpty=function(){var t=this.$element.text().replace(/(\r\n|\n|\r|\t|\u200B|\u0020)/gm,"");return""===t&&0===this.$element.find("img, table, iframe, input, textarea, hr, li, object").length&&0===this.$element.find(this.options.defaultTag+" > br, br").length&&0===this.$element.find(e.map(this.valid_nodes,e.proxy(function(e){return this.options.defaultTag==e?null:e},this)).join(", ")).length},t.prototype.checkPlaceholder=function(i){if(this.isDisabled&&!i)return!1;if(this.pasting&&!i)return!1;if(this.$element.find("td:empty, th:empty").append(e.Editable.INVISIBLE_SPACE),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").append(this.br),!this.isHTML)if(this.isEmpty()&&!this.fakeEmpty()){var n,s=this.selectionInEditor()||this.$element.is(":focus");this.options.paragraphy?(n=e("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"),this.$element.html(n),s&&this.setSelection(n.get(0)),this.$element.addClass("f-placeholder")):(0!==this.$element.find("br").length||this.browser.msie&&t.getIEversion()<=10||(this.$element.append(this.br),s&&this.browser.msie&&this.focus()),this.$element.addClass("f-placeholder"))}else!this.$element.find(this.options.defaultTag+", li, td, th").length&&this.options.paragraphy?(this.wrapText(!0),this.$element.find(this.options.defaultTag).length&&""===this.text()?this.setSelection(this.$element.find(this.options.defaultTag)[0],this.$element.find(this.options.defaultTag).text().length,null,this.$element.find(this.options.defaultTag).text().length):this.$element.removeClass("f-placeholder")):this.fakeEmpty()===!1&&(!this.options.paragraphy||this.$element.find(this.valid_nodes.join(",")).length>=1)?this.$element.removeClass("f-placeholder"):!this.options.paragraphy&&this.$element.find(this.valid_nodes.join(",")).length>=1?this.$element.removeClass("f-placeholder"):this.$element.addClass("f-placeholder");
return!0},t.prototype.fakeEmpty=function(e){void 0===e&&(e=this.$element);var t=!0;this.options.paragraphy&&(t=1==e.find(this.options.defaultTag).length?!0:!1);var i=e.text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return""===i&&t&&1==e.find("br, li").length&&0===e.find("img, table, iframe, input, textarea, hr, li").length},t.prototype.setPlaceholderEvents=function(){this.browser.msie&&t.getIEversion()<9||(this.$element.on("focus click",e.proxy(function(e){return this.isDisabled?!1:void(""!==this.$element.text()||this.pasting||(this.$element.data("focused")||"click"!==e.type?"focus"==e.type&&this.focus(!1):this.$element.focus(),this.$element.data("focused",!0)))},this)),this.$element.on("keyup keydown input focus placeholderCheck",e.proxy(function(){return this.checkPlaceholder()},this)),this.$element.trigger("placeholderCheck"))},t.prototype.setDimensions=function(e,t,i,n){e&&(this.options.height=e),t&&(this.options.width=t),i&&(this.options.minHeight=i),n&&(this.options.maxHeight=n),"auto"!=this.options.height&&(this.$wrapper.css("height",this.options.height),this.$element.css("minHeight",this.options.height-parseInt(this.$element.css("padding-top"),10)-parseInt(this.$element.css("padding-bottom"),10))),"auto"!=this.options.minHeight&&(this.$wrapper.css("minHeight",this.options.minHeight),this.$element.css("minHeight",this.options.minHeight)),"auto"!=this.options.maxHeight&&this.$wrapper.css("maxHeight",this.options.maxHeight),"auto"!=this.options.width&&this.$box.css("width",this.options.width)},t.prototype.setDirection=function(e){e&&(this.options.direction=e),"ltr"!=this.options.direction&&"rtl"!=this.options.direction&&(this.options.direction="ltr"),"rtl"==this.options.direction?(this.$element.removeAttr("dir"),this.$box.addClass("f-rtl"),this.$element.addClass("f-rtl"),this.$editor.addClass("f-rtl"),this.$popup_editor.addClass("f-rtl"),this.$image_modal&&this.$image_modal.addClass("f-rtl")):(this.$element.attr("dir","auto"),this.$box.removeClass("f-rtl"),this.$element.removeClass("f-rtl"),this.$editor.removeClass("f-rtl"),this.$popup_editor.removeClass("f-rtl"),this.$image_modal&&this.$image_modal.removeClass("f-rtl"))},t.prototype.setZIndex=function(e){e&&(this.options.zIndex=e),this.$editor.css("z-index",this.options.zIndex),this.$popup_editor.css("z-index",this.options.zIndex+1),this.$overlay&&this.$overlay.css("z-index",this.options.zIndex+1002),this.$image_modal&&this.$image_modal.css("z-index",this.options.zIndex+1003)},t.prototype.setTheme=function(e){e&&(this.options.theme=e),null!=this.options.theme&&(this.$editor.addClass(this.options.theme+"-theme"),this.$popup_editor.addClass(this.options.theme+"-theme"),this.$box&&this.$box.addClass(this.options.theme+"-theme"),this.$image_modal&&this.$image_modal.addClass(this.options.theme+"-theme"))},t.prototype.setSpellcheck=function(e){void 0!==e&&(this.options.spellcheck=e),this.$element.attr("spellcheck",this.options.spellcheck)},t.prototype.customizeText=function(t){if(t){var i=this.$editor.find("[title]").add(this.$popup_editor.find("[title]"));this.$image_modal&&(i=i.add(this.$image_modal.find("[title]"))),i.each(e.proxy(function(i,n){for(var s in t)e(n).attr("title").toLowerCase()==s.toLowerCase()&&e(n).attr("title",t[s])},this)),i=this.$editor.find('[data-text="true"]').add(this.$popup_editor.find('[data-text="true"]')),this.$image_modal&&(i=i.add(this.$image_modal.find('[data-text="true"]'))),i.each(e.proxy(function(i,n){for(var s in t)e(n).text().toLowerCase()==s.toLowerCase()&&e(n).text(t[s])},this))}},t.prototype.setLanguage=function(t){void 0!==t&&(this.options.language=t),e.Editable.LANGS[this.options.language]&&(this.customizeText(e.Editable.LANGS[this.options.language].translation),e.Editable.LANGS[this.options.language].direction&&e.Editable.LANGS[this.options.language].direction!=e.Editable.DEFAULTS.direction&&this.setDirection(e.Editable.LANGS[this.options.language].direction),e.Editable.LANGS[this.options.language].translation[this.options.placeholder]&&this.setPlaceholder(e.Editable.LANGS[this.options.language].translation[this.options.placeholder]))},t.prototype.setCustomText=function(e){e&&(this.options.customText=e),this.options.customText&&this.customizeText(this.options.customText)},t.prototype.execHTML=function(){this.html()},t.prototype.initHTMLArea=function(){this.$html_area=e('<textarea wrap="hard">').keydown(function(t){var i=t.keyCode||t.which;if(9==i){t.preventDefault();var n=e(this).get(0).selectionStart,s=e(this).get(0).selectionEnd;e(this).val(e(this).val().substring(0,n)+"	"+e(this).val().substring(s)),e(this).get(0).selectionStart=e(this).get(0).selectionEnd=n+1}}).focus(e.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this)).mouseup(e.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this))},t.prototype.command_dispatcher={align:function(e){var t=this.buildDropdownAlign(e),i=this.buildDropdownButton(e,t);return i},formatBlock:function(e){var t=this.buildDropdownFormatBlock(e),i=this.buildDropdownButton(e,t);return i},html:function(t){var i=this.buildDefaultButton(t);return this.options.inlineMode&&this.$box.append(e(i).clone(!0).addClass("html-switch").attr("title","Hide HTML").click(e.proxy(this.execHTML,this))),this.initHTMLArea(),i}},t.prototype.setButtons=function(e){e&&(this.options.buttons=e),this.$editor.append('<div class="bttn-wrapper" id="bttn-wrapper-'+this._id+'">'),this.$bttn_wrapper=this.$editor.find("#bttn-wrapper-"+this._id),this.mobile()&&this.$bttn_wrapper.addClass("touch");for(var i,n,s="",r=0;r<this.options.buttons.length;r++){var a=this.options.buttons[r];if("sep"!=a){var o=t.commands[a];if(void 0!==o){o.cmd=a;var l=this.command_dispatcher[o.cmd];l?s+=l.apply(this,[o]):o.seed?(i=this.buildDefaultDropdown(o),n=this.buildDropdownButton(o,i),s+=n):(n=this.buildDefaultButton(o),s+=n,this.bindRefreshListener(o))}else{if(o=this.options.customButtons[a],void 0===o){if(o=this.options.customDropdowns[a],void 0===o)continue;n=this.buildCustomDropdown(o,a),s+=n,this.bindRefreshListener(o);continue}n=this.buildCustomButton(o,a),s+=n,this.bindRefreshListener(o)}}else s+=this.options.inlineMode?'<div class="f-clear"></div><hr/>':'<span class="f-sep"></span>'}this.$bttn_wrapper.html(s),this.$bttn_wrapper.find('button[data-cmd="undo"], button[data-cmd="redo"]').prop("disabled",!0),this.bindButtonEvents()},t.prototype.bindRefreshListener=function(t){t.refresh&&this.addListener("refresh",e.proxy(function(){t.refresh.apply(this,[t.cmd])},this))},t.prototype.buildDefaultButton=function(e){var t='<button tabIndex="-1" type="button" class="fr-bttn" title="'+e.title+'" data-cmd="'+e.cmd+'">';return t+=void 0===this.options.icons[e.cmd]?this.addButtonIcon(e):this.prepareIcon(this.options.icons[e.cmd],e.title),t+="</button>"},t.prototype.prepareIcon=function(e,t){switch(e.type){case"font":return this.addButtonIcon({icon:e.value});case"img":return this.addButtonIcon({icon_img:e.value,title:t});case"txt":return this.addButtonIcon({icon_txt:e.value})}},t.prototype.addButtonIcon=function(e){return e.icon?'<i class="'+e.icon+'"></i>':e.icon_alt?'<i class="for-text">'+e.icon_alt+"</i>":e.icon_img?'<img src="'+e.icon_img+'" alt="'+e.title+'"/>':e.icon_txt?"<i>"+e.icon_txt+"</i>":e.title},t.prototype.buildCustomButton=function(e,t){this["call_"+t]=e.callback;var i='<button tabIndex="-1" type="button" class="fr-bttn" data-callback="call_'+t+'" data-cmd="button_name" data-name="'+t+'" title="'+e.title+'">'+this.prepareIcon(e.icon,e.title)+"</button>";return i},t.prototype.callDropdown=function(t,i){this.$bttn_wrapper.on("click touch",'[data-name="'+t+'"]',e.proxy(function(e){e.preventDefault(),e.stopPropagation(),i.apply(this)},this))},t.prototype.buildCustomDropdown=function(e,t){var i='<div class="fr-bttn fr-dropdown">';i+='<button tabIndex="-1" type="button" class="fr-trigger" title="'+e.title+'" data-name="'+t+'">'+this.prepareIcon(e.icon,e.title)+"</button>",i+='<ul class="fr-dropdown-menu">';var n=0;for(var s in e.options){this["call_"+t+n]=e.options[s];var r='<li data-callback="call_'+t+n+'" data-cmd="'+t+n+'" data-name="'+t+n+'"><a href="#">'+s+"</a></li>";i+=r,n++}return i+="</ul></div>"},t.prototype.buildDropdownButton=function(e,t,i){i=i||"";var n='<div class="fr-bttn fr-dropdown '+i+'">',s="";s+=void 0===this.options.icons[e.cmd]?this.addButtonIcon(e):this.prepareIcon(this.options.icons[e.cmd],e.title);var r='<button tabIndex="-1" type="button" data-name="'+e.cmd+'" class="fr-trigger" title="'+e.title+'">'+s+"</button>";return n+=r,n+=t,n+="</div>"},t.prototype.buildDropdownAlign=function(e){this.bindRefreshListener(e);for(var t='<ul class="fr-dropdown-menu f-align">',i=0;i<e.seed.length;i++){var n=e.seed[i];t+='<li data-cmd="align" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return t+="</ul>"},t.prototype.buildDropdownFormatBlock=function(e){var t='<ul class="fr-dropdown-menu">';for(var i in this.options.blockTags){var n='<li data-cmd="'+e.cmd+'" data-val="'+i+'">';n+='<a href="#" data-text="true" class="format-'+i+'" title="'+this.options.blockTags[i]+'">'+this.options.blockTags[i]+"</a></li>",t+=n}return t+="</ul>"},t.prototype.buildDefaultDropdown=function(e){for(var t='<ul class="fr-dropdown-menu">',i=0;i<e.seed.length;i++){var n=e.seed[i],s='<li data-namespace="'+e.namespace+'" data-cmd="'+(n.cmd||e.cmd)+'" data-val="'+n.value+'" data-param="'+(n.param||e.param)+'">';s+='<a href="#" data-text="true" class="'+n.value+'" title="'+n.title+'">'+n.title+"</a></li>",t+=s}return t+="</ul>"},t.prototype.createEditPopupHTML=function(){var e='<div class="froala-popup froala-text-popup" style="display:none;">';return e+='<h4><span data-text="true">Edit text</span><i title="Cancel" class="fa fa-times" id="f-text-close-'+this._id+'"></i></h4></h4>',e+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu" id="f-ti-'+this._id+'">',e+='<button data-text="true" type="button" class="f-ok" id="f-edit-popup-ok-'+this._id+'">OK</button>',e+="</div>",e+="</div>"},t.prototype.buildEditPopup=function(){this.$edit_popup_wrapper=e(this.createEditPopupHTML()),this.$popup_editor.append(this.$edit_popup_wrapper),this.$edit_popup_wrapper.find("#f-ti-"+this._id).on("mouseup keydown",function(e){e.stopPropagation()}),this.addListener("hidePopups",e.proxy(function(){this.$edit_popup_wrapper.hide()},this)),this.$edit_popup_wrapper.on("click","#f-edit-popup-ok-"+this._id,e.proxy(function(){this.$element.text(this.$edit_popup_wrapper.find("#f-ti-"+this._id).val()),this.sync(),this.hide()},this)),this.$edit_popup_wrapper.on("click","i#f-text-close-"+this._id,e.proxy(function(){this.hide()},this))},t.prototype.createCORSRequest=function(e,t){var i=new XMLHttpRequest;if("withCredentials"in i){i.open(e,t,!0),this.options.withCredentials&&(i.withCredentials=!0);for(var n in this.options.headers)i.setRequestHeader(n,this.options.headers[n])}else"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(e,t)):i=null;return i},t.prototype.isEnabled=function(t){return e.inArray(t,this.options.buttons)>=0},t.prototype.bindButtonEvents=function(){this.bindDropdownEvents(this.$bttn_wrapper),this.bindCommandEvents(this.$bttn_wrapper)},t.prototype.bindDropdownEvents=function(i){var n=this;i.on(this.mousedown,".fr-dropdown .fr-trigger:not([disabled])",function(t){return"mousedown"===t.type&&1!==t.which?!0:("LI"===this.tagName&&"touchstart"===t.type&&n.android()||n.iOS()||t.preventDefault(),void e(this).attr("data-down",!0))}),i.on(this.mouseup,".fr-dropdown .fr-trigger:not([disabled])",function(s){if(n.isDisabled)return!1;if(s.stopPropagation(),s.preventDefault(),!e(this).attr("data-down"))return e("[data-down]").removeAttr("data-down"),!1;e("[data-down]").removeAttr("data-down"),n.options.inlineMode===!1&&0===e(this).parents(".froala-popup").length&&(n.hide(),n.closeImageMode(),n.imageMode=!1),e(this).toggleClass("active").trigger("blur");var r,a=e(this).attr("data-name");return t.commands[a]?r=t.commands[a].refreshOnShow:n.options.customDropdowns[a]?r=n.options.customDropdowns[a].refreshOnShow:t.image_commands[a]&&(r=t.image_commands[a].refreshOnShow),r&&r.call(n),i.find("button.fr-trigger").not(this).removeClass("active"),!1}),i.on(this.mouseup,".fr-dropdown",function(e){e.stopPropagation(),e.preventDefault()}),this.$element.on("mouseup","img, a",e.proxy(function(){return this.isDisabled?!1:void i.find(".fr-dropdown .fr-trigger").removeClass("active")},this)),i.on("click","li[data-cmd] > a",function(e){e.preventDefault()})},t.prototype.bindCommandEvents=function(t){var i=this;t.on(this.mousedown,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",function(t){return"mousedown"===t.type&&1!==t.which?!0:("LI"===this.tagName&&"touchstart"===t.type&&i.android()||i.iOS()||t.preventDefault(),void e(this).attr("data-down",!0))}),t.on(this.mouseup+" "+this.move,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",e.proxy(function(t){if(i.isDisabled)return!1;if("mouseup"===t.type&&1!==t.which)return!0;var n=t.currentTarget;if("touchmove"!=t.type){if(t.stopPropagation(),t.preventDefault(),!e(n).attr("data-down"))return e("[data-down]").removeAttr("data-down"),!1;if(e("[data-down]").removeAttr("data-down"),e(n).data("dragging")||e(n).attr("disabled"))return e(n).removeData("dragging"),!1;var s=e(n).data("timeout");s&&(clearTimeout(s),e(n).removeData("timeout"));var r=e(n).attr("data-callback");if(i.options.inlineMode===!1&&0===e(n).parents(".froala-popup").length&&(i.hide(),i.closeImageMode(),i.imageMode=!1),r)e(n).parents(".fr-dropdown").find(".fr-trigger.active").removeClass("active"),i[r]();else{var a=e(n).attr("data-namespace"),o=e(n).attr("data-cmd"),l=e(n).attr("data-val"),d=e(n).attr("data-param");a?i["exec"+a](o,l,d):(i.exec(o,l,d),i.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"))}return!1}e(n).data("timeout")||e(n).data("timeout",setTimeout(function(){e(n).data("dragging",!0)},200))},this))},t.prototype.save=function(){if(!this.triggerEvent("beforeSave",[],!1))return!1;if(this.options.saveURL){var t={};for(var i in this.options.saveParams){var n=this.options.saveParams[i];t[i]="function"==typeof n?n.call(this):n}var s={};s[this.options.saveParam]=this.getHTML(),e.ajax({type:this.options.saveRequestType,url:this.options.saveURL,data:e.extend(s,t),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(e.proxy(function(e){this.triggerEvent("afterSave",[e])},this)).fail(e.proxy(function(){this.triggerEvent("saveError",["Save request failed on the server."])},this))}else this.triggerEvent("saveError",["Missing save URL."])},t.prototype.isURL=function(e){if(!/^(https?:|ftps?:|)\/\//.test(e))return!1;e=String(e).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var t=/\(?(?:(https?:|ftps?:|)\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|(?:www.)?(?:[^\W\s]|\.|-)|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/gi;return t.test(e)},t.prototype.sanitizeURL=function(e){if(/^(https?:|ftps?:|)\/\//.test(e)){if(!this.isURL(e))return""}else e=encodeURIComponent(e).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/g,"mailto:").replace(/tel%3A/g,"tel:").replace(/data%3Aimage/g,"data:image").replace(/webkit-fake-url%3A/g,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@");return e},t.prototype.parents=function(e,t){return e.get(0)!=this.$element.get(0)?e.parentsUntil(this.$element,t):[]},t.prototype.option=function(t,i){if(void 0===t)return this.options;if(t instanceof Object)this.options=e.extend({},this.options,t),this.initOptions(),this.setCustomText(),this.setLanguage(),this.setAllowScript(),this.setAllowStyle();else{if(void 0===i)return this.options[t];switch(this.options[t]=i,t){case"direction":this.setDirection();break;case"height":case"width":case"minHeight":case"maxHeight":this.setDimensions();break;case"spellcheck":this.setSpellcheck();break;case"placeholder":this.setPlaceholder();break;case"customText":this.setCustomText();break;case"language":this.setLanguage();break;case"textNearImage":this.setTextNearImage();break;case"zIndex":this.setZIndex();break;case"theme":this.setTheme();break;case"allowScript":this.setAllowScript();break;case"allowStyle":this.setAllowStyle()}}};var i=e.fn.editable;e.fn.editable=function(i){for(var n=[],s=0;s<arguments.length;s++)n.push(arguments[s]);if("string"==typeof i){var r=[];return this.each(function(){var t=e(this),s=t.data("fa.editable");if(!s[i])return e.error("Method "+i+" does not exist in Froala Editor.");var a=s[i].apply(s,n.slice(1));void 0===a?r.push(this):0===r.length&&r.push(a)}),1==r.length?r[0]:r}return"object"!=typeof i&&i?void 0:this.each(function(){var n=this,s=e(n),r=s.data("fa.editable");r||s.data("fa.editable",r=new t(n,i))})},e.fn.editable.Constructor=t,e.Editable=t,e.fn.editable.noConflict=function(){return e.fn.editable=i,this}}(window.jQuery),function(e){e.Editable.prototype.initUndoRedo=function(){this.undoStack=[],this.undoIndex=0,this.saveUndoStep(),this.disableBrowserUndo()},e.Editable.prototype.undo=function(){if(this.no_verify=!0,this.undoIndex>1){clearTimeout(this.typingTimer),this.triggerEvent("beforeUndo",[],!1);var e=this.undoStack[--this.undoIndex-1];this.restoreSnapshot(e),this.doingRedo=!0,this.triggerEvent("afterUndo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},e.Editable.prototype.redo=function(){if(this.no_verify=!0,this.undoIndex<this.undoStack.length){clearTimeout(this.typingTimer),this.triggerEvent("beforeRedo",[],!1);var e=this.undoStack[this.undoIndex++];this.restoreSnapshot(e),this.doingRedo=!0,this.triggerEvent("afterRedo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},e.Editable.prototype.saveUndoStep=function(){if(!this.undoStack)return!1;for(;this.undoStack.length>this.undoIndex;)this.undoStack.pop();var e=this.getSnapshot();this.undoStack[this.undoIndex-1]&&this.identicSnapshots(this.undoStack[this.undoIndex-1],e)||(this.undoStack.push(e),this.undoIndex++),this.refreshUndo(),this.refreshRedo()},e.Editable.prototype.refreshUndo=function(){if(this.isEnabled("undo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="undo"]').removeAttr("disabled"),(0===this.undoStack.length||this.undoIndex<=1||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="undo"]').attr("disabled",!0)}},e.Editable.prototype.refreshRedo=function(){if(this.isEnabled("redo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="redo"]').removeAttr("disabled"),(this.undoIndex==this.undoStack.length||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="redo"]').prop("disabled",!0)}},e.Editable.prototype.getNodeIndex=function(e){for(var t=e.parentNode.childNodes,i=0,n=null,s=0;s<t.length;s++){if(n){var r=3===t[s].nodeType&&""===t[s].textContent,a=3===n.nodeType&&3===t[s].nodeType;r||a||i++}if(t[s]==e)return i;n=t[s]}},e.Editable.prototype.getNodeLocation=function(e){var t=[];if(!e.parentNode)return[];for(;e!=this.$element.get(0);)t.push(this.getNodeIndex(e)),e=e.parentNode;return t.reverse()},e.Editable.prototype.getNodeByLocation=function(e){for(var t=this.$element.get(0),i=0;i<e.length;i++)t=t.childNodes[e[i]];return t},e.Editable.prototype.getRealNodeOffset=function(e,t){for(;e&&3===e.nodeType;){var i=e.previousSibling;i&&3==i.nodeType&&(t+=i.textContent.length),e=i}return t},e.Editable.prototype.getRangeSnapshot=function(e){return{scLoc:this.getNodeLocation(e.startContainer),scOffset:this.getRealNodeOffset(e.startContainer,e.startOffset),ecLoc:this.getNodeLocation(e.endContainer),ecOffset:this.getRealNodeOffset(e.endContainer,e.endOffset)}},e.Editable.prototype.getSnapshot=function(){var e={};if(e.html=this.$element.html(),e.ranges=[],this.selectionInEditor()&&this.$element.is(":focus"))for(var t=this.getRanges(),i=0;i<t.length;i++)e.ranges.push(this.getRangeSnapshot(t[i]));return e},e.Editable.prototype.identicSnapshots=function(e,t){return e.html!=t.html?!1:JSON.stringify(e.ranges)!=JSON.stringify(t.ranges)?!1:!0},e.Editable.prototype.restoreRangeSnapshot=function(e,t){try{var i=this.getNodeByLocation(e.scLoc),n=e.scOffset,s=this.getNodeByLocation(e.ecLoc),r=e.ecOffset,a=this.document.createRange();a.setStart(i,n),a.setEnd(s,r),t.addRange(a)}catch(o){}},e.Editable.prototype.restoreSnapshot=function(t){this.$element.html()!=t.html&&this.$element.html(t.html);var i=this.getSelection();this.clearSelection(),this.$element.focus();for(var n=0;n<t.ranges.length;n++)this.restoreRangeSnapshot(t.ranges[n],i);setTimeout(e.proxy(function(){this.$element.find(".f-img-wrap img").click()},this),0)}}(jQuery),function(e){e.Editable.prototype.refreshButtons=function(t){return this.initialized&&(this.selectionInEditor()&&!this.isHTML||this.browser.msie&&e.Editable.getIEversion()<9||t)?(this.$editor.find("button[data-cmd]").removeClass("active"),this.refreshDisabledState(),void this.raiseEvent("refresh")):!1},e.Editable.prototype.refreshDisabledState=function(){if(this.isHTML)return!1;if(this.$editor){for(var t=0;t<this.options.buttons.length;t++){var i=this.options.buttons[t];if(void 0!==e.Editable.commands[i]){var n=!1;e.isFunction(e.Editable.commands[i].disabled)?n=e.Editable.commands[i].disabled.apply(this):void 0!==e.Editable.commands[i].disabled&&(n=!0),n?(this.$editor.find('button[data-cmd="'+i+'"]').prop("disabled",!0),this.$editor.find('button[data-name="'+i+'"]').prop("disabled",!0)):(this.$editor.find('button[data-cmd="'+i+'"]').removeAttr("disabled"),this.$editor.find('button[data-name="'+i+'"]').removeAttr("disabled"))}}this.refreshUndo(),this.refreshRedo()}},e.Editable.prototype.refreshFormatBlocks=function(){var e=this.getSelectionElements()[0],t=e.tagName.toLowerCase();this.options.paragraphy&&t===this.options.defaultTag.toLowerCase()&&(t="n"),this.$editor.find('.fr-bttn > button[data-name="formatBlock"] + ul li').removeClass("active"),this.$bttn_wrapper.find('.fr-bttn > button[data-name="formatBlock"] + ul li[data-val="'+t+'"]').addClass("active")},e.Editable.prototype.refreshDefault=function(e){try{this.document.queryCommandState(e)===!0&&this.$editor.find('[data-cmd="'+e+'"]').addClass("active")}catch(t){}},e.Editable.prototype.refreshAlign=function(){var t=e(this.getSelectionElements()[0]);this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var i,n=t.css("text-align");["left","right","justify","center"].indexOf(n)<0&&(n="left"),"left"==n?i="justifyLeft":"right"==n?i="justifyRight":"justify"==n?i="justifyFull":"center"==n&&(i="justifyCenter"),this.$editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+n),this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+i+'"]').addClass("active")},e.Editable.prototype.refreshHTML=function(){this.isActive("html")?this.$editor.find('[data-cmd="html"]').addClass("active"):this.$editor.find('[data-cmd="html"]').removeClass("active")}}(jQuery),function(e){e.Editable.commands={bold:{title:"Bold",icon:"fa fa-bold",shortcut:"(Ctrl + B)",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},italic:{title:"Italic",icon:"fa fa-italic",shortcut:"(Ctrl + I)",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},underline:{cmd:"underline",title:"Underline",icon:"fa fa-underline",shortcut:"(Ctrl + U)",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},strikeThrough:{title:"Strikethrough",icon:"fa fa-strikethrough",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},subscript:{title:"Subscript",icon:"fa fa-subscript",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},superscript:{title:"Superscript",icon:"fa fa-superscript",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},formatBlock:{title:"Format Block",icon:"fa fa-paragraph",refreshOnShow:e.Editable.prototype.refreshFormatBlocks,callback:function(e,t){this.formatBlock(t)},undo:!0},align:{title:"Alignment",icon:"fa fa-align-left",refresh:e.Editable.prototype.refreshAlign,refreshOnShow:e.Editable.prototype.refreshAlign,seed:[{cmd:"justifyLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"justifyCenter",title:"Align Center",icon:"fa fa-align-center"},{cmd:"justifyRight",title:"Align Right",icon:"fa fa-align-right"},{cmd:"justifyFull",title:"Justify",icon:"fa fa-align-justify"}],callback:function(e,t){this.align(t)},undo:!0},outdent:{title:"Indent Less",icon:"fa fa-dedent",activeless:!0,shortcut:"(Ctrl + <)",callback:function(){this.outdent(!0)},undo:!0},indent:{title:"Indent More",icon:"fa fa-indent",activeless:!0,shortcut:"(Ctrl + >)",callback:function(){this.indent()},undo:!0},selectAll:{title:"Select All",icon:"fa fa-file-text",shortcut:"(Ctrl + A)",callback:function(e,t){this.$element.focus(),this.execDefault(e,t)},undo:!1},createLink:{title:"Insert Link",icon:"fa fa-link",shortcut:"(Ctrl + K)",callback:function(){this.insertLink()},undo:!1},insertImage:{title:"Insert Image",icon:"fa fa-picture-o",activeless:!0,shortcut:"(Ctrl + P)",callback:function(){this.insertImage()},undo:!1},undo:{title:"Undo",icon:"fa fa-undo",activeless:!0,shortcut:"(Ctrl+Z)",refresh:e.Editable.prototype.refreshUndo,callback:function(){this.undo()},undo:!1},redo:{title:"Redo",icon:"fa fa-repeat",activeless:!0,shortcut:"(Shift+Ctrl+Z)",refresh:e.Editable.prototype.refreshRedo,callback:function(){this.redo()},undo:!1},html:{title:"Show HTML",icon:"fa fa-code",refresh:e.Editable.prototype.refreshHTML,callback:function(){this.html()},undo:!1},save:{title:"Save",icon:"fa fa-floppy-o",callback:function(){this.save()},undo:!1},insertHorizontalRule:{title:"Insert Horizontal Line",icon:"fa fa-minus",callback:function(e){this.insertHR(e)},undo:!0},removeFormat:{title:"Clear formatting",icon:"fa fa-eraser",activeless:!0,callback:function(){this.removeFormat()},undo:!0}},e.Editable.prototype.exec=function(t,i,n){return!this.selectionInEditor()&&e.Editable.commands[t].undo&&this.focus(),this.selectionInEditor()&&""===this.text()&&e.Editable.commands[t].callbackWithoutSelection?(e.Editable.commands[t].callbackWithoutSelection.apply(this,[t,i,n]),!1):void(e.Editable.commands[t].callback?e.Editable.commands[t].callback.apply(this,[t,i,n]):this.execDefault(t,i))},e.Editable.prototype.html=function(){var e;this.isHTML?(this.isHTML=!1,e=this.$html_area.val(),this.$box.removeClass("f-html"),this.$element.attr("contenteditable",!0),this.setHTML(e,!1),this.$editor.find('.fr-bttn:not([data-cmd="html"]), .fr-trigger').removeAttr("disabled"),this.$editor.find('.fr-bttn[data-cmd="html"]').removeClass("active"),this.$element.blur(),this.focus(),this.refreshButtons(),this.triggerEvent("htmlHide",[e],!0,!1)):(this.$box.removeClass("f-placeholder"),this.clearSelection(),this.cleanify(!1,!0,!1),e=this.cleanTags(this.getHTML(!1,!1)),this.$html_area.val(e).trigger("resize"),this.$html_area.css("height",this.$element.height()-1),this.$element.html("").append(this.$html_area).removeAttr("contenteditable"),this.$box.addClass("f-html"),this.$editor.find('button.fr-bttn:not([data-cmd="html"]), button.fr-trigger').attr("disabled",!0),this.$editor.find('.fr-bttn[data-cmd="html"]').addClass("active"),this.isHTML=!0,this.hide(),this.imageMode=!1,this.$element.blur(),this.$element.removeAttr("contenteditable"),this.triggerEvent("htmlShow",[e],!0,!1))},e.Editable.prototype.insertHR=function(t){this.$element.find("hr").addClass("fr-tag"),this.$element.hasClass("f-placeholder")?e(this.$element.find("> "+this.valid_nodes.join(", >"))[0]).before("<hr/>"):this.document.execCommand(t),this.hide();var i=this.$element.find("hr:not(.fr-tag)").next(this.valid_nodes.join(","));i.length>0?e(i[0]).prepend(this.markers_html):this.$element.find("hr:not(.fr-tag)").after(this.options.paragraphy?"<p>"+this.markers_html+"<br/></p>":this.markers_html),this.restoreSelectionByMarkers(),this.triggerEvent(t,[],!0,!1)},e.Editable.prototype.formatBlock=function(t){if(this.disabledList.indexOf("formatBlock")>=0)return!1;if(this.browser.msie&&e.Editable.getIEversion()<9)return"n"==t&&(t=this.options.defaultTag),this.document.execCommand("formatBlock",!1,"<"+t+">"),this.triggerEvent("formatBlock"),!1;if(this.$element.hasClass("f-placeholder")){if(this.options.paragraphy||"n"!=t){"n"==t&&(t=this.options.defaultTag);var i=e("<"+t+"><br/></"+t+">");this.$element.html(i),this.setSelection(i.get(0),0),this.$element.removeClass("f-placeholder")}}else{this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var n=this.getSelectionElements();n[0]==this.$element.get(0)&&(n=this.$element.find("> "+this.valid_nodes.join(", >"))),this.saveSelectionByMarkers();for(var s,r=function(t){if("PRE"==t.get(0).tagName)for(;t.find("br + br").length>0;){var i=e(t.find("br + br")[0]);i.prev().remove(),i.replaceWith("\n\n")}},a=0;a<n.length;a++){var o=e(n[a]);if(!this.fakeEmpty(o)){if(r(o),!this.options.paragraphy&&this.emptyElement(o.get(0))&&o.append("<br/>"),"n"==t)if(this.options.paragraphy){var l="<"+this.options.defaultTag+this.attrs(o.get(0))+">"+o.html()+"</"+this.options.defaultTag+">";s=e(l)}else s=o.html()+"<br/>";else s=e("<"+t+this.attrs(o.get(0))+">").html(o.html());o.get(0)!=this.$element.get(0)?o.replaceWith(s):o.html(s)}}this.unwrapText(),this.$element.find("pre + pre").each(function(){e(this).prepend(e(this).prev().html()+"<br/><br/>"),e(this).prev().remove()});var d=this;this.$element.find(this.valid_nodes.join(",")).each(function(){"PRE"!=this.tagName&&e(this).replaceWith("<"+this.tagName+d.attrs(this)+">"+e(this).html().replace(/\n\n/gi,"</"+this.tagName+"><"+this.tagName+">")+"</"+this.tagName+">")}),this.$element.find(this.valid_nodes.join(":empty ,")+":empty").append("<br/>"),this.cleanupLists(),this.restoreSelectionByMarkers()}this.triggerEvent("formatBlock"),this.repositionEditor()},e.Editable.prototype.align=function(t){if(this.browser.msie&&e.Editable.getIEversion()<9)return this.document.execCommand(t,!1,!1),this.triggerEvent("align",[t]),!1;this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers(),this.saveSelectionByMarkers();var i=this.getSelectionElements();"justifyLeft"==t?t="left":"justifyRight"==t?t="right":"justifyCenter"==t?t="center":"justifyFull"==t&&(t="justify");for(var n=0;n<i.length;n++)this.parents(e(i[n]),"LI").length>0&&(i[n]=e(i[n]).parents("LI").get(0)),e(i[n]).css("text-align",t);this.cleanupLists(),this.unwrapText(),this.restoreSelectionByMarkers(),this.repositionEditor(),this.triggerEvent("align",[t])},e.Editable.prototype.indent=function(t,i){if(void 0===i&&(i=!0),this.browser.msie&&e.Editable.getIEversion()<9)return t?this.document.execCommand("outdent",!1,!1):this.document.execCommand("indent",!1,!1),!1;var n=20;t&&(n=-20),this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var s=this.getSelectionElements();this.saveSelectionByMarkers();for(var r=0;r<s.length;r++)e(s[r]).parentsUntil(this.$element,"li").length>0&&(s[r]=e(s[r]).closest("li").get(0));for(var a=0;a<s.length;a++){var o=e(s[a]);if(this.raiseEvent("indent",[o,t]))if(o.get(0)!=this.$element.get(0)){var l=parseInt(o.css("margin-left"),10),d=Math.max(0,l+n);o.css("marginLeft",d),0===d&&(o.css("marginLeft",""),void 0===o.css("style")&&o.removeAttr("style"))}else{var c=e("<div>").html(o.html());o.html(c),c.css("marginLeft",Math.max(0,n)),0===Math.max(0,n)&&(c.css("marginLeft",""),void 0===c.css("style")&&c.removeAttr("style"))}}this.unwrapText(),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),t||this.triggerEvent("indent")},e.Editable.prototype.outdent=function(e){this.indent(!0,e),this.triggerEvent("outdent")},e.Editable.prototype.execDefault=function(e,t){this.saveUndoStep(),this.document.execCommand(e,!1,t),this.triggerEvent(e,[],!0,!0)},e.Editable.prototype._startInDefault=function(e){this.focus(),this.document.execCommand(e,!1,!1),this.refreshButtons()},e.Editable.prototype._startInFontExec=function(t,i,n){this.focus();
try{var s=this.getRange(),r=s.cloneRange();r.collapse(!1);var a=e('<span data-inserted="true" data-fr-verified="true" style="'+t+": "+n+';">'+e.Editable.INVISIBLE_SPACE+"</span>",this.document);r.insertNode(a[0]),a=this.$element.find("[data-inserted]"),a.removeAttr("data-inserted"),this.setSelection(a.get(0),1),null!=i&&this.triggerEvent(i,[n],!0,!0)}catch(o){}},e.Editable.prototype.removeFormat=function(){this.document.execCommand("removeFormat",!1,!1),this.document.execCommand("unlink",!1,!1),this.refreshButtons()},e.Editable.prototype.inlineStyle=function(t,i,n){if(this.browser.webkit){var s=function(e){return e.attr("style").indexOf("font-size")>=0};this.$element.find("[style]").each(function(t,i){var n=e(i);s(n)&&(n.attr("data-font-size",n.css("font-size")),n.css("font-size",""))})}this.document.execCommand("fontSize",!1,4),this.saveSelectionByMarkers(),this.browser.webkit&&this.$element.find("[data-font-size]").each(function(t,i){var n=e(i);n.css("font-size",n.attr("data-font-size")),n.removeAttr("data-font-size")});var r=function(i){var s=e(i);s.css(t)!=n&&s.css(t,""),""===s.attr("style")&&s.replaceWith(s.html())};this.$element.find("font").each(function(i,s){var a=e('<span data-fr-verified="true" style="'+t+": "+n+';">'+e(s).html()+"</span>");e(s).replaceWith(a);for(var o=a.find("span"),l=o.length-1;l>=0;l--)r(o[l])}),this.removeBlankSpans(),this.restoreSelectionByMarkers(),this.repositionEditor(),null!=i&&this.triggerEvent(i,[n],!0,!0)}}(jQuery),function(e){e.Editable.prototype.addListener=function(e,t){var i=this._events,n=i[e]=i[e]||[];n.push(t)},e.Editable.prototype.raiseEvent=function(e,t){void 0===t&&(t=[]);var i=!0,n=this._events[e];if(n)for(var s=0,r=n.length;r>s;s++){var a=n[s].apply(this,t);void 0!==a&&i!==!1&&(i=a)}return void 0===i&&(i=!0),i}}(jQuery),function(e){e.Editable.prototype.start_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',e.Editable.prototype.end_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span>',e.Editable.prototype.markers_html='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span><span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',e.Editable.prototype.text=function(){var e="";return this.window.getSelection?e=this.window.getSelection():this.document.getSelection?e=this.document.getSelection():this.document.selection&&(e=this.document.selection.createRange().text),e.toString()},e.Editable.prototype.selectionInEditor=function(){var t=this.getSelectionParent(),i=!1;return t==this.$element.get(0)&&(i=!0),i===!1&&e(t).parents().each(e.proxy(function(e,t){t==this.$element.get(0)&&(i=!0)},this)),i},e.Editable.prototype.getSelection=function(){var e="";return e=this.window.getSelection?this.window.getSelection():this.document.getSelection?this.document.getSelection():this.document.selection.createRange()},e.Editable.prototype.getRange=function(){var e=this.getRanges();return e.length>0?e[0]:null},e.Editable.prototype.getRanges=function(){var e=this.getSelection();if(e.getRangeAt&&e.rangeCount){for(var t=[],i=0;i<e.rangeCount;i++)t.push(e.getRangeAt(i));return t}return this.document.createRange?[this.document.createRange()]:[]},e.Editable.prototype.clearSelection=function(){var e=this.getSelection();try{e.removeAllRanges?e.removeAllRanges():e.empty?e.empty():e.clear&&e.clear()}catch(t){}},e.Editable.prototype.getSelectionElement=function(){var t=this.getSelection();if(t&&t.rangeCount){var i=this.getRange(),n=i.startContainer;if(1==n.nodeType){var s=!1;n.childNodes.length>0&&n.childNodes[i.startOffset]&&e(n.childNodes[i.startOffset]).text()===this.text()&&(n=n.childNodes[i.startOffset],s=!0),!s&&n.childNodes.length>0&&e(n.childNodes[0]).text()===this.text()&&["BR","IMG","HR"].indexOf(n.childNodes[0].tagName)<0&&(n=n.childNodes[0])}for(;1!=n.nodeType&&n.parentNode;)n=n.parentNode;for(var r=n;r&&"BODY"!=r.tagName;){if(r==this.$element.get(0))return n;r=e(r).parent()[0]}}return this.$element.get(0)},e.Editable.prototype.getSelectionParent=function(){var t,i=null;return this.window.getSelection?(t=this.window.getSelection(),t&&t.rangeCount&&(i=t.getRangeAt(0).commonAncestorContainer,1!=i.nodeType&&(i=i.parentNode))):(t=this.document.selection)&&"Control"!=t.type&&(i=t.createRange().parentElement()),null!=i&&(e.inArray(this.$element.get(0),e(i).parents())>=0||i==this.$element.get(0))?i:null},e.Editable.prototype.nodeInRange=function(e,t){var i;if(e.intersectsNode)return e.intersectsNode(t);i=t.ownerthis.document.createRange();try{i.selectNode(t)}catch(n){i.selectNodeContents(t)}return-1==e.compareBoundaryPoints(Range.END_TO_START,i)&&1==e.compareBoundaryPoints(Range.START_TO_END,i)},e.Editable.prototype.getElementFromNode=function(t){for(1!=t.nodeType&&(t=t.parentNode);null!==t&&this.valid_nodes.indexOf(t.tagName)<0;)t=t.parentNode;return null!=t&&"LI"==t.tagName&&e(t).find(this.valid_nodes.join(",")).not("li").length>0?null:e.makeArray(e(t).parents()).indexOf(this.$element.get(0))>=0?t:null},e.Editable.prototype.nextNode=function(e,t){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling&&e!=t;)e=e.parentNode;return e&&e!=t?e.nextSibling:null},e.Editable.prototype.getRangeSelectedNodes=function(e){var t=[],i=e.startContainer,n=e.endContainer;if(i==n&&"TR"!=i.tagName){if(i.hasChildNodes()&&0!==i.childNodes.length){for(var s=i.childNodes,r=e.startOffset;r<e.endOffset;r++)s[r]&&t.push(s[r]);return 0===t.length&&t.push(i),t}return[i]}if(i==n&&"TR"==i.tagName){var a=i.childNodes,o=e.startOffset;if(a.length>o&&o>=0){var l=a[o];if("TD"==l.tagName||"TH"==l.tagName)return[l]}}for(;i&&i!=n;)i=this.nextNode(i,n),(i!=n||e.endOffset>0)&&t.push(i);for(i=e.startContainer;i&&i!=e.commonAncestorContainer;)t.unshift(i),i=i.parentNode;return t},e.Editable.prototype.getSelectedNodes=function(){if(this.window.getSelection){var t=this.window.getSelection();if(!t.isCollapsed){for(var i=this.getRanges(),n=[],s=0;s<i.length;s++)n=e.merge(n,this.getRangeSelectedNodes(i[s]));return n}if(this.selectionInEditor()){var r=t.getRangeAt(0).startContainer;return 3==r.nodeType?[r.parentNode]:[r]}}return[]},e.Editable.prototype.getSelectionElements=function(){var t=this.getSelectedNodes(),i=[];return e.each(t,e.proxy(function(e,t){if(null!==t){var n=this.getElementFromNode(t);i.indexOf(n)<0&&n!=this.$element.get(0)&&null!==n&&i.push(n)}},this)),0===i.length&&i.push(this.$element.get(0)),i},e.Editable.prototype.getSelectionLink=function(){var t=this.getSelectionLinks();return t.length>0?e(t[0]).attr("href"):null},e.Editable.prototype.saveSelection=function(){if(!this.selectionDisabled){this.savedRanges=[];for(var e=this.getRanges(),t=0;t<e.length;t++)this.savedRanges.push(e[t].cloneRange())}},e.Editable.prototype.restoreSelection=function(){if(!this.selectionDisabled){var e,t,i=this.getSelection();if(this.savedRanges&&this.savedRanges.length)for(i.removeAllRanges(),e=0,t=this.savedRanges.length;t>e;e+=1)i.addRange(this.savedRanges[e]);this.savedRanges=null}},e.Editable.prototype.insertMarkersAtPoint=function(e){var t=e.clientX,i=e.clientY;this.removeMarkers();var n,s=null;if("undefined"!=typeof this.document.caretPositionFromPoint?(n=this.document.caretPositionFromPoint(t,i),s=this.document.createRange(),s.setStart(n.offsetNode,n.offset),s.setEnd(n.offsetNode,n.offset)):"undefined"!=typeof this.document.caretRangeFromPoint&&(n=this.document.caretRangeFromPoint(t,i),s=this.document.createRange(),s.setStart(n.startContainer,n.startOffset),s.setEnd(n.startContainer,n.startOffset)),null!==s&&"undefined"!=typeof this.window.getSelection){var r=this.window.getSelection();r.removeAllRanges(),r.addRange(s)}else if("undefined"!=typeof this.document.body.createTextRange)try{s=this.document.body.createTextRange(),s.moveToPoint(t,i);var a=s.duplicate();a.moveToPoint(t,i),s.setEndPoint("EndToEnd",a),s.select()}catch(o){}this.placeMarker(s,!0,0),this.placeMarker(s,!1,0)},e.Editable.prototype.saveSelectionByMarkers=function(){if(!this.selectionDisabled){this.selectionInEditor()||this.focus(),this.removeMarkers();for(var e=this.getRanges(),t=0;t<e.length;t++)if(e[t].startContainer!==this.document){var i=e[t];this.placeMarker(i,!0,t),this.placeMarker(i,!1,t)}}},e.Editable.prototype.hasSelectionByMarkers=function(){var e=this.$element.find('.f-marker[data-type="true"]');return e.length>0?!0:!1},e.Editable.prototype.restoreSelectionByMarkers=function(t){if(void 0===t&&(t=!0),!this.selectionDisabled){var i=this.$element.find('.f-marker[data-type="true"]');if(0===i.length)return!1;this.$element.is(":focus")||this.browser.msie||this.$element.focus();var n=this.getSelection();(t||this.getRange()&&!this.getRange().collapsed||!e(i[0]).attr("data-collapsed"))&&(this.browser.msie&&e.Editable.getIEversion()<9||(this.clearSelection(),t=!0));for(var s=0;s<i.length;s++){var r=e(i[s]).data("id"),a=i[s],o=this.$element.find('.f-marker[data-type="false"][data-id="'+r+'"]');if(this.browser.msie&&e.Editable.getIEversion()<9)return this.setSelection(a,0,o,0),this.removeMarkers(),!1;var l;if(l=t?this.document.createRange():this.getRange(),o.length>0){o=o[0];try{l.setStartAfter(a),l.setEndBefore(o)}catch(d){}}t&&n.addRange(l)}this.removeMarkers()}},e.Editable.prototype.setSelection=function(e,t,i,n){var s=this.getSelection();if(s){this.clearSelection();try{i||(i=e),void 0===t&&(t=0),void 0===n&&(n=t);var r=this.getRange();r.setStart(e,t),r.setEnd(i,n),s.addRange(r)}catch(a){}}},e.Editable.prototype.buildMarker=function(t,i,n){return void 0===n&&(n=""),e('<span class="f-marker"'+n+' style="display:none; line-height: 0;" data-fr-verified="true" data-id="'+i+'" data-type="'+t+'">',this.document)[0]},e.Editable.prototype.placeMarker=function(t,i,n){var s="";t.collapsed&&(s=' data-collapsed="true"');try{var r=t.cloneRange();r.collapse(i);var a,o,l;if(r.insertNode(this.buildMarker(i,n,s)),i===!0&&s)for(a=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;3===a.nodeType&&0===a.data.length;)e(a).remove(),a=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;if(i===!0&&""===s&&(l=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0),a=l.nextSibling,a&&a.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(a.tagName)>=0)){o=[a];do a=o[0],o=e(a).contents();while(o[0]&&this.valid_nodes.indexOf(o[0].tagName)>=0);e(a).prepend(e(l))}if(i===!1&&""===s&&(l=this.$element.find('span.f-marker[data-type="false"][data-id="'+n+'"]').get(0),a=l.previousSibling,a&&a.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(a.tagName)>=0)){o=[a];do a=o[o.length-1],o=e(a).contents();while(o[o.length-1]&&this.valid_nodes.indexOf(o[o.length-1].tagName)>=0);e(a).append(e(l))}}catch(d){}},e.Editable.prototype.removeMarkers=function(){this.$element.find(".f-marker").remove()},e.Editable.prototype.getSelectionTextInfo=function(e){var t,i,n=!1,s=!1;if(this.window.getSelection){var r=this.window.getSelection();r&&r.rangeCount&&(t=r.getRangeAt(0),i=t.cloneRange(),i.selectNodeContents(e),i.setEnd(t.startContainer,t.startOffset),n=""===i.toString(),i.selectNodeContents(e),i.setStart(t.endContainer,t.endOffset),s=""===i.toString())}else this.document.selection&&"Control"!=this.document.selection.type&&(t=this.document.selection.createRange(),i=t.duplicate(),i.moveToElementText(e),i.setEndPoint("EndToStart",t),n=""===i.text,i.moveToElementText(e),i.setEndPoint("StartToEnd",t),s=""===i.text);return{atStart:n,atEnd:s}},e.Editable.prototype.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)}}(jQuery),function(e){e.Editable.hexToRGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,i,n){return t+t+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.Editable.hexToRGBString=function(e){var t=this.hexToRGB(e);return t?"rgb("+t.r+", "+t.g+", "+t.b+")":""},e.Editable.RGBToHex=function(e){function t(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}try{return e&&"transparent"!==e?/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+t(e[1])+t(e[2])+t(e[3])).toUpperCase()):""}catch(i){return null}},e.Editable.getIEversion=function(){var e,t,i=-1;return"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(i=parseFloat(RegExp.$1))),i},e.Editable.browser=function(){var e={};if(this.getIEversion()>0)e.msie=!0;else{var t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],n={browser:i[1]||"",version:i[2]||"0"};i[1]&&(e[n.browser]=!0),parseInt(n.version,10)<9&&e.msie&&(e.oldMsie=!0),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0)}return e},e.Editable.isArray=function(e){return e&&!e.propertyIsEnumerable("length")&&"object"==typeof e&&"number"==typeof e.length},e.Editable.uniq=function(t){return e.grep(t,function(i,n){return n==e.inArray(i,t)})},e.Editable.cleanWhitespace=function(t){t.contents().filter(function(){return 1==this.nodeType&&e.Editable.cleanWhitespace(e(this)),3==this.nodeType&&!/\S/.test(this.nodeValue)}).remove()}}(jQuery),function(e){e.Editable.prototype.show=function(t){if(this.hideDropdowns(),void 0!==t){if(this.options.inlineMode||this.options.editInPopup)if(null!==t&&"touchend"!==t.type){if(this.options.showNextToCursor){var i=t.pageX,n=t.pageY;i<this.$element.offset().left&&(i=this.$element.offset().left),i>this.$element.offset().left+this.$element.width()&&(i=this.$element.offset().left+this.$element.width()),n<this.$element.offset.top&&(n=this.$element.offset().top),n>this.$element.offset().top+this.$element.height()&&(n=this.$element.offset().top+this.$element.height()),20>i&&(i=20),0>n&&(n=0),this.showByCoordinates(i,n)}else this.repositionEditor();e(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),0!==this.options.buttons.length||this.options.editInPopup||this.$editor.hide()}else e(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),this.repositionEditor();this.hidePopups(),this.options.editInPopup||this.showEditPopupWrapper(),this.$bttn_wrapper.show(),this.refreshButtons(),this.imageMode=!1}},e.Editable.prototype.hideDropdowns=function(){this.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"),this.$bttn_wrapper.find(".fr-dropdown .fr-trigger")},e.Editable.prototype.hide=function(e){return this.initialized?(void 0===e&&(e=!0),e?this.hideOtherEditors():(this.closeImageMode(),this.imageMode=!1),this.$popup_editor.hide(),this.hidePopups(!1),void(this.link=!1)):!1},e.Editable.prototype.hideOtherEditors=function(){for(var t=1;t<=e.Editable.count;t++)t!=this._id&&this.$window.trigger("hide."+t)},e.Editable.prototype.hideBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.hide()},e.Editable.prototype.showBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.show()},e.Editable.prototype.showEditPopupWrapper=function(){this.$edit_popup_wrapper&&(this.$edit_popup_wrapper.show(),setTimeout(e.proxy(function(){this.$edit_popup_wrapper.find("input").val(this.$element.text()).focus().select()},this),1))},e.Editable.prototype.hidePopups=function(e){void 0===e&&(e=!0),e&&this.hideBttnWrapper(),this.raiseEvent("hidePopups")},e.Editable.prototype.showEditPopup=function(){this.showEditPopupWrapper()}}(jQuery),function(e){e.Editable.prototype.getBoundingRect=function(){var t;if(this.isLink){t={};var i=this.$element;t.left=i.offset().left-this.$window.scrollLeft(),t.top=i.offset().top-this.$window.scrollTop(),t.width=i.outerWidth(),t.height=parseInt(i.css("padding-top").replace("px",""),10)+i.height(),t.right=1,t.bottom=1,t.ok=!0}else if(this.getRange()&&this.getRange().collapsed){var n=e(this.getSelectionElement());this.saveSelectionByMarkers();var s=this.$element.find(".f-marker:first");s.css("display","inline");var r=s.offset();s.css("display","none"),t={},t.left=r.left-this.$window.scrollLeft(),t.width=0,t.height=(parseInt(n.css("line-height").replace("px",""),10)||10)-10-this.$window.scrollTop(),t.top=r.top,t.right=1,t.bottom=1,t.ok=!0,this.removeMarkers()}else this.getRange()&&(t=this.getRange().getBoundingClientRect());return t},e.Editable.prototype.repositionEditor=function(e){var t,i,n;if(this.options.inlineMode||e){if(t=this.getBoundingRect(),this.showBttnWrapper(),t.ok||t.left>=0&&t.top>=0&&t.right>0&&t.bottom>0)i=t.left+t.width/2,n=t.top+t.height,this.iOS()&&this.iOSVersion()<8||(i+=this.$window.scrollLeft(),n+=this.$window.scrollTop()),this.showByCoordinates(i,n);else if(this.options.alwaysVisible)this.hide();else{var s=this.$element.offset();this.showByCoordinates(s.left,s.top+10)}0===this.options.buttons.length&&this.hide()}},e.Editable.prototype.showByCoordinates=function(e,t){e-=22,t+=8;var i=this.$document.find(this.options.scrollableContainer);"body"!=this.options.scrollableContainer&&(e-=i.offset().left,t-=i.offset().top,this.iPad()||(e+=i.scrollLeft(),t+=i.scrollTop()));var n=Math.max(this.$popup_editor.outerWidth(),250);e+n>=i.outerWidth()-50&&e+44-n>0?(this.$popup_editor.addClass("right-side"),e=i.outerWidth()-(e+44),"static"==i.css("position")&&(e=e+parseFloat(i.css("margin-left"),10)+parseFloat(i.css("margin-right"),10)),this.$popup_editor.css("top",t),this.$popup_editor.css("right",e),this.$popup_editor.css("left","auto")):e+n<i.outerWidth()-50?(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",t),this.$popup_editor.css("left",e),this.$popup_editor.css("right","auto")):(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",t),this.$popup_editor.css("left",Math.max(i.outerWidth()-n,10)/2),this.$popup_editor.css("right","auto")),this.$popup_editor.show()},e.Editable.prototype.positionPopup=function(t){if(e(this.$editor.find('button.fr-bttn[data-cmd="'+t+'"]')).length){var i=this.$editor.find('button.fr-bttn[data-cmd="'+t+'"]'),n=i.width(),s=i.height(),r=i.offset().left+n/2,a=i.offset().top+s;this.showByCoordinates(r,a)}}}(jQuery),function(e){e.Editable.prototype.refreshImageAlign=function(e){this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var t="floatImageNone",i="center";e.hasClass("fr-fil")?(i="left",t="floatImageLeft"):e.hasClass("fr-fir")&&(i="right",t="floatImageRight"),this.$image_editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+i),this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+t+'"]').addClass("active")},e.Editable.prototype.refreshImageDisplay=function(){var e=this.$element.find(".f-img-editor");this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li').removeClass("active"),e.hasClass("fr-dib")?this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dib"]').addClass("active"):this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dii"]').addClass("active")},e.Editable.image_commands={align:{title:"Alignment",icon:"fa fa-align-center",refresh:e.Editable.prototype.refreshImageAlign,refreshOnShow:e.Editable.prototype.refreshImageAlign,seed:[{cmd:"floatImageLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"floatImageNone",title:"Align Center",icon:"fa fa-align-center"},{cmd:"floatImageRight",title:"Align Right",icon:"fa fa-align-right"}],callback:function(e,t,i){this[i](e)},undo:!0},display:{title:"Text Wrap",icon:"fa fa-star",refreshOnShow:e.Editable.prototype.refreshImageDisplay,namespace:"Image",seed:[{title:"Inline",value:"fr-dii"},{title:"Break Text",value:"fr-dib"}],callback:function(e,t,i){this.displayImage(e,i)},undo:!0},linkImage:{title:"Insert Link",icon:{type:"font",value:"fa fa-link"},callback:function(e){this.linkImage(e)}},replaceImage:{title:"Replace Image",icon:{type:"font",value:"fa fa-exchange"},callback:function(e){this.replaceImage(e)}},removeImage:{title:"Remove Image",icon:{type:"font",value:"fa fa-trash-o"},callback:function(e){this.removeImage(e)}}},e.Editable.DEFAULTS=e.extend(e.Editable.DEFAULTS,{allowedImageTypes:["jpeg","jpg","png","gif"],customImageButtons:{},defaultImageTitle:"Image title",defaultImageWidth:300,defaultImageDisplay:"block",defaultImageAlignment:"center",imageButtons:["display","align","linkImage","replaceImage","removeImage"],imageDeleteConfirmation:!0,imageDeleteURL:null,imageDeleteParams:{},imageMove:!0,imageResize:!0,imageLink:!0,imageTitle:!0,imageUpload:!0,imageUploadParams:{},imageUploadParam:"file",imageUploadToS3:!1,imageUploadURL:"http://i.froala.com/upload",maxImageSize:10485760,pasteImage:!0,textNearImage:!0}),e.Editable.prototype.hideImageEditorPopup=function(){this.$image_editor&&this.$image_editor.hide()},e.Editable.prototype.showImageEditorPopup=function(){this.$image_editor&&this.$image_editor.show(),this.options.imageMove||this.$element.attr("contenteditable",!1)},e.Editable.prototype.showImageWrapper=function(){this.$image_wrapper&&this.$image_wrapper.show()},e.Editable.prototype.hideImageWrapper=function(e){this.$image_wrapper&&(this.$element.attr("data-resize")||e||(this.closeImageMode(),this.imageMode=!1),this.$image_wrapper.hide(),this.$image_wrapper.find("input").blur())},e.Editable.prototype.showInsertImage=function(){this.hidePopups(),this.showImageWrapper()},e.Editable.prototype.showImageEditor=function(){this.hidePopups(),this.showImageEditorPopup()},e.Editable.prototype.insertImageHTML=function(){var t='<div class="froala-popup froala-image-popup" style="display: none;"><h4><span data-text="true">Insert Image</span><span data-text="true">Uploading image</span><i title="Cancel" class="fa fa-times" id="f-image-close-'+this._id+'"></i></h4>';return t+='<div id="f-image-list-'+this._id+'">',this.options.imageUpload&&(t+='<div class="f-popup-line drop-upload">',t+='<div class="f-upload" id="f-upload-div-'+this._id+'"><strong data-text="true">Drop Image</strong><br>(<span data-text="true">or click</span>)<form target="frame-'+this._id+'" enctype="multipart/form-data" encoding="multipart/form-data" action="'+this.options.imageUploadURL+'" method="post" id="f-upload-form-'+this._id+'"><input id="f-file-upload-'+this._id+'" type="file" name="'+this.options.imageUploadParam+'" accept="image/*"></form></div>',this.browser.msie&&e.Editable.getIEversion()<=9&&(t+='<iframe id="frame-'+this._id+'" name="frame-'+this._id+'" src="javascript:false;" style="width:0; height:0; border:0px solid #FFF; position: fixed; z-index: -1;"></iframe>'),t+="</div>"),this.options.imageLink&&(t+='<div class="f-popup-line"><label><span data-text="true">Enter URL</span>: </label><input id="f-image-url-'+this._id+'" type="text" placeholder="http://example.com"><button class="f-browse fr-p-bttn" id="f-browser-'+this._id+'"><i class="fa fa-search"></i></button><button data-text="true" class="f-ok fr-p-bttn f-submit" id="f-image-ok-'+this._id+'">OK</button></div>'),t+="</div>",t+='<p class="f-progress" id="f-progress-'+this._id+'"><span></span></p>',t+="</div>"},e.Editable.prototype.iFrameLoad=function(){var e=this.$image_wrapper.find("iframe#frame-"+this._id);if(!e.attr("data-loaded"))return e.attr("data-loaded",!0),!1;try{var t=this.$image_wrapper.find("#f-upload-form-"+this._id);if(this.options.imageUploadToS3){var i=t.attr("action"),n=t.find('input[name="key"]').val(),s=i+n;this.writeImage(s),this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,s,n)}else{var r=e.contents().text();this.parseImageResponse(r)}}catch(a){this.throwImageError(7)}},e.Editable.prototype.initImage=function(){this.buildInsertImage(),(!this.isLink||this.isImage)&&this.initImagePopup(),this.addListener("destroy",this.destroyImage)},e.Editable.initializers.push(e.Editable.prototype.initImage),e.Editable.prototype.destroyImage=function(){this.$image_editor&&this.$image_editor.html("").removeData().remove(),this.$image_wrapper&&this.$image_wrapper.html("").removeData().remove()},e.Editable.prototype.buildInsertImage=function(){this.$image_wrapper=e(this.insertImageHTML()),this.$popup_editor.append(this.$image_wrapper);var t=this;if(this.$image_wrapper.on("mouseup touchend",e.proxy(function(e){this.isResizing()||e.stopPropagation()},this)),this.addListener("hidePopups",e.proxy(function(){this.hideImageWrapper(!0)},this)),this.$progress_bar=this.$image_wrapper.find("p#f-progress-"+this._id),this.options.imageUpload){if(this.browser.msie&&e.Editable.getIEversion()<=9){var i=this.$image_wrapper.find("iframe").get(0);i.attachEvent?i.attachEvent("onload",function(){t.iFrameLoad()}):i.onload=function(){t.iFrameLoad()}}this.$image_wrapper.on("change",'input[type="file"]',function(){if(void 0!==this.files)t.uploadImage(this.files);else{if(!t.triggerEvent("beforeImageUpload",[],!1))return!1;var i=e(this).parents("form");i.find('input[type="hidden"]').remove();var n;for(n in t.options.imageUploadParams)i.prepend('<input type="hidden" name="'+n+'" value="'+t.options.imageUploadParams[n]+'" />');if(t.options.imageUploadToS3!==!1){for(n in t.options.imageUploadToS3.params)i.prepend('<input type="hidden" name="'+n+'" value="'+t.options.imageUploadToS3.params[n]+'" />');i.prepend('<input type="hidden" name="success_action_status" value="201" />'),i.prepend('<input type="hidden" name="X-Requested-With" value="xhr" />'),i.prepend('<input type="hidden" name="Content-Type" value="" />'),i.prepend('<input type="hidden" name="key" value="'+t.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+e(this).val().match(/[^\/\\]+$/)+'" />')}else i.prepend('<input type="hidden" name="XHR_CORS_TRARGETORIGIN" value="'+t.window.location.href+'" />');t.showInsertImage(),t.showImageLoader(!0),t.disable(),i.submit()}e(this).val("")})}this.buildDragUpload(),this.$image_wrapper.on("mouseup keydown","#f-image-url-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation()},this)),this.$image_wrapper.on("click","#f-image-ok-"+this._id,e.proxy(function(){this.writeImage(this.$image_wrapper.find("#f-image-url-"+this._id).val(),!0)},this)),this.$image_wrapper.on(this.mouseup,"#f-image-close-"+this._id,e.proxy(function(e){return this.isDisabled?!1:(e.stopPropagation(),this.$bttn_wrapper.show(),this.hideImageWrapper(!0),this.options.inlineMode&&0===this.options.buttons.length&&(this.imageMode?this.showImageEditor():this.hide()),this.imageMode||(this.restoreSelection(),this.focus()),void(this.options.inlineMode||this.imageMode?this.imageMode&&this.showImageEditor():this.hide()))},this)),this.$image_wrapper.on("click",function(e){e.stopPropagation()}),this.$image_wrapper.on("click","*",function(e){e.stopPropagation()})},e.Editable.prototype.deleteImage=function(t){if(this.options.imageDeleteURL){var i=this.options.imageDeleteParams;i.info=t.data("info"),i.src=t.attr("src"),e.ajax({type:"POST",url:this.options.imageDeleteURL,data:i,crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(e.proxy(function(e){t.parent().parent().hasClass("f-image-list")?t.parent().remove():t.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteSuccess",[e],!1)},this)).fail(e.proxy(function(){t.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Error during image delete."],!1)},this))}else t.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Missing imageDeleteURL option."],!1)},e.Editable.prototype.imageHandle=function(){var t=this,i=e('<span data-fr-verified="true">').addClass("f-img-handle").on({movestart:function(i){t.hide(),t.$element.addClass("f-non-selectable").attr("contenteditable",!1),t.$element.attr("data-resize",!0),e(this).attr("data-start-x",i.startX),e(this).attr("data-start-y",i.startY)},move:function(i){var n=e(this),s=i.pageX-parseInt(n.attr("data-start-x"),10);n.attr("data-start-x",i.pageX),n.attr("data-start-y",i.pageY);var r=n.prevAll("img"),a=r.width();n.hasClass("f-h-ne")||n.hasClass("f-h-se")?r.attr("width",a+s):r.attr("width",a-s),t.triggerEvent("imageResize",[r],!1)},moveend:function(){e(this).removeAttr("data-start-x"),e(this).removeAttr("data-start-y");var i=e(this),n=i.prevAll("img");t.$element.removeClass("f-non-selectable"),t.isImage||t.$element.attr("contenteditable",!0),t.triggerEvent("imageResizeEnd",[n]),e(this).trigger("mouseup")},touchend:function(){e(this).trigger("moveend")}});return i},e.Editable.prototype.disableImageResize=function(){if(this.browser.mozilla)try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}},e.Editable.prototype.isResizing=function(){return this.$element.attr("data-resize")},e.Editable.prototype.getImageStyle=function(e){var t="z-index: 1; position: relative; overflow: auto;",i=e,n="padding";return e.parent().hasClass("f-img-editor")&&(i=e.parent(),n="margin"),t+=" padding-left:"+i.css(n+"-left")+";",t+=" padding-right:"+i.css(n+"-right")+";",t+=" padding-bottom:"+i.css(n+"-bottom")+";",t+=" padding-top:"+i.css(n+"-top")+";",e.hasClass("fr-dib")?(t+=" vertical-align: top; display: block;",t+=e.hasClass("fr-fir")?" float: none; margin-right: 0; margin-left: auto;":e.hasClass("fr-fil")?" float: none; margin-left: 0; margin-right: auto;":" float: none; margin: auto;"):(t+=" display: inline-block;",t+=e.hasClass("fr-fir")?" float: right;":e.hasClass("fr-fil")?" float: left;":" float: none;"),t},e.Editable.prototype.getImageClass=function(e){var t=e.split(" ");return e="fr-fin",t.indexOf("fr-fir")>=0&&(e="fr-fir"),t.indexOf("fr-fil")>=0&&(e="fr-fil"),t.indexOf("fr-dib")>=0&&(e+=" fr-dib"),t.indexOf("fr-dii")>=0&&(e+=" fr-dii"),e},e.Editable.prototype.refreshImageButtons=function(e){this.$image_editor.find("button").removeClass("active");var t=e.css("float");t=e.hasClass("fr-fil")?"Left":e.hasClass("fr-fir")?"Right":"None",this.$image_editor.find('button[data-cmd="floatImage'+t+'"]').addClass("active"),this.raiseEvent("refreshImage",[e])},e.Editable.prototype.initImageEvents=function(){document.addEventListener&&!document.dropAssigned&&(document.dropAssigned=!0,document.addEventListener("drop",e.proxy(function(t){return e(".froala-element img.fr-image-move").length?(t.preventDefault(),t.stopPropagation(),e(".froala-element img.fr-image-move").removeClass("fr-image-move"),!1):void 0},this))),this.disableImageResize();var t=this;this.$element.on("mousedown",'img:not([contenteditable="false"])',function(i){return t.isDisabled?!1:void(t.isResizing()||(t.initialized&&i.stopPropagation(),t.$element.attr("contenteditable",!1),e(this).addClass("fr-image-move")))}),this.$element.on("mouseup",'img:not([contenteditable="false"])',function(){return t.isDisabled?!1:void(t.isResizing()||(t.options.imageMove||t.isImage||t.isHTML||t.$element.attr("contenteditable",!0),e(this).removeClass("fr-image-move")))}),this.$element.on("click touchend",'img:not([contenteditable="false"])',function(i){if(t.isDisabled)return!1;if(!t.isResizing()&&t.initialized){if(i.preventDefault(),i.stopPropagation(),t.closeImageMode(),t.$element.blur(),t.refreshImageButtons(e(this)),t.$image_editor.find('.f-image-alt input[type="text"]').val(e(this).attr("alt")||e(this).attr("title")),t.showImageEditor(),!e(this).parent().hasClass("f-img-editor")||"SPAN"!=e(this).parent().get(0).tagName){var n=t.getImageClass(e(this).attr("class"));e(this).wrap('<span data-fr-verified="true" class="f-img-editor '+n+'"></span>'),0!==e(this).parents(".f-img-wrap").length||t.isImage?e(this).parents(".f-img-wrap").attr("class",n+" f-img-wrap"):e(this).parents("a").length>0?e(this).parents("a:first").wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>'):e(this).parent().wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>')}if(e(this).parent().find(".f-img-handle").remove(),t.options.imageResize){var s=t.imageHandle();e(this).parent().append(s.clone(!0).addClass("f-h-ne")),e(this).parent().append(s.clone(!0).addClass("f-h-se")),e(this).parent().append(s.clone(!0).addClass("f-h-sw")),e(this).parent().append(s.clone(!0).addClass("f-h-nw"))}t.showByCoordinates(e(this).offset().left+e(this).width()/2,e(this).offset().top+e(this).height()),t.imageMode=!0,t.$bttn_wrapper.find(".fr-bttn").removeClass("active"),t.clearSelection()}}),this.$element.on("mousedown touchstart",".f-img-handle",e.proxy(function(){return t.isDisabled?!1:void this.$element.attr("data-resize",!0)},this)),this.$element.on("mouseup",".f-img-handle",e.proxy(function(i){if(t.isDisabled)return!1;
var n=e(i.target).prevAll("img");setTimeout(e.proxy(function(){this.$element.removeAttr("data-resize"),n.click()},this),0)},this))},e.Editable.prototype.execImage=function(t,i,n){var s=this.$element.find("span.f-img-editor"),r=s.find("img"),a=e.Editable.image_commands[t]||this.options.customImageButtons[t];a&&a.callback&&a.callback.apply(this,[r,t,i,n])},e.Editable.prototype.bindImageRefreshListener=function(t){t.refresh&&this.addListener("refreshImage",e.proxy(function(e){t.refresh.apply(this,[e])},this))},e.Editable.prototype.buildImageButton=function(e,t){var i='<button class="fr-bttn" data-namespace="Image" data-cmd="'+t+'" title="'+e.title+'">';return i+=void 0!==this.options.icons[t]?this.prepareIcon(this.options.icons[t],e.title):this.prepareIcon(e.icon,e.title),i+="</button>",this.bindImageRefreshListener(e),i},e.Editable.prototype.buildImageAlignDropdown=function(e){this.bindImageRefreshListener(e);for(var t='<ul class="fr-dropdown-menu f-align">',i=0;i<e.seed.length;i++){var n=e.seed[i];t+='<li data-cmd="align" data-namespace="Image" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return t+="</ul>"},e.Editable.prototype.buildImageDropdown=function(e){return dropdown=this.buildDefaultDropdown(e),btn=this.buildDropdownButton(e,dropdown),btn},e.Editable.prototype.image_command_dispatcher={align:function(e){var t=this.buildImageAlignDropdown(e),i=this.buildDropdownButton(e,t);return i}},e.Editable.prototype.buildImageButtons=function(){for(var t="",i=0;i<this.options.imageButtons.length;i++){var n=this.options.imageButtons[i];if(void 0!==e.Editable.image_commands[n]||void 0!==this.options.customImageButtons[n]){var s=e.Editable.image_commands[n]||this.options.customImageButtons[n];s.cmd=n;var r=this.image_command_dispatcher[n];t+=r?r.apply(this,[s]):s.seed?this.buildImageDropdown(s,n):this.buildImageButton(s,n)}}return t},e.Editable.prototype.initImagePopup=function(){this.$image_editor=e('<div class="froala-popup froala-image-editor-popup" style="display: none">');var t=e('<div class="f-popup-line f-popup-toolbar">').appendTo(this.$image_editor);t.append(this.buildImageButtons()),this.addListener("hidePopups",this.hideImageEditorPopup),this.options.imageTitle&&e('<div class="f-popup-line f-image-alt">').append('<label><span data-text="true">Title</span>: </label>').append(e('<input type="text">').on("mouseup keydown touchend",function(e){var t=e.which;t&&27===t||e.stopPropagation()})).append('<button class="fr-p-bttn f-ok" data-text="true" data-callback="setImageAlt" data-cmd="setImageAlt" title="OK">OK</button>').appendTo(this.$image_editor),this.$popup_editor.append(this.$image_editor),this.bindCommandEvents(this.$image_editor),this.bindDropdownEvents(this.$image_editor)},e.Editable.prototype.displayImage=function(e,t){var i=e.parents("span.f-img-editor");i.removeClass("fr-dii fr-dib").addClass(t),this.triggerEvent("imageDisplayed",[e,t]),e.click()},e.Editable.prototype.floatImageLeft=function(e){var t=e.parents("span.f-img-editor");t.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fil"),this.isImage&&this.$element.css("float","left"),this.triggerEvent("imageFloatedLeft",[e]),e.click()},e.Editable.prototype.floatImageNone=function(e){var t=e.parents("span.f-img-editor");t.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fin"),this.isImage||(t.parent().get(0)==this.$element.get(0)?t.wrap('<div style="text-align: center;"></div>'):t.parents(".f-img-wrap:first").css("text-align","center")),this.isImage&&this.$element.css("float","none"),this.triggerEvent("imageFloatedNone",[e]),e.click()},e.Editable.prototype.floatImageRight=function(e){var t=e.parents("span.f-img-editor");t.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fir"),this.isImage&&this.$element.css("float","right"),this.triggerEvent("imageFloatedRight",[e]),e.click()},e.Editable.prototype.linkImage=function(e){this.imageMode=!0,this.showInsertLink();var t=e.parents("span.f-img-editor");"A"==t.parent().get(0).tagName?this.updateLinkValues(t.parent()):this.resetLinkValues()},e.Editable.prototype.replaceImage=function(e){this.showInsertImage(),this.imageMode=!0,this.$image_wrapper.find('input[type="text"]').val(e.attr("src")),this.showByCoordinates(e.offset().left+e.width()/2,e.offset().top+e.height())},e.Editable.prototype.removeImage=function(t){var i=t.parents("span.f-img-editor");if(0===i.length)return!1;var n=t.get(0),s="Are you sure? Image will be deleted.";if(e.Editable.LANGS[this.options.language]&&(s=e.Editable.LANGS[this.options.language].translation[s]),!this.options.imageDeleteConfirmation||confirm(s)){if(this.triggerEvent("beforeRemoveImage",[e(n)],!1)){var r=i.parents(this.valid_nodes.join(","));i.parents(".f-img-wrap").length?i.parents(".f-img-wrap").remove():i.remove(),this.refreshImageList(!0),this.hide(),r.length&&r[0]!=this.$element.get(0)&&""===e(r[0]).text()&&1==r[0].childNodes.length&&e(r[0]).remove(),this.wrapText(),this.triggerEvent("afterRemoveImage",[t]),this.focus(),this.imageMode=!1}}else t.click()},e.Editable.prototype.setImageAlt=function(){var e=this.$element.find("span.f-img-editor"),t=e.find("img");t.attr("alt",this.$image_editor.find('.f-image-alt input[type="text"]').val()),t.attr("title",this.$image_editor.find('.f-image-alt input[type="text"]').val()),this.hide(),this.closeImageMode(),this.triggerEvent("imageAltSet",[t])},e.Editable.prototype.buildImageMove=function(){var t=this;this.isLink||this.initDrag(),t.$element.on("dragover dragenter dragend",function(e){e.preventDefault()}),t.$element.on("drop",function(i){if(t.isDisabled)return!1;if(t.closeImageMode(),t.hide(),t.imageMode=!1,t.initialized||(t.$element.unbind("mousedown.element"),t.lateInit()),!t.options.imageUpload||0!==e(".froala-element img.fr-image-move").length){if(e(".froala-element .fr-image-move").length>0&&t.options.imageMove){i.preventDefault(),i.stopPropagation(),t.insertMarkersAtPoint(i.originalEvent),t.restoreSelectionByMarkers();var n=e("<div>").append(e(".froala-element img.fr-image-move").clone().removeClass("fr-image-move").addClass("fr-image-dropped")).html();t.insertHTML(n);var s=e(".froala-element img.fr-image-move").parent();e(".froala-element img.fr-image-move").remove(),s.get(0)!=t.$element.get(0)&&s.is(":empty")&&s.remove(),t.clearSelection(),t.initialized?setTimeout(function(){t.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped").click()},0):t.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped"),t.sync(),t.hideOtherEditors()}else i.preventDefault(),i.stopPropagation(),e(".froala-element img.fr-image-move").removeClass("fr-image-move");return!1}if(i.originalEvent.dataTransfer&&i.originalEvent.dataTransfer.files&&i.originalEvent.dataTransfer.files.length){if(t.isDisabled)return!1;var r=i.originalEvent.dataTransfer.files;t.options.allowedImageTypes.indexOf(r[0].type.replace(/image\//g,""))>=0&&(t.insertMarkersAtPoint(i.originalEvent),t.showByCoordinates(i.originalEvent.pageX,i.originalEvent.pageY),t.uploadImage(r),i.preventDefault(),i.stopPropagation())}})},e.Editable.prototype.buildDragUpload=function(){var t=this;t.$image_wrapper.on("dragover","#f-upload-div-"+this._id,function(){return e(this).addClass("f-hover"),!1}),t.$image_wrapper.on("dragend","#f-upload-div-"+this._id,function(){return e(this).removeClass("f-hover"),!1}),t.$image_wrapper.on("drop","#f-upload-div-"+this._id,function(i){return i.preventDefault(),i.stopPropagation(),t.options.imageUpload?(e(this).removeClass("f-hover"),void t.uploadImage(i.originalEvent.dataTransfer.files)):!1})},e.Editable.prototype.showImageLoader=function(t){if(void 0===t&&(t=!1),t){var i="Please wait!";e.Editable.LANGS[this.options.language]&&(i=e.Editable.LANGS[this.options.language].translation[i]),this.$progress_bar.find("span").css("width","100%").text(i)}else this.$image_wrapper.find("h4").addClass("uploading");this.$image_wrapper.find("#f-image-list-"+this._id).hide(),this.$progress_bar.show(),this.showInsertImage()},e.Editable.prototype.hideImageLoader=function(){this.$progress_bar.hide(),this.$progress_bar.find("span").css("width","0%").text(""),this.$image_wrapper.find("#f-image-list-"+this._id).show(),this.$image_wrapper.find("h4").removeClass("uploading")},e.Editable.prototype.writeImage=function(t,i,n){if(i&&(t=this.sanitizeURL(t),""===t))return!1;var s=new Image;s.onerror=e.proxy(function(){this.hideImageLoader(),this.throwImageError(1)},this),s.onload=this.imageMode?e.proxy(function(){var e=this.$element.find(".f-img-editor > img");e.attr("src",t),this.hide(),this.hideImageLoader(),this.$image_editor.show(),this.enable(),this.triggerEvent("imageReplaced",[e,n]),setTimeout(function(){e.trigger("click")},0)},this):e.proxy(function(){this.insertLoadedImage(t,n)},this),this.showImageLoader(!0),s.src=t},e.Editable.prototype.processInsertImage=function(t,i){void 0===i&&(i=!0),this.enable(),this.focus(),this.restoreSelection();var n="";parseInt(this.options.defaultImageWidth,10)&&(n=' width="'+this.options.defaultImageWidth+'"');var s="fr-fin";"left"==this.options.defaultImageAlignment&&(s="fr-fil"),"right"==this.options.defaultImageAlignment&&(s="fr-fir"),s+=" fr-di"+this.options.defaultImageDisplay[0];var r='<img class="'+s+' fr-just-inserted" alt="'+this.options.defaultImageTitle+'" src="'+t+'"'+n+">",a=this.getSelectionElements()[0],o=this.getRange(),l=!this.browser.msie&&e.Editable.getIEversion()>8?e(o.startContainer):null;l&&l.hasClass("f-img-wrap")?(1===o.startOffset?(l.after("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()):0===o.startOffset&&(l.before("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()),this.insertHTML(r)):this.getSelectionTextInfo(a).atStart&&a!=this.$element.get(0)&&"TD"!=a.tagName&&"TH"!=a.tagName&&"LI"!=a.tagName?e(a).before("<"+this.options.defaultTag+">"+r+"</"+this.options.defaultTag+">"):this.insertHTML(r),this.disable()},e.Editable.prototype.insertLoadedImage=function(t,i){this.triggerEvent("imageLoaded",[t],!1),this.processInsertImage(t,!1),this.browser.msie&&this.$element.find("img").each(function(e,t){t.oncontrolselect=function(){return!1}}),this.enable(),this.hide(),this.hideImageLoader(),this.wrapText(),this.cleanupLists();var n,s=this.$element.find("img.fr-just-inserted").get(0);s&&(n=s.previousSibling),n&&3==n.nodeType&&/\u200B/gi.test(n.textContent)&&e(n).remove(),this.triggerEvent("imageInserted",[this.$element.find("img.fr-just-inserted"),i]),setTimeout(e.proxy(function(){this.$element.find("img.fr-just-inserted").removeClass("fr-just-inserted").trigger("touchend")},this),50)},e.Editable.prototype.throwImageErrorWithMessage=function(e){this.enable(),this.triggerEvent("imageError",[{message:e,code:0}],!1),this.hideImageLoader()},e.Editable.prototype.throwImageError=function(e){this.enable();var t="Unknown image upload error.";1==e?t="Bad link.":2==e?t="No link in upload response.":3==e?t="Error during file upload.":4==e?t="Parsing response failed.":5==e?t="Image too large.":6==e?t="Invalid image type.":7==e&&(t="Image can be uploaded only to same domain in IE 8 and IE 9."),this.triggerEvent("imageError",[{code:e,message:t}],!1),this.hideImageLoader()},e.Editable.prototype.uploadImage=function(t){if(!this.triggerEvent("beforeImageUpload",[t],!1))return!1;if(void 0!==t&&t.length>0){var i;if(this.drag_support.formdata&&(i=this.drag_support.formdata?new FormData:null),i){var n;for(n in this.options.imageUploadParams)i.append(n,this.options.imageUploadParams[n]);if(this.options.imageUploadToS3!==!1){for(n in this.options.imageUploadToS3.params)i.append(n,this.options.imageUploadToS3.params[n]);i.append("success_action_status","201"),i.append("X-Requested-With","xhr"),i.append("Content-Type",t[0].type),i.append("key",this.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+t[0].name)}if(i.append(this.options.imageUploadParam,t[0]),t[0].size>this.options.maxImageSize)return this.throwImageError(5),!1;if(this.options.allowedImageTypes.indexOf(t[0].type.replace(/image\//g,""))<0)return this.throwImageError(6),!1}if(i){var s;if(this.options.crossDomain)s=this.createCORSRequest("POST",this.options.imageUploadURL);else{s=new XMLHttpRequest,s.open("POST",this.options.imageUploadURL);for(var r in this.options.headers)s.setRequestHeader(r,this.options.headers[r])}s.onload=e.proxy(function(){var t="Please wait!";e.Editable.LANGS[this.options.language]&&(t=e.Editable.LANGS[this.options.language].translation[t]),this.$progress_bar.find("span").css("width","100%").text(t);try{if(this.options.imageUploadToS3)201==s.status?this.parseImageResponseXML(s.responseXML):this.throwImageError(3);else if(s.status>=200&&s.status<300)this.parseImageResponse(s.responseText);else try{var i=e.parseJSON(s.responseText);i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(3)}catch(n){this.throwImageError(3)}}catch(n){this.throwImageError(4)}},this),s.onerror=e.proxy(function(){this.throwImageError(3)},this),s.upload.onprogress=e.proxy(function(e){if(e.lengthComputable){var t=e.loaded/e.total*100|0;this.$progress_bar.find("span").css("width",t+"%")}},this),this.disable(),s.send(i),this.showImageLoader()}}},e.Editable.prototype.parseImageResponse=function(t){try{if(!this.triggerEvent("afterImageUpload",[t],!1))return!1;var i=e.parseJSON(t);i.link?this.writeImage(i.link,!1,t):i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(2)}catch(n){this.throwImageError(4)}},e.Editable.prototype.parseImageResponseXML=function(t){try{var i=e(t).find("Location").text(),n=e(t).find("Key").text();this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,i,n),i?this.writeImage(i):this.throwImageError(2)}catch(s){this.throwImageError(4)}},e.Editable.prototype.setImageUploadURL=function(e){e&&(this.options.imageUploadURL=e),this.options.imageUploadToS3&&(this.options.imageUploadURL="https://"+this.options.imageUploadToS3.bucket+"."+this.options.imageUploadToS3.region+".amazonaws.com/")},e.Editable.prototype.closeImageMode=function(){this.$element.find("span.f-img-editor > img").each(e.proxy(function(t,i){e(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(e(i).parent().attr("class"))),e(i).parents(".f-img-wrap").length>0?"A"==e(i).parent().parent().get(0).tagName?e(i).siblings("span.f-img-handle").remove().end().unwrap().parent().unwrap():e(i).siblings("span.f-img-handle").remove().end().unwrap().unwrap():e(i).siblings("span.f-img-handle").remove().end().unwrap()},this)),this.$element.find("span.f-img-editor").length&&(this.$element.find("span.f-img-editor").remove(),this.$element.parents("span.f-img-editor").remove()),this.$element.removeClass("f-non-selectable"),this.editableDisabled||this.isHTML||this.$element.attr("contenteditable",!0),this.$image_editor&&this.$image_editor.hide(),this.$link_wrapper&&this.options.linkText&&this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden")},e.Editable.prototype.refreshImageList=function(t){if(!this.isLink&&!this.options.editInPopup){var i=[],n=[],s=this;if(this.$element.find("img").each(function(t,r){var a=e(r);if(i.push(a.attr("src")),n.push(a),"false"==a.attr("contenteditable"))return!0;if(0!==a.parents(".f-img-editor").length||a.hasClass("fr-dii")||a.hasClass("fr-dib")||(s.options.textNearImage?a.addClass(a.hasClass("fr-fin")?"fr-dib":a.hasClass("fr-fil")||a.hasClass("fr-fir")?"fr-dii":"block"==a.css("display")&&"none"==a.css("float")?"fr-dib":"fr-dii"):(a.addClass("fr-dib"),s.options.imageButtons.splice(s.options.imageButtons.indexOf("display"),1))),s.options.textNearImage||a.removeClass("fr-dii").addClass("fr-dib"),0===a.parents(".f-img-editor").length&&!a.hasClass("fr-fil")&&!a.hasClass("fr-fir")&&!a.hasClass("fr-fin"))if(a.hasClass("fr-dii"))a.addClass("right"==a.css("float")?"fr-fir":"left"==a.css("float")?"fr-fil":"fr-fin");else{var o=a.attr("style");a.hide(),a.addClass(0===parseInt(a.css("margin-right"),10)&&o?"fr-fir":0===parseInt(a.css("margin-left"),10)&&o?"fr-fil":"fr-fin"),a.show()}a.css("margin",""),a.css("float",""),a.css("display",""),a.removeAttr("data-style")}),void 0===t)for(var r=0;r<this.imageList.length;r++)i.indexOf(this.imageList[r].attr("src"))<0&&this.triggerEvent("afterRemoveImage",[this.imageList[r]],!1);this.imageList=n}},e.Editable.prototype.insertImage=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("insertImage")),this.selectionInEditor()&&this.saveSelection(),this.showInsertImage(),this.imageMode=!1,this.$image_wrapper.find('input[type="text"]').val("")}}(jQuery),function(e){e.Editable.prototype.showLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.show(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList"),this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode||!this.options.linkText?this.$link_wrapper.find('input[type="text"].f-lt').parent().addClass("fr-hidden"):this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden"),this.imageMode&&this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.phone()?this.$document.scrollTop(this.$link_wrapper.offset().top+30):setTimeout(e.proxy(function(){this.imageMode&&this.iPad()||this.$link_wrapper.find('input[type="text"].f-lu').focus().select()},this),0),this.link=!0),this.refreshDisabledState()},e.Editable.prototype.hideLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.hide(),this.$link_wrapper.find("input").blur()),this.refreshDisabledState()},e.Editable.prototype.showInsertLink=function(){this.hidePopups(),this.showLinkWrapper()},e.Editable.prototype.updateLinkValues=function(t){var i=t.attr("href")||"http://";this.$link_wrapper.find("input.f-lt").val(t.text()),this.isLink?("#"==i&&(i=""),this.$link_wrapper.find("input#f-lu-"+this._id).val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i||"#")):(this.$link_wrapper.find("input.f-lu").val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i)),this.$link_wrapper.find("input.f-target").prop("checked","_blank"==t.attr("target")),this.$link_wrapper.find("li.f-choose-link-class").each(e.proxy(function(i,n){t.hasClass(e(n).data("class"))&&e(n).click()},this));for(var n in this.options.linkAttributes){var s=t.attr(n);this.$link_wrapper.find("input.fl-"+n).val(s?s:"")}this.$link_wrapper.find("a.f-external-link, button.f-unlink").show()},e.Editable.prototype.initLinkEvents=function(){var t=this,i=function(e){e.stopPropagation(),e.preventDefault()},n=function(i){return i.stopPropagation(),i.preventDefault(),t.isDisabled?!1:""!==t.text()?(t.hide(),!1):(t.link=!0,t.clearSelection(),t.removeMarkers(),t.selectionDisabled||(e(this).before('<span class="f-marker" data-type="true" data-id="0" data-fr-verified="true"></span>'),e(this).after('<span class="f-marker" data-type="false" data-id="0" data-fr-verified="true"></span>'),t.restoreSelectionByMarkers()),t.exec("createLink"),t.updateLinkValues(e(this)),t.showByCoordinates(e(this).offset().left+e(this).outerWidth()/2,e(this).offset().top+(parseInt(e(this).css("padding-top"),10)||0)+e(this).height()),t.showInsertLink(),e(this).hasClass("fr-file")?t.$link_wrapper.find("input.f-lu").attr("disabled","disabled"):t.$link_wrapper.find("input.f-lu").removeAttr("disabled"),void t.closeImageMode())};this.$element.on("mousedown","a",e.proxy(function(e){this.isResizing()||e.stopPropagation()},this)),this.isLink?this.iOS()?(this.$element.on("touchstart",i),this.$element.on("touchend",n)):this.$element.on("click",n):this.iOS()?(this.$element.on("touchstart",'a:not([contenteditable="false"])',i),this.$element.on("touchend",'a:not([contenteditable="false"])',n),this.$element.on("touchstart",'a[contenteditable="false"]',i),this.$element.on("touchend",'a[contenteditable="false"]',i)):(this.$element.on("click",'a:not([contenteditable="false"])',n),this.$element.on("click",'a[contenteditable="false"]',i))},e.Editable.prototype.destroyLink=function(){this.$link_wrapper.html("").removeData().remove()},e.Editable.prototype.initLink=function(){this.buildCreateLink(),this.initLinkEvents(),this.addListener("destroy",this.destroyLink)},e.Editable.initializers.push(e.Editable.prototype.initLink),e.Editable.prototype.removeLink=function(){this.imageMode?("A"==this.$element.find(".f-img-editor").parent().get(0).tagName&&e(this.$element.find(".f-img-editor").get(0)).unwrap(),this.triggerEvent("imageLinkRemoved"),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1):(this.restoreSelection(),this.document.execCommand("unlink",!1,null),this.isLink||this.$element.find("a:empty").remove(),this.triggerEvent("linkRemoved"),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1)},e.Editable.prototype.writeLink=function(t,i,n,s,r){var a,o=this.options.noFollow;this.options.alwaysBlank&&(s=!0);var l,d="",c="",h="";o===!0&&/^https?:\/\//.test(t)&&(d='rel="nofollow"'),s===!0&&(c='target="_blank"');for(l in r)h+=" "+l+'="'+r[l]+'"';var p=t;if(t=this.sanitizeURL(t),this.options.convertMailAddresses){var u=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/i;u.test(t)&&0!==t.indexOf("mailto:")&&(t="mailto:"+t)}if(0===t.indexOf("mailto:")||""===this.options.linkAutoPrefix||/^(https?:|ftps?:|)\/\//.test(t)||(t=this.options.linkAutoPrefix+t),""===t)return this.$link_wrapper.find("input.f-lu").addClass("fr-error").focus(),this.triggerEvent("badLink",[p],!1),!1;if(this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode){if("A"!=this.$element.find(".f-img-editor").parent().get(0).tagName)this.$element.find(".f-img-editor").wrap('<a data-fr-link="true" href="'+t+'" '+c+" "+d+h+"></a>");else{var f=this.$element.find(".f-img-editor").parent();s===!0?f.attr("target","_blank"):f.removeAttr("target"),o===!0?f.attr("rel","nofollow"):f.removeAttr("rel");for(l in r)r[l]?f.attr(l,r[l]):f.removeAttr(l);f.removeClass(Object.keys(this.options.linkClasses).join(" ")),f.attr("href",t).addClass(n)}this.triggerEvent("imageLinkInserted",[t]),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1}else{var m=null;this.isLink?""===i&&(i=this.$element.text()):(this.restoreSelection(),a=this.getSelectionLinks(),a.length>0&&(m=a[0].attributes,is_file=e(a[0]).hasClass("fr-file")),this.saveSelectionByMarkers(),this.document.execCommand("unlink",!1,t),this.$element.find('span[data-fr-link="true"]').each(function(t,i){e(i).replaceWith(e(i).html())}),this.restoreSelectionByMarkers()),this.isLink?(this.$element.text(i),a=[this.$element.attr("href",t).get(0)]):(this.removeMarkers(),(this.options.linkText||""===this.text())&&(this.insertHTML('<span class="f-marker" data-fr-verified="true" data-id="0" data-type="true"></span>'+(i||this.clean(p))+'<span class="f-marker" data-fr-verified="true" data-id="0" data-type="false"></span>'),this.restoreSelectionByMarkers()),this.document.execCommand("createLink",!1,t),a=this.getSelectionLinks());for(var g=0;g<a.length;g++){if(m)for(var v=0;v<m.length;v++)"href"!=m[v].nodeName&&e(a[g]).attr(m[v].nodeName,m[v].value);s===!0?e(a[g]).attr("target","_blank"):e(a[g]).removeAttr("target"),o===!0&&/^https?:\/\//.test(t)?e(a[g]).attr("rel","nofollow"):e(a[g]).removeAttr("rel"),e(a[g]).data("fr-link",!0),e(a[g]).removeClass(Object.keys(this.options.linkClasses).join(" ")),e(a[g]).addClass(n);for(l in r)r[l]?e(a[g]).attr(l,r[l]):e(a[g]).removeAttr(l)}this.$element.find("a:empty").remove(),this.triggerEvent("linkInserted",[t]),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1}},e.Editable.prototype.createLinkHTML=function(){var e='<div class="froala-popup froala-link-popup" style="display: none;">';e+='<h4><span data-text="true">Insert Link</span><a target="_blank" title="Open Link" class="f-external-link" href="#"><i class="fa fa-external-link"></i></a><i title="Cancel" class="fa fa-times" id="f-link-close-'+this._id+'"></i></h4>',e+='<div class="f-popup-line fr-hidden"><input type="text" placeholder="Text" class="f-lt" id="f-lt-'+this._id+'"></div>';var t="";if(this.options.linkList.length&&(t="f-bi"),e+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu '+t+'" id="f-lu-'+this._id+'"/>',this.options.linkList.length){e+='<button class="fr-p-bttn f-browse-links" id="f-browse-links-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',e+='<ul id="f-link-list-'+this._id+'">';for(var i=0;i<this.options.linkList.length;i++){var n=this.options.linkList[i],s="";for(var r in n)s+=" data-"+r+'="'+n[r]+'"';e+='<li class="f-choose-link"'+s+">"+n.body+"</li>"}e+="</ul>"}if(e+="</div>",Object.keys(this.options.linkClasses).length){e+='<div class="f-popup-line"><input type="text" placeholder="Choose link type" class="f-bi" id="f-luc-'+this._id+'" disabled="disabled"/>',e+='<button class="fr-p-bttn f-browse-links" id="f-links-class-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',e+='<ul id="f-link-class-list-'+this._id+'">';for(var a in this.options.linkClasses){var o=this.options.linkClasses[a];e+='<li class="f-choose-link-class" data-class="'+a+'">'+o+"</li>"}e+="</ul>",e+="</div>"}for(var l in this.options.linkAttributes){var d=this.options.linkAttributes[l];e+='<div class="f-popup-line"><input class="fl-'+l+'" type="text" placeholder="'+d+'" id="fl-'+l+"-"+this._id+'"/></div>'}return e+='<div class="f-popup-line"><input type="checkbox" class="f-target" id="f-target-'+this._id+'"> <label data-text="true" for="f-target-'+this._id+'">Open in new tab</label><button data-text="true" type="button" class="fr-p-bttn f-ok f-submit" id="f-ok-'+this._id+'">OK</button>',this.options.unlinkButton&&(e+='<button type="button" data-text="true" class="fr-p-bttn f-ok f-unlink" id="f-unlink-'+this._id+'">UNLINK</button>'),e+="</div></div>"},e.Editable.prototype.buildCreateLink=function(){this.$link_wrapper=e(this.createLinkHTML()),this.$popup_editor.append(this.$link_wrapper);var t=this;this.addListener("hidePopups",this.hideLinkWrapper),this.$link_wrapper.on("mouseup touchend",e.proxy(function(e){this.isResizing()||(e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"))},this)),this.$link_wrapper.on("click",function(e){e.stopPropagation()}),this.$link_wrapper.on("click","*",function(e){e.stopPropagation()}),this.options.linkText&&this.$link_wrapper.on("mouseup keydown","input#f-lt-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("mouseup keydown touchend touchstart","input#f-lu-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click keydown","input#f-target-"+this._id,function(e){var t=e.which;t&&27===t||e.stopPropagation()}),this.$link_wrapper.on("touchend","button#f-ok-"+this._id,function(e){e.stopPropagation()}).on("click","button#f-ok-"+this._id,e.proxy(function(){var e,t=this.$link_wrapper.find("input#f-lt-"+this._id),i=this.$link_wrapper.find("input#f-lu-"+this._id),n=this.$link_wrapper.find("input#f-luc-"+this._id),s=this.$link_wrapper.find("input#f-target-"+this._id);e=t?t.val():"";var r=i.val();this.isLink&&""===r&&(r="#");var a="";n&&(a=n.data("class"));var o={};for(var l in this.options.linkAttributes)o[l]=this.$link_wrapper.find("input#fl-"+l+"-"+this._id).val();this.writeLink(r,e,a,s.prop("checked"),o)},this)),this.$link_wrapper.on("click touch","button#f-unlink-"+this._id,e.proxy(function(){this.link=!0,this.removeLink()},this)),this.options.linkList.length&&(this.$link_wrapper.on("click touch","li.f-choose-link",function(){t.resetLinkValues();var i=t.$link_wrapper.find("button#f-browse-links-"+t._id),n=t.$link_wrapper.find("input#f-lt-"+t._id),s=t.$link_wrapper.find("input#f-lu-"+t._id),r=t.$link_wrapper.find("input#f-target-"+t._id);n&&n.val(e(this).data("body")),s.val(e(this).data("href")),r.prop("checked",e(this).data("blank"));for(var a in t.options.linkAttributes)e(this).data(a)&&t.$link_wrapper.find("input#fl-"+a+"-"+t._id).val(e(this).data(a));i.click()}).on("mouseup","li.f-choose-link",function(e){e.stopPropagation()}),this.$link_wrapper.on("click","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(i){i.stopPropagation();var n=t.$link_wrapper.find("ul#f-link-list-"+t._id);t.$link_wrapper.trigger("hideLinkClassList"),e(this).find("i").toggleClass("fa-chevron-down"),e(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(e){e.stopPropagation()}),this.$link_wrapper.bind("hideLinkList",function(){var e=t.$link_wrapper.find("ul#f-link-list-"+t._id),i=t.$link_wrapper.find("button#f-browse-links-"+t._id);e&&e.is(":visible")&&i.click()})),Object.keys(this.options.linkClasses).length&&(this.$link_wrapper.on("mouseup keydown","input#f-luc-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click touch","li.f-choose-link-class",function(){var i=t.$link_wrapper.find("input#f-luc-"+t._id);i.val(e(this).text()),i.data("class",e(this).data("class")),t.$link_wrapper.trigger("hideLinkClassList")}).on("mouseup","li.f-choose-link-class",function(e){e.stopPropagation()}),this.$link_wrapper.on("click","button#f-links-class-"+this._id,function(i){i.stopPropagation(),t.$link_wrapper.trigger("hideLinkList");var n=t.$link_wrapper.find("ul#f-link-class-list-"+t._id);e(this).find("i").toggleClass("fa-chevron-down"),e(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-links-class-"+this._id,function(e){e.stopPropagation()}),this.$link_wrapper.bind("hideLinkClassList",function(){var e=t.$link_wrapper.find("ul#f-link-class-list-"+t._id),i=t.$link_wrapper.find("button#f-links-class-"+t._id);e&&e.is(":visible")&&i.click()})),this.$link_wrapper.on(this.mouseup,"i#f-link-close-"+this._id,e.proxy(function(){this.$bttn_wrapper.show(),this.hideLinkWrapper(),(!this.options.inlineMode&&!this.imageMode||this.isLink||0===this.options.buttons.length)&&this.hide(),this.imageMode?this.showImageEditor():(this.restoreSelection(),this.focus())},this))},e.Editable.prototype.getSelectionLinks=function(){var e,t,i,n,s=[];if(this.window.getSelection){var r=this.window.getSelection();if(r.getRangeAt&&r.rangeCount){n=this.document.createRange();for(var a=0;a<r.rangeCount;++a)if(e=r.getRangeAt(a),t=e.commonAncestorContainer,t&&1!=t.nodeType&&(t=t.parentNode),t&&"a"==t.nodeName.toLowerCase())s.push(t);else{i=t.getElementsByTagName("a");for(var o=0;o<i.length;++o)n.selectNodeContents(i[o]),n.compareBoundaryPoints(e.END_TO_START,e)<1&&n.compareBoundaryPoints(e.START_TO_END,e)>-1&&s.push(i[o])}}}else if(this.document.selection&&"Control"!=this.document.selection.type)if(e=this.document.selection.createRange(),t=e.parentElement(),"a"==t.nodeName.toLowerCase())s.push(t);else{i=t.getElementsByTagName("a"),n=this.document.body.createTextRange();for(var l=0;l<i.length;++l)n.moveToElementText(i[l]),n.compareEndPoints("StartToEnd",e)>-1&&n.compareEndPoints("EndToStart",e)<1&&s.push(i[l])}return s},e.Editable.prototype.resetLinkValues=function(){this.$link_wrapper.find("input").val(""),this.$link_wrapper.find('input[type="checkbox"].f-target').prop("checked",this.options.alwaysBlank),this.$link_wrapper.find('input[type="text"].f-lt').val(this.text()),this.$link_wrapper.find('input[type="text"].f-lu').val("http://"),this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.$link_wrapper.find("a.f-external-link, button.f-unlink").hide();for(var e in this.options.linkAttributes)this.$link_wrapper.find('input[type="text"].fl-'+e).val("")},e.Editable.prototype.insertLink=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("createLink")),this.selectionInEditor()&&this.saveSelection(),this.showInsertLink();var t=this.getSelectionLinks();t.length>0?this.updateLinkValues(e(t[0])):this.resetLinkValues()}}(jQuery),function(e){e.Editable.prototype.browserFixes=function(){this.backspaceEmpty(),this.backspaceInEmptyBlock(),this.fixHR(),this.domInsert(),this.fixIME(),this.cleanInvisibleSpace(),this.cleanBR(),this.insertSpace()
},e.Editable.prototype.backspaceInEmptyBlock=function(){this.$element.on("keyup",e.proxy(function(t){var i=t.which;if(this.browser.mozilla&&!this.isHTML&&8==i){var n=e(this.getSelectionElement());this.valid_nodes.indexOf(n.get(0).tagName)>=0&&1==n.find("*").length&&""===n.text()&&1==n.find("br").length&&this.setSelection(n.get(0))}},this))},e.Editable.prototype.insertSpace=function(){this.browser.mozilla&&this.$element.on("keypress",e.proxy(function(e){var t=e.which,i=this.getSelectionElements()[0];this.isHTML||32!=t||"PRE"==i.tagName||(e.preventDefault(),this.insertSimpleHTML("&nbsp;"))},this))},e.Editable.prototype.cleanBR=function(){this.$element.on("keyup",e.proxy(function(){this.$element.find(this.valid_nodes.join(",")).each(e.proxy(function(t,i){if(["TH","TD","LI"].indexOf(i.tagName)>=0)return!0;var n=i.childNodes,s=null;if(!n.length||"BR"!=n[n.length-1].tagName)return!0;s=n[n.length-1];var r=s.previousSibling;r&&"BR"!=r.tagName&&e(s).parent().text().length>0&&this.valid_nodes.indexOf(r.tagName)<0&&e(s).remove()},this))},this))},e.Editable.prototype.replaceU200B=function(t){for(var i=0;i<t.length;i++)3==t[i].nodeType&&/\u200B/gi.test(t[i].textContent)?t[i].textContent=t[i].textContent.replace(/\u200B/gi,""):1==t[i].nodeType&&this.replaceU200B(e(t[i]).contents())},e.Editable.prototype.cleanInvisibleSpace=function(){var t=function(t){var i=e(t).text();return t&&/\u200B/.test(e(t).text())&&i.replace(/\u200B/gi,"").length>0?!0:!1};this.$element.on("keyup",e.proxy(function(){var i=this.getSelectionElement();t(i)&&0===e(i).find("li").length&&(this.saveSelectionByMarkers(),this.replaceU200B(e(i).contents()),this.restoreSelectionByMarkers())},this))},e.Editable.prototype.fixHR=function(){this.$element.on("keypress",e.proxy(function(t){var i=e(this.getSelectionElement());if(i.is("hr")||i.parents("hr").length)return!1;var n=t.which;if(8==n){var s=e(this.getSelectionElements()[0]);s.prev().is("hr")&&this.getSelectionTextInfo(s.get(0)).atStart&&(this.saveSelectionByMarkers(),s.prev().remove(),this.restoreSelectionByMarkers(),t.preventDefault())}},this))},e.Editable.prototype.backspaceEmpty=function(){this.$element.on("keydown",e.proxy(function(e){var t=e.which;!this.isHTML&&8==t&&this.$element.hasClass("f-placeholder")&&e.preventDefault()},this))},e.Editable.prototype.domInsert=function(){this.$element.on("keydown",e.proxy(function(e){var t=e.which;13===t&&(this.add_br=!0)},this)),this.$element.on("DOMNodeInserted",e.proxy(function(t){if("SPAN"!==t.target.tagName||e(t.target).attr("data-fr-verified")||this.no_verify||this.textEmpty(t.target)||e(t.target).replaceWith(e(t.target).contents()),"BR"===t.target.tagName&&setTimeout(function(){e(t.target).removeAttr("type")},0),"A"===t.target.tagName&&setTimeout(function(){e(t.target).removeAttr("_moz_dirty")},0),this.options.paragraphy&&this.add_br&&"BR"===t.target.tagName&&(e(t.target).prev().length&&"TABLE"===e(t.target).prev().get(0).tagName||e(t.target).next().length&&"TABLE"===e(t.target).next().get(0).tagName)){e(t.target).wrap('<p class="fr-p-wrap">');var i=this.$element.find("p.fr-p-wrap").removeAttr("class");this.setSelection(i.get(0))}"BR"===t.target.tagName&&this.isLastSibling(t.target)&&"LI"==t.target.parentNode.tagName&&this.textEmpty(t.target.parentNode)&&e(t.target).remove()},this)),this.$element.on("keyup",e.proxy(function(e){var t=e.which;8===t&&this.$element.find("span:not([data-fr-verified])").attr("data-fr-verified",!0),13===t&&(this.add_br=!1)},this))},e.Editable.prototype.fixIME=function(){try{this.$element.get(0).msGetInputContext&&(this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowShow",e.proxy(function(){this.ime=!0},this)),this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowHide",e.proxy(function(){this.ime=!1,this.$element.trigger("keydown"),this.oldHTML=""},this)))}catch(t){}}}(jQuery),function(e){e.Editable.prototype.handleEnter=function(){var t=e.proxy(function(){var t=this.getSelectionElement();return"LI"==t.tagName||this.parents(e(t),"li").length>0?!0:!1},this);this.$element.on("keypress",e.proxy(function(e){if(!this.isHTML&&!t()){var i=e.which;if(13==i&&!e.shiftKey){e.preventDefault(),this.saveUndoStep(),this.insertSimpleHTML("<break></break>");var n=this.getSelectionElements();if(n[0]==this.$element.get(0)?this.enterInMainElement(n[0]):this.enterInElement(n[0]),this.getSelectionTextInfo(this.$element.get(0)).atEnd)this.$wrapper.scrollTop(this.$element.height());else{var s=this.getBoundingRect();this.$wrapper.offset().top+this.$wrapper.height()<s.top+s.height&&this.$wrapper.scrollTop(s.top+this.$wrapper.scrollTop()-(this.$wrapper.height()+this.$wrapper.offset().top)+s.height+10)}}}},this))},e.Editable.prototype.enterInMainElement=function(t){var i=e(t).find("break").get(0);if(e(i).parent().get(0)==t)this.isLastSibling(i)?this.insertSimpleHTML("</br>"+this.markers_html+this.br):e(t).hasClass("f-placeholder")?e(t).html("</br>"+this.markers_html+this.br):this.insertSimpleHTML("</br>"+this.markers_html),e(t).find("break").remove(),this.restoreSelectionByMarkers();else if(e(i).parents(this.$element).length){for(t=this.getSelectionElement();"BREAK"==t.tagName||0===e(t).text().length&&t.parentNode!=this.$element.get(0);)t=t.parentNode;if(this.getSelectionTextInfo(t).atEnd)e(t).after(this.breakEnd(this.getDeepParent(t),!0)),this.$element.find("break").remove(),this.restoreSelectionByMarkers();else if(this.getSelectionTextInfo(t).atStart){for(;i.parentNode!=this.$element.get(0);)i=i.parentNode;e(i).before("<br/>"),this.$element.find("break").remove(),this.$element.find("a:empty").replaceWith(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()}else this.breakMiddle(this.getDeepParent(t),!0),this.restoreSelectionByMarkers()}else e(i).remove()},e.Editable.prototype.enterInElement=function(t){if(["TD","TH"].indexOf(t.tagName)<0){var i=!1;if(this.emptyElement(t)&&t.parentNode&&"BLOCKQUOTE"==t.parentNode.tagName){e(t).before(this.$element.find("break"));var n=t;t=t.parentNode,e(n).remove(),i=!0}this.getSelectionTextInfo(t).atEnd?(e(t).after(this.breakEnd(t),!1),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):this.getSelectionTextInfo(t).atStart?(this.options.paragraphy?i?(e(t).before("<"+this.options.defaultTag+">"+this.markers_html+this.br+"</"+this.options.defaultTag+">"),this.restoreSelectionByMarkers()):e(t).before("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"):i?(e(t).before(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()):e(t).before("<br/>"),this.$element.find("break").remove()):"PRE"==t.tagName?(this.$element.find("break").after("<br/>"+this.markers_html),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):(this.breakMiddle(t,!1,i),this.restoreSelectionByMarkers())}else this.enterInMainElement(t)},e.Editable.prototype.breakEnd=function(t,i){if(void 0===i&&(i=!1),"BLOCKQUOTE"==t.tagName){var n=e(t).contents();n.length&&"BR"==n[n.length-1].tagName&&e(n[n.length-1]).remove()}var s=e(t).find("break").get(0),r=this.br;this.options.paragraphy||(r="<br/>");var a=this.markers_html+r;for(i&&(a=this.markers_html+e.Editable.INVISIBLE_SPACE);s!=t;)"A"!=s.tagName&&"BREAK"!=s.tagName&&(a="<"+s.tagName+this.attrs(s)+">"+a+"</"+s.tagName+">"),s=s.parentNode;return i&&"A"!=s.tagName&&"BREAK"!=s.tagName&&(a="<"+s.tagName+this.attrs(s)+">"+a+"</"+s.tagName+">"),this.options.paragraphy&&(a="<"+this.options.defaultTag+">"+a+"</"+this.options.defaultTag+">"),i&&(a=r+a),a},e.Editable.prototype.breakMiddle=function(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var s=e(t).find("break").get(0),r=this.markers_html;n&&(r="");for(var a="";s!=t;)s=s.parentNode,a=a+"</"+s.tagName+">",r="<"+s.tagName+this.attrs(s)+">"+r;var o="";n&&(o=this.options.paragraphy?"<"+this.options.defaultTag+">"+this.markers_html+"<br/></"+this.options.defaultTag+">":this.markers_html+"<br/>");var l="<"+t.tagName+this.attrs(t)+">"+e(t).html()+"</"+t.tagName+">";l=l.replace(/<break><\/break>/,a+(i?this.br:"")+o+r),e(t).replaceWith(l)}}(jQuery),function(e){e.Editable.prototype.isFirstSibling=function(e){var t=e.previousSibling;return t?3==t.nodeType&&""===t.textContent?this.isFirstSibling(t):!1:!0},e.Editable.prototype.isLastSibling=function(e){var t=e.nextSibling;return t?3==t.nodeType&&""===t.textContent?this.isLastSibling(t):!1:!0},e.Editable.prototype.getDeepParent=function(e){return e.parentNode==this.$element.get(0)?e:this.getDeepParent(e.parentNode)},e.Editable.prototype.attrs=function(e){for(var t="",i=e.attributes,n=0;n<i.length;n++){var s=i[n];t+=" "+s.nodeName+'="'+s.value+'"'}return t}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){function i(e){function t(){n?(i(),H(t),s=!0,n=!1):s=!1}var i=e,n=!1,s=!1;this.kick=function(){n=!0,s||t()},this.end=function(e){var t=i;e&&(s?(i=n?function(){t(),e()}:e,n=!0):e())}}function n(){return!0}function s(){return!1}function r(e){e.preventDefault()}function a(e){P[e.target.tagName.toLowerCase()]||e.preventDefault()}function o(e){return 1===e.which&&!e.ctrlKey&&!e.altKey}function l(e,t){var i,n;if(e.identifiedTouch)return e.identifiedTouch(t);for(i=-1,n=e.length;++i<n;)if(e[i].identifier===t)return e[i]}function d(e,t){var i=l(e.changedTouches,t.identifier);return!i||i.pageX===t.pageX&&i.pageY===t.pageY?void 0:i}function c(e){var t;o(e)&&(t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp},R(document,j.move,h,t),R(document,j.cancel,p,t))}function h(e){var t=e.data;b(e,t,e,u)}function p(){u()}function u(){O(document,j.move,h),O(document,j.cancel,p)}function f(e){var t,i;P[e.target.tagName.toLowerCase()]||(t=e.changedTouches[0],i={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier},R(document,z.move+"."+t.identifier,m,i),R(document,z.cancel+"."+t.identifier,g,i))}function m(e){var t=e.data,i=d(e,t);i&&b(e,t,i,v)}function g(e){var t=e.data,i=l(e.changedTouches,t.identifier);i&&v(t.identifier)}function v(e){O(document,"."+e,m),O(document,"."+e,g)}function b(e,t,i,n){var s=i.pageX-t.startX,r=i.pageY-t.startY;M*M>s*s+r*r||x(e,t,i,s,r,n)}function y(){return this._handled=n,!1}function w(e){try{e._handled()}catch(t){return!1}}function x(e,t,i,n,s,r){var a,o;t.target,a=e.targetTouches,o=e.timeStamp-t.timeStamp,t.type="movestart",t.distX=n,t.distY=s,t.deltaX=n,t.deltaY=s,t.pageX=i.pageX,t.pageY=i.pageY,t.velocityX=n/o,t.velocityY=s/o,t.targetTouches=a,t.finger=a?a.length:1,t._handled=y,t._preventTouchmoveDefault=function(){e.preventDefault()},F(t.target,t),r(t.identifier)}function C(e){var t=e.data.timer;e.data.touch=e,e.data.timeStamp=e.timeStamp,t.kick()}function k(e){var t=e.data.event,i=e.data.timer;S(),I(t,i,function(){setTimeout(function(){O(t.target,"click",s)},0)})}function S(){O(document,j.move,C),O(document,j.end,k)}function E(e){var t=e.data.event,i=e.data.timer,n=d(e,t);n&&(e.preventDefault(),t.targetTouches=e.targetTouches,e.data.touch=n,e.data.timeStamp=e.timeStamp,i.kick())}function T(e){var t=e.data.event,i=e.data.timer,n=l(e.changedTouches,t.identifier);n&&(_(t),I(t,i))}function _(e){O(document,"."+e.identifier,E),O(document,"."+e.identifier,T)}function $(e,t,i){var n=i-e.timeStamp;e.type="move",e.distX=t.pageX-e.startX,e.distY=t.pageY-e.startY,e.deltaX=t.pageX-e.pageX,e.deltaY=t.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/n,e.velocityY=.3*e.velocityY+.7*e.deltaY/n,e.pageX=t.pageX,e.pageY=t.pageY}function I(e,t,i){t.end(function(){return e.type="moveend",F(e.target,e),i&&i()})}function D(){return R(this,"movestart.move",w),!0}function L(){return O(this,"dragstart drag",r),O(this,"mousedown touchstart",a),O(this,"movestart",w),!0}function A(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(R(this,"dragstart."+e.guid+" drag."+e.guid,r,t,e.selector),R(this,"mousedown."+e.guid,a,t,e.selector))}function N(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(O(this,"dragstart."+e.guid+" drag."+e.guid),O(this,"mousedown."+e.guid))}var M=6,R=e.event.add,O=e.event.remove,F=function(t,i,n){e.event.trigger(i,n,t)},H=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(function(){e()},25)}}(),P={textarea:!0,input:!0,select:!0,button:!0},j={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},z={move:"touchmove",cancel:"touchend",end:"touchend"};e.event.special.movestart={setup:D,teardown:L,add:A,remove:N,_default:function(e){function n(){$(r,a.touch,a.timeStamp),F(e.target,r)}var r,a;e._handled()&&(r={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},a={event:r,timer:new i(n),touch:t,timeStamp:t},e.identifier===t?(R(e.target,"click",s),R(document,j.move,C,a),R(document,j.end,k,a)):(e._preventTouchmoveDefault(),R(document,z.move+"."+e.identifier,E,a),R(document,z.end+"."+e.identifier,T,a)))}},e.event.special.move={setup:function(){R(this,"movestart.move",e.noop)},teardown:function(){O(this,"movestart.move",e.noop)}},e.event.special.moveend={setup:function(){R(this,"movestart.moveend",e.noop)},teardown:function(){O(this,"movestart.moveend",e.noop)}},R(document,"mousedown.move",c),R(document,"touchstart.move",f),"function"==typeof Array.prototype.indexOf&&!function(e){for(var t=["changedTouches","targetTouches"],i=t.length;i--;)-1===e.event.props.indexOf(t[i])&&e.event.props.push(t[i])}(e)}),window.WYSIWYGModernizr=function(e,t,i){function n(e){u.cssText=e}function s(e,t){return typeof e===t}var r,a,o,l="2.7.1",d={},c=t.documentElement,h="modernizr",p=t.createElement(h),u=p.style,f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),m={},g=[],v=g.slice,b=function(e,i,n,s){var r,a,o,l,d=t.createElement("div"),p=t.body,u=p||t.createElement("body");if(parseInt(n,10))for(;n--;)o=t.createElement("div"),o.id=s?s[n]:h+(n+1),d.appendChild(o);return r=["&#173;",'<style id="s',h,'">',e,"</style>"].join(""),d.id=h,(p?d:u).innerHTML+=r,u.appendChild(d),p||(u.style.background="",u.style.overflow="hidden",l=c.style.overflow,c.style.overflow="hidden",c.appendChild(u)),a=i(d,e),p?d.parentNode.removeChild(d):(u.parentNode.removeChild(u),c.style.overflow=l),!!a},y=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return b("@media "+t+" { #"+h+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},w={}.hasOwnProperty;o=s(w,"undefined")||s(w.call,"undefined")?function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=v.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=t.prototype;var r=new s,a=t.apply(r,i.concat(v.call(arguments)));return Object(a)===a?a:r}return t.apply(e,i.concat(v.call(arguments)))};return n}),m.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:b(["@media (",f.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i};for(var x in m)o(m,x)&&(a=x.toLowerCase(),d[a]=m[x](),g.push((d[a]?"":"no-")+a));return d.addTest=function(e,t){if("object"==typeof e)for(var n in e)o(e,n)&&d.addTest(n,e[n]);else{if(e=e.toLowerCase(),d[e]!==i)return d;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(c.className+=" "+(t?"":"no-")+e),d[e]=t}return d},n(""),p=r=null,d._version=l,d._prefixes=f,d.mq=y,d.testStyles=b,d}(this,document),!function(e){e.Editable.prototype.coreInit=function(){var e=this,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=function(e){for(var t=e.toString(),i=0,n=0;n<t.length;n++)i+=parseInt(t.charAt(n),10);return i>10?i%9+1:i};if(e.options.key!==!1){var n=function(e,t,i){for(var n=Math.abs(i);n-->0;)e-=t;return 0>i&&(e+=123),e},s=function(e){return e},r=function(e){if(!e)return e;for(var r="",a=s("charCodeAt"),o=s("fromCharCode"),l=t.indexOf(e[0]),d=1;d<e.length-2;d++){for(var c=i(++l),h=e[a](d),p="";/[0-9-]/.test(e[d+1]);)p+=e[++d];p=parseInt(p,10)||0,h=n(h,c,p),h^=l-1&31,r+=String[o](h)}return r},a=s(r),o=function(e){return"none"==e.css("display")?(e.attr("style",e.attr("style")+a("zD4D2qJ-7dhuB-11bB4E1wqlhlfE4gjhkbB6C5eg1C-8h1besB-16e1==")),!0):!1},l=function(){for(var e=0,t=document.domain,i=t.split("."),n="_gd"+(new Date).getTime();e<i.length-1&&-1==document.cookie.indexOf(n+"="+n);)t=i.slice(-1-++e).join("."),document.cookie=n+"="+n+";domain="+t+";";return document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}(),d=function(){var t=a(e.options.key)||"";return t!==a("eQZMe1NJGC1HTMVANU==")&&t.indexOf(l,t.length-l.length)<0&&[a("9qqG-7amjlwq=="),a("KA3B3C2A6D1D5H5H1A3==")].indexOf(l)<0?(e.$box.append(a("uA5kygD3g1h1lzrA7E2jtotjvooB2A5eguhdC-22C-16nC2B3lh1deA-21C-16B4A2B4gi1F4D1wyA-13jA4H5C2rA-65A1C10dhzmoyJ2A10A-21d1B-13xvC2I4enC4C2B5B4G4G4H1H4A10aA8jqacD1C3c1B-16D-13A-13B2E5A4jtxfB-13fA1pewxvzA3E-11qrB4E4qwB-16icA1B3ykohde1hF4A2E4clA4C7E6haA4D1xtmolf1F-10A1H4lhkagoD5naalB-22B8B4quvB-8pjvouxB3A-9plnpA2B6D6BD2D1C2H1C3C3A4mf1G-10C-8i1G3C5B3pqB-9E5B1oyejA3ddalvdrnggE3C3bbj1jC6B3D3gugqrlD8B2DB-9qC-7qkA10D2VjiodmgynhA4HA-9D-8pI-7rD4PrE-11lvhE3B5A-16C7A6A3ekuD1==")),e.$lb=e.$box.find("> div:last"),e.$ab=e.$lb.find("> a"),o(e.$lb)||o(e.$ab)):void 0};d()}},e.Editable.initializers.push(e.Editable.prototype.coreInit)}(jQuery),function(e){e.Editable.DEFAULTS=e.extend(e.Editable.DEFAULTS,{allowedBlankTags:["TEXTAREA"],selfClosingTags:["br","input","img","hr","param","!--","source","embed","!","meta","link","base"],doNotJoinTags:["a"],iconClasses:["fa-"]}),e.Editable.prototype.isClosingTag=function(e){return e?null!==e.match(/^<\/([a-zA-Z0-9]+)([^<]+)*>$/gi):!1},e.Editable.prototype.tagName=function(e){return e.replace(/^<\/?([a-zA-Z0-9-!]+)([^>]+)*>$/gi,"$1").toLowerCase()},e.Editable.SELF_CLOSING_AFTER=["source"],e.Editable.prototype.isSelfClosingTag=function(e){var t=this.tagName(e);return this.options.selfClosingTags.indexOf(t.toLowerCase())>=0},e.Editable.prototype.tagKey=function(e){return e.type+(e.attrs||[]).sort().join("|")},e.Editable.prototype.extendedKey=function(e){return this.tagKey(e)+JSON.stringify(e.style)},e.Editable.prototype.mapDOM=function(t){var i=[],n={},s={},r=0,a=this;e(t).find(".f-marker").html(e.Editable.INVISIBLE_SPACE);var o=function(t,i){if(3===t.nodeType)return[];if(8===t.nodeType)return[{comment:!0,attrs:{},styles:{},idx:r++,sp:i,ep:i,text:t.textContent}];var n=t.tagName;"B"==n&&(n="STRONG"),"I"!=n||t.className&&null!=t.className.match(new RegExp(a.options.iconClasses.join("|"),"gi"))||(n="EM");var s={},o={},l=null;if(t.attributes)for(var d=0;d<t.attributes.length;d++){var c=t.attributes[d];"style"==c.nodeName?l=c.value:s[c.nodeName]=c.value}if(l){var h=l.match(/([^:]*):([^:;]*(;|$))/gi);if(h)for(var p=0;p<h.length;p++){var u=h[p].split(":"),f=u.slice(1).join(":").trim();";"==f[f.length-1]&&(f=f.substr(0,f.length-1)),o[u[0].trim()]=f}}var m=[];if(e.isEmptyObject(s)&&"SPAN"==t.tagName&&!e.isEmptyObject(o)){for(var g in o){var v={};v[g]=o[g],m.push({selfClosing:!1,attrs:s,styles:v,idx:r++,sp:i,ep:i+t.textContent.length,tagName:n,noJoin:t.nextSibling&&"BR"===t.nextSibling.tagName})}return m}return[{selfClosing:a.options.selfClosingTags.indexOf(n.toLowerCase())>=0,attrs:s,styles:o,idx:r++,sp:i,ep:i+t.textContent.length,tagName:n,noJoin:t.nextSibling&&"BR"===t.nextSibling.tagName}]},l=function(e,a){var d,c,h;if(e!=t)for(c=o(e,a),d=0;d<c.length;d++)h=c[d],i.push(h),n[h.sp]||(n[h.sp]={}),s[h.ep]||(s[h.ep]={}),n[h.sp][h.tagName]||(n[h.sp][h.tagName]=[]),s[h.ep][h.tagName]||(s[h.ep][h.tagName]=[]),n[h.sp][h.tagName].push(h),s[h.ep][h.tagName].push(h);var p=e.childNodes;if(p){for(d=0;d<p.length;d++)d>0&&8!=p[d-1].nodeType&&(a+=p[d-1].textContent.length),l(p[d],a);if(c)for(d=0;d<c.length;d++)h=c[d],h.ci=r++,n[h.ep]||(n[h.ep]={}),n[h.ep][h.tagName]||(n[h.ep][h.tagName]=[]),n[h.ep][h.tagName].push({shadow:!0,ci:r-1})}},d=function(){var t,s,r,o;for(t in n)for(var l in n[t])for(r=0;r<n[t][l].length;r++)if(s=n[t][l][r],!s.selfClosing&&!(s.dirty||s.shadow||s.comment||s.noJoin))for(var d=r+1;d<n[t][l].length;d++)if(o=n[t][l][d],!o.selfClosing&&!(o.dirty||o.shadow||o.comment||o.noJoin||1!=Object.keys(s.styles).length||1!=Object.keys(o.styles).length||o.sp==o.ep)){var c=Object.keys(s.styles)[0];if(o.styles[c]){s.sp=o.ep;for(var h=0;h<n[s.sp][s.tagName].length;h++){var p=n[s.sp][s.tagName][h];if(p.shadow&&p.ci==o.ci){n[s.sp][s.tagName].splice(h,0,s);break}}n[t][l].splice(r,1),r--;break}}for(t=0;t<i.length;t++)if(s=i[t],!(s.dirty||s.selfClosing||s.comment||s.noJoin||s.shadow||a.options.doNotJoinTags.indexOf(s.tagName.toLowerCase())>=0||!e.isEmptyObject(s.attrs)))if(s.sp==s.ep&&e.isEmptyObject(s.attrs)&&e.isEmptyObject(s.styles)&&a.options.allowedBlankTags.indexOf(s.tagName)<0)s.dirty=!0;else if(n[s.ep]&&n[s.ep][s.tagName])for(r=0;r<n[s.ep][s.tagName].length;r++)if(o=n[s.ep][s.tagName][r],s!=o&&!(o.dirty||o.selfClosing||o.shadow||o.comment||o.noJoin||!e.isEmptyObject(o.attrs)||JSON.stringify(o.styles)!=JSON.stringify(s.styles))){s.ep<o.ep&&(s.ep=o.ep),s.sp>o.sp&&(s.sp=o.sp),o.dirty=!0,t--;break}for(t=0;t<i.length;t++)if(s=i[t],!(s.dirty||s.selfClosing||s.comment||s.noJoin||s.shadow||!e.isEmptyObject(s.attrs)))if(s.sp==s.ep&&e.isEmptyObject(s.attrs)&&e.isEmptyObject(s.style)&&a.options.allowedBlankTags.indexOf(s.tagName)<0)s.dirty=!0;else if(n[s.sp]&&n[s.sp][s.tagName])for(r=n[s.sp][s.tagName].length-1;r>=0;r--)o=n[s.sp][s.tagName][r],s!=o&&(o.dirty||o.selfClosing||o.shadow||o.comment||o.noJoin||s.ep==o.ep&&e.isEmptyObject(o.attrs)&&(s.styles=e.extend(s.styles,o.styles),o.dirty=!0))};l(t,0),d();for(var c=i.length-1;c>=0;c--)i.dirty&&i.splice(c,1);return i},e.Editable.prototype.sortNodes=function(e,t){if(e.comment)return 1;if(e.selfClosing||t.selfClosing)return e.idx-t.idx;var i=e.ep-e.sp,n=t.ep-t.sp;return 0===i&&0===n?e.idx-t.idx:i===n?t.ci-e.ci:n-i},e.Editable.prototype.openTag=function(e){var t,i="<"+e.tagName.toLowerCase(),n=Object.keys(e.attrs).sort();for(t=0;t<n.length;t++){var s=n[t];i+=" "+s+'="'+e.attrs[s]+'"'}var r="",a=Object.keys(e.styles).sort();for(t=0;t<a.length;t++){var o=a[t];null!=e.styles[o]&&(r+=o.replace("_","-")+": "+e.styles[o]+"; ")}return""!==r&&(i+=' style="'+r.trim()+'"'),i+=">"},e.Editable.prototype.commentTag=function(e){var t="";if(e.selfClosing){var i;t="<"+e.tagName.toLowerCase();var n=Object.keys(e.attrs).sort();for(i=0;i<n.length;i++){var s=n[i];t+=" "+s+'="'+e.attrs[s]+'"'}var r="",a=Object.keys(e.styles).sort();for(i=0;i<a.length;i++){var o=a[i];null!=e.styles[o]&&(r+=o.replace("_","-")+": "+e.styles[o]+"; ")}""!==r&&(t+=' style="'+r.trim()+'"'),t+="/>"}else e.comment&&(t="<!--"+e.text+"-->");return t},e.Editable.prototype.closeTag=function(e){return"</"+e.tagName.toLowerCase()+">"},e.Editable.prototype.nodesOpenedAt=function(e,t){for(var i=[],n=e.length-1;n>=0&&e[n].sp==t;)i.push(e.pop()),n--;return i},e.Editable.prototype.entity=function(e){return ch_map={">":"&gt;","<":"&lt;","&":"&amp;"},ch_map[e]?ch_map[e]:e},e.Editable.prototype.removeInvisibleWhitespace=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];i.childNodes.length?this.removeInvisibleWhitespace(i):i.textContent=i.textContent.replace(/\u200B/gi,"")}},e.Editable.prototype.cleanOutput=function(t,i){var n,s,r,a;i&&this.removeInvisibleWhitespace(t);var o=this.mapDOM(t,i).sort(function(e,t){return t.sp-e.sp}),l=t.textContent;html="";var d=[],c=-1,h=e.proxy(function(){var t="";for(simple_nodes_to_close=[],d=d.sort(function(e,t){return e.idx-t.idx}).reverse();d.length;){for(var i=d.pop();simple_nodes_to_close.length&&simple_nodes_to_close[simple_nodes_to_close.length-1].ci<i.ci;)t+=this.closeTag(simple_nodes_to_close.pop());i.selfClosing||i.comment?t+=this.commentTag(i):(!e.isEmptyObject(i.attrs)||this.options.allowedBlankTags.indexOf(i.tagName)>=0)&&(t+=this.openTag(i),simple_nodes_to_close.push(i))}for(;simple_nodes_to_close.length;)t+=this.closeTag(simple_nodes_to_close.pop());html+=t},this),p={},u=[];for(n=0;n<=l.length;n++){if(p[n])for(s=p[n].length-1;s>=0;s--)if(u.length&&u[u.length-1].tagName==p[n][s].tagName&&JSON.stringify(u[u.length-1].styles)==JSON.stringify(p[n][s].styles))html+=this.closeTag(p[n][s]),u.pop();else{for(var f=[];u.length&&(u[u.length-1].tagName!==p[n][s].tagName||JSON.stringify(u[u.length-1].styles)!==JSON.stringify(p[n][s].styles));)a=u.pop(),html+=this.closeTag(a),f.push(a);for(html+=this.closeTag(p[n][s]),u.pop();f.length;){var m=f.pop();html+=this.openTag(m),u.push(m)}}for(var g=this.nodesOpenedAt(o,n).sort(this.sortNodes).reverse();g.length;){var v=g.pop();if(!v.dirty)if(v.selfClosing||v.comment)v.ci>c||"BR"==v.tagName?(h(),html+=this.commentTag(v),c=v.ci):d.length?(d.push(v),c<v.ci&&(c=v.ci)):(html+=this.commentTag(v),c<v.ci&&(c=v.ci));else if(v.ep>v.sp){v.ci>c&&h();var b=[];if("A"==v.tagName)for(var y=v.sp+1;y<v.ep;y++)if(p[y]&&p[y].length)for(r=0;r<p[y].length;r++)b.push(p[y][r]),html+=this.closeTag(p[y][r]),u.pop();var w=[];if("SPAN"==v.tagName&&("#123456"==v.styles["background-color"]||"#123456"===e.Editable.RGBToHex(v.styles["background-color"])||"#123456"==v.styles.color||"#123456"===e.Editable.RGBToHex(v.styles.color)))for(;u.length;){var x=u.pop();html+=this.closeTag(x),w.push(x)}for(html+=this.openTag(v),c<v.ci&&(c=v.ci),u.push(v),p[v.ep]||(p[v.ep]=[]),p[v.ep].push(v);b.length;)v=b.pop(),html+=this.openTag(v),u.push(v);for(;w.length;)v=w.pop(),html+=this.openTag(v),u.push(v)}else v.sp==v.ep&&(d.push(v),c<v.ci&&(c=v.ci))}h(),n!=l.length&&(html+=this.entity(l[n]))}return html=html.replace(/(<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>)\u200B(<\/span>)/gi,"$1$2"),html},e.Editable.prototype.wrapDirectContent=function(){var t=e.merge(["UL","OL","TABLE"],this.valid_nodes);if(!this.options.paragraphy)for(var i=null,n=this.$element.contents(),s=0;s<n.length;s++)1!=n[s].nodeType||t.indexOf(n[s].tagName)<0?(i||(i=e('<div class="fr-wrap">'),e(n[s]).before(i)),i.append(n[s])):i=null},e.Editable.prototype.cleanify=function(t,i,n){if(this.browser.msie&&e.Editable.getIEversion()<9)return!1;var s;if(this.isHTML)return!1;void 0===t&&(t=!0),void 0===n&&(n=!0),this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),n&&this.saveSelectionByMarkers(),t?s=this.getSelectionElements():(this.wrapDirectContent(),s=this.$element.find(this.valid_nodes.join(",")),0===s.length&&(s=[this.$element.get(0)]));var r,a;if(s[0]!=this.$element.get(0))for(var o=0;o<s.length;o++){var l=e(s[o]);0===l.find(this.valid_nodes.join(",")).length&&(r=l.html(),a=this.cleanOutput(l.get(0),i),a!==r&&l.html(a))}else 0===this.$element.find(this.valid_nodes.join(",")).length&&(r=this.$element.html(),a=this.cleanOutput(this.$element.get(0),i),a!==r&&this.$element.html(a));this.$element.find("[data-fr-idx]").removeAttr("data-fr-idx"),this.$element.find(".fr-wrap").each(function(){e(this).replaceWith(e(this).html())}),this.$element.find(".f-marker").html(""),n&&this.restoreSelectionByMarkers(),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){e.Editable.commands=e.extend(e.Editable.commands,{insertOrderedList:{title:"Numbered List",icon:"fa fa-list-ol",refresh:function(){},callback:function(e){this.formatList(e)},undo:!0},insertUnorderedList:{title:"Bulleted List",icon:"fa fa-list-ul",refresh:function(){},callback:function(e){this.formatList(e)},undo:!0}}),e.Editable.prototype.refreshLists=function(){var t=e(this.getSelectionElement()),i=this.parents(t,"ul, ol");if(i.length>0){var n="insertUnorderedList";"OL"==i[0].tagName&&(n="insertOrderedList"),this.$editor.find('button[data-cmd="'+n+'"]').addClass("active")}},e.Editable.prototype.processBackspace=function(t){var i=t.prev();if(i.length){for(this.removeMarkers(),("UL"==i.get(0).tagName||"OL"==i.get(0).tagName)&&(i=i.find("li:last"));i.find("> ul, > ol").length;)i=i.find("> ul li:last, > ol li:last");var n=i.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote");if(0===i.text().length&&0===i.find("img, table, input, iframe, video").length)i.remove();else{if(this.emptyElement(i.get(0))||(this.keep_enter=!0,t.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote").each(function(t,i){e(i).replaceWith(e(i).html())}),this.keep_enter=!1),n.length)if(e(n[n.length-1]).append(this.markers_html),0===t.find("ul, ol").length)e(n[n.length-1]).append(t.html());else{for(var s=!1,r=t.contents(),a=0;a<r.length;a++){var o=r[a];["OL","UL"].indexOf(r[a].tagName)>=0&&(s=!0),s?e(n[n.length-1]).after(o):e(n[n.length-1]).append(o)}this.$element.find("breakli").remove();var l=n[n.length-1].nextSibling;l&&"BR"==l.tagName&&e(l).remove()}else this.emptyElement(i.get(0))?(this.$element.find("breakli").replaceWith(this.markers_html),i.html(t.html())):(i.append(this.markers_html),i.append(t.html()));t.remove(),this.cleanupLists(),this.restoreSelectionByMarkers()}this.$element.find("breakli").remove()}else this.$element.find("breakli").remove(),this.parents(t,"ul").length?this.formatList("insertUnorderedList",!1):this.formatList("insertOrderedList",!1);this.sync()},e.Editable.prototype.liBackspace=function(){if(""!==this.text())return!0;var t,i=this.getSelectionElement(),n=this.parents(e(i),"table, li");if(n.length>0&&"TABLE"===n[0].tagName)return!0;if(t="LI"==i.tagName?e(i):this.parents(e(i),"li:first"),this.removeMarkers(),this.emptyElement(t.get(0))?(t.prepend("<breakli></breakli>"),1==t.find("br").length&&t.find("br").remove()):this.insertHTML("<breakli></breakli>"),t.find("breakli").prev().length&&"TABLE"===t.find("breakli").prev().get(0).tagName&&t.find("breakli").next().length&&"BR"===t.find("breakli").next().get(0).tagName)return this.setSelection(t.find("breakli").prev().find("td:first").get(0)),t.find("breakli").next().remove(),this.$element.find("breakli").remove(),!1;for(var s,r=t.html(),a=[],o=0;o<r.length;o++){if(chr=r.charAt(o),"<"!=chr)return this.$element.find("breakli").remove(),!0;var l=r.indexOf(">",o+1);if(-1!==l){s=r.substring(o,l+1);var d=this.tagName(s);if(o=l,"breakli"==d){if(!this.isClosingTag(s)&&!this.isClosingTag(a[a.length-1]))return this.processBackspace(t),!1}else a.push(s)}}return this.$element.find("breakli").remove(),!0},e.Editable.prototype.textLiEnter=function(t){this.removeMarkers(),this.insertSimpleHTML("<breakli></breakli>",!1);var i,n,s=t.html(),r=[],a={},o=[],l=0,d=t.prop("attributes"),c="";for(n=0;n<d.length;n++)c+=" "+d[n].name+'="'+d[n].value+'"';var h=!1;for(n=0;n<s.length;n++)if(chr=s.charAt(n),"<"==chr){var p=s.indexOf(">",n+1);if(-1!==p){i=s.substring(n,p+1);var u=this.tagName(i);if(n=p,"breakli"==u){if(!this.isClosingTag(i)){for(var f=r.length-1;f>=0;f--){var m=this.tagName(r[f]);o.push("</"+m+">")}o.push("</li>"),o.push("<li"+c+">");for(var g=0;g<r.length;g++)o.push(r[g]);o.push('<span class="f-marker" data-type="false" data-collapsed="true" data-id="0" data-fr-verified="true"></span><span class="f-marker" data-type="true" data-collapsed="true" data-id="0" data-fr-verified="true"></span>'),h=!1}}else if(o.push(i),h=!1,!this.isSelfClosingTag(i))if(this.isClosingTag(i)){var v=a[u].pop();r.splice(v,1)}else r.push(i),void 0===a[u]&&(a[u]=[]),a[u].push(r.length-1)}}else l++,32!=chr.charCodeAt(0)||h?(o.push(chr),h=!0):o.push("&nbsp;");var b=e(t.parents("ul, ol")[0]);t.replaceWith("<li"+c+">"+o.join("")+"</li>"),b.find("p:empty + table").prev().remove(),b.find("p + table").each(function(t,i){var n=e(i);n.prev().append(n.clone()),n.remove()}),b.find("table + p").each(function(t,i){var n=e(i);n.append(n.prev().clone()),n.prev().remove()}),this.keep_enter=!0,b.find(this.valid_nodes.join(",")).each(e.proxy(function(t,i){""===e(i).text().trim()&&0===e(i).find(this.valid_nodes.join(",")).length&&e(i).prepend(e.Editable.INVISIBLE_SPACE)},this)),this.keep_enter=!1},e.Editable.prototype.liEnter=function(){var t,i=this.getSelectionElement(),n=this.parents(e(i),"table, li");if(n.length>0&&"TABLE"==n[0].tagName)return!0;if(t="LI"==i.tagName?e(i):this.parents(e(i),"li:first"),this.getSelectionTextInfo(t.get(0)).atStart&&""===this.text())t.before("<li>"+e.Editable.INVISIBLE_SPACE+"</li>");else{if(0===this.trim(t.text()).length&&0===t.find("img, table, iframe, input, object").length)return this.outdent(!1),!1;this.textLiEnter(t),this.$element.find("breakli").remove(),this.restoreSelectionByMarkers()}return this.sync(),!1},e.Editable.prototype.listTab=function(){var t=e(this.getSelectionElement());return this.parents(t,"ul, ol").length>0&&0===this.parents(t,"table").length?(this.indent(),!1):void 0},e.Editable.prototype.listShiftTab=function(){var t=e(this.getSelectionElement());return this.parents(t,"ul, ol").length>0&&0===this.parents(t,"table").length?(this.outdent(),!1):void 0},e.Editable.prototype.indentList=function(e,t){return"LI"===e.get(0).tagName?(t?this.outdentLi(e):this.indentLi(e),this.cleanupLists(),!1):!0},e.Editable.prototype.initList=function(){this.addListener("tab",this.listTab),this.addListener("shift+tab",this.listShiftTab),this.addListener("refresh",this.refreshLists),this.addListener("indent",this.indentList),this.isImage||this.isLink||this.options.editInPopup||this.$element.on("keypress",e.proxy(function(t){if(["TEXTAREA","INPUT"].indexOf(t.target.tagName)<0&&!this.isHTML){var i=t.which,n=this.getSelectionElement();if("LI"==n.tagName||this.parents(e(n),"li").length>0){if(13==i&&!t.shiftKey&&this.options.multiLine)return this.liEnter();if(8==i)return this.liBackspace()}}},this))},e.Editable.initializers.push(e.Editable.prototype.initList),e.Editable.prototype.formatList=function(t,i){if(this.browser.msie&&e.Editable.getIEversion()<9)return document.execCommand(t,!1,!1),!1;void 0===i&&(i=!0);var n,s,r=!1,a=!0,o=!1,l=this.getSelectionElements(),d=this.parents(e(l[0]),"ul, ol");if(d.length&&("UL"===d[0].tagName?"insertUnorderedList"!=t&&(r=!0):"insertOrderedList"!=t&&(r=!0)),this.saveSelectionByMarkers(),r){n="ol","insertUnorderedList"===t&&(n="ul");var c=e(d[0]);c.replaceWith("<"+n+">"+c.html()+"</"+n+">")}else{for(var h=0;h<l.length;h++)if(s=e(l[h]),("TD"==s.get(0).tagName||"TH"==s.get(0).tagName)&&this.wrapTextInElement(s),this.parents(s,"li").length>0||"LI"==s.get(0).tagName){var p;p="LI"==s.get(0).tagName?s:e(s.parents("li")[0]);var u=this.parents(s,"ul, ol");if(u.length>0&&(n=u[0].tagName.toLowerCase(),p.before('<span class="close-'+n+'" data-fr-verified="true"></span>'),p.after('<span class="open-'+n+'" data-fr-verified="true"></span>')),0===this.parents(e(u[0]),"ol, ul").length||r)if(0===p.find(this.valid_nodes.join(",")).length){var f=p.html().replace(/\u200B/gi,"");this.options.paragraphy?(0===p.text().replace(/\u200B/gi,"").length&&(f+=p.find("br").length>0?"":this.br),f="<"+this.options.defaultTag+this.attrs(p.get(0))+">"+f,f=f+"</"+this.options.defaultTag+">"):f+=p.find("br").length>0?"":this.br,p.replaceWith(f)}else p.replaceWith(p.html().replace(/\u200B/gi,""));else this.parents(e(u[0]),"ol, ul").length>0&&(p.append('<span class="open-li" data-fr-verified="true"></span>'),p.before('<span class="close-li" data-fr-verified="true"></span>'));o=!0}else a=!1;o&&this.cleanupLists(),(a===!1||r===!0)&&(this.wrapText(),this.restoreSelectionByMarkers(),l=this.getSelectionElements(),this.saveSelectionByMarkers(),this.elementsToList(l,t),this.unwrapText(),this.cleanupLists())}this.options.paragraphy&&!r&&this.wrapText(!0),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),t="insertUnorderedList"==t?"unorderedListInserted":"orderedListInserted",this.triggerEvent(t)},e.Editable.prototype.elementsToList=function(t,i){var n="<ol>";"insertUnorderedList"==i&&(n="<ul>"),t[0]==this.$element.get(0)&&(t=this.$element.find("> "+this.valid_nodes.join(", >")));for(var s=0;s<t.length;s++){var r=e(n);$element=e(t[s]),$element.get(0)!=this.$element.get(0)&&("TD"===$element.get(0).tagName||"TH"===$element.get(0).tagName?(this.wrapTextInElement($element,!0),this.elementsToList($element.find("> "+this.valid_nodes.join(", >")),i)):(""===$element.attr("class")&&$element.removeAttr("class"),r.append(e("<li>").html($element.get(0).tagName==this.options.defaultTag&&0===$element.get(0).attributes.length?$element.clone().html():$element.clone())),$element.replaceWith(r)))}},e.Editable.prototype.indentLi=function(t){var i=t.parents("ul, ol"),n=i.get(0).tagName.toLowerCase();t.find("> ul, > ol").length>0&&t.prev("li").length>0?(this.wrapTextInElement(t),t.find("> "+this.valid_nodes.join(" , > ")).each(function(t,i){e(i).wrap("<"+n+"></"+n+">").wrap("<li></li>")}),t.prev("li").append(t.find("> ul, > ol")),t.remove()):0===t.find("> ul, > ol").length&&t.prev("li").length>0&&(t.prev().append(e("<"+n+">").append(t.clone())),t.remove(),e(i.find("li").get().reverse()).each(function(t,i){var n=e(i);n.find(" > ul, > ol").length>0&&n.prev()&&n.prev().find(" > ul, > ol").length>0&&1===n.contents().length&&(n.prev().append(n.html()),n.remove())}))},e.Editable.prototype.outdentLi=function(t){var i=e(t.parents("ul, ol")[0]),n=this.parents(i,"ul, ol"),s=i.get(0).tagName.toLowerCase();0===t.prev("li").length&&this.parents(t,"li").length>0?(t.before('<span class="close-'+s+'" data-fr-verified="true"></span>'),t.before('<span class="close-li" data-fr-verified="true"></span>'),t.before('<span class="open-li" data-fr-verified="true"></span>'),t.after('<span class="open-'+s+'" data-fr-verified="true"></span>'),t.replaceWith(t.html())):(t.before('<span class="close-'+s+'" data-fr-verified="true"></span>'),t.after('<span class="open-'+s+'" data-fr-verified="true"></span>'),this.parents(t,"li").length>0&&(t.before('<span class="close-li" data-fr-verified="true"></span>'),t.after('<span class="open-li" data-fr-verified="true"></span>'))),n.length||(0===t.find(this.valid_nodes.join(",")).length?t.replaceWith(t.html().replace(/\u200b/gi,"")+this.br):(t.find(this.valid_nodes.join(", ")).each(e.proxy(function(t,i){this.emptyElement(i)&&e(i).append(this.br)},this)),t.replaceWith(t.html().replace(/\u200b/gi,""))))},e.Editable.prototype.listTextEmpty=function(t){var i=e(t).text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return(""===i||t===this.$element.get(0))&&1===e(t).find("br").length}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){e.Editable.commands=e.extend(e.Editable.commands,{table:{title:"Table",icon:"fa fa-table",callback:function(e,t,i){this.table_commands[t]?this.table_commands[t].apply(this,[t,i]):this.table_commands.insertTable.apply(this,[t,i]),this.cleanupTables()}}}),e.Editable.DEFAULTS.buttons[e.Editable.DEFAULTS.buttons.indexOf("insertHorizontalRule")]="table",e.Editable.prototype.table_commands={insertTable:function(e,t){this.insertTable(e,t)},insertRowAbove:function(){this.insertRow("above")},insertRowBelow:function(){this.insertRow("below")},insertColumnBefore:function(){this.insertColumn("before")},insertColumnAfter:function(){this.insertColumn("after")},deleteColumn:function(){this.deleteColumn()},deleteRow:function(){this.deleteRow()},insertCellBefore:function(){this.insertCell("before")},insertCellAfter:function(){this.insertCell("after")},mergeCells:function(){this.mergeCells()},deleteCell:function(){this.deleteCell()},splitVertical:function(){this.splitVertical()},splitHorizontal:function(){this.splitHorizontal()},insertHeader:function(){this.insertHeader()},deleteHeader:function(){this.deleteHeader()},deleteTable:function(){this.deleteTable()}},e.Editable.prototype.command_dispatcher=e.extend(e.Editable.prototype.command_dispatcher,{table:function(e){var t=this.buildDropdownTable(),i=this.buildDropdownButton(e,t,"fr-table");return this.bindTableDropdownEvents(),i}}),e.Editable.prototype.tableTab=function(){var t;this.currentCell&&(t=this.currentCell());var i=e(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:t&&this.nextCell()?(this.setSelection(this.nextCell()),!1):void 0},e.Editable.prototype.tableShiftTab=function(){var t;this.currentCell&&(t=this.currentCell());var i=e(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:t&&this.prevCell()?(this.setSelection(this.prevCell()),!1):void 0},e.Editable.prototype.initTable=function(){var t=this;this.$editor.on("click mouseup touch touchend",".fr-table a",function(i){i.preventDefault(),i.stopPropagation(),t.android()&&(e(this).parent().siblings().removeClass("hover"),e(this).parent().addClass("hover"))}),this.addListener("tab",this.tableTab),this.addListener("shift+tab",this.tableShiftTab)},e.Editable.initializers.push(e.Editable.prototype.initTable),e.Editable.prototype.buildDropdownTable=function(){var e='<ul class="fr-dropdown-menu fr-table">';e+='<li> <a href="#"><span data-text="true">Insert table</span> <i class="fa fa-chevron-right"></i></a><div class="select-table"> ',e+='<div class="fr-t-info">1 x 1</div>';for(var t=1;10>=t;t++){for(var i=1;10>=i;i++){var n="inline-block";(t>5||i>5)&&(n="none");var s="fr-bttn ";1==t&&1==i&&(s+=" hover"),e+='<span class="'+s+'" data-cmd="table" data-val="'+t+'" data-param="'+i+'" style="display: '+n+';"><span></span></span>'}e+='<div class="new-line"></div>'}return e+="</div> </li>",e+='<li><a href="#"><span data-text="true">Cell</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertCellBefore"><a href="#" data-text="true">Insert cell before</a></li><li data-cmd="table" data-val="insertCellAfter"><a href="#" data-text="true">Insert cell after</a></li><li data-cmd="table" data-val="deleteCell"><a href="#" data-text="true">Delete cell</a></li><li data-cmd="table" data-val="mergeCells"><a href="#" data-text="true">Merge cells</a></li><li data-cmd="table" data-val="splitHorizontal"><a href="#" data-text="true">Horizontal split</a></li><li data-cmd="table" data-val="splitVertical"><a href="#" data-text="true">Vertical split</a></li></ul></li>',e+='<li><a href="#"><span data-text="true">Row</span> <i class="fa fa-chevron-right"></i></a> <ul><li data-cmd="table" data-val="insertRowAbove"><a href="#" data-text="true">Insert row above</a></li><li data-cmd="table" data-val="insertRowBelow"><a href="#" data-text="true">Insert row below</a></li><li data-cmd="table" data-val="deleteRow"><a href="#" data-text="true">Delete row</a></li></ul></li>',e+='<li><a href="#"><span data-text="true">Column</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertColumnBefore"><a href="#" data-text="true">Insert column before</a></li> <li data-cmd="table" data-val="insertColumnAfter"><a href="#" data-text="true">Insert column after</a></li> <li data-cmd="table" data-val="deleteColumn"><a href="#" data-text="true">Delete column</a></li> </ul></li>',e+='<li data-cmd="table" data-val="deleteTable"><a href="#" data-text="true">Delete table</a></li>',e+="</ul>"},e.Editable.prototype.bindTableDropdownEvents=function(){var t=this;this.$bttn_wrapper.on("mouseenter",".fr-table .select-table > span",function(){var i=e(this).data("val"),n=e(this).data("param");t.$bttn_wrapper.find(".fr-table .select-table .fr-t-info").text(i+" x "+n),t.$bttn_wrapper.find(".fr-table .select-table > span").removeClass("hover");for(var s=1;10>=s;s++)for(var r=0;10>=r;r++){var a=t.$bttn_wrapper.find('.fr-table .select-table > span[data-val="'+s+'"][data-param="'+r+'"]');i>=s&&n>=r?a.addClass("hover"):(i+1>=s||5>=s)&&(n+1>=r||5>=r)?a.css("display","inline-block"):(s>5||r>5)&&a.css("display","none")}}),this.$bttn_wrapper.on("mouseleave",".fr-table .select-table",function(){t.$bttn_wrapper.find('.fr-table .select-table > span[data-val="1"][data-param="1"]').trigger("mouseenter")}),this.android()&&this.$bttn_wrapper.on("touchend",".fr-table .fr-trigger",function(){e(this).parents(".fr-table").find(".hover").removeClass("hover")})},e.Editable.prototype.tableMap=function(){var t=this.currentTable(),i=[];return t&&t.find("tr:not(:empty)").each(function(t,n){var s=e(n),r=0;s.find("th, td").each(function(n,s){for(var a=e(s),o=parseInt(a.attr("colspan"),10)||1,l=parseInt(a.attr("rowspan"),10)||1,d=t;t+l>d;d++)for(var c=r;r+o>c;c++)i[d]||(i[d]=[]),i[d][c]?r++:i[d][c]=s;r+=o})}),i},e.Editable.prototype.cellOrigin=function(e,t){for(var i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)if(t[i][n]==e)return{row:i,col:n}},e.Editable.prototype.canMergeCells=function(){var t=this.getSelectionCells();if(t.length<2)return!1;for(var i=this.tableMap(),n=0,s=32e3,r=0,a=32e3,o=0,l=0;l<t.length;l++){var d=e(t[l]),c=parseInt(d.attr("colspan"),10)||1,h=parseInt(d.attr("rowspan"),10)||1,p=this.cellOrigin(t[l],i);n+=c*h,s=Math.min(s,p.col),r=Math.max(r,p.col+c),a=Math.min(a,p.row),o=Math.max(o,p.row+h)}return n==(r-s)*(o-a)?{row:a,col:s,colspan:r-s,rowspan:o-a,map:i,cells:t}:null},e.Editable.prototype.getSelectionCells=function(){var t,i=[];if(this.browser.webkit||this.browser.msie){var n=this.getSelectionElements();for(t=0;t<n.length;t++)("TD"==n[t].tagName||"TH"==n[t].tagName)&&i.push(n[t])}else{var s=this.getRanges();for(t=0;t<s.length;t++){var r=s[t],a=!1;if("TD"==r.startContainer.tagName||"TH"==r.startContainer.tagName)i.push(r.startContainer),a=!0;else{var o=r.startContainer.childNodes,l=r.startOffset;if(o.length>l&&l>=0){var d=o[l];("TD"==d.tagName||"TH"==d.tagName)&&(i.push(d),a=!0)}}if(a===!1){var c=e(r.startContainer).parents("td:first, th:first");c.length>0&&i.push(c.get(0))}}}return i},e.Editable.prototype.currentCell=function(){var e=this.getSelectionCells();return e.length>0?e[0]:null},e.Editable.prototype.prevCell=function(){var t=this.currentCell();if(t){if(e(t).prev("td").length)return e(t).prev("td").get(0);if(e(t).parent().prev("tr").find("td").length)return e(t).parent().prev("tr").find("td:last").get(0)}return null},e.Editable.prototype.nextCell=function(){var t=this.currentCell();if(t){if(e(t).next("td").length)return e(t).next("td").get(0);if(e(t).parent().next("tr").find("td").length)return e(t).parent().next("tr").find("td").get(0)}return null},e.Editable.prototype.currentTable=function(){for(var t=e(this.getSelectionElement());t.get(0)!=this.$element.get(0)&&t.get(0)!=this.$document.find("body").get(0)&&"TABLE"!=t.get(0).tagName;)t=t.parent();return t.get(0)!=this.$element.get(0)?t:null},e.Editable.prototype.focusOnTable=function(){var e=this.currentTable();if(e){var t=e.find("td:first");this.setSelection(t.get(0))}},e.Editable.prototype.insertCell=function(t){for(var i=this.getSelectionCells(),n=0;n<i.length;n++){var s=e(i[n]);"before"==t?s.before(s.clone().removeAttr("colspan").removeAttr("rowspan").html(e.Editable.INVISIBLE_SPACE)):"after"==t&&s.after(s.clone().removeAttr("colspan").removeAttr("rowspan").html(e.Editable.INVISIBLE_SPACE))}"before"==t?this.triggerEvent("cellInsertedBefore"):"after"==t&&this.triggerEvent("cellInsertedAfter")},e.Editable.prototype.mergeCells=function(){var t=this.canMergeCells();if(t){var i=e(t.map[t.row][t.col]);i.attr("colspan",t.colspan),i.attr("rowspan",t.rowspan);for(var n=0;n<t.cells.length;n++){var s=t.cells[n];if(i.get(0)!=s){var r=e(s);i.append(r.html()),r.remove()}}this.setSelection(i.get(0))}this.hide(),this.triggerEvent("cellsMerged")},e.Editable.prototype.deleteCell=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]);n.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("cellDeleted")},e.Editable.prototype.insertHeader=function(){var e=this.currentTable();e&&e.find(" > thead").length>0&&this.triggerEvent("headerInserted")},e.Editable.prototype.deleteHeader=function(){},e.Editable.prototype.insertColumn=function(t){var i=this.currentCell();if(i)for(var n=e(i),s=this.tableMap(),r=this.cellOrigin(n.get(0),s),a=0;a<s.length;a++){var o=s[a][r.col],l=parseInt(e(o).attr("colspan"),10)||1,d=parseInt(e(o).attr("rowspan"),10)||1;if("before"==t){var c=s[a][r.col-1];c?c==o?e(c).attr("colspan",l+1):d>1?e(c).after("<"+c.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+c.tagName+">"):e(o).before("<"+o.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+o.tagName+">"):e(o).before("<"+o.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+o.tagName+">")}else if("after"==t){var h=s[a][r.col+1];h?h==o?e(h).attr("colspan",l+1):d>1?e(h).before("<"+h.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+h.tagName+">"):e(o).after("<"+o.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+o.tagName+">"):e(o).after("<"+o.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+o.tagName+">")}}this.hide(),"before"==t?this.triggerEvent("columnInsertedBefore"):"after"==t&&this.triggerEvent("columnInsertedAfter")},e.Editable.prototype.deleteColumn=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++)for(var n=e(t[i]),s=this.tableMap(),r=this.cellOrigin(n.get(0),s),a=0;a<s.length;a++){var o=s[a][r.col],l=parseInt(e(o).attr("colspan"),10)||1;1==l?e(o).remove():e(o).attr("colspan",l-1)}this.focusOnTable(),this.hide(),this.triggerEvent("columnDeleted")},e.Editable.prototype.insertRow=function(t){var i,n=this.currentCell();if(n){var s=e(n),r=this.tableMap(),a=this.cellOrigin(s.get(0),r),o=0,l=null;for(i=0;i<r[a.row].length;i++){var d=r[a.row][i],c=parseInt(e(d).attr("rowspan"),10)||1;if("above"==t)if(0===a.row)o++;else{var h=r[a.row-1][i];h==d&&l!=d?e(d).attr("rowspan",c+1):o++}else if("below"==t)if(a.row==r.length-1)o++;else{var p=r[a.row+1][i];p==d&&l!=d?e(d).attr("rowspan",c+1):o++}l=r[a.row][i]}var u="<tr>";for(i=0;o>i;i++)u+="<td>"+e.Editable.INVISIBLE_SPACE+"</td>";u+="</tr>","below"==t?s.closest("tr").after(u):"above"==t&&s.closest("tr").before(u)}this.hide(),"below"==t?this.triggerEvent("rowInsertedBelow"):"above"==t&&this.triggerEvent("rowInsertedAbove")},e.Editable.prototype.deleteRow=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]),s=this.tableMap(),r=this.cellOrigin(n.get(0),s),a=n.parents("tr:first");if(r)for(var o=0;o<s[r.row].length;o++){var l=s[r.row][o],d=parseInt(e(l).attr("rowspan"),10)||1;if(1==d)e(l).remove();else{var c=this.cellOrigin(l,s);if(e(l).attr("rowspan",d-1),c.row==r.row){var h=s[r.row+1];h&&h[o-1]&&(e(h[o-1]).after(e(l).clone()),e(l).remove())}}}a.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("rowDeleted")},e.Editable.prototype.splitVertical=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]),s=this.tableMap(),r=this.cellOrigin(n.get(0),s),a=parseInt(n.attr("colspan"),10)||1,o=parseInt(n.attr("rowspan"),10)||1;if(o>1){var l=Math.floor(o/2),d=r.row+(o-l),c=s[d][r.col-1];c||(c=s[d][r.col+a]),c?e(c).before(n.clone().attr("rowspan",l).html(e.Editable.INVISIBLE_SPACE)):n.parents("tr:first").after(e("<tr>").append(n.clone().attr("rowspan",l).html(e.Editable.INVISIBLE_SPACE))),n.attr("rowspan",o-l)}else{for(var h=e("<tr>").append(n.clone().html(e.Editable.INVISIBLE_SPACE)),p=null,u=0;u<s[r.row].length;u++){var f=s[r.row][u],m=parseInt(e(f).attr("rowspan"),10)||1;p!=f&&f!=n.get(0)&&e(f).attr("rowspan",m+1),p=f}n.parents("tr:first").after(h)}}this.hide(),this.triggerEvent("cellVerticalSplit")},e.Editable.prototype.splitHorizontal=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]),s=this.tableMap(),r=this.cellOrigin(n.get(0),s),a=parseInt(n.attr("colspan"),10)||1;if(a>1){var o=Math.floor(a/2);n.after(n.clone().attr("colspan",o).html(e.Editable.INVISIBLE_SPACE)),n.attr("colspan",a-o)}else{for(var l=null,d=0;d<s.length;d++){var c=s[d][r.col],h=parseInt(e(c).attr("colspan"),10)||1;l!=c&&c!=n.get(0)&&e(c).attr("colspan",h+1),l=c}n.after(n.clone().html(e.Editable.INVISIBLE_SPACE))}}this.hide(),this.triggerEvent("cellHorizontalSplit")},e.Editable.prototype.insertTable=function(t,i){for(var n='<table data-last-table="true" width="100%">',s=0;t>s;s++){n+="<tr>";for(var r=0;i>r;r++)n+="<td>"+e.Editable.INVISIBLE_SPACE+"</td>";n+="</tr>"}n+="</table>",this.focus();var a=this.getSelectionElement();this.breakHTML(n,this.parents(e(a),"li").length<0);var o=this.$element.find('table[data-last-table="true"]');o.removeAttr("data-last-table"),this.setSelection(o.find("td:first").get(0)),this.hide(),this.triggerEvent("tableInserted")},e.Editable.prototype.deleteTable=function(){var e=this.currentTable();e&&(e.remove(),this.focus(),this.hide(),this.triggerEvent("tableDeleted"))},e.Editable.prototype.cleanupTables=function(){this.$element.find('td[colspan="1"], th[colspan="1"]').each(function(){e(this).removeAttr("colspan")}),this.$element.find('td[rowspan="1"], th[rowspan="1"]').each(function(){e(this).removeAttr("rowspan")})}}(jQuery),/*
 *
 * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
 *
 * Copyright (c) 2012, Matias Meno
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */
function(){var e,t,i,n,s,r,a,o,l=[].slice,d={}.hasOwnProperty,c=function(e,t){function i(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};a=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,s,r;if(n=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(s=0,r=i.length;r>s;s++)t=i[s],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,s,r,a;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[e],!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(s=r=0,a=n.length;a>r;s=++r)if(i=n[s],i===t){n.splice(s,1);break}return this},e}(),e=function(e){function i(e,t){var s,r,a;if(this.element=e,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,s=null!=(a=i.optionsForElement(this.element))?a:{},this.options=n({},this.defaultOptions,s,null!=t?t:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(r=this.getExistingFallback())&&r.parentNode&&r.parentNode.removeChild(r),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?i.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:i.getElements(this.options.clickable,"clickable")),this.init()}var n,s;return c(i,e),i.prototype.Emitter=t,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return a},forceFallback:!1,fallback:function(){var e,t,n,s,r,a;for(this.element.className=""+this.element.className+" dz-browser-not-supported",a=this.element.getElementsByTagName("div"),s=0,r=a.length;r>s;s++)e=a[s],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),n=t.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,s,r,a,o,l,d,c,h,p,u,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=i.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),h=e.previewElement.querySelectorAll("[data-dz-name]"),r=0,l=h.length;l>r;r++)t=h[r],t.textContent=e.name;for(p=e.previewElement.querySelectorAll("[data-dz-size]"),a=0,d=p.length;d>a;a++)t=p[a],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),n=function(t){return function(n){return n.preventDefault(),n.stopPropagation(),e.status===i.UPLOADING?i.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?i.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),u=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],o=0,c=u.length;c>o;o++)s=u[o],f.push(s.addEventListener("click",n));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,s,r;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),r=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,s=r.length;s>n;n++)i=r[n],i.alt=e.name,i.src=t;return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var i,n,s,r,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=e.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],n=0,s=r.length;s>n;n++)i=r[n],a.push(i.textContent=t);return a}},errormultiple:a,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:a,uploadprogress:function(e,t){var i,n,s,r,a;if(e.previewElement){for(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],n=0,s=r.length;s>n;n++)i=r[n],a.push("PROGRESS"===i.nodeName?i.value=t:i.style.width=""+t+"%");return a}},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:a,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:a,complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var e,t,i,n,s,r,a;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],r=0,a=i.length;a>r;r++){t=i[r];for(e in t)s=t[e],n[e]=s}return n},i.prototype.getAcceptedFiles=function(){var e,t,i,n,s;for(n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted&&s.push(e);return s},i.prototype.getRejectedFiles=function(){var e,t,i,n,s;for(n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted||s.push(e);return s},i.prototype.getFilesWithStatus=function(e){var t,i,n,s,r;for(s=this.files,r=[],i=0,n=s.length;n>i;i++)t=s[i],t.status===e&&r.push(t);return r},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getActiveFiles=function(){var e,t,n,s,r;for(s=this.files,r=[],t=0,n=s.length;n>t;t++)e=s[t],(e.status===i.UPLOADING||e.status===i.QUEUED)&&r.push(e);return r},i.prototype.init=function(){var e,t,n,s,r,a,o;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(e){return function(){return e.hiddenFileInput&&document.body.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.body.appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,i,s,r;if(i=e.hiddenFileInput.files,i.length)for(s=0,r=i.length;r>s;s++)t=i[s],e.addFile(t);return n()})}}(this))(),this.URL=null!=(a=window.URL)?a:window.webkitURL,o=this.events,s=0,r=o.length;r>s;s++)e=o[s],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(){return 0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(i){return t(i),e.emit("dragenter",i)}}(this),dragover:function(e){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(s){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(i),e.emit("dragover",i)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(i){return t(i),e.drop(i)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(n){return t!==e.element||n.target===e.element||i.elementInside(n.target,e.element.querySelector(".dz-message"))?e.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var e,t,i,n,s,r,a,o;if(n=0,i=0,e=this.getActiveFiles(),e.length){for(o=this.getActiveFiles(),r=0,a=o.length;a>r;r++)t=o[r],n+=t.upload.bytesSent,i+=t.upload.total;s=100*n/i}else s=100;return this.emit("totaluploadprogress",s,i,n)},i.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},i.prototype.getFallbackForm=function(){var e,t,n,s;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=i.createElement(n),"FORM"!==this.element.tagName?(s=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),s.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=s?s:t)},i.prototype.getExistingFallback=function(){var e,t,i,n,s,r;for(t=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},r=["div","form"],n=0,s=r.length;s>n;n++)if(i=r[n],e=t(this.element.getElementsByTagName(i)))return e},i.prototype.setupEventListeners=function(){var e,t,i,n,s,r,a;for(r=this.listeners,a=[],n=0,s=r.length;s>n;n++)e=r[n],a.push(function(){var n,s;n=e.events,s=[];for(t in n)i=n[t],s.push(e.element.addEventListener(t,i,!1));return s}());return a},i.prototype.removeEventListeners=function(){var e,t,i,n,s,r,a;for(r=this.listeners,a=[],n=0,s=r.length;s>n;n++)e=r[n],a.push(function(){var n,s;n=e.events,s=[];for(t in n)i=n[t],s.push(e.element.removeEventListener(t,i,!1));return s}());return a},i.prototype.disable=function(){var e,t,i,n,s;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,s=[],t=0,i=n.length;i>t;t++)e=n[t],s.push(this.cancelUpload(e));return s},i.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(e){var t,i,n,s,r,a,o,l;for(a=["TB","GB","MB","KB","b"],n=s=null,i=o=0,l=a.length;l>o;i=++o)if(r=a[i],t=Math.pow(this.options.filesizeBase,4-i)/10,e>=t){n=e/Math.pow(this.options.filesizeBase,4-i),s=r;break}return n=Math.round(10*n)/10,"<strong>"+n+"</strong> "+s},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},i.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},i.prototype.handleFiles=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;n>i;i++)t=e[i],s.push(this.addFile(t));return s},i.prototype._addFilesFromItems=function(e){var t,i,n,s,r;for(r=[],n=0,s=e.length;s>n;n++)i=e[n],r.push(null!=i.webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?this.addFile(i.getAsFile()):t.isDirectory?this._addFilesFromDirectory(t,t.name):void 0:null!=i.getAsFile?null==i.kind||"file"===i.kind?this.addFile(i.getAsFile()):void 0:void 0);return r},i.prototype._addFilesFromDirectory=function(e,t){var i,n;return i=e.createReader(),n=function(e){return function(i){var n,s,r;for(s=0,r=i.length;r>s;s++)n=i[s],n.isFile?n.file(function(i){return e.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+t+"/"+i.name,e.addFile(i))}):n.isDirectory&&e._addFilesFromDirectory(n,""+t+"/"+n.name)}}(this),i.readEntries(n,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},i.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},i.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=i.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)t=e[i],this.enqueueFile(t);return null},i.prototype.enqueueFile=function(e){if(e.status!==i.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=i.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},i.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},i.prototype.removeFile=function(e){return e.status===i.UPLOADING&&this.cancelUpload(e),this.files=o(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(e){var t,n,s,r;for(null==e&&(e=!1),r=this.files.slice(),n=0,s=r.length;s>n;n++)t=r[n],(t.status!==i.UPLOADING||e)&&this.removeFile(t);return null},i.prototype.createThumbnail=function(e,t){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}}(this),i.readAsDataURL(e)},i.prototype.createThumbnailFromUrl=function(e,t,i){var n;return n=document.createElement("img"),n.onload=function(t){return function(){var s,a,o,l,d,c,h,p;return e.width=n.width,e.height=n.height,o=t.options.resize.call(t,e),null==o.trgWidth&&(o.trgWidth=o.optWidth),null==o.trgHeight&&(o.trgHeight=o.optHeight),s=document.createElement("canvas"),a=s.getContext("2d"),s.width=o.trgWidth,s.height=o.trgHeight,r(a,n,null!=(d=o.srcX)?d:0,null!=(c=o.srcY)?c:0,o.srcWidth,o.srcHeight,null!=(h=o.trgX)?h:0,null!=(p=o.trgY)?p:0,o.trgWidth,o.trgHeight),l=s.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=i?i():void 0}}(this),null!=i&&(n.onerror=i),n.src=t},i.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,e=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;t>e;){if(!n.length)return;this.processFile(n.shift()),e++}}},i.prototype.processFile=function(e){return this.processFiles([e])},i.prototype.processFiles=function(e){var t,n,s;for(n=0,s=e.length;s>n;n++)t=e[n],t.processing=!0,t.status=i.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},i.prototype._getFilesWithXhr=function(e){var t,i;return i=function(){var i,n,s,r;for(s=this.files,r=[],i=0,n=s.length;n>i;i++)t=s[i],t.xhr===e&&r.push(t);return r}.call(this)},i.prototype.cancelUpload=function(e){var t,n,s,r,a,o,l;if(e.status===i.UPLOADING){for(n=this._getFilesWithXhr(e.xhr),s=0,a=n.length;a>s;s++)t=n[s],t.status=i.CANCELED;for(e.xhr.abort(),r=0,o=n.length;o>r;r++)t=n[r],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=e.status)===i.ADDED||l===i.QUEUED)&&(e.status=i.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},s=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},i.prototype.uploadFile=function(e){return this.uploadFiles([e])},i.prototype.uploadFiles=function(e){var t,r,a,o,l,d,c,h,p,u,f,m,g,v,b,y,w,x,C,k,S,E,T,_,$,I,D,L,A,N,M,R,O,F;for(C=new XMLHttpRequest,k=0,_=e.length;_>k;k++)t=e[k],t.xhr=C;m=s(this.options.method,e),w=s(this.options.url,e),C.open(m,w,!0),C.withCredentials=!!this.options.withCredentials,b=null,a=function(i){return function(){var n,s,r;for(r=[],n=0,s=e.length;s>n;n++)t=e[n],r.push(i._errorProcessing(e,b||i.options.dictResponseError.replace("{{statusCode}}",C.status),C));return r}}(this),y=function(i){return function(n){var s,r,a,o,l,d,c,h,p;if(null!=n)for(r=100*n.loaded/n.total,a=0,d=e.length;d>a;a++)t=e[a],t.upload={progress:r,total:n.total,bytesSent:n.loaded};else{for(s=!0,r=100,o=0,c=e.length;c>o;o++)t=e[o],(100!==t.upload.progress||t.upload.bytesSent!==t.upload.total)&&(s=!1),t.upload.progress=r,t.upload.bytesSent=t.upload.total;if(s)return}for(p=[],l=0,h=e.length;h>l;l++)t=e[l],p.push(i.emit("uploadprogress",t,r,t.upload.bytesSent));return p}}(this),C.onload=function(t){return function(n){var s;if(e[0].status!==i.CANCELED&&4===C.readyState){if(b=C.responseText,C.getResponseHeader("content-type")&&~C.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(r){n=r,b="Invalid JSON response from server."}return y(),200<=(s=C.status)&&300>s?t._finished(e,b,n):a()}}}(this),C.onerror=function(){return function(){return e[0].status!==i.CANCELED?a():void 0}}(this),v=null!=(A=C.upload)?A:C,v.onprogress=y,d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(d,this.options.headers);for(o in d)l=d[o],C.setRequestHeader(o,l);if(r=new FormData,this.options.params){N=this.options.params;for(f in N)x=N[f],r.append(f,x)}for(S=0,$=e.length;$>S;S++)t=e[S],this.emit("sending",t,C,r);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,C,r),"FORM"===this.element.tagName)for(M=this.element.querySelectorAll("input, textarea, select, button"),E=0,I=M.length;I>E;E++)if(h=M[E],p=h.getAttribute("name"),u=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(R=h.options,T=0,D=R.length;D>T;T++)g=R[T],g.selected&&r.append(p,g.value);else(!u||"checkbox"!==(O=u.toLowerCase())&&"radio"!==O||h.checked)&&r.append(p,h.value);for(c=L=0,F=e.length-1;F>=0?F>=L:L>=F;c=F>=0?++L:--L)r.append(this._getParamName(c),e[c],e[c].name);return C.send(r)},i.prototype._finished=function(e,t,n){var s,r,a;for(r=0,a=e.length;a>r;r++)s=e[r],s.status=i.SUCCESS,this.emit("success",s,t,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(e,t,n){var s,r,a;for(r=0,a=e.length;a>r;r++)s=e[r],s.status=i.ERROR,this.emit("error",s,t,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},i}(t),e.version="4.0.1",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[i(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,i,n,s,r,a;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],t=function(e){var t,i,s,r;for(r=[],i=0,s=e.length;s>i;i++)t=e[i],r.push(/(^| )dropzone($| )/.test(t.className)?n.push(t):void 0);return r},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),a=[],s=0,r=n.length;r>s;s++)i=n[s],a.push(e.optionsForElement(i)!==!1?new e(i):void 0);return a},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,i,n,s,r;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(r=e.blacklistedBrowsers,n=0,s=r.length;s>n;n++)i=r[n],i.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},o=function(e,t){var i,n,s,r;for(r=[],n=0,s=e.length;s>n;n++)i=e[n],i!==t&&r.push(i);return r},i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},e.getElements=function(e,t){var i,n,s,r,a,o,l,d;if(e instanceof Array){s=[];try{for(r=0,o=e.length;o>r;r++)n=e[r],s.push(this.getElement(n,t))}catch(c){i=c,s=null}}else if("string"==typeof e)for(s=[],d=document.querySelectorAll(e),a=0,l=d.length;l>a;a++)n=d[a],s.push(n);else null!=e.nodeType&&(s=[e]);if(null==s||!s.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return s},e.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},e.isValidFile=function(e,t){var i,n,s,r,a;if(!t)return!0;for(t=t.split(","),n=e.type,i=n.replace(/\/.*$/,""),r=0,a=t.length;a>r;r++)if(s=t[r],s=s.trim(),"."===s.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",s=function(e){var t,i,n,s,r,a,o,l,d,c;for(o=e.naturalWidth,a=e.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=a,n=i.getContext("2d"),n.drawImage(e,0,0),s=n.getImageData(0,0,1,a).data,c=0,r=a,l=a;l>c;)t=s[4*(l-1)+3],0===t?r=l:c=l,l=r+c>>1;return d=l/a,0===d?1:d},r=function(e,t,i,n,r,a,o,l,d,c){var h;return h=s(t),e.drawImage(t,i,n,r,a,o,l,d,c/h)},n=function(e,t){var i,n,s,r,a,o,l,d,c;if(s=!1,c=!0,n=e.document,d=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",o=n.addEventListener?"":"on",r=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?e:n)[l](o+i.type,r,!1),!s&&(s=!0)?t.call(e,i.type||i):void 0):void 0},a=function(){var e;try{d.doScroll("left")}catch(t){return e=t,void setTimeout(a,50)}return r("poll")},"complete"!==n.readyState){if(n.createEventObject&&d.doScroll){try{c=!e.frameElement}catch(h){}c&&a()}return n[i](o+"DOMContentLoaded",r,!1),n[i](o+"readystatechange",r,!1),e[i](o+"load",r,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0
},n(window,e._autoDiscoverFunction)}.call(this),function(e){var t,i,n,s,r,a,o,l="Close",d="BeforeClose",c="AfterClose",h="BeforeAppend",p="MarkupParse",u="Open",f="Change",m="mfp",g="."+m,v="mfp-ready",b="mfp-removing",y="mfp-prevent-close",w=function(){},x=!!window.jQuery,C=e(window),k=function(e,i){t.ev.on(m+e+g,i)},S=function(t,i,n,s){var r=document.createElement("div");return r.className="mfp-"+t,n&&(r.innerHTML=n),s?i&&i.appendChild(r):(r=e(r),i&&r.appendTo(i)),r},E=function(i,n){t.ev.triggerHandler(m+i,n),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(n)?n:[n]))},T=function(i){return i===o&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),o=i),t.currTemplate.closeBtn},_=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},$=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var i=navigator.appVersion;t.isIE7=-1!==i.indexOf("MSIE 7."),t.isIE8=-1!==i.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=$(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),s=e(document),t.popupsCache={}},open:function(i){n=e(document.body);var r;if(i.isObj===!1){t.items=i.items.toArray(),t.index=0;var o,l=i.items;for(r=0;r<l.length;r++)if(o=l[r],o.parsed&&(o=o.el[0]),o===i.el[0]){t.index=r;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],a="",t.ev=i.mainEl&&i.mainEl.length?i.mainEl.eq(0):s,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=S("bg").on("click"+g,function(){t.close()}),t.wrap=S("wrap").attr("tabindex",-1).on("click"+g,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=S("container",t.wrap)),t.contentContainer=S("content"),t.st.preloader&&(t.preloader=S("preloader",t.container,t.st.tLoading));var d=e.magnificPopup.modules;for(r=0;r<d.length;r++){var c=d[r];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}E("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(k(p,function(e,t,i,n){i.close_replaceWith=T(n.type)}),a+=" mfp-close-btn-in"):t.wrap.append(T())),t.st.alignTop&&(a+=" mfp-align-top"),t.wrap.css(t.fixedContentPos?{overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}:{top:C.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:s.height(),position:"absolute"}),t.st.enableEscapeKey&&s.on("keyup"+g,function(e){27===e.keyCode&&t.close()}),C.on("resize"+g,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var h=t.wH=C.height(),f={};if(t.fixedContentPos&&t._hasScrollBar(h)){var m=t._getScrollbarSize();m&&(f.marginRight=m)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):f.overflow="hidden");var b=t.st.mainClass;return t.isIE7&&(b+=" mfp-ie7"),b&&t._addClassToMFP(b),t.updateItemHTML(),E("BuildControls"),e("html").css(f),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||n),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),s.on("focusin"+g,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(h),E(u),i},close:function(){t.isOpen&&(E(d),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(b),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){E(l);var i=b+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var n={marginRight:""};t.isIE7?e("body, html").css("overflow",""):n.overflow="",e("html").css(n)}s.off("keyup"+g+" focusin"+g),t.ev.off(g),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,E(c)},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n),t.wH=n}else t.wH=e||C.height();t.fixedContentPos||t.wrap.css("height",t.wH),E("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var n=i.type;if(E("BeforeChange",[t.currItem?t.currItem.type:"",n]),t.currItem=i,!t.currTemplate[n]){var s=t.st[n]?t.st[n].markup:!1;E("FirstMarkupParse",s),t.currTemplate[n]=s?e(s):!0}r&&r!==i.type&&t.container.removeClass("mfp-"+r+"-holder");var a=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(a,n),i.preloaded=!0,E(f,i),r=i.type,t.container.prepend(t.contentContainer),E("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[i]===!0?t.content.find(".mfp-close").length||t.content.append(T()):t.content=e:t.content="",E(h),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var n=t.items[i],s=n.type;if(n=n.tagName?{el:e(n)}:{data:n,src:n.src},n.el){for(var r=t.types,a=0;a<r.length;a++)if(n.el.hasClass("mfp-"+r[a])){s=r[a];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=s||t.st.type||"inline",n.index=i,n.parsed=!0,t.items[i]=n,E("ElementParse",n),t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this,t._openClick(n,e,i)};i||(i={});var s="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(s).on(s,n)):(i.isObj=!1,i.delegate?e.off(s).on(s,i.delegate,n):(i.items=e,e.off(s).on(s,n)))},_openClick:function(i,n,s){var r=void 0!==s.midClick?s.midClick:e.magnificPopup.defaults.midClick;if(r||2!==i.which&&!i.ctrlKey&&!i.metaKey){var a=void 0!==s.disableOn?s.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(C.width()<a)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),s.el=e(i.mfpEl),s.delegate&&(s.items=n.find(s.delegate)),t.open(s)}},updateStatus:function(e,n){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),n||"loading"!==e||(n=t.st.tLoading);var s={status:e,text:n};E("UpdateStatus",s),e=s.status,n=s.text,t.preloader.html(n),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass(y)){var n=t.st.closeOnContentClick,s=t.st.closeOnBgClick;if(n&&s)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(n)return!0}else if(s&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?s.height():document.body.scrollHeight)>(e||C.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){return i.target===t.wrap[0]||e.contains(t.wrap[0],i.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,i,n){var s;n.data&&(i=e.extend(n.data,i)),E(p,[t,i,n]),e.each(i,function(e,i){if(void 0===i||i===!1)return!0;if(s=e.split("_"),s.length>1){var n=t.find(g+"-"+s[0]);if(n.length>0){var r=s[1];"replaceWith"===r?n[0]!==i[0]&&n.replaceWith(i):"img"===r?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(s[1],i)}}else t.find(g+"-"+e).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,i){return _(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(i){_();var n=e(this);if("string"==typeof i)if("open"===i){var s,r=x?n.data("magnificPopup"):n[0].magnificPopup,a=parseInt(arguments[1],10)||0;r.items?s=r.items[a]:(s=n,r.delegate&&(s=s.find(r.delegate)),s=s.eq(a)),t._openClick({mfpEl:s},n,r)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),x?n.data("magnificPopup",i):n[0].magnificPopup=i,t.addGroup(n,i);return n};var I,D,L,A="inline",N=function(){L&&(D.after(L.addClass(I)).detach(),L=null)};e.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(A),k(l+"."+A,function(){N()})},getInline:function(i,n){if(N(),i.src){var s=t.st.inline,r=e(i.src);if(r.length){var a=r[0].parentNode;a&&a.tagName&&(D||(I=s.hiddenClass,D=S(I),I="mfp-"+I),L=r.after(D).detach().removeClass(I)),t.updateStatus("ready")}else t.updateStatus("error",s.tNotFound),r=e("<div>");return i.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(n,{},i),n}}});var M,R="ajax",O=function(){M&&n.removeClass(M)},F=function(){O(),t.req&&t.req.abort()};e.magnificPopup.registerModule(R,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(R),M=t.st.ajax.cursor,k(l+"."+R,F),k("BeforeChange."+R,F)},getAjax:function(i){M&&n.addClass(M),t.updateStatus("loading");var s=e.extend({url:i.src,success:function(n,s,r){var a={data:n,xhr:r};E("ParseAjax",a),t.appendContent(e(a.data),R),i.finished=!0,O(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),E("AjaxContentAdded")},error:function(){O(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(s),""}}});var H,P=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(t,i);if(i.el)return i.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,i=".image";t.types.push("image"),k(u+i,function(){"image"===t.currItem.type&&e.cursor&&n.addClass(e.cursor)}),k(l+i,function(){e.cursor&&n.removeClass(e.cursor),C.off("resize"+g)}),k("Resize"+i,t.resizeImage),t.isLowIE&&k("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,H&&clearInterval(H),e.isCheckingImgSize=!1,E("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],s=function(r){H&&clearInterval(H),H=setInterval(function(){return n.naturalWidth>0?void t._onImageHasSize(e):(i>200&&clearInterval(H),i++,void(3===i?s(10):40===i?s(50):100===i&&s(500)))},r)};s(1)},getImage:function(i,n){var s=0,r=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,E("ImageLoadComplete")):(s++,200>s?setTimeout(r,100):a()))},a=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",o.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},o=t.st.image,l=n.find(".mfp-img");if(l.length){var d=document.createElement("img");d.className="mfp-img",i.img=e(d).on("load.mfploader",r).on("error.mfploader",a),d.src=i.src,l.is("img")&&(i.img=i.img.clone()),d=i.img[0],d.naturalWidth>0?i.hasSize=!0:d.width||(i.hasSize=!1)}return t._parseMarkup(n,{title:P(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(H&&clearInterval(H),i.loadError?(n.addClass("mfp-loading"),t.updateStatus("error",o.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),t.updateStatus("ready")),n):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),t.findImageSize(i)),n)}}});var j,z=function(){return void 0===j&&(j=void 0!==document.createElement("p").style.MozTransform),j};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var s,r,a=i.duration,o=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,s={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return s["-webkit-"+r]=s["-moz-"+r]=s["-o-"+r]=s[r]=n,t.css(s),t},c=function(){t.content.css("visibility","visible")};k("BuildControls"+n,function(){if(t._allowZoom()){if(clearTimeout(s),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void c();r=o(e),r.css(t._getOffset()),t.wrap.append(r),s=setTimeout(function(){r.css(t._getOffset(!0)),s=setTimeout(function(){c(),setTimeout(function(){r.remove(),e=r=null,E("ZoomAnimationEnded")},16)},a)},16)}}),k(d+n,function(){if(t._allowZoom()){if(clearTimeout(s),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;r=o(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),k(l+n,function(){t._allowZoom()&&(c(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(i){var n;n=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var s=n.offset(),r=parseInt(n.css("padding-top"),10),a=parseInt(n.css("padding-bottom"),10);s.top-=e(window).scrollTop()-r;var o={width:n.width(),height:(x?n.innerHeight():n[0].offsetHeight)-a-r};return z()?o["-moz-transform"]=o.transform="translate("+s.left+"px,"+s.top+"px)":(o.left=s.left,o.top=s.top),o}}});var B="iframe",U="//about:blank",W=function(e){if(t.currTemplate[B]){var i=t.currTemplate[B].find("iframe");i.length&&(e||(i[0].src=U),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(B,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(B),k("BeforeChange",function(e,t,i){t!==i&&(t===B?W():i===B&&W(!0))}),k(l+"."+B,function(){W()})},getIframe:function(i,n){var s=i.src,r=t.st.iframe;e.each(r.patterns,function(){return s.indexOf(this.index)>-1?(this.id&&(s="string"==typeof this.id?s.substr(s.lastIndexOf(this.id)+this.id.length,s.length):this.id.call(this,s)),s=this.src.replace("%id%",s),!1):void 0});var a={};return r.srcAction&&(a[r.srcAction]=s),t._parseMarkup(n,a,i),t.updateStatus("ready"),n}}});var q=function(e){var i=t.items.length;return e>i-1?e-i:0>e?i+e:e},V=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,n=".mfp-gallery",r=Boolean(e.fn.mfpFastClick);return t.direction=!0,i&&i.enabled?(a+=" mfp-gallery",k(u+n,function(){i.navigateByImgClick&&t.wrap.on("click"+n,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),s.on("keydown"+n,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),k("UpdateStatus"+n,function(e,i){i.text&&(i.text=V(i.text,t.currItem.index,t.items.length))}),k(p+n,function(e,n,s,r){var a=t.items.length;s.counter=a>1?V(i.tCounter,r.index,a):""}),k("BuildControls"+n,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,s=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(y),a=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(y),o=r?"mfpFastClick":"click";s[o](function(){t.prev()}),a[o](function(){t.next()}),t.isIE7&&(S("b",s[0],!1,!0),S("a",s[0],!1,!0),S("b",a[0],!1,!0),S("a",a[0],!1,!0)),t.container.append(s.add(a))}}),k(f+n,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void k(l+n,function(){s.off(n),t.wrap.off("click"+n),t.arrowLeft&&r&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=q(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=q(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),s=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?s:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:s);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=q(i),!t.items[i].preloaded){var n=t.items[i];n.parsed||(n=t.parseEl(i)),E("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,E("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var Y="retina";e.magnificPopup.registerModule(Y,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;i=isNaN(i)?i():i,i>1&&(k("ImageHasSize."+Y,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),k("ElementParse."+Y,function(t,n){n.src=e.replaceSrc(n,i)}))}}}}),function(){var t=1e3,i="ontouchstart"in window,n=function(){C.off("touchmove"+r+" touchend"+r)},s="mfpFastClick",r="."+s;e.fn.mfpFastClick=function(s){return e(this).each(function(){var a,o=e(this);if(i){var l,d,c,h,p,u;o.on("touchstart"+r,function(e){h=!1,u=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],d=p.clientX,c=p.clientY,C.on("touchmove"+r,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,u=p.length,p=p[0],(Math.abs(p.clientX-d)>10||Math.abs(p.clientY-c)>10)&&(h=!0,n())}).on("touchend"+r,function(e){n(),h||u>1||(a=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){a=!1},t),s())})})}o.on("click"+r,function(){a||s()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+r+" click"+r),i&&C.off("touchmove"+r+" touchend"+r)}}(),_()}(window.jQuery||window.Zepto),/*
Copyright 2012 Igor Vaynberg

Version: 3.5.2 Timestamp: Sat Nov  1 14:43:36 EDT 2014

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var i=e([0]),n=-1,s=this.length;++n<s&&(i.context=i[0]=this[n])&&t.call(i[0],n,i)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function i(t){var i=e(document.createTextNode(""));t.before(i),i.before(t),i.remove()}function n(e){function t(e){return j[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function s(e,t){for(var i=0,n=t.length;n>i;i+=1)if(a(e,t[i]))return i;return-1}function r(){var t=e(P);t.appendTo(document.body);var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}function a(e,i){return e===i?!0:e===t||i===t?!1:null===e||null===i?!1:e.constructor===String?e+""==i+"":i.constructor===String?i+""==e+"":!1}function o(e,t,i){var n,s,r;if(null===e||e.length<1)return[];for(n=e.split(t),s=0,r=n.length;r>s;s+=1)n[s]=i(n[s]);return n}function l(e){return e.outerWidth(!1)-e.width()}function d(i){var n="keyup-change-value";i.on("keydown",function(){e.data(i,n)===t&&e.data(i,n,i.val())}),i.on("keyup",function(){var s=e.data(i,n);s!==t&&i.val()!==s&&(e.removeData(i,n),i.trigger("keyup-change"))})}function c(i){i.on("mousemove",function(i){var n=F;(n===t||n.x!==i.pageX||n.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)})}function h(e,i,n){n=n||t;var s;return function(){var t=arguments;window.clearTimeout(s),s=window.setTimeout(function(){i.apply(n,t)},e)}}function p(e,t){var i=h(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){s(e.target,t.get())>=0&&i(e)})}function u(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],n=e.val().length;e.focus();var s=i.offsetWidth>0||i.offsetHeight>0;s&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(t=i.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var i=0,n=0;if("selectionStart"in t)i=t.selectionStart,n=t.selectionEnd-i;else if("selection"in document){t.focus();var s=document.selection.createRange();n=document.selection.createRange().text.length,s.moveStart("character",-t.value.length),i=s.text.length-n}return{offset:i,length:n}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!M){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);M=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),M.attr("class","select2-sizer"),e(document.body).append(M)}return M.text(t.val()),M.width()}function b(t,i,n){var s,r,a=[];s=e.trim(t.attr("class")),s&&(s=""+s,e(s.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),s=e.trim(i.attr("class")),s&&(s=""+s,e(s.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(r=n(this),r&&a.push(r))})),t.attr("class",a.join(" "))}function y(e,t,i,s){var r=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),a=t.length;return 0>r?void i.push(s(e)):(i.push(s(e.substring(0,r))),i.push("<span class='select2-match'>"),i.push(s(e.substring(r,r+a))),i.push("</span>"),void i.push(s(e.substring(r+a,e.length))))}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function x(i){var n,s=null,r=i.quietMillis||100,a=i.url,o=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,r=a,d=i.transport||e.fn.select2.ajaxDefaults.transport,c={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},h=e.extend({},e.fn.select2.ajaxDefaults.params,c);n=n?n.call(o,l.term,l.page,l.context):null,r="function"==typeof r?r.call(o,l.term,l.page,l.context):r,s&&"function"==typeof s.abort&&s.abort(),i.params&&(e.isFunction(i.params)?e.extend(h,i.params.call(o)):e.extend(h,i.params)),e.extend(h,{url:r,dataType:i.dataType,data:n,success:function(e){var t=i.results(e,l.page,l);l.callback(t)},error:function(e,t,i){var n={hasError:!0,jqXHR:e,textStatus:t,errorThrown:i};l.callback(n)}}),s=d.call(o,h)},r)}}function C(t){var i,n,s=t,r=function(e){return""+e.text};e.isArray(s)&&(n=s,s={results:n}),e.isFunction(s)===!1&&(n=s,s=function(){return n});var a=s();return a.text&&(r=a.text,e.isFunction(r)||(i=a.text,r=function(e){return e[i]})),function(t){var i,n=t.term,a={results:[]};return""===n?void t.callback(s()):(i=function(s,a){var o,l;if(s=s[0],s.children){o={};for(l in s)s.hasOwnProperty(l)&&(o[l]=s[l]);o.children=[],e(s.children).each2(function(e,t){i(t,o.children)}),(o.children.length||t.matcher(n,r(o),s))&&a.push(o)}else t.matcher(n,r(s),s)&&a.push(s)},e(s().results).each2(function(e,t){i(t,a.results)}),void t.callback(a))}}function k(i){var n=e.isFunction(i);return function(s){var r=s.term,a={results:[]},o=n?i(s):i;e.isArray(o)&&(e(o).each(function(){var e=this.text!==t,i=e?this.text:this;(""===r||s.matcher(r,i))&&a.results.push(e?this:{id:this,text:this})}),s.callback(a))}}function S(t,i){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(i+" must be a string, function, or falsy value")}function E(t,i){if(e.isFunction(t)){var n=Array.prototype.slice.call(arguments,2);return t.apply(i,n)}return t}function T(t){var i=0;return e.each(t,function(e,t){t.children?i+=T(t.children):i++}),i}function _(e,i,n,s){var r,o,l,d,c,h=e,p=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return t;for(;;){for(o=-1,l=0,d=s.tokenSeparators.length;d>l&&(c=s.tokenSeparators[l],o=e.indexOf(c),!(o>=0));l++);if(0>o)break;if(r=e.substring(0,o),e=e.substring(o+c.length),r.length>0&&(r=s.createSearchChoice.call(this,r,i),r!==t&&null!==r&&s.id(r)!==t&&null!==s.id(r))){for(p=!1,l=0,d=i.length;d>l;l++)if(a(s.id(r),s.id(i[l]))){p=!0;break}p||n(r)}}return h!==e?e:void 0}function $(){var t=this;e.each(arguments,function(e,i){t[i].remove(),t[i]=null})}function I(t,i){var n=function(){};return n.prototype=new t,n.prototype.constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var D,L,A,N,M,R,O,F={x:0,y:0},H={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case H.LEFT:case H.RIGHT:case H.UP:case H.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case H.SHIFT:case H.CTRL:case H.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},P="<div class='select2-measure-scrollbar'></div>",j={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};R=e(document),N=function(){var e=1;return function(){return e++}}(),D=I(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,s,a=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+N()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=e(document.body),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(E(i.containerCss,this.opts.element)),this.container.addClass(E(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=n=this.container.find(a),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),c(this.results),this.dropdown.on("mousemove-filtered",a,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",a,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",a,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",a,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),p(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&n.mousewheel(function(e,t,i,s){var r=n.scrollTop();s>0&&0>=r-s?(n.scrollTop(0),m(e)):0>s&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),m(e))}),d(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var o=i.element.prop("disabled");o===t&&(o=!1),this.enable(!o);var l=i.element.prop("readonly");l===t&&(l=!1),this.readonly(l),O=O||r(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,i=e.data("select2"),n=this;this.close(),e.length&&e[0].detachEvent&&n._sync&&e.each(function(){n._sync&&this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),e.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),$.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:a(e.attr("locked"),"locked")||a(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(i){var n,s,r,l,d=this;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=s=i.element),s&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=e.extend({},{populateResults:function(n,s,r){var a,o=this.opts.id,l=this.liveRegion;(a=function(n,s,c){var h,p,u,f,m,g,v,b,y,w;n=i.sortResults(n,s,r);var x=[];for(h=0,p=n.length;p>h;h+=1)u=n[h],m=u.disabled===!0,f=!m&&o(u)!==t,g=u.children&&u.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+c),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(d.opts.formatResultCssClass(u)),v.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+N()),b.attr("role","option"),w=i.formatResult(u,b,r,d.opts.escapeMarkup),w!==t&&(b.html(w),v.append(b)),g&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),a(u.children,y,c+1),v.append(y)),v.data("select2-data",u),x.push(v[0]);s.append(x),l.text(i.formatMatches(n.length))})(s,n,0)}},e.fn.select2.defaults,i),"function"!=typeof i.id&&(r=i.id,i.id=function(e){return e[r]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(s?(i.query=this.bind(function(e){var i,s,r,a={results:[],more:!1},o=e.term;r=function(t,i){var n;t.is("option")?e.matcher(o,t.text(),t)&&i.push(d.optionToData(t)):t.is("optgroup")&&(n=d.optionToData(t),t.children().each2(function(e,t){r(t,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==t&&i.length>0&&(s=this.getPlaceholderOption(),s&&(i=i.not(s))),i.each2(function(e,t){r(t,a.results)}),e.callback(a)}),i.id=function(e){return e.id}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=x.call(i.element,i.ajax)):"data"in i?i.query=C(i.data):"tags"in i&&(i.query=k(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,n){var s=[];e(o(t.val(),i.separator,i.transformVal)).each(function(){var t={id:this,text:this},n=i.tags;e.isFunction(n)&&(n=n()),e(n).each(function(){return a(this.id,t.id)?(t=this,!1):void 0}),s.push(t)}),n(s)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,s=this;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=n.prop("disabled");e===t&&(e=!1),this.enable(!e);var i=n.prop("readonly");i===t&&(i=!1),this.readonly(i),this.container&&(b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(E(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(this.opts.dropdownCssClass,this.opts.element)))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",s._sync)}),i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(t){e.each(t,s._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,i,n,s,r,a=this.dropdown,o=this.container,l=o.offset(),d=o.outerHeight(!1),c=o.outerWidth(!1),h=a.outerHeight(!1),p=e(window),u=p.width(),f=p.height(),m=p.scrollLeft()+u,g=p.scrollTop()+f,v=l.top+d,b=l.left,y=g>=v+h,w=l.top-h>=p.scrollTop(),x=a.outerWidth(!1),C=function(){return m>=b+x},k=function(){return l.left+m+o.outerWidth(!1)>x},S=a.hasClass("select2-drop-above");S?(i=!0,!w&&y&&(n=!0,i=!1)):(i=!1,!y&&w&&(n=!0,i=!0)),n&&(a.hide(),l=this.container.offset(),d=this.container.outerHeight(!1),c=this.container.outerWidth(!1),h=a.outerHeight(!1),m=p.scrollLeft()+u,g=p.scrollTop()+f,v=l.top+d,b=l.left,x=a.outerWidth(!1),a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(r=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),x=a.outerWidth(!1)+(r.scrollHeight===r.clientHeight?0:O.width),x>c?c=x:x=c,h=a.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),v-=t.top,b-=t.left),!C()&&k()&&(b=l.left+this.container.outerWidth(!1)-x),s={left:b,width:c},i?(s.top=l.top-h,s.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(s.top=v,s.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),s=e.extend(s,E(this.opts.dropdownCss,this.opts.element)),a.css(s)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),R.on("mousemove.select2Event",function(e){F.x=e.pageX,F.y=e.pageY}),!0):!1},opening:function(){var t,n=this.containerEventName,s="scroll."+n,r="resize."+n,a="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0===t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(n){i(t);var s,r=e("#select2-drop");r.length>0&&(s=r.data("select2"),s.opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+s+" "+a,function(){o.opened()&&o.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,i="scroll."+t,n="resize."+t,s="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(n).off(s)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),R.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return E(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,i,n,s,r,a,o,l,d=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return void d.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),n=e(t[i]),l=(n.offset()||{}).top||0,s=l+n.outerHeight(!0),i===t.length-1&&(o=d.find("li.select2-more-results"),o.length>0&&(s=o.offset().top+o.outerHeight(!0))),r=d.offset().top+d.outerHeight(!1),s>r&&d.scrollTop(d.scrollTop()+(s-r)),a=l-d.offset().top,0>a&&"none"!=n.css("display")&&d.scrollTop(d.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=t;var s=e(i[n]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var i,n,r=this.findHighlightableChoices();return 0===arguments.length?s(r.filter(".select2-highlighted")[0],r.get()):(t>=r.length&&(t=r.length-1),0>t&&(t=0),this.removeHighlight(),i=e(r[t]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),n=i.data("select2-data"),void(n&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")
},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,i=t.find("li.select2-more-results"),n=this.resultsPage+1,s=this,r=this.search.val(),a=this.context;0!==i.length&&(e=i.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:n,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){s.opened()&&(s.opts.populateResults.call(this,t,e.results,{term:r,page:n,context:a}),s.postprocessResults(e,!1,!1),e.more===!0?(i.detach().appendTo(t).html(s.opts.escapeMarkup(E(s.opts.formatLoadMore,s.opts.element,n+1))),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):i.remove(),s.positionDropdown(),s.resultsPage=n,s.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(i){function n(){d.removeClass("select2-active"),p.positionDropdown(),p.liveRegion.text(c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.text():p.opts.formatMatches(c.find('.select2-result-selectable:not(".select2-selected")').length))}function s(e){c.html(e),n()}var r,o,l,d=this.search,c=this.results,h=this.opts,p=this,u=d.val(),f=e.data(this.container,"select2-last-term");if((i===!0||!f||!a(u,f))&&(e.data(this.container,"select2-last-term",u),i===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(r=this.data(),e.isArray(r)&&r.length>=m&&S(h.formatSelectionTooBig,"formatSelectionTooBig")))return void s("<li class='select2-selection-limit'>"+E(h.formatSelectionTooBig,h.element,m)+"</li>");if(d.val().length<h.minimumInputLength)return s(S(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+E(h.formatInputTooShort,h.element,d.val(),h.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&d.val().length>h.maximumInputLength)return void s(S(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+E(h.formatInputTooLong,h.element,d.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&s("<li class='select2-searching'>"+E(h.formatSearching,h.element)+"</li>"),d.addClass("select2-active"),this.removeHighlight(),o=this.tokenize(),o!=t&&null!=o&&d.val(o),this.resultsPage=1,h.query({element:h.element,term:d.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(r){var o;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(r.hasError!==t&&S(h.formatAjaxError,"formatAjaxError"))return void s("<li class='select2-ajax-error'>"+E(h.formatAjaxError,h.element,r.jqXHR,r.textStatus,r.errorThrown)+"</li>");if(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==d.val()&&(o=this.opts.createSearchChoice.call(p,d.val(),r.results),o!==t&&null!==o&&p.id(o)!==t&&null!==p.id(o)&&0===e(r.results).filter(function(){return a(p.id(this),p.id(o))}).length&&this.opts.createSearchChoicePosition(r.results,o)),0===r.results.length&&S(h.formatNoMatches,"formatNoMatches"))return void s("<li class='select2-no-results'>"+E(h.formatNoMatches,h.element,d.val())+"</li>");c.empty(),p.opts.populateResults.call(this,c,r.results,{term:d.val(),page:this.resultsPage,context:null}),r.more===!0&&S(h.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.escapeMarkup(E(h.formatLoadMore,h.element,this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(r,i),n(),this.opts.element.trigger({type:"select2-loaded",items:r})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){u(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function i(){var i,n,s,r,a,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==t)for(n=i.split(";"),r=0,a=n.length;a>r;r+=1)if(o=n[r].replace(/\s/g,""),s=o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==s&&s.length>=1)return s[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),L=I(D,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,s;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(n=i.createTextRange(),n.collapse(!1),n.select()):i.setSelectionRange&&(s=this.search.val().length,i.setSelectionRange(s,s))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),$.call(this,"selection","focusser")},initContainer:function(){var t,n,s=this.container,r=this.dropdown,a=N();this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=t=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var o=this.opts.element.attr("title");this.opts.element.attr("title",o||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===H.PAGE_UP||e.which===H.PAGE_DOWN)return void m(e);switch(e.which){case H.UP:case H.DOWN:return this.moveHighlight(e.which===H.UP?-1:1),void m(e);case H.ENTER:return this.selectHighlighted(),void m(e);case H.TAB:return void this.selectHighlighted({noFocus:!0});case H.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==H.TAB&&!H.isControl(e)&&!H.isFunctionKey(e)&&e.which!==H.ESC){if(this.opts.openOnEnter===!1&&e.which===H.ENTER)return void m(e);if(e.which==H.DOWN||e.which==H.UP||e.which==H.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==H.DELETE||e.which==H.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),d(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(n){i(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(n)})),r.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data");if(i){var n=e.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var s=this.getPlaceholderOption();this.opts.element.val(s?s.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(i,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=e.find("option").filter(function(){return this.selected&&!this.disabled});t(i.optionToData(n))}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var s=i.val(),r=null;t.query({matcher:function(e,i,n){var o=a(s,t.id(n));return o&&(r=n),o},callback:e.isFunction(n)?function(){n(r)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,s=this;if(this.findHighlightableChoices().each2(function(e,t){return a(s.id(t.data("select2-data")),s.opts.element.val())?(n=e,!1):void 0}),i!==!1&&this.highlight(t===!0&&n>=0?n:0),t===!0){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(T(e.results)>=r)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),a(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var i,n,s=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),s.empty(),null!==e&&(i=this.opts.formatSelection(e,s,this.opts.escapeMarkup)),i!==t&&s.append(i),n=this.opts.formatSelectionCssClass(e,s),n!==t&&s.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,n=null,s=this,r=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return n=s.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:r});else{if(!e&&0!==e)return void this.clear(i);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){s.opts.element.val(e?s.id(e):""),s.updateSelection(e),s.setPlaceholder(),i&&s.triggerChange({added:e,removed:r})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,n=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(arguments.length>1&&(n=arguments[1]),void(e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n)))}}),A=I(D,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){n.push(i.optionToData(t))}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var s=o(i.val(),t.separator,t.transformVal),r=[];t.query({matcher:function(i,n,o){var l=e.grep(s,function(e){return a(e,t.id(o))}).length;return l&&r.push(o),l},callback:e.isFunction(n)?function(){for(var e=[],i=0;i<s.length;i++)for(var o=s[i],l=0;l<r.length;l++){var d=r[l];if(a(o,t.id(d))){e.push(d),r.splice(l,1);break}}n(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),$.call(this,"searchContainer","selection")},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var n=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){n.search[0].focus(),n.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+N()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),s=i.next(".select2-search-choice:not(.select2-locked)"),r=f(this.search);if(i.length&&(e.which==H.LEFT||e.which==H.RIGHT||e.which==H.BACKSPACE||e.which==H.DELETE||e.which==H.ENTER)){var a=i;return e.which==H.LEFT&&n.length?a=n:e.which==H.RIGHT?a=s.length?s:null:e.which===H.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),a=n.length?n:s):e.which==H.DELETE?this.unselect(i.first())&&(this.search.width(10),a=s.length?s:null):e.which==H.ENTER&&(a=null),this.selectChoice(a),m(e),void(a&&a.length||this.open())}if((e.which===H.BACKSPACE&&1==this.keydowns||e.which==H.LEFT)&&0==r.offset&&!r.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case H.UP:case H.DOWN:return this.moveHighlight(e.which===H.UP?-1:1),void m(e);case H.ENTER:return this.selectHighlighted(),void m(e);case H.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case H.ESC:return this.cancel(e),void m(e)}if(e.which!==H.TAB&&!H.isControl(e)&&!H.isFunctionKey(e)&&e.which!==H.BACKSPACE&&e.which!==H.ESC){if(e.which===H.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===H.PAGE_UP||e.which===H.PAGE_DOWN)&&m(e),e.which===H.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],n=[],r=this;e(t).each(function(){s(r.id(this),i)<0&&(i.push(r.id(this)),n.push(this))}),t=n,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,i){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,s,r=!i.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=r?a:o,d=this.id(i),c=this.getVal();n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),n!=t&&l.find("div").replaceWith(e("<div></div>").html(n)),s=this.opts.formatSelectionCssClass(i,l.find("div")),s!=t&&l.addClass(s),r&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),c.push(d),this.setVal(c)},unselect:function(t){var i,n,r=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){var a=e.Event("select2-removing");if(a.val=this.id(i),a.choice=i,this.opts.element.trigger(a),a.isDefaultPrevented())return!1;for(;(n=s(this.id(i),r))>=0;)r.splice(n,1),this.setVal(r),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(e,t,i){var n=this.getVal(),r=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),o=this;r.each2(function(e,t){var i=o.id(t.data("select2-data"));s(i,n)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&this.opts.closeOnSelect===!0&&o.highlight(0),!this.opts.createSearchChoice&&!r.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&S(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+E(o.opts.formatNoMatches,o.opts.element,o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,i,n,s,r=l(this.search);e=v(this.search)+10,t=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,s=i-(t-n)-r,e>s&&(s=i-r),40>s&&(s=i-r),0>=s&&(s=e),this.search.width(Math.floor(s))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),o(e,this.opts.separator,this.opts.transformVal))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){s(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),i=0;i<t.length;i++)for(var n=0;n<e.length;n++)a(this.opts.id(t[i]),this.opts.id(e[n]))&&(t.splice(i,1),i>0&&i--,e.splice(n,1),n--);return{added:t,removed:e}},val:function(i,n){var s,r=this;if(0===arguments.length)return this.getVal();if(s=this.data(),s.length||(s=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:s}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(s,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,r.id);r.setVal(i),r.updateSelection(t),r.clearSearch(),n&&r.triggerChange(r.buildChangeDetails(s,r.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,i){var n,s,r=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(s=this.data(),t||(t=[]),n=e.map(t,function(e){return r.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(s,this.data())),void 0)}}),e.fn.select2=function(){var i,n,r,a,o,l=Array.prototype.slice.call(arguments,0),d=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],h=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:e.extend({},l[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?o=i.element.prop("multiple"):(o=i.multiple||!1,"tags"in i&&(i.multiple=o=!0)),n=o?new window.Select2["class"].multi:new window.Select2["class"].single,n.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(s(l[0],d)<0)throw"Unknown method: "+l[0];if(a=t,n=e(this).data("select2"),n===t)return;if(r=l[0],"container"===r?a=n.container:"dropdown"===r?a=n.dropdown:(p[r]&&(r=p[r]),a=n[r].apply(n,l.slice(1))),s(l[0],c)>=0||s(l[0],h)>=0&&1==l.length)return!1}}),a===t?this:a},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var s=[];return y(this.text(e),i.term,s,n),s.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,i,n){return e?n(this.text(e)):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:_,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&e.opts.minimumResultsForSearch<0?!1:!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:x,local:C,tags:k},util:{debounce:h,markMatch:y,escapeMarkup:w,stripDiacritics:n},"class":{"abstract":D,single:L,multi:A}}}}(jQuery),/*!
 * Datepicker for Bootstrap v1.4.0 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
function(e,t){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var e=new Date;return i(e.getFullYear(),e.getMonth(),e.getDate())}function s(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function r(e){return function(){return this[e].apply(this,arguments)}}function a(t,i){function n(e,t){return t.toLowerCase()}var s,r=e(t).data(),a={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in r)i.test(l)&&(s=l.replace(o,n),a[s]=r[l]);return a}function o(t){var i={};if(m[t]||(t=t.split("-")[0],m[t])){var n=m[t];return e.each(f,function(e,t){t in n&&(i[t]=n[t])}),i}}var l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===t)return i;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var i=[];return i.push.apply(i,arguments),e.extend(i,t),i}}(),d=function(t,i){this._process_options(i),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(s){this._o=e.extend({},this._o,s);var r=this.o=e.extend({},this._o),a=r.language;switch(m[a]||(a=a.split("-")[0],m[a]||(a=u.language)),r.language=a,r.startView){case 2:case"decade":r.startView=2;break;case 1:case"year":r.startView=1;break;default:r.startView=0}switch(r.minViewMode){case 1:case"months":r.minViewMode=1;break;case 2:case"years":r.minViewMode=2;break;default:r.minViewMode=0}r.startView=Math.max(r.startView,r.minViewMode),r.multidate!==!0&&(r.multidate=Number(r.multidate)||!1,r.multidate!==!1&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var o=g.parseFormat(r.format);if(r.startDate!==-1/0&&(r.startDate=r.startDate?r.startDate instanceof Date?this._local_to_utc(this._zero_time(r.startDate)):g.parseDate(r.startDate,o,r.language):-1/0),1/0!==r.endDate&&(r.endDate=r.endDate?r.endDate instanceof Date?this._local_to_utc(this._zero_time(r.endDate)):g.parseDate(r.endDate,o,r.language):1/0),r.daysOfWeekDisabled=r.daysOfWeekDisabled||[],e.isArray(r.daysOfWeekDisabled)||(r.daysOfWeekDisabled=r.daysOfWeekDisabled.split(/[,\s]*/)),r.daysOfWeekDisabled=e.map(r.daysOfWeekDisabled,function(e){return parseInt(e,10)}),r.datesDisabled=r.datesDisabled||[],!e.isArray(r.datesDisabled)){var l=[];l.push(g.parseDate(r.datesDisabled,o,r.language)),r.datesDisabled=l}r.datesDisabled=e.map(r.datesDisabled,function(e){return g.parseDate(e,o,r.language)});var d=String(r.orientation).toLowerCase().split(/\s+/g),c=r.orientation.toLowerCase();if(d=e.grep(d,function(e){return/^auto|left|right|top|bottom$/.test(e)}),r.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===d.length)switch(d[0]){case"top":case"bottom":r.orientation.y=d[0];break;case"left":case"right":r.orientation.x=d[0]}else c=e.grep(d,function(e){return/^left|right$/.test(e)}),r.orientation.x=c[0]||"auto",c=e.grep(d,function(e){return/^top|bottom$/.test(e)}),r.orientation.y=c[0]||"auto";else;if(r.defaultViewDate){var h=r.defaultViewDate.year||(new Date).getFullYear(),p=r.defaultViewDate.month||0,f=r.defaultViewDate.day||1;r.defaultViewDate=i(h,p,f)}else r.defaultViewDate=n();r.showOnFocus=r.showOnFocus!==t?r.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var i,n,s,r=0;r<e.length;r++)i=e[r][0],2===e[r].length?(n=t,s=e[r][1]):3===e[r].length&&(n=e[r][1],s=e[r][2]),i.on(s,n)},_unapplyEvents:function(e){for(var i,n,s,r=0;r<e.length;r++)i=e[r][0],2===e[r].length?(s=t,n=e[r][1]):3===e[r].length&&(s=e[r][1],n=e[r][2]),i.off(n,s)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,i){var n=i||this.dates.get(-1),s=this._utc_to_local(n);this.element.trigger({type:t,date:s,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var i=this.dates.get(e);return g.formatDate(i,t,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){var e;this.isInput?e=this.element:this.component&&(e=this.element.find("input")),e&&e.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var e=this.getFormattedDate();return this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change(),this},getFormattedDate:function(i){i===t&&(i=this.o.format);var n=this.o.language;return e.map(this.dates,function(e){return g.formatDate(e,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,s=e(this.o.container).width(),r=e(this.o.container).height(),a=e(this.o.container).scrollTop(),o=e(this.o.container).offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var d=Math.max.apply(Math,l)+10,c=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),p=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),u=c.left-o.left,f=c.top-o.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(u-=t-p)):c.left<0?(this.picker.addClass("datepicker-orient-left"),u-=c.left-n):u+t>s?(this.picker.addClass("datepicker-orient-right"),u=c.left+p-t):this.picker.addClass("datepicker-orient-left");var m,g,v=this.o.orientation.y;if("auto"===v&&(m=-a+f-i,g=a+r-(f+h+i),v=Math.max(m,g)===g?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?f+=h:f-=i+parseInt(this.picker.css("padding-top")),this.o.rtl){var b=s-(u+p);this.picker.css({top:f,right:b,zIndex:d})}else this.picker.css({top:f,left:u,zIndex:d});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),i=[],n=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),i.push(t)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=e.map(i,e.proxy(function(e){return g.parseDate(e,this.o.format,this.o.language)},this)),i=e.grep(i,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),n?this.setValue():i.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1});var i='<th class="cw">&#160;</th>';t+=i}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+m[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+m[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var i=[],n=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),a=new Date;return t.getUTCFullYear()<n||t.getUTCFullYear()===n&&t.getUTCMonth()<r?i.push("old"):(t.getUTCFullYear()>n||t.getUTCFullYear()===n&&t.getUTCMonth()>r)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===a.getFullYear()&&t.getUTCMonth()===a.getMonth()&&t.getUTCDate()===a.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.o.datesDisabled.length>0&&e.grep(this.o.datesDisabled,function(e){return s(t,e)}).length>0&&i.push("disabled","disabled-date"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var n,s=new Date(this.viewDate),r=s.getUTCFullYear(),a=s.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,d=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,h=m[this.o.language].today||m.en.today||"",p=m[this.o.language].clear||m.en.clear||"";if(!isNaN(r)&&!isNaN(a)){this.picker.find(".datepicker-days thead .datepicker-switch").text(m[this.o.language].months[a]+" "+r),this.picker.find("tfoot .today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var u=i(r,a-1,28),f=g.getDaysInMonth(u.getUTCFullYear(),u.getUTCMonth());u.setUTCDate(f),u.setUTCDate(f-(u.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(u);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var b,y=[];u.valueOf()<v;){if(u.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var w=new Date(+u+(this.o.weekStart-u.getUTCDay()-7)%7*864e5),x=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),C=new Date(Number(C=i(x.getUTCFullYear(),0,1))+(11-C.getUTCDay())%7*864e5),k=(x-C)/864e5/7+1;y.push('<td class="cw">'+k+"</td>")}if(b=this.getClassNames(u),b.push("day"),this.o.beforeShowDay!==e.noop){var S=this.o.beforeShowDay(this._utc_to_local(u));S===t?S={}:"boolean"==typeof S?S={enabled:S}:"string"==typeof S&&(S={classes:S}),S.enabled===!1&&b.push("disabled"),S.classes&&(b=b.concat(S.classes.split(/\s+/))),S.tooltip&&(n=S.tooltip)}b=e.unique(b),y.push('<td class="'+b.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+u.getUTCDate()+"</td>"),n=null,u.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),u.setUTCDate(u.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var E=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===r&&E.eq(t.getUTCMonth()).addClass("active")}),(o>r||r>d)&&E.addClass("disabled"),r===o&&E.slice(0,l).addClass("disabled"),r===d&&E.slice(c+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var T=this;e.each(E,function(t,i){if(!e(i).hasClass("disabled")){var n=new Date(r,t,1),s=T.o.beforeShowMonth(n);s===!1&&e(i).addClass("disabled")}})}y="",r=10*parseInt(r/10,10);var _=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var $,I=e.map(this.dates,function(e){return e.getUTCFullYear()}),D=-1;11>D;D++)$=["year"],-1===D?$.push("old"):10===D&&$.push("new"),-1!==e.inArray(r,I)&&$.push("active"),(o>r||r>d)&&$.push("disabled"),y+='<span class="'+$.join(" ")+'">'+r+"</span>",r+=1;_.html(y)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),i=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(t){t.preventDefault();var n,s,r,a=e(t.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=g.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(l,d);break;case"clear":this.clearDates()}break;case"span":a.hasClass("disabled")||(this.viewDate.setUTCDate(1),a.hasClass("month")?(r=1,s=a.parent().find("span").index(a),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(n,s,r))):(r=1,s=0,n=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(n,s,r))),this.showMode(-1),this.fill());break;case"td":a.hasClass("day")&&!a.hasClass("disabled")&&(r=parseInt(a.text(),10)||1,n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a.hasClass("old")?0===s?(s=11,n-=1):s-=1:a.hasClass("new")&&(11===s?(s=0,n+=1):s+=1),this._setDate(i(n,s,r)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,i){if(!e)return t;if(!i)return e;var n,s,r=new Date(e.valueOf()),a=r.getUTCDate(),o=r.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)s=-1===i?function(){return r.getUTCMonth()===o}:function(){return r.getUTCMonth()!==n},n=o+i,r.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var d=0;l>d;d++)r=this.moveMonth(r,i);n=r.getUTCMonth(),r.setUTCDate(a),s=function(){return n!==r.getUTCMonth()}}for(;s();)r.setUTCDate(--a),r.setUTCMonth(n);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void(27===e.keyCode&&this.show());var t,i,s,r=!1,a=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),t),s=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),t),s=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+t),s=new Date(a),s.setUTCDate(a.getUTCDate()+t)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),t),s=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),t),s=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+7*t),s=new Date(a),s.setUTCDate(a.getUTCDate()+7*t)),this.dateWithinRange(s)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(a),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this._trigger(this.dates.length?"changeDate":"clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(t,i){this.element=e(t),this.inputs=e.map(i.inputs,function(e){return e.jquery?e[0]:e}),delete i.inputs,p.call(e(this.inputs),i).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,i){i.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var i=e(t.target).data("datepicker"),n=i.getUTCDate(),s=e.inArray(t.target,this.inputs),r=s-1,a=s+1,o=this.inputs.length;if(-1!==s){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(n)}),n<this.dates[r])for(;r>=0&&n<this.dates[r];)this.pickers[r--].setUTCDate(n);else if(n>this.dates[a])for(;o>a&&n>this.dates[a];)this.pickers[a++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var h=e.fn.datepicker,p=function(i){var n=Array.apply(null,arguments);n.shift();var s;return this.each(function(){var r=e(this),l=r.data("datepicker"),h="object"==typeof i&&i;if(!l){var p=a(this,"date"),f=e.extend({},u,p,h),m=o(f.language),g=e.extend({},u,m,p,h);if(r.hasClass("input-daterange")||g.inputs){var v={inputs:g.inputs||r.find("input").toArray()};r.data("datepicker",l=new c(this,e.extend(g,v)))}else r.data("datepicker",l=new d(this,g))}return"string"==typeof i&&"function"==typeof l[i]&&(s=l[i].apply(l,n),s!==t)?!1:void 0}),s!==t?s:this};e.fn.datepicker=p;var u=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},f=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=d;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,g.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),i=e.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(n,s,r){function a(){var e=this.slice(0,p[c].length),t=p[c].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!n)return t;if(n instanceof Date)return n;"string"==typeof s&&(s=g.parseFormat(s));var o,l,c,h=/([\-+]\d+)([dmwy])/,p=n.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,c=0;c<p.length;c++)switch(o=h.exec(p[c]),l=parseInt(o[1]),o[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=d.prototype.moveMonth.call(d.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+7*l);break;case"y":n=d.prototype.moveYear.call(d.prototype,n,l)}return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}p=n&&n.match(this.nonpunctuation)||[],n=new Date;var u,f,v={},b=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,n=i(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var w=s.parts.slice();if(p.length!==w.length&&(w=e(w).filter(function(t,i){return-1!==e.inArray(i,b)}).toArray()),p.length===w.length){var x;for(c=0,x=w.length;x>c;c++){if(u=parseInt(p[c],10),o=w[c],isNaN(u))switch(o){case"MM":f=e(m[r].months).filter(a),u=e.inArray(f[0],m[r].months)+1;break;case"M":f=e(m[r].monthsShort).filter(a),u=e.inArray(f[0],m[r].monthsShort)+1}v[o]=u}var C,k;for(c=0;c<b.length;c++)k=b[c],k in v&&!isNaN(v[k])&&(C=new Date(n),y[k](C,v[k]),isNaN(C)||(n=C))}return n},formatDate:function(t,i,n){if(!t)return"";"string"==typeof i&&(i=g.parseFormat(i));var s={d:t.getUTCDate(),D:m[n].daysShort[t.getUTCDay()],DD:m[n].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[n].monthsShort[t.getUTCMonth()],MM:m[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,t=[];for(var r=e.extend([],i.separators),a=0,o=i.parts.length;o>=a;a++)r.length&&t.push(r.shift()),t.push(s[i.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=g,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=h,this},e.fn.datepicker.version="1.4.0",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=e(this);i.data("datepicker")||(t.preventDefault(),p.call(i,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(e){e.fn.datepicker.dates.fi={days:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai","sunnuntai"],daysShort:["sun","maa","tii","kes","tor","per","lau","sun"],daysMin:["su","ma","ti","ke","to","pe","la","su"],months:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\xe4kuu","hein\xe4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"],monthsShort:["tam","hel","maa","huh","tou","kes","hei","elo","syy","lok","mar","jou"],today:"t\xe4n\xe4\xe4n",weekStart:1,format:"d.m.yyyy"}}(jQuery),/*
 * Metadata - jQuery plugin for parsing metadata from elements
 *
 * Copyright (c) 2006 John Resig, Yehuda Katz, Jörn Zaefferer, Paul McLanahan
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/(\{.*\})/,single:"metadata"},setType:function(e,t){this.defaults.type=e,this.defaults.name=t},get:function(elem,opts){var data,m,e,attr,settings=$.extend({},this.defaults,opts);if(settings.single.length||(settings.single="metadata"),data=$.data(elem,settings.single))return data;if(data="{}","class"===settings.type)m=settings.cre.exec(elem.className),m&&(data=m[1]);else if("elem"===settings.type){if(!elem.getElementsByTagName)return void 0;e=elem.getElementsByTagName(settings.name),e.length&&(data=$.trim(e[0].innerHTML))}else void 0!==elem.getAttribute&&(attr=elem.getAttribute(settings.name),attr&&(data=attr));return data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"),$.data(elem,settings.single,data),data}}}),$.fn.metadata=function(e){return $.metadata.get(this[0],e)}}(jQuery),function(e){"use strict";e.extend({tablesorter:new function(){function t(){var e=arguments[0],t=arguments.length>1?Array.prototype.slice.call(arguments):e;"undefined"!=typeof console&&"undefined"!=typeof console.log?console[/error/i.test(e)?"error":/warn/i.test(e)?"warn":"log"](t):alert(t)}function i(e,i){t(e+" ("+((new Date).getTime()-i.getTime())+"ms)")}function n(e){for(var t in e)return!1;return!0}function s(i,n,s,r){for(var a,o,l=i.config,d=x.parsers.length,c=!1,h="",p=!0;""===h&&p;)s++,n[s]?(c=n[s].cells[r],h=x.getElementText(l,c,r),o=e(c),i.config.debug&&t("Checking if value was empty on row "+s+", column: "+r+': "'+h+'"')):p=!1;for(;--d>=0;)if(a=x.parsers[d],a&&"text"!==a.id&&a.is&&a.is(h,i,c,o))return a;return x.getParserById("text")}function r(e,t,i,n){"undefined"==typeof n&&(n=x.getElementText(e,t,i));var s=""+n,r=e.parsers[i],a=e.extractors[i];return r&&(a&&"function"==typeof a.format&&(n=a.format(n,e.table,t,i)),s="no-parser"===r.id?"":r.format(""+n,e.table,t,i),e.ignoreCase&&"string"==typeof s&&(s=s.toLowerCase())),s}function a(e){var n,r,a,o,l,d,c,h,p,u,f=e.config,m=f.$tbodies=f.$table.children("tbody:not(."+f.cssInfoBlock+")"),g=0,v="",b=m.length;if(0===b)return f.debug?t("Warning: *Empty table!* Not building a parser cache"):"";for(f.debug&&(u=new Date,t("Detecting parsers for each column")),r={extractors:[],parsers:[]};b>g;){if(n=m[g].rows,n.length)for(a=f.columns,o=0;a>o;o++)l=f.$headerIndexed[o],d=x.getColumnData(e,f.headers,o),p=x.getParserById(x.getData(l,d,"extractor")),h=x.getParserById(x.getData(l,d,"sorter")),c="false"===x.getData(l,d,"parser"),f.empties[o]=(x.getData(l,d,"empty")||f.emptyTo||(f.emptyToBottom?"bottom":"top")).toLowerCase(),f.strings[o]=(x.getData(l,d,"string")||f.stringTo||"max").toLowerCase(),c&&(h=x.getParserById("no-parser")),p||(p=!1),h||(h=s(e,n,-1,o)),f.debug&&(v+="column:"+o+"; extractor:"+p.id+"; parser:"+h.id+"; string:"+f.strings[o]+"; empty: "+f.empties[o]+"\n"),r.parsers[o]=h,r.extractors[o]=p;g+=r.parsers.length?b:1}f.debug&&(t(v?v:"No parsers detected"),i("Completed detecting parsers",u)),f.parsers=r.parsers,f.extractors=r.extractors}function o(n){var s,a,o,l,d,c,h,p,u,f,m,g,v,b=n.config,y=b.$tbodies,w=b.parsers;if(b.cache={},b.totalRows=0,!w)return b.debug?t("Warning: *Empty table!* Not building a cache"):"";for(b.debug&&(u=new Date),b.showProcessing&&x.isProcessing(n,!0),c=0;c<y.length;c++){for(v=[],s=b.cache[c]={normalized:[]},f=y[c]&&y[c].rows.length||0,l=0;f>l;++l)if(m={child:[],raw:[]},h=e(y[c].rows[l]),p=[],h.hasClass(b.cssChildRow)&&0!==l)for(a=s.normalized.length-1,g=s.normalized[a][b.columns],g.$row=g.$row.add(h),h.prev().hasClass(b.cssChildRow)||h.prev().addClass(x.css.cssHasChild),o=h.children("th, td"),a=g.child.length,g.child[a]=[],d=0;d<b.columns;d++)g.child[a][d]=r(b,o[d],d);else{for(m.$row=h,m.order=l,d=0;d<b.columns;++d)"undefined"!=typeof w[d]?(a=x.getElementText(b,h[0].cells[d],d),m.raw.push(a),o=r(b,h[0].cells[d],d,a),p.push(o),"numeric"===(w[d].type||"").toLowerCase()&&(v[d]=Math.max(Math.abs(o)||0,v[d]||0))):b.debug&&t("No parser found for cell:",h[0].cells[d],"does it have a header?");p[b.columns]=m,s.normalized.push(p)}s.colMax=v,b.totalRows+=s.normalized.length}b.showProcessing&&x.isProcessing(n),b.debug&&i("Building cache for "+f+" rows",u)}function l(e,t){var s,r,a,o,l,d,c,h=e.config,p=h.widgetOptions,u=h.$tbodies,f=[],m=h.cache;if(n(m))return h.appender?h.appender(e,f):e.isUpdating?h.$table.trigger("updateComplete",e):"";for(h.debug&&(c=new Date),d=0;d<u.length;d++)if(a=u.eq(d),a.length){for(o=x.processTbody(e,a,!0),s=m[d].normalized,r=s.length,l=0;r>l;l++)f.push(s[l][h.columns].$row),h.appender&&(!h.pager||h.pager.removeRows&&p.pager_removeRows||h.pager.ajax)||o.append(s[l][h.columns].$row);x.processTbody(e,o,!1)}h.appender&&h.appender(e,f),h.debug&&i("Rebuilt table",c),t||h.appender||x.applyWidget(e),e.isUpdating&&h.$table.trigger("updateComplete",e)}function d(e){return/^d/i.test(e)||1===e}function c(n){var s,r,a,o,l,c,h,u,f=n.config;for(f.headerList=[],f.headerContent=[],f.debug&&(h=new Date),f.columns=x.computeColumnIndex(f.$table.children("thead, tfoot").children("tr")),o=f.cssIcon?'<i class="'+(f.cssIcon===x.css.icon?x.css.icon:f.cssIcon+" "+x.css.icon)+'"></i>':"",f.$headers=e(e.map(e(n).find(f.selectorHeaders),function(t,i){return r=e(t),r.parent().hasClass(f.cssIgnoreRow)?void 0:(s=x.getColumnData(n,f.headers,i,!0),f.headerContent[i]=r.html(),""===f.headerTemplate||r.find("."+x.css.headerIn).length||(l=f.headerTemplate.replace(/\{content\}/g,r.html()).replace(/\{icon\}/g,r.find("."+x.css.icon).length?"":o),f.onRenderTemplate&&(a=f.onRenderTemplate.apply(r,[i,l]),a&&"string"==typeof a&&(l=a)),r.html('<div class="'+x.css.headerIn+'">'+l+"</div>")),f.onRenderHeader&&f.onRenderHeader.apply(r,[i,f,f.$table]),t.column=parseInt(r.attr("data-column"),10),t.order=d(x.getData(r,s,"sortInitialOrder")||f.sortInitialOrder)?[1,0,2]:[0,1,2],t.count=-1,t.lockedOrder=!1,c=x.getData(r,s,"lockedOrder")||!1,"undefined"!=typeof c&&c!==!1&&(t.order=t.lockedOrder=d(c)?[1,1,1]:[0,0,0]),r.addClass(x.css.header+" "+f.cssHeader),f.headerList[i]=t,r.parent().addClass(x.css.headerRow+" "+f.cssHeaderRow).attr("role","row"),f.tabIndex&&r.attr("tabindex",0),t)})),f.$headerIndexed=[],u=0;u<f.columns;u++)r=f.$headers.filter('[data-column="'+u+'"]'),f.$headerIndexed[u]=r.not(".sorter-false").length?r.not(".sorter-false").filter(":last"):r.filter(":last");e(n).find(f.selectorHeaders).attr({scope:"col",role:"columnheader"}),p(n),f.debug&&(i("Built headers:",h),t(f.$headers))}function h(e,t,i){var n=e.config;n.$table.find(n.selectorRemove).remove(),a(e),o(e),y(n,t,i)}function p(e){var t,i,n,s,r=e.config,a=r.$headers.length;for(t=0;a>t;t++)n=r.$headers.eq(t),s=x.getColumnData(e,r.headers,t,!0),i="false"===x.getData(n,s,"sorter")||"false"===x.getData(n,s,"parser"),n[0].sortDisabled=i,n[i?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+i),e.id&&(i?n.removeAttr("aria-controls"):n.attr("aria-controls",e.id))}function u(t){var i,n,s,r,a,o,l,d,c=t.config,h=c.sortList,p=h.length,u=x.css.sortNone+" "+c.cssNone,f=[x.css.sortAsc+" "+c.cssAsc,x.css.sortDesc+" "+c.cssDesc],m=[c.cssIconAsc,c.cssIconDesc,c.cssIconNone],g=["ascending","descending"],v=e(t).find("tfoot tr").children().add(e(c.namespace+"_extra_headers")).removeClass(f.join(" "));for(c.$headers.removeClass(f.join(" ")).addClass(u).attr("aria-sort","none").find("."+x.css.icon).removeClass(m.join(" ")).addClass(m[2]),s=0;p>s;s++)if(2!==h[s][1]&&(i=c.$headers.not(".sorter-false").filter('[data-column="'+h[s][0]+'"]'+(1===p?":last":"")),i.length)){for(r=0;r<i.length;r++)i[r].sortDisabled||i.eq(r).removeClass(u).addClass(f[h[s][1]]).attr("aria-sort",g[h[s][1]]).find("."+x.css.icon).removeClass(m[2]).addClass(m[h[s][1]]);v.length&&v.filter('[data-column="'+h[s][0]+'"]').removeClass(u).addClass(f[h[s][1]])}for(p=c.$headers.length,a=c.$headers.not(".sorter-false"),s=0;p>s;s++)o=a.eq(s),o.length&&(n=a[s],l=n.order[(n.count+1)%(c.sortReset?3:2)],d=e.trim(o.text())+": "+x.language[o.hasClass(x.css.sortAsc)?"sortAsc":o.hasClass(x.css.sortDesc)?"sortDesc":"sortNone"]+x.language[0===l?"nextAsc":1===l?"nextDesc":"nextNone"],o.attr("aria-label",d))}function f(t,i){var n,s,r,a,o,l,d,c,h=t.config,p=i||h.sortList,u=p.length;for(h.sortList=[],o=0;u>o;o++)if(c=p[o],n=parseInt(c[0],10),n<h.columns&&h.$headerIndexed[n]){switch(a=h.$headerIndexed[n][0],s=(""+c[1]).match(/^(1|d|s|o|n)/),s=s?s[0]:""){case"1":case"d":s=1;break;case"s":s=l||0;break;case"o":d=a.order[(l||0)%(h.sortReset?3:2)],s=0===d?1:1===d?0:2;break;case"n":a.count=a.count+1,s=a.order[a.count%(h.sortReset?3:2)];break;default:s=0}l=0===o?s:l,r=[n,parseInt(s,10)||0],h.sortList.push(r),s=e.inArray(r[1],a.order),a.count=s>=0?s:r[1]%(h.sortReset?3:2)}}function m(e,t){return e&&e[t]?e[t].type||"":""}function g(t,i,n){if(t.isUpdating)return setTimeout(function(){g(t,i,n)},50);var s,r,a,o,d,c,h,p=t.config,f=!n[p.sortMultiSortKey],m=p.$table,b=p.$headers.length;if(m.trigger("sortStart",t),i.count=n[p.sortResetKey]?2:(i.count+1)%(p.sortReset?3:2),p.sortRestart)for(r=i,a=0;b>a;a++)h=p.$headers.eq(a),h[0]===r||!f&&h.is("."+x.css.sortDesc+",."+x.css.sortAsc)||(h[0].count=-1);if(r=parseInt(e(i).attr("data-column"),10),f){if(p.sortList=[],null!==p.sortForce)for(s=p.sortForce,o=0;o<s.length;o++)s[o][0]!==r&&p.sortList.push(s[o]);if(d=i.order[i.count],2>d&&(p.sortList.push([r,d]),i.colSpan>1))for(o=1;o<i.colSpan;o++)p.sortList.push([r+o,d])}else{if(p.sortAppend&&p.sortList.length>1)for(o=0;o<p.sortAppend.length;o++)c=x.isValueInArray(p.sortAppend[o][0],p.sortList),c>=0&&p.sortList.splice(c,1);if(x.isValueInArray(r,p.sortList)>=0)for(o=0;o<p.sortList.length;o++)c=p.sortList[o],d=p.$headerIndexed[c[0]][0],c[0]===r&&(c[1]=d.order[i.count],2===c[1]&&(p.sortList.splice(o,1),d.count=-1));else if(d=i.order[i.count],2>d&&(p.sortList.push([r,d]),i.colSpan>1))for(o=1;o<i.colSpan;o++)p.sortList.push([r+o,d])}if(null!==p.sortAppend)for(s=p.sortAppend,o=0;o<s.length;o++)s[o][0]!==r&&p.sortList.push(s[o]);m.trigger("sortBegin",t),setTimeout(function(){u(t),v(t),l(t),m.trigger("sortEnd",t)},1)}function v(e){var t,s,r,a,o,l,d,c,h,p,u,f=0,g=e.config,v=g.textSorter||"",b=g.sortList,y=b.length,w=g.$tbodies.length;if(!g.serverSideSorting&&!n(g.cache)){for(g.debug&&(o=new Date),s=0;w>s;s++)l=g.cache[s].colMax,d=g.cache[s].normalized,d.sort(function(i,n){for(t=0;y>t;t++){if(a=b[t][0],c=b[t][1],f=0===c,g.sortStable&&i[a]===n[a]&&1===y)return i[g.columns].order-n[g.columns].order;if(r=/n/i.test(m(g.parsers,a)),r&&g.strings[a]?(r="boolean"==typeof g.string[g.strings[a]]?(f?1:-1)*(g.string[g.strings[a]]?-1:1):g.strings[a]?g.string[g.strings[a]]||0:0,h=g.numberSorter?g.numberSorter(i[a],n[a],f,l[a],e):x["sortNumeric"+(f?"Asc":"Desc")](i[a],n[a],r,l[a],a,e)):(p=f?i:n,u=f?n:i,h="function"==typeof v?v(p[a],u[a],f,a,e):"object"==typeof v&&v.hasOwnProperty(a)?v[a](p[a],u[a],f,a,e):x["sortNatural"+(f?"Asc":"Desc")](i[a],n[a],a,e,g)),h)return h}return i[g.columns].order-n[g.columns].order});g.debug&&i("Sorting on "+b.toString()+" and dir "+c+" time",o)}}function b(t,i){t.table.isUpdating&&t.$table.trigger("updateComplete",t.table),e.isFunction(i)&&i(t.table)}function y(t,i,n){var s=e.isArray(i)?i:t.sortList,r="undefined"==typeof i?t.resort:i;r===!1||t.serverSideSorting||t.table.isProcessing?(b(t,n),x.applyWidget(t.table,!1)):s.length?t.$table.trigger("sorton",[s,function(){b(t,n)},!0]):t.$table.trigger("sortReset",[function(){b(t,n),x.applyWidget(t.table,!1)}])}function w(t){var i=t.config,s=i.$table,d="sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(i.namespace+" ");s.unbind(d.replace(/\s+/g," ")).bind("sortReset"+i.namespace,function(n,s){n.stopPropagation(),i.sortList=[],u(t),v(t),l(t),e.isFunction(s)&&s(t)}).bind("updateAll"+i.namespace,function(e,n,s){e.stopPropagation(),t.isUpdating=!0,x.refreshWidgets(t,!0,!0),c(t),x.bindEvents(t,i.$headers,!0),w(t),h(t,n,s)}).bind("update"+i.namespace+" updateRows"+i.namespace,function(e,i,n){e.stopPropagation(),t.isUpdating=!0,p(t),h(t,i,n)}).bind("updateCell"+i.namespace,function(n,a,o,l){n.stopPropagation(),t.isUpdating=!0,s.find(i.selectorRemove).remove();var d,c,h,p,u=i.$tbodies,f=e(a),m=u.index(e.fn.closest?f.closest("tbody"):f.parents("tbody").filter(":first")),g=i.cache[m],v=e.fn.closest?f.closest("tr"):f.parents("tr").filter(":first");a=f[0],u.length&&m>=0&&(c=u.eq(m).find("tr").index(v),p=g.normalized[c],h=f.index(),d=r(i,a,h),p[h]=d,p[i.columns].$row=v,"numeric"===(i.parsers[h].type||"").toLowerCase()&&(g.colMax[h]=Math.max(Math.abs(d)||0,g.colMax[h]||0)),d="undefined"!==o?o:i.resort,d!==!1?y(i,d,l):(e.isFunction(l)&&l(t),i.$table.trigger("updateComplete",i.table)))}).bind("addRows"+i.namespace,function(s,o,l,d){if(s.stopPropagation(),t.isUpdating=!0,n(i.cache))p(t),h(t,l,d);else{o=e(o).attr("role","row");var c,u,f,m,g,v=o.filter("tr").length,b=i.$tbodies.index(o.parents("tbody").filter(":first"));for(i.parsers&&i.parsers.length||a(t),c=0;v>c;c++){for(f=o[c].cells.length,g=[],m={child:[],$row:o.eq(c),order:i.cache[b].normalized.length},u=0;f>u;u++)g[u]=r(i,o[c].cells[u],u),"numeric"===(i.parsers[u].type||"").toLowerCase()&&(i.cache[b].colMax[u]=Math.max(Math.abs(g[u])||0,i.cache[b].colMax[u]||0));g.push(m),i.cache[b].normalized.push(g)}y(i,l,d)}}).bind("updateComplete"+i.namespace,function(){t.isUpdating=!1}).bind("sorton"+i.namespace,function(i,r,a,d){var c=t.config;i.stopPropagation(),s.trigger("sortStart",this),f(t,r),u(t),c.delayInit&&n(c.cache)&&o(t),s.trigger("sortBegin",this),v(t),l(t,d),s.trigger("sortEnd",this),x.applyWidget(t),e.isFunction(a)&&a(t)}).bind("appendCache"+i.namespace,function(i,n,s){i.stopPropagation(),l(t,s),e.isFunction(n)&&n(t)}).bind("updateCache"+i.namespace,function(n,s){i.parsers&&i.parsers.length||a(t),o(t),e.isFunction(s)&&s(t)}).bind("applyWidgetId"+i.namespace,function(e,n){e.stopPropagation(),x.getWidgetById(n).format(t,i,i.widgetOptions)}).bind("applyWidgets"+i.namespace,function(e,i){e.stopPropagation(),x.applyWidget(t,i)}).bind("refreshWidgets"+i.namespace,function(e,i,n){e.stopPropagation(),x.refreshWidgets(t,i,n)}).bind("destroy"+i.namespace,function(e,i,n){e.stopPropagation(),x.destroy(t,i,n)}).bind("resetToLoadState"+i.namespace,function(){x.removeWidget(t,!0,!1),i=e.extend(!0,x.defaults,i.originalSettings),t.hasInitialized=!1,x.setup(t,i)})}var x=this;x.version="2.22.1",x.parsers=[],x.widgets=[],x.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,widgetClass:"widget-{name}",initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},x.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},x.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},x.instanceMethods={},x.log=t,x.benchmark=i,x.getElementText=function(t,i,n){if(!i)return"";var s,r=t.textExtraction||"",a=i.jquery?i:e(i);return e.trim("string"==typeof r?("basic"===r?a.attr(t.textAttribute)||i.textContent:i.textContent)||a.text():"function"==typeof r?r(a[0],t.table,n):"function"==typeof(s=x.getColumnData(t.table,r,n))?s(a[0],t.table,n):a[0].textContent||a.text())},x.construct=function(t){return this.each(function(){var i=this,n=e.extend(!0,{},x.defaults,t,x.instanceMethods);n.originalSettings=t,!i.hasInitialized&&x.buildTable&&"TABLE"!==this.nodeName?x.buildTable(i,n):x.setup(i,n)})},x.setup=function(i,n){if(!i||!i.tHead||0===i.tBodies.length||i.hasInitialized===!0)return n.debug?t("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var s="",r=e(i),l=e.metadata;i.hasInitialized=!1,i.isProcessing=!0,i.config=n,e.data(i,"tablesorter",n),n.debug&&e.data(i,"startoveralltimer",new Date),n.supportsDataObject=function(e){return e[0]=parseInt(e[0],10),e[0]>1||1===e[0]&&parseInt(e[1],10)>=4}(e.fn.jquery.split(".")),n.string={max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),/tablesorter\-/.test(r.attr("class"))||(s=""!==n.theme?" tablesorter-"+n.theme:""),n.table=i,n.$table=r.addClass(x.css.table+" "+n.tableClass+s).attr("role","grid"),n.$headers=r.find(n.selectorHeaders),n.namespace=n.namespace?"."+n.namespace.replace(/\W/g,""):".tablesorter"+Math.random().toString(16).slice(2),n.$table.children().children("tr").attr("role","row"),n.$tbodies=r.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&(s=n.$table.children("caption")[0],s.id||(s.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",s.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",c(i),x.fixColumnWidth(i),x.applyWidgetOptions(i,n),a(i),n.totalRows=0,n.delayInit||o(i),x.bindEvents(i,n.$headers,!0),w(i),n.supportsDataObject&&"undefined"!=typeof r.data().sortlist?n.sortList=r.data().sortlist:l&&r.metadata()&&r.metadata().sortlist&&(n.sortList=r.metadata().sortlist),x.applyWidget(i,!0),n.sortList.length>0?r.trigger("sorton",[n.sortList,{},!n.initWidgets,!0]):(u(i),n.initWidgets&&x.applyWidget(i,!1)),n.showProcessing&&r.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,function(e){clearTimeout(n.processTimer),x.isProcessing(i),"sortBegin"===e.type&&(n.processTimer=setTimeout(function(){x.isProcessing(i,!0)},500))}),i.hasInitialized=!0,i.isProcessing=!1,n.debug&&x.benchmark("Overall initialization time",e.data(i,"startoveralltimer")),r.trigger("tablesorter-initialized",i),"function"==typeof n.initialized&&n.initialized(i)},x.fixColumnWidth=function(t){t=e(t)[0];var i,n,s,r,a,o=t.config,l=o.$table.children("colgroup");if(l.length&&l.hasClass(x.css.colgroup)&&l.remove(),o.widthFixed&&0===o.$table.children("colgroup").length){for(l=e('<colgroup class="'+x.css.colgroup+'">'),i=o.$table.width(),s=o.$tbodies.find("tr:first").children(":visible"),r=s.length,a=0;r>a;a++)n=parseInt(s.eq(a).width()/i*1e3,10)/10+"%",l.append(e("<col>").css("width",n));o.$table.prepend(l)}},x.getColumnData=function(t,i,n,s,r){if("undefined"!=typeof i&&null!==i){t=e(t)[0];var a,o,l=t.config,d=r||l.$headers,c=l.$headerIndexed&&l.$headerIndexed[n]||d.filter('[data-column="'+n+'"]:last');if(i[n])return s?i[n]:i[d.index(c)];for(o in i)if("string"==typeof o&&(a=c.filter(o).add(c.find(o)),a.length))return i[o]}},x.computeColumnIndex=function(t){var i,n,s,r,a,o,l,d,c,h,p,u,f=[],m=[],g={};for(i=0;i<t.length;i++)for(l=t[i].cells,n=0;n<l.length;n++){for(o=l[n],a=e(o),d=o.parentNode.rowIndex,c=d+"-"+a.index(),h=o.rowSpan||1,p=o.colSpan||1,"undefined"==typeof f[d]&&(f[d]=[]),s=0;s<f[d].length+1;s++)if("undefined"==typeof f[d][s]){u=s;break}for(g[c]=u,a.attr({"data-column":u}),s=d;d+h>s;s++)for("undefined"==typeof f[s]&&(f[s]=[]),m=f[s],r=u;u+p>r;r++)m[r]="x"}return m.length},x.isProcessing=function(t,i,n){t=e(t);var s=t[0].config,r=n||t.find("."+x.css.header);i?("undefined"!=typeof n&&s.sortList.length>0&&(r=r.filter(function(){return this.sortDisabled?!1:x.isValueInArray(parseFloat(e(this).attr("data-column")),s.sortList)>=0})),t.add(r).addClass(x.css.processing+" "+s.cssProcessing)):t.add(r).removeClass(x.css.processing+" "+s.cssProcessing)},x.processTbody=function(t,i,n){t=e(t)[0];var s;return n?(t.isProcessing=!0,i.before('<span class="tablesorter-savemyplace"/>'),s=e.fn.detach?i.detach():i.remove()):(s=e(t).find("span.tablesorter-savemyplace"),i.insertAfter(s),s.remove(),void(t.isProcessing=!1))},x.clearTableBody=function(t){e(t)[0].config.$tbodies.children().detach()},x.bindEvents=function(t,i,s){t=e(t)[0];var r,a=null,l=t.config;s!==!0&&(i.addClass(l.namespace.slice(1)+"_extra_headers"),r=e.fn.closest?i.closest("table")[0]:i.parents("table")[0],r&&"TABLE"===r.nodeName&&r!==t&&e(r).addClass(l.namespace.slice(1)+"_extra_table")),r=(l.pointerDown+" "+l.pointerUp+" "+l.pointerClick+" sort keyup ").replace(/\s+/g," ").split(" ").join(l.namespace+" "),i.find(l.selectorSort).add(i.filter(l.selectorSort)).unbind(r).bind(r,function(s,r){var d,c,h=e(s.target),p=" "+s.type+" ";if(!(1!==(s.which||s.button)&&!p.match(" "+l.pointerClick+" | sort | keyup ")||" keyup "===p&&13!==s.which||p.match(" "+l.pointerClick+" ")&&"undefined"!=typeof s.which||p.match(" "+l.pointerUp+" ")&&a!==s.target&&r!==!0)){if(p.match(" "+l.pointerDown+" "))return a=s.target,c=h.jquery.split("."),void("1"===c[0]&&c[1]<4&&s.preventDefault());if(a=null,/(input|select|button|textarea)/i.test(s.target.nodeName)||h.hasClass(l.cssNoSort)||h.parents("."+l.cssNoSort).length>0||h.parents("button").length>0)return!l.cancelSelection;l.delayInit&&n(l.cache)&&o(t),d=e.fn.closest?e(this).closest("th, td")[0]:/TH|TD/.test(this.nodeName)?this:e(this).parents("th, td")[0],d=l.$headers[i.index(d)],d.sortDisabled||g(t,d,s)}}),l.cancelSelection&&i.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},x.restoreHeaders=function(t){var i,n,s=e(t)[0].config,r=s.$table.find(s.selectorHeaders),a=r.length;for(i=0;a>i;i++)n=r.eq(i),n.find("."+x.css.headerIn).length&&n.html(s.headerContent[i])},x.destroy=function(t,i,n){if(t=e(t)[0],t.hasInitialized){x.removeWidget(t,!0,!1);var s,r=e(t),a=t.config,o=r.find("thead:first"),l=o.find("tr."+x.css.headerRow).removeClass(x.css.headerRow+" "+a.cssHeaderRow),d=r.find("tfoot:first > tr").children("th, td");i===!1&&e.inArray("uitheme",a.widgets)>=0&&(r.trigger("applyWidgetId",["uitheme"]),r.trigger("applyWidgetId",["zebra"])),o.find("tr").not(l).remove(),s="sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache "+"applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(a.namespace+" "),r.removeData("tablesorter").unbind(s.replace(/\s+/g," ")),a.$headers.add(d).removeClass([x.css.header,a.cssHeader,a.cssAsc,a.cssDesc,x.css.sortAsc,x.css.sortDesc,x.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),l.find(a.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(a.namespace+" ").replace(/\s+/g," ")),x.restoreHeaders(t),r.toggleClass(x.css.table+" "+a.tableClass+" tablesorter-"+a.theme,i===!1),t.hasInitialized=!1,delete t.config.cache,"function"==typeof n&&n(t)}},x.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i},x.sortNatural=function(e,t){if(e===t)return 0;var i,n,s,r,a,o,l,d,c=x.regex;if(c.hex.test(t)){if(n=parseInt(e.match(c.hex),16),r=parseInt(t.match(c.hex),16),r>n)return-1;if(n>r)return 1}for(i=e.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),s=t.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),d=Math.max(i.length,s.length),l=0;d>l;l++){if(a=isNaN(i[l])?i[l]||0:parseFloat(i[l])||0,o=isNaN(s[l])?s[l]||0:parseFloat(s[l])||0,isNaN(a)!==isNaN(o))return isNaN(a)?1:-1;if(typeof a!=typeof o&&(a+="",o+=""),o>a)return-1;if(a>o)return 1}return 0},x.sortNaturalAsc=function(e,t,i,n,s){if(e===t)return 0;var r=s.string[s.empties[i]||s.emptyTo];return""===e&&0!==r?"boolean"==typeof r?r?-1:1:-r||-1:""===t&&0!==r?"boolean"==typeof r?r?1:-1:r||1:x.sortNatural(e,t)},x.sortNaturalDesc=function(e,t,i,n,s){if(e===t)return 0;var r=s.string[s.empties[i]||s.emptyTo];return""===e&&0!==r?"boolean"==typeof r?r?-1:1:r||1:""===t&&0!==r?"boolean"==typeof r?r?1:-1:-r||-1:x.sortNatural(t,e)},x.sortText=function(e,t){return e>t?1:t>e?-1:0},x.getTextValue=function(e,t,i){if(i){var n,s=e?e.length:0,r=i+t;for(n=0;s>n;n++)r+=e.charCodeAt(n);return t*r}return 0},x.sortNumericAsc=function(e,t,i,n,s,r){if(e===t)return 0;var a=r.config,o=a.string[a.empties[s]||a.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===t&&0!==o?"boolean"==typeof o?o?1:-1:o||1:(isNaN(e)&&(e=x.getTextValue(e,i,n)),isNaN(t)&&(t=x.getTextValue(t,i,n)),e-t)},x.sortNumericDesc=function(e,t,i,n,s,r){if(e===t)return 0;var a=r.config,o=a.string[a.empties[s]||a.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===t&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:(isNaN(e)&&(e=x.getTextValue(e,i,n)),isNaN(t)&&(t=x.getTextValue(t,i,n)),t-e)},x.sortNumeric=function(e,t){return e-t},x.characterEquivalents={a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},x.replaceAccents=function(e){var t,i="[",n=x.characterEquivalents;if(!x.characterRegex){x.characterRegexArray={};for(t in n)"string"==typeof t&&(i+=n[t],x.characterRegexArray[t]=new RegExp("["+n[t]+"]","g"));x.characterRegex=new RegExp(i+"]")}if(x.characterRegex.test(e))for(t in n)"string"==typeof t&&(e=e.replace(x.characterRegexArray[t],t));return e},x.isValueInArray=function(e,t){var i,n=t.length;for(i=0;n>i;i++)if(t[i][0]===e)return i;return-1},x.addParser=function(e){var t,i=x.parsers.length,n=!0;for(t=0;i>t;t++)x.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(n=!1);n&&x.parsers.push(e)},x.addInstanceMethods=function(t){e.extend(x.instanceMethods,t)},x.getParserById=function(e){if("false"==e)return!1;var t,i=x.parsers.length;for(t=0;i>t;t++)if(x.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return x.parsers[t];return!1},x.addWidget=function(e){x.widgets.push(e)},x.hasWidget=function(t,i){return t=e(t),t.length&&t[0].config&&t[0].config.widgetInit[i]||!1},x.getWidgetById=function(e){var t,i,n=x.widgets.length;for(t=0;n>t;t++)if(i=x.widgets[t],i&&i.hasOwnProperty("id")&&i.id.toLowerCase()===e.toLowerCase())return i},x.applyWidgetOptions=function(t,i){var n,s,r=i.widgets.length,a=i.widgetOptions;if(r)for(n=0;r>n;n++)s=x.getWidgetById(i.widgets[n]),s&&"options"in s&&(a=t.config.widgetOptions=e.extend(!0,{},s.options,a))},x.applyWidget=function(t,n,s){t=e(t)[0];var r,a,o,l,d,c,h,p=t.config,u=p.widgetOptions,f=" "+p.table.className+" ",m=[];if(n===!1||!t.hasInitialized||!t.isApplyingWidgets&&!t.isUpdating){if(p.debug&&(l=new Date),h=new RegExp("\\s"+p.widgetClass.replace(/\{name\}/i,"([\\w-]+)")+"\\s","g"),f.match(h)&&(c=f.match(h)))for(a=c.length,r=0;a>r;r++)p.widgets.push(c[r].replace(h,"$1"));if(p.widgets.length){for(t.isApplyingWidgets=!0,p.widgets=e.grep(p.widgets,function(t,i){return e.inArray(t,p.widgets)===i}),o=p.widgets||[],a=o.length,r=0;a>r;r++)h=x.getWidgetById(o[r]),h&&h.id&&(h.priority||(h.priority=10),m[r]=h);for(m.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),a=m.length,r=0;a>r;r++)m[r]&&((n||!p.widgetInit[m[r].id])&&(p.widgetInit[m[r].id]=!0,t.hasInitialized&&x.applyWidgetOptions(t,p),"init"in m[r]&&(p.debug&&(d=new Date),m[r].init(t,m[r],p,u),p.debug&&x.benchmark("Initializing "+m[r].id+" widget",d))),!n&&"format"in m[r]&&(p.debug&&(d=new Date),m[r].format(t,p,u,!1),p.debug&&x.benchmark((n?"Initializing ":"Applying ")+m[r].id+" widget",d)));n||"function"!=typeof s||s(t)}setTimeout(function(){t.isApplyingWidgets=!1,e.data(t,"lastWidgetApplication",new Date)},0),p.debug&&(c=p.widgets.length,i("Completed "+(n===!0?"initializing ":"applying ")+c+" widget"+(1!==c?"s":""),l))}},x.removeWidget=function(i,n,s){i=e(i)[0];var r,a,o,l,d=i.config;if(n===!0)for(n=[],l=x.widgets.length,o=0;l>o;o++)a=x.widgets[o],a&&a.id&&n.push(a.id);else n=(e.isArray(n)?n.join(","):n||"").toLowerCase().split(/[\s,]+/);for(l=n.length,r=0;l>r;r++)a=x.getWidgetById(n[r]),o=e.inArray(n[r],d.widgets),a&&"remove"in a&&(d.debug&&o>=0&&t('Removing "'+n[r]+'" widget'),a.remove(i,d,d.widgetOptions,s),d.widgetInit[n[r]]=!1),o>=0&&s!==!0&&d.widgets.splice(o,1)},x.refreshWidgets=function(t,i,n){t=e(t)[0];var s,r=t.config,a=r.widgets,o=x.widgets,l=o.length,d=[],c=function(t){e(t).trigger("refreshComplete")};for(s=0;l>s;s++)o[s]&&o[s].id&&(i||e.inArray(o[s].id,a)<0)&&d.push(o[s].id);x.removeWidget(t,d.join(","),!0),n!==!0?(x.applyWidget(t,i||!1,c),i&&x.applyWidget(t,!1,c)):c(t)},x.getColumnText=function(t,i,s){t=e(t)[0];var r,a,o,l,d,c,h,p,u,f,m="function"==typeof s,g="all"===i,v={raw:[],parsed:[],$cell:[]},b=t.config;if(!n(b)){for(d=b.$tbodies.length,r=0;d>r;r++)for(o=b.cache[r].normalized,c=o.length,a=0;c>a;a++)f=!0,l=o[a],p=g?l.slice(0,b.columns):l[i],l=l[b.columns],h=g?l.raw:l.raw[i],u=g?l.$row.children():l.$row.children().eq(i),m&&(f=s({tbodyIndex:r,rowIndex:a,parsed:p,raw:h,$row:l.$row,$cell:u})),f!==!1&&(v.parsed.push(p),v.raw.push(h),v.$cell.push(u));return v}},x.getData=function(t,i,n){var s,r,a="",o=e(t);return o.length?(s=e.metadata?o.metadata():!1,r=" "+(o.attr("class")||""),"undefined"!=typeof o.data(n)||"undefined"!=typeof o.data(n.toLowerCase())?a+=o.data(n)||o.data(n.toLowerCase()):s&&"undefined"!=typeof s[n]?a+=s[n]:i&&"undefined"!=typeof i[n]?a+=i[n]:" "!==r&&r.match(" "+n+"-")&&(a=r.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),e.trim(a)):""},x.formatFloat=function(t,i){if("string"!=typeof t||""===t)return t;var n,s=i&&i.config?i.config.usNumberFormat!==!1:"undefined"!=typeof i?i:!0;return t=s?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(([.\d]+)\)/,"-$1")),n=parseFloat(t),isNaN(n)?e.trim(t):n},x.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):""!==e}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),t.addParser({id:"text",is:function(){return!0},format:function(i,n){var s=n.config;return i&&(i=e.trim(s.ignoreCase?i.toLocaleLowerCase():i),i=s.sortLocaleCompare?t.replaceAccents(i):i),i},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(i,n){var s=t.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),n);return i&&"number"==typeof s?s:i?e.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[+\-,. ]/g,""))},format:function(i,n){var s=t.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),n);return i&&"number"==typeof s?s:i?e.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},parsed:!0,type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e){var t=e?new Date(e.replace(/-/g,"/")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,i){return e?t.formatFloat(e.replace(/%/g,""),i):e},type:"numeric"}),t.addParser({id:"image",is:function(e,t,i,n){return n.find("img").length>0},format:function(t,i,n){return e(n).find("img").attr(i.config.imgAttr||"alt")||t},parsed:!0,type:"text"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)
},format:function(e){var t=e?new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,i,n,s){if(e){var r,a,o=i.config,l=o.$headerIndexed[s],d=l.length&&l[0].dateFormat||t.getData(l,t.getColumnData(i,o.headers,s),"dateFormat")||o.dateFormat;return a=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===d?a=a.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===d?a=a.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===d&&(a=a.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")),r=new Date(a),r instanceof Date&&isFinite(r)?r.getTime():e}return e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e){var t=e?new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,i,n){var s=i.config,r=s.parserMetadataName?s.parserMetadataName:"sortValue";return e(n).metadata()[r]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(t,i,n){var s,r,a,o,l,d,c,h,p=new RegExp(i.cssChildRow,"i"),u=i.$tbodies.add(e(i.namespace+"_extra_table").children("tbody"));for(i.debug&&(l=new Date),d=0;d<u.length;d++)for(a=0,s=u.eq(d).children("tr:visible").not(i.selectorRemove),h=s.length,c=0;h>c;c++)r=s.eq(c),p.test(r[0].className)||a++,o=a%2===0,r.removeClass(n.zebra[o?1:0]).addClass(n.zebra[o?0:1])},remove:function(e,i,n,s){if(!s){var r,a,o=i.$tbodies,l=(n.zebra||["even","odd"]).join(" ");for(r=0;r<o.length;r++)a=t.processTbody(e,o.eq(r),!0),a.children().removeClass(l),t.processTbody(e,a,!1)}}})}(jQuery),/*! tablesorter (FORK) - updated 05-18-2015 (v2.22.1)*/
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(e,t,i){"use strict";var n=e.tablesorter||{};n.storage=function(s,r,a,o){s=e(s)[0];var l,d,c,h=!1,p={},u=s.config,f=u&&u.widgetOptions,m=o&&o.useSessionStorage||f&&f.storage_useSessionStorage?"sessionStorage":"localStorage",g=e(s),v=o&&o.id||g.attr(o&&o.group||f&&f.storage_group||"data-table-group")||f&&f.storage_tableId||s.id||e(".tablesorter").index(g),b=o&&o.url||g.attr(o&&o.page||f&&f.storage_page||"data-table-page")||f&&f.storage_fixedUrl||u&&u.fixedUrl||t.location.pathname;if(m in t)try{t[m].setItem("_tmptest","temp"),h=!0,t[m].removeItem("_tmptest")}catch(y){u&&u.debug&&n.log(m+" is not supported in this browser")}return e.parseJSON&&(h?p=e.parseJSON(t[m][r]||"null")||{}:(d=i.cookie.split(/[;\s|=]/),l=e.inArray(r,d)+1,p=0!==l?e.parseJSON(d[l]||"null")||{}:{})),(a||""===a)&&t.JSON&&JSON.hasOwnProperty("stringify")?(p[b]||(p[b]={}),p[b][v]=a,h?t[m][r]=JSON.stringify(p):(c=new Date,c.setTime(c.getTime()+31536e6),i.cookie=r+"="+JSON.stringify(p).replace(/\"/g,'"')+"; expires="+c.toGMTString()+"; path=/"),void 0):p&&p[b]?p[b][v]:""}}(jQuery,window,document),function(e){"use strict";var t=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",iconSortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s",iconSortAsc:"ui-icon-carat-1-n",iconSortDesc:"ui-icon-carat-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},e.extend(t.css,{wrapper:"tablesorter-wrapper"}),t.addWidget({id:"uitheme",priority:10,format:function(i,n,s){var r,a,o,l,d,c,h,p,u,f,m,g,v=t.themes,b=n.$table.add(e(n.namespace+"_extra_table")),y=n.$headers.add(e(n.namespace+"_extra_headers")),w=n.theme||"jui",x=v[w]||{},C=e.trim([x.sortNone,x.sortDesc,x.sortAsc,x.active].join(" ")),k=e.trim([x.iconSortNone,x.iconSortDesc,x.iconSortAsc].join(" "));for(n.debug&&(l=new Date),b.hasClass("tablesorter-"+w)&&n.theme===n.appliedTheme&&s.uitheme_applied||(s.uitheme_applied=!0,u=v[n.appliedTheme]||{},g=!e.isEmptyObject(u),f=g?[u.sortNone,u.sortDesc,u.sortAsc,u.active].join(" "):"",m=g?[u.iconSortNone,u.iconSortDesc,u.iconSortAsc].join(" "):"",g&&(s.zebra[0]=e.trim(" "+s.zebra[0].replace(" "+u.even,"")),s.zebra[1]=e.trim(" "+s.zebra[1].replace(" "+u.odd,"")),n.$tbodies.children().removeClass([u.even,u.odd].join(" "))),x.even&&(s.zebra[0]+=" "+x.even),x.odd&&(s.zebra[1]+=" "+x.odd),b.children("caption").removeClass(u.caption||"").addClass(x.caption),h=b.removeClass((n.appliedTheme?"tablesorter-"+(n.appliedTheme||""):"")+" "+(u.table||"")).addClass("tablesorter-"+w+" "+(x.table||"")).children("tfoot"),n.appliedTheme=n.theme,h.length&&h.children("tr").removeClass(u.footerRow||"").addClass(x.footerRow).children("th, td").removeClass(u.footerCells||"").addClass(x.footerCells),y.removeClass((g?[u.header,u.hover,f].join(" "):"")||"").addClass(x.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](x.hover||"")}),y.each(function(){var i=e(this);i.find("."+t.css.wrapper).length||i.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),n.cssIcon&&y.find("."+t.css.icon).removeClass(g?[u.icons,m].join(" "):"").addClass(x.icons||""),b.hasClass("hasFilters")&&b.children("thead").children("."+t.css.filterRow).removeClass(g?u.filterRow||"":"").addClass(x.filterRow||"")),r=0;r<n.columns;r++)d=n.$headers.add(e(n.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+r+'"]'),c=t.css.icon?d.find("."+t.css.icon):e(),p=y.not(".sorter-false").filter('[data-column="'+r+'"]:last'),p.length&&(d.removeClass(C),c.removeClass(k),p[0].sortDisabled?c.removeClass(x.icons||""):(a=x.sortNone,o=x.iconSortNone,p.hasClass(t.css.sortAsc)?(a=[x.sortAsc,x.active].join(" "),o=x.iconSortAsc):p.hasClass(t.css.sortDesc)&&(a=[x.sortDesc,x.active].join(" "),o=x.iconSortDesc),d.addClass(a),c.addClass(o||"")));n.debug&&t.benchmark("Applying "+w+" theme",l)},remove:function(e,i,n,s){if(n.uitheme_applied){var r=i.$table,a=i.appliedTheme||"jui",o=t.themes[a]||t.themes.jui,l=r.children("thead").children(),d=o.sortNone+" "+o.sortDesc+" "+o.sortAsc,c=o.iconSortNone+" "+o.iconSortDesc+" "+o.iconSortAsc;r.removeClass("tablesorter-"+a+" "+o.table),n.uitheme_applied=!1,s||(r.find(t.css.header).removeClass(o.header),l.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(o.hover+" "+d+" "+o.active).filter("."+t.css.filterRow).removeClass(o.filterRow),l.find("."+t.css.icon).removeClass(o.icons+" "+c))}}})}(jQuery),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(i,n,s){var r,a,o,l,d,c,h,p,u=n.$table,f=n.$tbodies,m=n.sortList,g=m.length,v=s&&s.columns||["primary","secondary","tertiary"],b=v.length-1;for(h=v.join(" "),a=0;a<f.length;a++)r=t.processTbody(i,f.eq(a),!0),o=r.children("tr"),o.each(function(){if(d=e(this),"none"!==this.style.display&&(c=d.children().removeClass(h),m&&m[0]&&(c.eq(m[0][0]).addClass(v[0]),g>1)))for(p=1;g>p;p++)c.eq(m[p][0]).addClass(v[p]||v[b])}),t.processTbody(i,r,!1);if(l=s.columns_thead!==!1?["thead tr"]:[],s.columns_tfoot!==!1&&l.push("tfoot tr"),l.length&&(o=u.find(l.join(",")).children().removeClass(h),g))for(p=0;g>p;p++)o.filter('[data-column="'+m[p][0]+'"]').addClass(v[p]||v[b])},remove:function(i,n,s){var r,a,o=n.$tbodies,l=(s.columns||["primary","secondary","tertiary"]).join(" ");for(n.$headers.removeClass(l),n.$table.children("tfoot").children("tr").children("th, td").removeClass(l),r=0;r<o.length;r++)a=t.processTbody(i,o.eq(r),!0),a.children("tr").each(function(){e(this).children().removeClass(l)}),t.processTbody(i,a,!1)}})}(jQuery),function(e){"use strict";var t=e.tablesorter||{},i=t.css;e.extend(i,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),t.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_childByColumn:!1,filter_columnFilters:!0,filter_columnAnyMatch:!0,filter_cellFilter:"",filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(e,i,n){i.$table.hasClass("hasFilters")||t.filter.init(e,i,n)},remove:function(n,s,r,a){var o,l,d=s.$table,c=s.$tbodies,h="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(s.namespace+"filter ");if(d.removeClass("hasFilters").unbind(h.replace(/\s+/g," ")).find("."+i.filterRow).remove(),!a){for(o=0;o<c.length;o++)l=t.processTbody(n,c.eq(o),!0),l.children().removeClass(r.filter_filteredRow).show(),t.processTbody(n,l,!1);r.filter_reset&&e(document).undelegate(r.filter_reset,"click.tsfilter")}}}),t.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g,query:"(q|query)"},types:{regex:function(e,i){if(t.filter.regex.regex.test(i.filter)){var n,s=i.filter_regexCache[i.index]||t.filter.regex.regex.exec(i.filter),r=s instanceof RegExp;try{r||(i.filter_regexCache[i.index]=s=new RegExp(s[1],s[2])),n=s.test(i.exact)}catch(a){n=!1}return n}return null},operators:function(i,n){if(/^[<>]=?/.test(n.iFilter)&&""!==n.iExact){var s,r,a,o=i.table,l=n.index,d=n.parsed[l],c=t.formatFloat(n.iFilter.replace(t.filter.regex.operators,""),o),h=i.parsers[l],p=c;return(d||"numeric"===h.type)&&(a=e.trim(""+n.iFilter.replace(t.filter.regex.operators,"")),r=t.filter.parseFilter(i,a,l,!0),c="number"!=typeof r||""===r||isNaN(r)?c:r),!d&&"numeric"!==h.type||isNaN(c)||"undefined"==typeof n.cache?(a=isNaN(n.iExact)?n.iExact.replace(t.filter.regex.nondigit,""):n.iExact,s=t.formatFloat(a,o)):s=n.cache,/>/.test(n.iFilter)?r=/>=/.test(n.iFilter)?s>=c:s>c:/</.test(n.iFilter)&&(r=/<=/.test(n.iFilter)?c>=s:c>s),r||""!==p||(r=!0),r}return null},notMatch:function(i,n){if(/^\!/.test(n.iFilter)){var s,r=n.iFilter.replace("!",""),a=t.filter.parseFilter(i,r,n.index,n.parsed[n.index])||"";return t.filter.regex.exact.test(a)?(a=a.replace(t.filter.regex.exact,""),""===a?!0:e.trim(a)!==n.iExact):(s=n.iExact.search(e.trim(a)),""===a?!0:!(i.widgetOptions.filter_startsWith?0===s:s>=0))}return null},exact:function(i,n){if(t.filter.regex.exact.test(n.iFilter)){var s=n.iFilter.replace(t.filter.regex.exact,""),r=t.filter.parseFilter(i,s,n.index,n.parsed[n.index])||"";return n.anyMatch?e.inArray(r,n.rowArray)>=0:r==n.iExact}return null},and:function(i,n){if(t.filter.regex.andTest.test(n.filter)){for(var s=n.index,r=n.parsed[s],a=n.iFilter.split(t.filter.regex.andSplit),o=n.iExact.search(e.trim(t.filter.parseFilter(i,a[0],s,r)))>=0,l=a.length-1;o&&l;)o=o&&n.iExact.search(e.trim(t.filter.parseFilter(i,a[l],s,r)))>=0,l--;return o}return null},range:function(e,i){if(t.filter.regex.toTest.test(i.iFilter)){var n,s,r,a,o=e.table,l=i.index,d=i.parsed[l],c=i.iFilter.split(t.filter.regex.toSplit);return s=c[0].replace(t.filter.regex.nondigit,"")||"",r=t.formatFloat(t.filter.parseFilter(e,s,l,d),o),s=c[1].replace(t.filter.regex.nondigit,"")||"",a=t.formatFloat(t.filter.parseFilter(e,s,l,d),o),(d||"numeric"===e.parsers[l].type)&&(n=e.parsers[l].format(""+c[0],o,e.$headers.eq(l),l),r=""===n||isNaN(n)?r:n,n=e.parsers[l].format(""+c[1],o,e.$headers.eq(l),l),a=""===n||isNaN(n)?a:n),!d&&"numeric"!==e.parsers[l].type||isNaN(r)||isNaN(a)?(s=isNaN(i.iExact)?i.iExact.replace(t.filter.regex.nondigit,""):i.iExact,n=t.formatFloat(s,o)):n=i.cache,r>a&&(s=r,r=a,a=s),n>=r&&a>=n||""===r||""===a}return null},wild:function(i,n){if(/[\?\*\|]/.test(n.iFilter)||t.filter.regex.orReplace.test(n.filter)){var s=n.index,r=n.parsed[s],a=n.iFilter.replace(t.filter.regex.orReplace,"|"),o=""+(t.filter.parseFilter(i,a,s,r)||"");return!i.$headerIndexed[s].hasClass("filter-match")&&/\|/.test(o)&&("|"===o[o.length-1]&&(o+="*"),o=n.anyMatch&&e.isArray(n.rowArray)?"("+o+")":"^("+o+")$"),new RegExp(o.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(n.iExact)}return null},fuzzy:function(e,i){if(/^~/.test(i.iFilter)){var n,s=0,r=i.iExact.length,a=i.iFilter.slice(1),o=t.filter.parseFilter(e,a,i.index,i.parsed[i.index])||"";for(n=0;r>n;n++)i.iExact[n]===o[s]&&(s+=1);return s===o.length?!0:!1}return null}},init:function(n,s,r){t.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},t.language);var a,o,l,d,c,h,p,u,f,m=t.filter.regex;if(s.$table.addClass("hasFilters"),r.searchTimer=null,r.filter_initTimer=null,r.filter_formatterCount=0,r.filter_formatterInit=[],r.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',r.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',p="\\{"+t.filter.regex.query+"\\}",e.extend(m,{child:new RegExp(s.cssChildRow),filtered:new RegExp(r.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+t.language.or+"|-|"+t.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+t.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+t.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+t.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+t.language.and+"|&&)\\s+)","gi"),orReplace:new RegExp("\\s+("+t.language.or+")\\s+","gi"),iQuery:new RegExp(p,"i"),igQuery:new RegExp(p,"ig")}),p=s.$headers.filter(".filter-false, .parser-false").length,r.filter_columnFilters!==!1&&p!==s.$headers.length&&t.filter.buildRow(n,s,r),l="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(s.namespace+"filter "),s.$table.bind(l,function(a,o){return p=r.filter_hideEmpty&&e.isEmptyObject(s.cache)&&!(s.delayInit&&"appendCache"===a.type),s.$table.find("."+i.filterRow).toggleClass(r.filter_filteredRow,p),/(search|filter)/.test(a.type)||(a.stopPropagation(),t.filter.buildDefault(n,!0)),"filterReset"===a.type?(s.$table.find("."+i.filter).add(r.filter_$externalFilters).val(""),t.filter.searching(n,[])):"filterEnd"===a.type?t.filter.buildDefault(n,!0):(o="search"===a.type?o:"updateComplete"===a.type?s.$table.data("lastSearch"):"",/(update|add)/.test(a.type)&&"updateComplete"!==a.type&&(s.lastCombinedFilter=null,s.lastSearch=[]),t.filter.searching(n,o,!0)),!1}),r.filter_reset&&(r.filter_reset instanceof e?r.filter_reset.click(function(){s.$table.trigger("filterReset")}):e(r.filter_reset).length&&e(document).undelegate(r.filter_reset,"click.tsfilter").delegate(r.filter_reset,"click.tsfilter",function(){s.$table.trigger("filterReset")})),r.filter_functions)for(c=0;c<s.columns;c++)if(u=t.getColumnData(n,r.filter_functions,c))if(d=s.$headerIndexed[c].removeClass("filter-select"),f=!(d.hasClass("filter-false")||d.hasClass("parser-false")),a="",u===!0&&f)t.filter.buildSelect(n,c);else if("object"==typeof u&&f){for(o in u)"string"==typeof o&&(a+=""===a?'<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||r.filter_placeholder.select||"")+"</option>":"",p=o,l=o,o.indexOf(r.filter_selectSourceSeparator)>=0&&(p=o.split(r.filter_selectSourceSeparator),l=p[1],p=p[0]),a+="<option "+(l===p?"":'data-function-name="'+o+'" ')+'value="'+p+'">'+l+"</option>");s.$table.find("thead").find("select."+i.filter+'[data-column="'+c+'"]').append(a),l=r.filter_selectSource,u=e.isFunction(l)?!0:t.getColumnData(n,l,c),u&&t.filter.buildSelect(s.table,c,"",!0,d.hasClass(r.filter_onlyAvail))}t.filter.buildDefault(n,!0),t.filter.bindSearch(n,s.$table.find("."+i.filter),!0),r.filter_external&&t.filter.bindSearch(n,r.filter_external),r.filter_hideFilters&&t.filter.hideFilters(n,s),s.showProcessing&&(l="filterStart filterEnd ".split(" ").join(s.namespace+"filter "),s.$table.unbind(l.replace(/\s+/g," ")).bind(l,function(r,a){d=a?s.$table.find("."+i.header).filter("[data-column]").filter(function(){return""!==a[e(this).data("column")]}):"",t.isProcessing(n,"filterStart"===r.type,a?d:"")})),s.filteredRows=s.totalRows,l="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(s.namespace+"filter "),s.$table.unbind(l.replace(/\s+/g," ")).bind(l,function(){var e=this.config.widgetOptions;h=t.filter.setDefaults(n,s,e)||[],h.length&&(s.delayInit&&""===h.join("")||t.setFilters(n,h,!0)),s.$table.trigger("filterFomatterUpdate"),setTimeout(function(){e.filter_initialized||t.filter.filterInitComplete(s)},100)}),s.pager&&s.pager.initialized&&!r.filter_initialized&&(s.$table.trigger("filterFomatterUpdate"),setTimeout(function(){t.filter.filterInitComplete(s)},100))},formatterUpdated:function(e,t){var i=e.closest("table")[0].config.widgetOptions;i.filter_initialized||(i.filter_formatterInit[t]=1)},filterInitComplete:function(i){var n,s,r=i.widgetOptions,a=0,o=function(){r.filter_initialized=!0,i.$table.trigger("filterInit",i),t.filter.findRows(i.table,i.$table.data("lastSearch")||[])};if(e.isEmptyObject(r.filter_formatter))o();else{for(s=r.filter_formatterInit.length,n=0;s>n;n++)1===r.filter_formatterInit[n]&&a++;clearTimeout(r.filter_initTimer),r.filter_initialized||a!==r.filter_formatterCount?r.filter_initialized||(r.filter_initTimer=setTimeout(function(){o()},500)):o()}},setDefaults:function(i,n,s){var r,a,o,l,d,c=t.getFilters(i)||[];if(s.filter_saveFilters&&t.storage&&(a=t.storage(i,"tablesorter-filters")||[],r=e.isArray(a),r&&""===a.join("")||!r||(c=a)),""===c.join(""))for(d=n.$headers.add(s.filter_$externalFilters).filter("["+s.filter_defaultAttrib+"]"),o=0;o<=n.columns;o++)l=o===n.columns?"all":o,c[o]=d.filter('[data-column="'+l+'"]').attr(s.filter_defaultAttrib)||c[o]||"";return n.$table.data("lastSearch",c),c},parseFilter:function(e,t,i,n){return n?e.parsers[i].format(t,e.table,[],i):t},buildRow:function(n,s,r){var a,o,l,d,c,h,p,u,f=r.filter_cellFilter,m=s.columns,g=e.isArray(f),v='<tr role="row" class="'+i.filterRow+" "+s.cssIgnoreRow+'">';for(o=0;m>o;o++)v+="<td",v+=g?f[o]?' class="'+f[o]+'"':"":""!==f?' class="'+f+'"':"",v+="></td>";for(s.$filters=e(v+="</tr>").appendTo(s.$table.children("thead").eq(0)).find("td"),o=0;m>o;o++)c=!1,l=s.$headerIndexed[o],p=t.getColumnData(n,r.filter_functions,o),d=r.filter_functions&&p&&"function"!=typeof p||l.hasClass("filter-select"),a=t.getColumnData(n,s.headers,o),c="false"===t.getData(l[0],a,"filter")||"false"===t.getData(l[0],a,"parser"),d?v=e("<select>").appendTo(s.$filters.eq(o)):(p=t.getColumnData(n,r.filter_formatter,o),p?(r.filter_formatterCount++,v=p(s.$filters.eq(o),o),v&&0===v.length&&(v=s.$filters.eq(o).children("input")),v&&(0===v.parent().length||v.parent().length&&v.parent()[0]!==s.$filters[o])&&s.$filters.eq(o).append(v)):v=e('<input type="search">').appendTo(s.$filters.eq(o)),v&&(u=l.data("placeholder")||l.attr("data-placeholder")||r.filter_placeholder.search||"",v.attr("placeholder",u))),v&&(h=(e.isArray(r.filter_cssFilter)?"undefined"!=typeof r.filter_cssFilter[o]?r.filter_cssFilter[o]||"":"":r.filter_cssFilter)||"",v.addClass(i.filter+" "+h).attr("data-column",o),c&&(v.attr("placeholder","").addClass(i.filterDisabled)[0].disabled=!0))},bindSearch:function(i,n,s){if(i=e(i)[0],n=e(n),n.length){var r,a=i.config,o=a.widgetOptions,l=a.namespace+"filter",d=o.filter_$externalFilters;s!==!0&&(r=o.filter_anyColumnSelector+","+o.filter_multipleColumnSelector,o.filter_$anyMatch=n.filter(r),o.filter_$externalFilters=d&&d.length?o.filter_$externalFilters.add(n):n,t.setFilters(i,a.$table.data("lastSearch")||[],s===!1)),r="keypress keyup search change ".split(" ").join(l+" "),n.attr("data-lastSearchTime",(new Date).getTime()).unbind(r.replace(/\s+/g," ")).bind("keyup"+l,function(n){if(e(this).attr("data-lastSearchTime",(new Date).getTime()),27===n.which)this.value="";else{if(o.filter_liveSearch===!1)return;if(""!==this.value&&("number"==typeof o.filter_liveSearch&&this.value.length<o.filter_liveSearch||13!==n.which&&8!==n.which&&(n.which<32||n.which>=37&&n.which<=40)))return}t.filter.searching(i,!0,!0)}).bind("search change keypress ".split(" ").join(l+" "),function(n){var s=e(this).data("column");(13===n.which||"search"===n.type||"change"===n.type&&this.value!==a.lastSearch[s])&&(n.preventDefault(),e(this).attr("data-lastSearchTime",(new Date).getTime()),t.filter.searching(i,!1,!0))})}},searching:function(e,i,n){var s=e.config.widgetOptions;clearTimeout(s.searchTimer),"undefined"==typeof i||i===!0?s.searchTimer=setTimeout(function(){t.filter.checkFilters(e,i,n)},s.filter_liveSearch?s.filter_searchDelay:10):t.filter.checkFilters(e,i,n)},checkFilters:function(n,s,r){var a=n.config,o=a.widgetOptions,l=e.isArray(s),d=l?s:t.getFilters(n,!0),c=(d||[]).join("");return e.isEmptyObject(a.cache)?void(a.delayInit&&a.pager&&a.pager.initialized&&a.$table.trigger("updateCache",[function(){t.filter.checkFilters(n,!1,r)}])):(l&&(t.setFilters(n,d,!1,r!==!0),o.filter_initialized||(a.lastCombinedFilter="")),o.filter_hideFilters&&a.$table.find("."+i.filterRow).trigger(""===c?"mouseleave":"mouseenter"),a.lastCombinedFilter!==c||s===!1?(s===!1&&(a.lastCombinedFilter=null,a.lastSearch=[]),o.filter_initialized&&a.$table.trigger("filterStart",[d]),a.showProcessing?void setTimeout(function(){return t.filter.findRows(n,d,c),!1},30):(t.filter.findRows(n,d,c),!1)):void 0)},hideFilters:function(n,s){var r,a,o;e(n).find("."+i.filterRow).addClass(i.filterRowHide).bind("mouseenter mouseleave",function(t){var n=t;r=e(this),clearTimeout(o),o=setTimeout(function(){/enter|over/.test(n.type)?r.removeClass(i.filterRowHide):e(document.activeElement).closest("tr")[0]!==r[0]&&""===s.lastCombinedFilter&&r.addClass(i.filterRowHide)},200)}).find("input, select").bind("focus blur",function(n){a=e(this).closest("tr"),clearTimeout(o);var r=n;o=setTimeout(function(){""===t.getFilters(s.$table).join("")&&a.toggleClass(i.filterRowHide,"focus"===r.type)},200)})},defaultFilter:function(i,n){if(""===i)return i;var s=t.filter.regex.iQuery,r=n.match(t.filter.regex.igQuery).length,a=r>1?e.trim(i).split(/\s/):[e.trim(i)],o=a.length-1,l=0,d=n;for(1>o&&r>1&&(a[1]=a[0]);s.test(d);)d=d.replace(s,a[l++]||""),s.test(d)&&o>l&&""!==(a[l]||"")&&(d=n.replace(s,d));return d},getLatestSearch:function(t){return t?t.sort(function(t,i){return e(i).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")}):e()},multipleColumns:function(i,n){var s,r,a,o,l,d,c,h,p,u=i.widgetOptions,f=u.filter_initialized||!n.filter(u.filter_anyColumnSelector).length,m=[],g=e.trim(t.filter.getLatestSearch(n).attr("data-column")||"");if(f&&/-/.test(g))for(r=g.match(/(\d+)\s*-\s*(\d+)/g),p=r.length,h=0;p>h;h++){for(a=r[h].split(/\s*-\s*/),o=parseInt(a[0],10)||0,l=parseInt(a[1],10)||i.columns-1,o>l&&(s=o,o=l,l=s),l>=i.columns&&(l=i.columns-1);l>=o;o++)m.push(o);g=g.replace(r[h],"")}if(f&&/,/.test(g))for(d=g.split(/\s*,\s*/),p=d.length,c=0;p>c;c++)""!==d[c]&&(h=parseInt(d[c],10),h<i.columns&&m.push(h));if(!m.length)for(h=0;h<i.columns;h++)m.push(h);return m},processRow:function(i,n,s){var r,a,o,l,d,c,h,p,u,f,m,g=t.filter.regex,v=i.widgetOptions,b=!0;if(n.$cells=n.$row.children(),n.anyMatchFlag){a=t.filter.multipleColumns(i,v.filter_$anyMatch),n.anyMatch=!0,n.rowArray=n.$cells.map(function(s){return e.inArray(s,a)>-1?(n.parsed[s]?m=n.cacheArray[s]:(m=n.rawArray[s],m=e.trim(v.filter_ignoreCase?m.toLowerCase():m),i.sortLocaleCompare&&(m=t.replaceAccents(m))),m):void 0}).get(),n.filter=n.anyMatchFilter,n.iFilter=n.iAnyMatchFilter,n.exact=n.rowArray.join(" "),n.iExact=v.filter_ignoreCase?n.exact.toLowerCase():n.exact,n.cache=n.cacheArray.slice(0,-1).join(" "),h=null,l=null;for(f in t.filter.types)e.inArray(f,s.noAnyMatch)<0&&null===l&&(l=t.filter.types[f](i,n),null!==l&&(h=l));if(null!==h)b=h;else if(v.filter_startsWith)for(b=!1,a=i.columns;!b&&a>0;)a--,b=b||0===n.rowArray[a].indexOf(n.iFilter);else b=(n.iExact+n.childRowText).indexOf(n.iFilter)>=0;if(n.anyMatch=!1,n.filters.join("")===n.filter)return b}for(a=0;a<i.columns;a++)if(n.filter=n.filters[a],n.index=a,p=s.excludeFilter[a],n.filter){if(n.cache=n.cacheArray[a],v.filter_useParsedData||n.parsed[a]?n.exact=n.cache:(d=n.rawArray[a]||"",n.exact=i.sortLocaleCompare?t.replaceAccents(d):d),n.iExact=!g.type.test(typeof n.exact)&&v.filter_ignoreCase?n.exact.toLowerCase():n.exact,d=b,f=v.filter_columnFilters?i.$filters.add(i.$externalFilters).filter('[data-column="'+a+'"]').find("select option:selected").attr("data-function-name")||"":"",i.sortLocaleCompare&&(n.filter=t.replaceAccents(n.filter)),c=!0,v.filter_defaultFilter&&g.iQuery.test(s.defaultColFilter[a])&&(n.filter=t.filter.defaultFilter(n.filter,s.defaultColFilter[a]),c=!1),n.iFilter=v.filter_ignoreCase?(n.filter||"").toLowerCase():n.filter,u=s.functions[a],r=i.$headerIndexed[a],o=r.hasClass("filter-select"),h=null,(u||o&&c)&&(u===!0||o?h=r.hasClass("filter-match")?n.iExact.search(n.iFilter)>=0:n.filter===n.exact:"function"==typeof u?h=u(n.exact,n.cache,n.filter,a,n.$row,i,n):"function"==typeof u[f||n.filter]&&(m=f||n.filter,h=u[m](n.exact,n.cache,n.filter,a,n.$row,i,n))),null===h){l=null;for(f in t.filter.types)e.inArray(f,p)<0&&null===l&&(l=t.filter.types[f](i,n),null!==l&&(h=l));null!==h?d=h:(m=(n.iExact+n.childRowText).indexOf(t.filter.parseFilter(i,n.iFilter,a,n.parsed[a])),d=!v.filter_startsWith&&m>=0||v.filter_startsWith&&0===m)}else d=h;b=d?b:!1}return b},findRows:function(i,n,s){if(i.config.lastCombinedFilter!==s&&i.config.widgetOptions.filter_initialized){var r,a,o,l,d,c,h,p,u,f,m,g,v,b,y,w,x,C,k,S,E,T,_=e.extend([],n),$=t.filter.regex,I=i.config,D=I.widgetOptions,L={anyMatch:!1,filters:n,filter_regexCache:[]},A={noAnyMatch:["range","notMatch","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:t.getColumnData(i,D.filter_defaultFilter,I.columns,!0)||""};for(L.parsed=I.$headers.map(function(n){return I.parsers&&I.parsers[n]&&I.parsers[n].parsed||t.getData&&"parsed"===t.getData(I.$headerIndexed[n],t.getColumnData(i,I.headers,n),"filter")||e(this).hasClass("filter-parsed")}).get(),p=0;p<I.columns;p++)A.functions[p]=t.getColumnData(i,D.filter_functions,p),A.defaultColFilter[p]=t.getColumnData(i,D.filter_defaultFilter,p)||"",A.excludeFilter[p]=(t.getColumnData(i,D.filter_excludeFilter,p,!0)||"").split(/\s+/);for(I.debug&&(t.log("Filter: Starting filter widget search",n),v=new Date),I.filteredRows=0,I.totalRows=0,s=(_||[]).join(""),c=0;c<I.$tbodies.length;c++){if(h=t.processTbody(i,I.$tbodies.eq(c),!0),p=I.columns,a=I.cache[c].normalized,l=e(e.map(a,function(e){return e[p].$row.get()})),""===s||D.filter_serversideFiltering)l.removeClass(D.filter_filteredRow).not("."+I.cssChildRow).css("display","");else{if(l=l.not("."+I.cssChildRow),r=l.length,(D.filter_$anyMatch&&D.filter_$anyMatch.length||"undefined"!=typeof n[I.columns])&&(L.anyMatchFlag=!0,L.anyMatchFilter=""+(n[I.columns]||D.filter_$anyMatch&&t.filter.getLatestSearch(D.filter_$anyMatch).val()||""),D.filter_columnAnyMatch)){for(C=L.anyMatchFilter.split($.andSplit),k=!1,y=0;y<C.length;y++)S=C[y].split(":"),S.length>1&&(E=parseInt(S[0],10)-1,E>=0&&E<I.columns&&(n[E]=S[1],C.splice(y,1),y--,k=!0));k&&(L.anyMatchFilter=C.join(" && "))}if(x=D.filter_searchFiltered,m=I.lastSearch||I.$table.data("lastSearch")||[],x)for(y=0;p+1>y;y++)b=n[y]||"",x||(y=p),x=!(!x||!m.length||0!==b.indexOf(m[y]||"")||$.alreadyFiltered.test(b)||/[=\"\|!]/.test(b)||/(>=?\s*-\d)/.test(b)||/(<=?\s*\d)/.test(b)||""!==b&&I.$filters&&I.$filters.eq(y).find("select").length&&!I.$headerIndexed[y].hasClass("filter-match"));for(w=l.not("."+D.filter_filteredRow).length,x&&0===w&&(x=!1),I.debug&&t.log("Filter: Searching through "+(x&&r>w?w:"all")+" rows"),L.anyMatchFlag&&(I.sortLocaleCompare&&(L.anyMatchFilter=t.replaceAccents(L.anyMatchFilter)),D.filter_defaultFilter&&$.iQuery.test(A.defaultAnyFilter)&&(L.anyMatchFilter=t.filter.defaultFilter(L.anyMatchFilter,A.defaultAnyFilter),x=!1),L.iAnyMatchFilter=D.filter_ignoreCase&&I.ignoreCase?L.anyMatchFilter.toLowerCase():L.anyMatchFilter),d=0;r>d;d++)if(T=l[d].className,u=d&&$.child.test(T),!(u||x&&$.filtered.test(T))){if(L.$row=l.eq(d),L.cacheArray=a[d],o=L.cacheArray[I.columns],L.rawArray=o.raw,L.childRowText="",!D.filter_childByColumn){for(T="",f=o.child,y=0;y<f.length;y++)T+=" "+f[y].join("")||"";L.childRowText=D.filter_childRows?D.filter_ignoreCase?T.toLowerCase():T:""}if(g=t.filter.processRow(I,L,A),f=o.$row.filter(":gt( 0 )"),D.filter_childRows&&f.length){if(D.filter_childByColumn)for(y=0;y<f.length;y++)L.$row=f.eq(y),L.cacheArray=o.child[y],L.rawArray=L.cacheArray,g=g||t.filter.processRow(I,L,A);f.toggleClass(D.filter_filteredRow,!g)}o.$row.toggleClass(D.filter_filteredRow,!g)[0].display=g?"":"none"}}I.filteredRows+=l.not("."+D.filter_filteredRow).length,I.totalRows+=l.length,t.processTbody(i,h,!1)}I.lastCombinedFilter=s,I.lastSearch=_,I.$table.data("lastSearch",_),D.filter_saveFilters&&t.storage&&t.storage(i,"tablesorter-filters",_),I.debug&&t.benchmark("Completed filter widget search",v),D.filter_initialized&&I.$table.trigger("filterEnd",I),setTimeout(function(){I.$table.trigger("applyWidgets")},0)}},getOptionSource:function(i,n,s){i=e(i)[0];var r,a,o,l=i.config,d=l.widgetOptions,c=[],h=!1,p=d.filter_selectSource,u=l.$table.data("lastSearch")||[],f=e.isFunction(p)?!0:t.getColumnData(i,p,n);if(s&&""!==u[n]&&(s=!1),f===!0)h=p(i,n,s);else{if(f instanceof e||"string"===e.type(f)&&f.indexOf("</option>")>=0)return f;e.isArray(f)?h=f:"object"===e.type(p)&&f&&(h=f(i,n,s))}if(h===!1&&(h=t.filter.getOptions(i,n,s)),h=e.grep(h,function(t,i){return e.inArray(t,h)===i}),l.$headerIndexed[n].hasClass("filter-select-nosort"))return h;for(o=h.length,a=0;o>a;a++)c.push({t:h[a],p:l.parsers&&l.parsers[n].format(h[a],i,[],n)});for(r=l.textSorter||"",c.sort(function(s,a){var o=s.p.toString(),l=a.p.toString();return e.isFunction(r)?r(o,l,!0,n,i):"object"==typeof r&&r.hasOwnProperty(n)?r[n](o,l,!0,n,i):t.sortNatural?t.sortNatural(o,l):!0}),h=[],o=c.length,a=0;o>a;a++)h.push(c[a].t);return h},getOptions:function(t,i,n){t=e(t)[0];var s,r,a,o,l,d=t.config,c=d.widgetOptions,h=[];for(r=0;r<d.$tbodies.length;r++)for(l=d.cache[r],a=d.cache[r].normalized.length,s=0;a>s;s++)o=l.row?l.row[s]:l.normalized[s][d.columns].$row[0],n&&o.className.match(c.filter_filteredRow)||h.push(c.filter_useParsedData||d.parsers[i].parsed||d.$headerIndexed[i].hasClass("filter-parsed")?""+l.normalized[s][i]:l.normalized[s][d.columns].raw[i]);return h},buildSelect:function(n,s,r,a,o){if(n=e(n)[0],s=parseInt(s,10),n.config.cache&&!e.isEmptyObject(n.config.cache)){var l,d,c,h,p,u,f=n.config,m=f.widgetOptions,g=f.$headerIndexed[s],v='<option value="">'+(g.data("placeholder")||g.attr("data-placeholder")||m.filter_placeholder.select||"")+"</option>",b=f.$table.find("thead").find("select."+i.filter+'[data-column="'+s+'"]').val();if(("undefined"==typeof r||""===r)&&(r=t.filter.getOptionSource(n,s,o)),e.isArray(r)){for(l=0;l<r.length;l++)c=r[l]=(""+r[l]).replace(/\"/g,"&quot;"),d=c,c.indexOf(m.filter_selectSourceSeparator)>=0&&(h=c.split(m.filter_selectSourceSeparator),d=h[0],c=h[1]),v+=""!==r[l]?"<option "+(d===c?"":'data-function-name="'+r[l]+'" ')+'value="'+d+'">'+c+"</option>":"";r=[]}p=(f.$filters?f.$filters:f.$table.children("thead")).find("."+i.filter),m.filter_$externalFilters&&(p=p&&p.length?p.add(m.filter_$externalFilters):m.filter_$externalFilters),u=p.filter('select[data-column="'+s+'"]'),u.length&&(u[a?"html":"append"](v),e.isArray(r)||u.append(r).val(b),u.val(b))}},buildDefault:function(e,i){var n,s,r,a=e.config,o=a.widgetOptions,l=a.columns;for(n=0;l>n;n++)s=a.$headerIndexed[n],r=!(s.hasClass("filter-false")||s.hasClass("parser-false")),(s.hasClass("filter-select")||t.getColumnData(e,o.filter_functions,n)===!0)&&r&&t.filter.buildSelect(e,n,"",i,s.hasClass(o.filter_onlyAvail))}},t.getFilters=function(n,s,r,a){var o,l,d,c,h=!1,p=n?e(n)[0].config:"",u=p?p.widgetOptions:"";if(s!==!0&&u&&!u.filter_columnFilters||e.isArray(r)&&r.join("")===p.lastCombinedFilter)return e(n).data("lastSearch");if(p&&(p.$filters&&(l=p.$filters.find("."+i.filter)),u.filter_$externalFilters&&(l=l&&l.length?l.add(u.filter_$externalFilters):u.filter_$externalFilters),l&&l.length))for(h=r||[],o=0;o<p.columns+1;o++)c=o===p.columns?u.filter_anyColumnSelector+","+u.filter_multipleColumnSelector:'[data-column="'+o+'"]',d=l.filter(c),d.length&&(d=t.filter.getLatestSearch(d),e.isArray(r)?(a&&d.slice(1),o===p.columns&&(c=d.filter(u.filter_anyColumnSelector),d=c.length?c:d),d.val(r[o]).trigger("change.tsfilter")):(h[o]=d.val()||"",o===p.columns?d.slice(1).filter('[data-column*="'+d.attr("data-column")+'"]').val(h[o]):d.slice(1).val(h[o])),o===p.columns&&d.length&&(u.filter_$anyMatch=d));return 0===h.length&&(h=!1),h},t.setFilters=function(i,n,s,r){var a=i?e(i)[0].config:"",o=t.getFilters(i,!0,n,r);return a&&s&&(a.lastCombinedFilter=null,a.lastSearch=[],t.filter.searching(a.table,n,r),a.$table.trigger("filterFomatterUpdate")),!!o}}(jQuery),function(e,t){"use strict";var i=e.tablesorter||{};e.extend(i.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),i.addHeaderResizeEvent=function(t,i,n){t=e(t)[0];var s,r={timer:250},a=e.extend({},r,n),o=t.config,l=o.widgetOptions,d=function(t){l.resize_flag=!0,s=[],o.$headers.each(function(){var t=e(this),i=t.data("savedSizes")||[0,0],n=this.offsetWidth,r=this.offsetHeight;(n!==i[0]||r!==i[1])&&(t.data("savedSizes",[n,r]),s.push(this))}),s.length&&t!==!1&&o.$table.trigger("resize",[s]),l.resize_flag=!1};return d(!1),clearInterval(l.resize_timer),i?(l.resize_flag=!1,!1):void(l.resize_timer=setInterval(function(){l.resize_flag||d()},a.timer))},i.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,s,r){if(!(s.$table.hasClass("hasStickyHeaders")||e.inArray("filter",s.widgets)>=0&&!s.$table.hasClass("hasFilters"))){var a,o=s.$table,l=e(r.stickyHeaders_attachTo),d=s.namespace+"stickyheaders ",c=e(r.stickyHeaders_yScroll||r.stickyHeaders_attachTo||t),h=e(r.stickyHeaders_xScroll||r.stickyHeaders_attachTo||t),p=o.children("thead:first"),u=p.children("tr").not(".sticky-false").children(),f=o.children("tfoot"),m=isNaN(r.stickyHeaders_offset)?e(r.stickyHeaders_offset):"",g=m.length?m.height()||0:parseInt(r.stickyHeaders_offset,10)||0,v=o.parent().closest("."+i.css.table).hasClass("hasStickyHeaders")?o.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],b=v.length?v.height():0,y=r.$sticky=o.clone().addClass("containsStickyHeaders "+i.css.sticky+" "+r.stickyHeaders+" "+s.namespace.slice(1)+"_extra_table").wrap('<div class="'+i.css.stickyWrap+'">'),w=y.parent().addClass(i.css.stickyHide).css({position:l.length?"absolute":"fixed",padding:parseInt(y.parent().parent().css("padding-left"),10),top:g+b,left:0,visibility:"hidden",zIndex:r.stickyHeaders_zIndex||2}),x=y.children("thead:first"),C="",k=0,S=function(i,n){i.filter(":visible").each(function(i){var s,r,a=n.filter(":visible").eq(i),o=e(this);
"border-box"===o.css("box-sizing")?s=o.outerWidth():"collapse"===a.css("border-collapse")?t.getComputedStyle?s=parseFloat(t.getComputedStyle(this,null).width):(r=parseFloat(o.css("border-width")),s=o.outerWidth()-parseFloat(o.css("padding-left"))-parseFloat(o.css("padding-right"))-r):s=o.width(),a.css({"min-width":s,"max-width":s})})},E=function(){g=m.length?m.height()||0:parseInt(r.stickyHeaders_offset,10)||0,k=0,w.css({left:l.length?parseInt(l.css("padding-left"),10)||0:o.offset().left-parseInt(o.css("margin-left"),10)-h.scrollLeft()-k,width:o.outerWidth()}),S(o,y),S(u,a)};l.length&&!l.css("position")&&l.css("position","relative"),y.attr("id")&&(y[0].id+=r.stickyHeaders_cloneId),y.find("thead:gt(0), tr.sticky-false").hide(),y.find("tbody, tfoot").remove(),y.find("caption").toggle(r.stickyHeaders_includeCaption),a=x.children().children(),y.css({height:0,width:0,margin:0}),a.find("."+i.css.resizer).remove(),o.addClass("hasStickyHeaders").bind("pagerComplete"+d,function(){E()}),i.bindEvents(n,x.children().children("."+i.css.header)),o.after(w),s.onRenderHeader&&x.children("tr").children().each(function(t){s.onRenderHeader.apply(e(this),[t,s,y])}),h.add(c).unbind("scroll resize ".split(" ").join(d).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(d),function(t){if(o.is(":visible")){b=v.length?v.offset().top-c.scrollTop()+v.height():0;var n=o.offset(),s=e.isWindow(c[0]),r=e.isWindow(h[0]),a=(l.length?s?c.scrollTop():c.offset().top:c.scrollTop())+g+b,d=o.height()-(w.height()+(f.height()||0)),p=a>n.top&&a<n.top+d?"visible":"hidden",u={visibility:p};l.length&&(u.top=s?a-l.offset().top:l.scrollTop()),r&&(u.left=o.offset().left-parseInt(o.css("margin-left"),10)-h.scrollLeft()-k),v.length&&(u.top=(u.top||0)+g+b),w.removeClass(i.css.stickyVis+" "+i.css.stickyHide).addClass("visible"===p?i.css.stickyVis:i.css.stickyHide).css(u),(p!==C||"resize"===t.type)&&(E(),C=p)}}),r.stickyHeaders_addResizeEvent&&i.addHeaderResizeEvent(n),o.hasClass("hasFilters")&&r.filter_columnFilters&&(o.bind("filterEnd"+d,function(){var n=e(document.activeElement).closest("td"),a=n.parent().children().index(n);w.hasClass(i.css.stickyVis)&&r.stickyHeaders_filteredToTop&&(t.scrollTo(0,o.position().top),a>=0&&s.$filters&&s.$filters.eq(a).find("a, select, input").filter(":visible").focus())}),i.filter.bindSearch(o,a.find("."+i.css.filter)),r.filter_hideFilters&&i.filter.hideFilters(y,s)),o.trigger("stickyHeadersInit")}},remove:function(n,s,r){var a=s.namespace+"stickyheaders ";s.$table.removeClass("hasStickyHeaders").unbind("pagerComplete filterEnd ".split(" ").join(a).replace(/\s+/g," ")).next("."+i.css.stickyWrap).remove(),r.$sticky&&r.$sticky.length&&r.$sticky.remove(),e(t).add(r.stickyHeaders_xScroll).add(r.stickyHeaders_yScroll).add(r.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(a).replace(/\s+/g," ")),i.addHeaderResizeEvent(n,!1)}})}(jQuery,window),function(e,t){"use strict";var i=e.tablesorter||{};e.extend(i.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),e(function(){var t="<style>body."+i.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+i.css.resizableContainer+" { position: relative; height: 1px; }."+i.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px; top: 1px;cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";e(t).appendTo("body")}),i.resizable={init:function(t,n){if(!t.$table.hasClass("hasResizable")){t.$table.addClass("hasResizable"),i.resizableReset(t.table,!0),n.resizable_={$wrap:t.$table.parent(),mouseXPosition:0,$target:null,$next:null,overflow:"auto"===t.$table.parent().css("overflow"),fullWidth:Math.abs(t.$table.parent().width()-t.$table.width())<20,storedSizes:[]};var s,r,a,o,l=parseInt(t.$table.css("margin-top"),10);for(n.resizable_.storedSizes=o=(i.storage&&n.resizable!==!1?i.storage(t.table,i.css.resizableStorage):[])||[],i.resizable.setWidths(t,n,o),n.$resizable_container=e('<div class="'+i.css.resizableContainer+'">').css({top:l}).insertBefore(t.$table),a=0;a<t.columns;a++)r=t.$headerIndexed[a],s="false"===i.getData(r,i.getColumnData(t.table,t.headers,a),"resizable"),s||e('<div class="'+i.css.resizableHandle+'">').appendTo(n.$resizable_container).attr({"data-column":a,unselectable:"on"}).data("header",r).bind("selectstart",!1);t.$table.one("tablesorter-initialized",function(){i.resizable.setHandlePosition(t,n),i.resizable.bindings(this.config,this.config.widgetOptions)})}},setWidth:function(e,t){e.css({width:t,"min-width":"","max-width":""})},setWidths:function(t,n,s){var r,a=e(t.namespace+"_extra_headers"),o=t.$table.children("colgroup").children("col");if(s=s||n.resizable_.storedSizes||[],s.length){for(r=0;r<t.columns;r++)t.$headerIndexed[r].width(s[r]),a.length&&i.resizable.setWidth(a.eq(r).add(o.eq(r)),s[r]);e(t.namespace+"_extra_table").length&&!i.hasWidget(t.table,"scroller")&&i.resizable.setWidth(e(t.namespace+"_extra_table"),t.$table.outerWidth())}},setHandlePosition:function(t,n){var s,r=i.hasWidget(t.table,"scroller"),a=t.$table.height(),o=n.$resizable_container.children(),l=Math.floor(o.width()/2);r&&(a=0,t.$table.closest("."+i.css.scrollerWrap).children().each(function(){var t=e(this);a+=t.filter('[style*="height"]').length?t.height():t.children("table").height()})),s=t.$table.position().left,o.each(function(){var i=e(this),r=parseInt(i.attr("data-column"),10),o=t.columns-1,d=i.data("header");d&&(d.is(":visible")?(o>r||r===o&&n.resizable_addLastColumn)&&i.css({display:"inline-block",height:a,left:d.position().left-s+d.outerWidth()-l}):i.hide())})},toggleTextSelection:function(t,n){var s=t.namespace+"tsresize";t.widgetOptions.resizable_.disabled=n,e("body").toggleClass(i.css.resizableNoSelect,n),n?e("body").attr("unselectable","on").bind("selectstart"+s,!1):e("body").removeAttr("unselectable").unbind("selectstart"+s)},bindings:function(n,s){var r=n.namespace+"tsresize";s.$resizable_container.children().bind("mousedown",function(t){var r,a,o=s.resizable_,l=e(n.namespace+"_extra_headers"),d=e(t.target).data("header");for(r=parseInt(d.attr("data-column"),10),o.$target=d=d.add(l.filter('[data-column="'+r+'"]')),o.target=r,o.$next=t.shiftKey||s.resizable_targetLast?d.parent().children().not(".resizable-false").filter(":last"):d.nextAll(":not(.resizable-false)").eq(0),r=parseInt(o.$next.attr("data-column"),10),o.$next=o.$next.add(l.filter('[data-column="'+r+'"]')),o.next=r,o.mouseXPosition=t.pageX,o.storedSizes=[],r=0;r<n.columns;r++)a=n.$headerIndexed[r],o.storedSizes[r]=a.is(":visible")?a.width():0;i.resizable.toggleTextSelection(n,!0)}),e(document).bind("mousemove"+r,function(e){var t=s.resizable_;t.disabled&&0!==t.mouseXPosition&&t.$target&&(s.resizable_throttle?(clearTimeout(t.timer),t.timer=setTimeout(function(){i.resizable.mouseMove(n,s,e)},isNaN(s.resizable_throttle)?5:s.resizable_throttle)):i.resizable.mouseMove(n,s,e))}).bind("mouseup"+r,function(){s.resizable_.disabled&&(i.resizable.toggleTextSelection(n,!1),i.resizable.stopResize(n,s),i.resizable.setHandlePosition(n,s))}),e(t).bind("resize"+r+" resizeEnd"+r,function(){i.resizable.setHandlePosition(n,s)}),n.$table.bind("columnUpdate"+r,function(){i.resizable.setHandlePosition(n,s)}).find("thead:first").add(e(n.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+r,function(){var e=0===s.resizable_.storedSizes.length;return i.resizableReset(n.table),i.resizable.setHandlePosition(n,s),s.resizable_.storedSizes=[],e})},mouseMove:function(t,n,s){if(0!==n.resizable_.mouseXPosition&&n.resizable_.$target){var r=n.resizable_,a=r.$next,o=s.pageX-r.mouseXPosition;r.fullWidth?(r.storedSizes[r.target]+=o,r.storedSizes[r.next]-=o,i.resizable.setWidths(t,n)):r.overflow?(t.$table.add(e(t.namespace+"_extra_table")).width(function(e,t){return t+o}),a.length||(r.$wrap[0].scrollLeft=t.$table.width())):(r.storedSizes[r.target]+=o,i.resizable.setWidths(t,n)),r.mouseXPosition=s.pageX}},stopResize:function(n,s){var r,a,o=s.resizable_;if(o.storedSizes=[],i.storage){for(o.storedSizes=[],a=0;a<n.columns;a++)r=n.$headerIndexed[a],o.storedSizes[a]=r.is(":visible")?r.width():0;s.resizable!==!1&&i.storage(n.table,i.css.resizableStorage,o.storedSizes)}o.mouseXPosition=0,o.$target=o.$next=null,e(t).trigger("resize")}},i.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(e,t,n,s){i.resizable.init(n,s)},remove:function(t,n,s,r){if(s.$resizable_container){var a=n.namespace+"tsresize";n.$table.add(e(n.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+a),s.$resizable_container.remove(),i.resizable.toggleTextSelection(n,!1),i.resizableReset(t,r),e(document).unbind("mousemove"+a+" mouseup"+a)}}}),i.resizableReset=function(n,s){e(n).each(function(){var r,a,o=this.config,l=o&&o.widgetOptions;if(n&&o&&o.$headerIndexed.length){for(r=0;r<o.columns;r++)a=o.$headerIndexed[r],l.resizable_widths&&l.resizable_widths[r]?a.css("width",l.resizable_widths[r]):a.hasClass("resizable-false")||a.css("width","");e(t).trigger("resize"),i.storage&&!s&&i.storage(this,i.css.resizableStorage,{})}})}}(jQuery,window),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,i,n){t.format(e,i,n,!0)},format:function(i,n,s,r){var a,o,l=n.$table,d=s.saveSort!==!1,c={sortList:n.sortList};n.debug&&(o=new Date),l.hasClass("hasSaveSort")?d&&i.hasInitialized&&t.storage&&(t.storage(i,"tablesorter-savesort",c),n.debug&&t.benchmark("saveSort widget: Saving last sort: "+n.sortList,o)):(l.addClass("hasSaveSort"),c="",t.storage&&(a=t.storage(i,"tablesorter-savesort"),c=a&&a.hasOwnProperty("sortList")&&e.isArray(a.sortList)?a.sortList:"",n.debug&&t.benchmark('saveSort: Last sort loaded: "'+c+'"',o),l.bind("saveSortReset",function(e){e.stopPropagation(),t.storage(i,"tablesorter-savesort","")})),r&&c&&c.length>0?n.sortList=c:i.hasInitialized&&c&&c.length>0&&l.trigger("sorton",[c]))},remove:function(e,i){i.$table.removeClass("hasSaveSort"),t.storage&&t.storage(e,"tablesorter-savesort","")}})}(jQuery),e.tablesorter}),window.UnobtrusiveFlash={},$(function(){function e(e){var t=new Date;t.setDate(t.getDate()-1);var i=window.location.hostname.split(".").reverse(),n=i.shift();$.each(i,function(i,s){n=s+"."+n,document.cookie=e+"=; path=/;expires="+t+"; domain="+n}),document.cookie=e+"=; path=/",expires=+t+"; domain="}function t(){var t=null;if(document.cookie&&""!==document.cookie){for(var i=document.cookie.split(";"),n="flash",s=null,r=0;r<i.length;r++){var a=jQuery.trim(i[r]);if(a.substring(0,n.length+1)==n+"="&&(s=decodeURIComponent(a.substring(n.length+1).replace(/\+/g,"%20")),s.length>0))break}try{t=$.parseJSON(s)}catch(o){}e("flash")}return t}window.UnobtrusiveFlash.showFlashFromCookies=function(){var e=t();null!==e&&$.each(e,function(e,t){$(window).trigger("rails:flash",{type:t[0],message:t[1]})})},$(window).load(function(){UnobtrusiveFlash.showFlashFromCookies()}),$(document).on("page:change page:load",UnobtrusiveFlash.showFlashFromCookies),$(document).ajaxSuccess(function(){UnobtrusiveFlash.showFlashFromCookies()})}),window.UnobtrusiveFlash.flashOptions={type:"notice",timeout:0},$(function(){UnobtrusiveFlash.showFlashMessage=function(e,t){t=$.extend(UnobtrusiveFlash.flashOptions,t),"notice"==t.type?t.type="info":"alert"==t.type?t.type="warning":"error"==t.type&&(t.type="danger");var i=$('<div class="alert alert-'+t.type+'"><button type="button" class="close" data-dismiss="alert">&times;</button>'+e+"</div>"),n=$($(".unobtrusive-flash-container")[0]||$(".container")[0]||$(".container-fluid")[0]||$("body")[0]);n.prepend(i),i.hide().delay(300).slideDown(100),i.alert(),t.timeout>0&&setTimeout(function(){i.alert("close")},t.timeout)},flashHandler=function(e,t){UnobtrusiveFlash.showFlashMessage(t.message,{type:t.type})},$(window).bind("rails:flash",flashHandler)}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,s,r,a,o=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;r>i;i+=1)a[i]=str(i,l)||"null";return s=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+o+"]":"["+a.join(",")+"]",gap=o,s}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;r>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],s=str(n,l),s&&a.push(quote(n)+(gap?": ":":")+s));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(s=str(n,l),s&&a.push(quote(n)+(gap?": ":":")+s));return s=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+o+"}":"{"+a.join(",")+"}",gap=o,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,s=e[t];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(e,t,s)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/**
 * History.js Native Adapter
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e,t){"use strict";var i=e.History=e.History||{};if("undefined"!=typeof i.Adapter)throw new Error("History.js Adapter has already been loaded...");i.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=i.Adapter._uid++)},bind:function(e,t,n){var s=i.Adapter.uid(e);i.Adapter.handlers[s]=i.Adapter.handlers[s]||{},i.Adapter.handlers[s][t]=i.Adapter.handlers[s][t]||[],i.Adapter.handlers[s][t].push(n),e["on"+t]=function(e,t){return function(n){i.Adapter.trigger(e,t,n)}}(e,t)},trigger:function(e,t,n){n=n||{};var s,r,a=i.Adapter.uid(e);for(i.Adapter.handlers[a]=i.Adapter.handlers[a]||{},i.Adapter.handlers[a][t]=i.Adapter.handlers[a][t]||[],s=0,r=i.Adapter.handlers[a][t].length;r>s;++s)i.Adapter.handlers[a][t][s].apply(this,[n])},extractEventData:function(e,i){var n=i&&i[e]||t;return n},onDomLoad:function(t){var i=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(i),t()}}},"undefined"!=typeof i.init&&i.init()}(window),/**
 * History.js HTML4 Support
 * Depends on the HTML5 Support
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e){"use strict";var t=e.document,i=e.setTimeout||i,n=e.clearTimeout||n,s=e.setInterval||s,r=e.History=e.History||{};if("undefined"!=typeof r.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");r.initHtml4=function(){return"undefined"!=typeof r.initHtml4.initialized?!1:(r.initHtml4.initialized=!0,r.enabled=!0,r.savedHashes=[],r.isLastHash=function(e){var t,i=r.getHashByIndex();return t=e===i},r.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},r.saveHash=function(e){return r.isLastHash(e)?!1:(r.savedHashes.push(e),!0)},r.getHashByIndex=function(e){var t=null;return t="undefined"==typeof e?r.savedHashes[r.savedHashes.length-1]:0>e?r.savedHashes[r.savedHashes.length+e]:r.savedHashes[e]},r.discardedHashes={},r.discardedStates={},r.discardState=function(e,t,i){var n,s=r.getHashByState(e);return n={discardedState:e,backState:i,forwardState:t},r.discardedStates[s]=n,!0},r.discardHash=function(e,t,i){var n={discardedHash:e,backState:i,forwardState:t};return r.discardedHashes[e]=n,!0},r.discardedState=function(e){var t,i=r.getHashByState(e);return t=r.discardedStates[i]||!1},r.discardedHash=function(e){var t=r.discardedHashes[e]||!1;return t},r.recycleState=function(e){var t=r.getHashByState(e);return r.discardedState(e)&&delete r.discardedStates[t],!0},r.emulated.hashChange&&(r.hashChangeInit=function(){r.checkerFunction=null;var i,n,a,o,l="",d=Boolean(r.getHash());return r.isInternetExplorer()?(i="historyjs-iframe",n=t.createElement("iframe"),n.setAttribute("id",i),n.setAttribute("src","#"),n.style.display="none",t.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),a="",o=!1,r.checkerFunction=function(){if(o)return!1;o=!0;var t=r.getHash(),i=r.getHash(n.contentWindow.document);return t!==l?(l=t,i!==t&&(a=i=t,n.contentWindow.document.open(),n.contentWindow.document.close(),n.contentWindow.document.location.hash=r.escapeHash(t)),r.Adapter.trigger(e,"hashchange")):i!==a&&(a=i,d&&""===i?r.back():r.setHash(i,!1)),o=!1,!0}):r.checkerFunction=function(){var t=r.getHash()||"";return t!==l&&(l=t,r.Adapter.trigger(e,"hashchange")),!0},r.intervalList.push(s(r.checkerFunction,r.options.hashChangeInterval)),!0},r.Adapter.onDomLoad(r.hashChangeInit)),r.emulated.pushState&&(r.onHashChange=function(t){var i,n=t&&t.newURL||r.getLocationHref(),s=r.getHashByUrl(n),a=null,o=null;return r.isLastHash(s)?(r.busy(!1),!1):(r.doubleCheckComplete(),r.saveHash(s),s&&r.isTraditionalAnchor(s)?(r.Adapter.trigger(e,"anchorchange"),r.busy(!1),!1):(a=r.extractState(r.getFullUrl(s||r.getLocationHref()),!0),r.isLastSavedState(a)?(r.busy(!1),!1):(o=r.getHashByState(a),(i=r.discardedState(a))?(r.getHashByIndex(-2)===r.getHashByState(i.forwardState)?r.back(!1):r.forward(!1),!1):(r.pushState(a.data,a.title,encodeURI(a.url),!1),!0))))},r.Adapter.bind(e,"hashchange",r.onHashChange),r.pushState=function(t,i,n,s){if(n=encodeURI(n).replace(/%25/g,"%"),r.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(s!==!1&&r.busy())return r.pushQueue({scope:r,callback:r.pushState,args:arguments,queue:s}),!1;r.busy(!0);var a=r.createStateObject(t,i,n),o=r.getHashByState(a),l=r.getState(!1),d=r.getHashByState(l),c=r.getHash(),h=r.expectedStateId==a.id;return r.storeState(a),r.expectedStateId=a.id,r.recycleState(a),r.setTitle(a),o===d?(r.busy(!1),!1):(r.saveState(a),h||r.Adapter.trigger(e,"statechange"),r.isHashEqual(o,c)||r.isHashEqual(o,r.getShortUrl(r.getLocationHref()))||r.setHash(o,!1),r.busy(!1),!0)},r.replaceState=function(t,i,n,s){if(n=encodeURI(n).replace(/%25/g,"%"),r.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(s!==!1&&r.busy())return r.pushQueue({scope:r,callback:r.replaceState,args:arguments,queue:s}),!1;r.busy(!0);var a=r.createStateObject(t,i,n),o=r.getHashByState(a),l=r.getState(!1),d=r.getHashByState(l),c=r.getStateByIndex(-2);return r.discardState(l,a,c),o===d?(r.storeState(a),r.expectedStateId=a.id,r.recycleState(a),r.setTitle(a),r.saveState(a),r.Adapter.trigger(e,"statechange"),r.busy(!1)):r.pushState(a.data,a.title,a.url,!1),!0}),void(r.emulated.pushState&&r.getHash()&&!r.emulated.hashChange&&r.Adapter.onDomLoad(function(){r.Adapter.trigger(e,"hashchange")})))},"undefined"!=typeof r.init&&r.init()}(window),/**
 * History.js Core
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e,t){"use strict";var i=e.console||t,n=e.document,s=e.navigator,r=e.sessionStorage||!1,a=e.setTimeout,o=e.clearTimeout,l=e.setInterval,d=e.clearInterval,c=e.JSON,h=e.alert,p=e.History=e.History||{},u=e.history;try{r.setItem("TEST","1"),r.removeItem("TEST")}catch(f){r=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,"undefined"!=typeof p.init)throw new Error("History.js Core has already been loaded...");p.init=function(){return"undefined"==typeof p.Adapter?!1:("undefined"!=typeof p.initCore&&p.initCore(),"undefined"!=typeof p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(){if("undefined"!=typeof p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||n.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var e,t=p.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)d(t[e]);p.intervalList=null}},p.debug=function(){p.options.debug&&p.log.apply(p,arguments)},p.log=function(){var e,t,s,r,a,o=!("undefined"==typeof i||"undefined"==typeof i.log||"undefined"==typeof i.log.apply),l=n.getElementById("log");for(o?(r=Array.prototype.slice.call(arguments),e=r.shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[e,r]):i.log.apply(i,[e,r])):e="\n"+arguments[0]+"\n",t=1,s=arguments.length;s>t;++t){if(a=arguments[t],"object"==typeof a&&"undefined"!=typeof c)try{a=c.stringify(a)}catch(d){}e+="\n"+a+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):o||h(e),!0},p.getInternetExplorerMajorVersion=function(){var e=p.getInternetExplorerMajorVersion.cached="undefined"!=typeof p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=n.createElement("div"),i=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i[0];);return e>4?e:!1}();return e},p.isInternetExplorer=function(){var e=p.isInternetExplorer.cached="undefined"!=typeof p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion());return e},p.emulated=p.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(s.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(s.userAgent))),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in n)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===s.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(s.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===s.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(s.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},p.cloneObject=function(e){var t,i;return e?(t=c.stringify(e),i=c.parse(t)):i={},i},p.getRootUrl=function(){var e=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(e+=":"+n.location.port),e+="/"},p.getBaseHref=function(){var e=n.getElementsByTagName("base"),t=null,i="";return 1===e.length&&(t=e[0],i=t.href.replace(/[^\/]+$/,"")),i=i.replace(/\/+$/,""),i&&(i+="/"),i},p.getBaseUrl=function(){var e=p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl();return e},p.getPageUrl=function(){var e,t=p.getState(!1,!1),i=(t||{}).url||p.getLocationHref();return e=i.replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},p.getBasePageUrl=function(){var e=p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},p.getFullUrl=function(e,t){var i=e,n=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(i="/"===n?p.getRootUrl()+e.replace(/^\/+/,""):"#"===n?p.getPageUrl().replace(/#.*/,"")+e:"?"===n?p.getPageUrl().replace(/[\?#].*/,"")+e:t?p.getBaseUrl()+e.replace(/^(\.\/)+/,""):p.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},p.getShortUrl=function(e){var t=e,i=p.getBaseUrl(),n=p.getRootUrl();return p.emulated.pushState&&(t=t.replace(i,"")),t=t.replace(n,"/"),t="./"+t,t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(e){return e=e||n,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var i=p.getLastSavedState();return!i&&t&&(i=p.createStateObject()),e&&(i=p.cloneObject(i),i.url=i.cleanUrl||i.url),i},p.getIdByState=function(e){var t,i=p.extractId(e.url);if(!i)if(t=p.getStateString(e),"undefined"!=typeof p.stateToId[t])i=p.stateToId[t];else if("undefined"!=typeof p.store.stateToId[t])i=p.store.stateToId[t];else{for(;;)if(i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof p.idToState[i]&&"undefined"==typeof p.store.idToState[i])break;p.stateToId[t]=i,p.idToState[i]=e}return i},p.normalizeState=function(e){var t,i;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=p.getFullUrl(e.url?e.url:p.getLocationHref()),t.hash=p.getShortUrl(t.url),t.data=p.cloneObject(e.data),t.id=p.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,i=!p.isEmptyObject(t.data),(t.title||i)&&p.options.disableSuid!==!0&&(t.hash=p.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=p.getFullUrl(t.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},p.createStateObject=function(e,t,i){var n={data:e,title:t,url:i};return n=p.normalizeState(n)},p.getStateById=function(e){e=String(e);var i=p.idToState[e]||p.store.idToState[e]||t;return i},p.getStateString=function(e){var t,i,n;return t=p.normalizeState(e),i={data:t.data,title:e.title,url:e.url},n=c.stringify(i)},p.getStateId=function(e){var t,i;return t=p.normalizeState(e),i=t.id},p.getHashByState=function(e){var t,i;return t=p.normalizeState(e),i=t.hash},p.extractId=function(e){var t,i,n,s;return s=-1!=e.indexOf("#")?e.split("#")[0]:e,i=/(.*)\&_suid=([0-9]+)$/.exec(s),n=i?i[1]||e:e,t=i?String(i[2]||""):"",t||!1},p.isTraditionalAnchor=function(e){var t=!/[\/\\.]/.test(e);return t},p.extractState=function(e,t){var i,n,s=null;return t=t||!1,i=p.extractId(e),i&&(s=p.getStateById(i)),s||(n=p.getFullUrl(e),i=p.getIdByUrl(n)||!1,i&&(s=p.getStateById(i)),s||!t||p.isTraditionalAnchor(e)||(s=p.createStateObject(null,null,n))),s},p.getIdByUrl=function(e){var i=p.urlToId[e]||p.store.urlToId[e]||t;return i},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||t},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||t},p.hasUrlDuplicate=function(e){var t,i=!1;return t=p.extractState(e.url),i=t&&t.id!==e.id},p.storeState=function(e){return p.urlToId[e.url]=e.id,p.storedStates.push(p.cloneObject(e)),e},p.isLastSavedState=function(e){var t,i,n,s=!1;return p.savedStates.length&&(t=e.id,i=p.getLastSavedState(),n=i.id,s=t===n),s},p.saveState=function(e){return p.isLastSavedState(e)?!1:(p.savedStates.push(p.cloneObject(e)),!0)},p.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?p.savedStates[p.savedStates.length-1]:0>e?p.savedStates[p.savedStates.length+e]:p.savedStates[e]},p.getCurrentIndex=function(){var e=null;return e=p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(e){var t,i=p.getLocationHref(e);return t=p.getHashByUrl(i)},p.unescapeHash=function(e){var t=p.normalizeHash(e);return t=decodeURIComponent(t)},p.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},p.setHash=function(e,t){var i,s;return t!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:t}),!1):(p.busy(!0),i=p.extractState(e,!0),i&&!p.emulated.pushState?p.pushState(i.data,i.title,i.url,!1):p.getHash()!==e&&(p.bugs.setHash?(s=p.getPageUrl(),p.pushState(null,null,s+"#"+e,!1)):n.location.hash=e),p)},p.escapeHash=function(t){var i=p.normalizeHash(t);return i=e.encodeURIComponent(i),p.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},p.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=p.unescapeHash(t)},p.setTitle=function(e){var t,i=e.title;i||(t=p.getStateByIndex(0),t&&t.url===e.url&&(i=t.title||p.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(s){}return n.title=i,p},p.queues=[],p.busy=function(e){if("undefined"!=typeof e?p.busy.flag=e:"undefined"==typeof p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){o(p.busy.timeout);var t=function(){var e,i,n;if(!p.busy.flag)for(e=p.queues.length-1;e>=0;--e)i=p.queues[e],0!==i.length&&(n=i.shift(),p.fireQueueItem(n),p.busy.timeout=a(t,p.options.busyDelay))};p.busy.timeout=a(t,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(e){return e.callback.apply(e.scope||p,e.args||[])},p.pushQueue=function(e){return p.queues[e.queue||0]=p.queues[e.queue||0]||[],p.queues[e.queue||0].push(e),p},p.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),p.busy()?p.pushQueue(e):p.fireQueueItem(e),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(o(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(e){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=a(function(){return p.doubleCheckClear(),p.stateChanged||e(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var t,i=p.extractState(p.getLocationHref());if(!p.isLastSavedState(i))return t=i,t||(t=p.createStateObject()),p.Adapter.trigger(e,"popstate"),p},p.back=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),u.go(-1),!0)},p.forward=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),u.go(1),!0)},p.go=function(e,t){var i;if(e>0)for(i=1;e>=i;++i)p.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=e;--i)p.back(t)}return p},p.emulated.pushState){var f=function(){};p.pushState=p.pushState||f,p.replaceState=p.replaceState||f}else p.onPopState=function(t,i){var n,s,r=!1,a=!1;return p.doubleCheckComplete(),(n=p.getHash())?(s=p.extractState(n||p.getLocationHref(),!0),s?p.replaceState(s.data,s.title,s.url,!1):(p.Adapter.trigger(e,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):(r=p.Adapter.extractEventData("state",t,i)||!1,a=r?p.getStateById(r):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()),a||(a=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(a)?(p.busy(!1),!1):(p.storeState(a),p.saveState(a),p.setTitle(a),p.Adapter.trigger(e,"statechange"),p.busy(!1),!0))},p.Adapter.bind(e,"popstate",p.onPopState),p.pushState=function(t,i,n,s){if(p.getHashByUrl(n)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(s!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:s}),!1;p.busy(!0);var r=p.createStateObject(t,i,n);return p.isLastSavedState(r)?p.busy(!1):(p.storeState(r),p.expectedStateId=r.id,u.pushState(r.id,r.title,r.url),p.Adapter.trigger(e,"popstate")),!0},p.replaceState=function(t,i,n,s){if(p.getHashByUrl(n)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(s!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:s}),!1;p.busy(!0);var r=p.createStateObject(t,i,n);return p.isLastSavedState(r)?p.busy(!1):(p.storeState(r),p.expectedStateId=r.id,u.replaceState(r.id,r.title,r.url),p.Adapter.trigger(e,"popstate")),!0};if(r){try{p.store=c.parse(r.getItem("History.store"))||{}}catch(m){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(e,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),r&&(p.onUnload=function(){var e,t,i;try{e=c.parse(r.getItem("History.store"))||{}}catch(n){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in p.idToState)p.idToState.hasOwnProperty(t)&&(e.idToState[t]=p.idToState[t]);for(t in p.urlToId)p.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=p.urlToId[t]);for(t in p.stateToId)p.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=p.stateToId[t]);p.store=e,p.normalizeStore(),i=c.stringify(e);try{r.setItem("History.store",i)}catch(s){if(s.code!==DOMException.QUOTA_EXCEEDED_ERR)throw s;r.length&&(r.removeItem("History.store"),r.setItem("History.store",i))}},p.intervalList.push(l(p.onUnload,p.options.storeInterval)),p.Adapter.bind(e,"beforeunload",p.onUnload),p.Adapter.bind(e,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(l(p.safariStatePoll,p.options.safariPollInterval)),("Apple Computer, Inc."===s.vendor||"Mozilla"===(s.appCodeName||""))&&(p.Adapter.bind(e,"hashchange",function(){p.Adapter.trigger(e,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(e,"hashchange")})))},p.options&&p.options.delayInit||p.init()}(window),function(){var e;e=function(){function e(){}return e.prototype.parse=function(e){return this._get_parser()(e)},e.prototype._get_parser=function(){return null!=this._document_parser?this._document_parser:this._document_parser=this._parser_factory()},e.prototype._parser_factory=function(){var t,i,n,s,r,a;i=function(t){return(new e).parseFromString(t,"text/html")},t=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},n=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t};try{if(window.DOMParser)return a=i("<html><body><p>test"),i}catch(o){return s=o,a=t("<html><body><p>test"),t}finally{if(1!==(null!=a&&null!=(r=a.body)?r.childNodes.length:void 0))return n}},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.DOMParser=e}.call(this),function(){var e;e=function(){function e(e,t,i){this.html=e,this.xhr=t,this.$target=i}return e._document_parser=null,e._get_document_parser=function(){return null!=e._document_parser?e._document_parser:e._document_parser=new window._Wiselinks.DOMParser},e.prototype.url=function(){return this.xhr.getResponseHeader("X-Wiselinks-Url")},e.prototype.assets_digest=function(){return this._is_full_document_response()?$('meta[name="assets-digest"]',this._get_doc()).attr("content"):this.xhr.getResponseHeader("X-Wiselinks-Assets-Digest")},e.prototype.content=function(){return null!=this._content?this._content:this._content=this._extract_content()},e.prototype.title=function(){return null!=this._title?this._title:this._title=this._extract_title()},e.prototype._extract_title=function(){return this._is_full_document_response()?$("title",this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Title")},e.prototype.description=function(){return null!=this._description?this._description:this._description=this._extract_description()},e.prototype._extract_description=function(){return this._is_full_document_response()?$('meta[name="description"]',this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Description")},e.prototype._extract_content=function(){return this._is_full_document_response()?this._get_doc_target_node().html():this.html},e.prototype._is_full_document_response=function(){return 1===this._get_doc_target_node().length},e.prototype._get_doc_target_node=function(){return null!=this.$doc_target_node?this.$doc_target_node:this.$doc_target_node=$(this.$target.selector,this._get_doc())},e.prototype._get_doc=function(){return null!=this._doc?this._doc:this._doc=e._get_document_parser().parse(this.html)},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Response=e}.call(this),function(){var e;e=function(){function e(e){this.options=null!=e?e:{}}return e.prototype.call=function(e,t){var i;return i=this,null!=this.redirected?void(this.redirected=null):(i._loading(e,t),$.ajax({url:t.url,headers:{"X-Wiselinks":t.data.render,"X-Wiselinks-Referer":t.data.referer},dataType:"html"}).done(function(t,n,s){return i._html_loaded(e,t,n,s)}).fail(function(n,s,r){return i._fail(e,s,t,r,n.status)}).always(function(n,s){return i._always(e,s,t)}))},e.prototype._normalize=function(e){return null!=e?e=e.replace(/\/+$/,""):void 0},e.prototype._assets_changed=function(e){return null!=this.options.assets_digest&&this.options.assets_digest!==e},e.prototype._redirect_to=function(e,t,i,n){return n&&n.readyState<4&&(n.onreadystatechange=$.noop,n.abort()),this.redirected=!0,$(document).trigger("page:redirected",[t,i.data.render,e]),History.replaceState(i.data,document.title,e)},e.prototype._loading=function(e,t){return $(document).trigger("page:loading",[e,t.data.render,decodeURI(t.url)])},e.prototype._done=function(e,t,i,n){return $(document).trigger("page:done",[e,t,decodeURI(i.url),n])},e.prototype._html_loaded=function(e,t,i,n){var s,r,a,o;return r=new window._Wiselinks.Response(t,n,e),o=this._normalize(r.url()),s=r.assets_digest(),this._assets_changed(s)?window.location.reload(!0):(a=History.getState(),null!=o&&o!==this._normalize(a.url)&&this._redirect_to(o,e,a,n),e.html(r.content()).promise().done(function(t){return function(){return t._title(r.title()),t._description(r.description()),t._done(e,i,a,r.content())}}(this)))},e.prototype._fail=function(e,t,i,n,s){return $(document).trigger("page:fail",[e,t,decodeURI(i.url),n,s])},e.prototype._always=function(e,t,i){return $(document).trigger("page:always",[e,t,decodeURI(i.url)])},e.prototype._title=function(e){return null!=e?($(document).trigger("page:title",decodeURI(e)),document.title=decodeURI(e)):void 0},e.prototype._description=function(e){return null!=e?($(document).trigger("page:description",decodeURI(e)),$('meta[name="description"]').attr("content",decodeURI(e))):void 0},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.RequestManager=e}.call(this),function(){var e;e=function(){function e(e,t){var i;this.$target=e,this.options=t,i=this,this.template_id=(new Date).getTime(),this.request_manager=new _Wiselinks.RequestManager(this.options),this.$target=i._wrap(this.$target),i._try_target(this.$target),History.emulated.pushState&&this.options.html4===!0&&-1===window.location.href.indexOf("#.")&&this.options.html4_normalize_path===!0&&window.location.pathname!==this.options.html4_root_path&&(window.location.href=window.location.protocol+"//"+window.location.host+this.options.html4_root_path+"#."+window.location.pathname),History.Adapter.bind(window,"statechange",function(){var e;return e=History.getState(),i._call(i._template_id_changed(e)?i._reset_state(e):e)}),$(document).on("click","a[data-push], a[data-replace]",function(e){var t;return(t=new _Wiselinks.Link(i,$(this))).allows_process(e)?(e.preventDefault(),t.process(),!1):void 0}),$(document).on("submit","form[data-push], form[data-replace]",function(e){var t;return(t=new _Wiselinks.Form(i,$(this)))?(e.preventDefault(),t.process(),!1):void 0})}return e.prototype.load=function(e,t,i){var n,s;return null==i&&(i="template"),"partial"!==i&&(this.template_id=(new Date).getTime()),s=null!=t?(n=this._wrap(t),this._try_target(n),n.selector):void 0,History.pushState({timestamp:(new Date).getTime(),template_id:this.template_id,render:i,target:s,referer:window.location.href},document.title,e)},e.prototype.reload=function(){return History.replaceState({timestamp:(new Date).getTime(),template_id:this.template_id,render:"template",referer:window.location.href},document.title,History.getState().url)},e.prototype._call=function(e){var t;return t=null!=e.data.target?$(e.data.target):this.$target,this.request_manager.call(t,e)},e.prototype._template_id_changed=function(e){return null==e.data.template_id||e.data.template_id!==this.template_id},e.prototype._make_state=function(e,t,i,n){return null==i&&(i="template"),{url:e,data:{target:t,render:i,referer:n}}},e.prototype._reset_state=function(e){return null==e.data&&(e.data={}),e.data.target=null,e.data.render="template",e},e.prototype._try_target=function(e){if(0===e.length&&"exception"===this.options.target_missing)throw new Error("[Wiselinks] Target missing: `"+e.selector+"`")},e.prototype._wrap=function(e){return $(e)},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Page=e}.call(this),function(){var e;e=function(){function e(e,t){this.page=e,this.$link=t}return e.prototype.allows_process=function(e){return!(this._cross_origin_link(e.currentTarget)||this._non_standard_click(e))},e.prototype.process=function(){var e;return e="partial"===this.$link.data("push")?"partial":"template",this.page.load(this.$link.attr("href"),this.$link.data("target"),e)},e.prototype._cross_origin_link=function(e){return this._different_protocol(e)||this._different_host(e)||this._different_port(e)},e.prototype._different_protocol=function(e){return":"===e.protocol||""===e.protocol?!1:location.protocol!==e.protocol},e.prototype._different_host=function(e){return""===e.host?!1:location.host.split(":")[0]!==e.host.split(":")[0]},e.prototype._different_port=function(e){var t;return t=location.port===e.port||""===location.port&&("80"===e.port||"443"===e.port),!t},e.prototype._non_standard_click=function(e){return e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Link=e}.call(this),function(){var e;e=function(){function e(e,t){this.page=e,this.$form=t}return e.prototype.process=function(){var e;return e=this,e._include_blank_url_params()?e.page.load(e._url(),e._target(),e._type()):e._without_blank_url_params(function(){return e.page.load(e._url(),e._target(),e._type())})},e.prototype._without_blank_url_params=function(e){var t,i;return i="select:not(:disabled),input:not(:disabled)",t=this.$form.find(i).filter(function(){return!$(this).val()}),t.attr("disabled",!0),e(),t.attr("disabled",!1)},e.prototype._params=function(){var e,t,i,n,s,r;for(e={},r=this.$form.serializeArray(),t=0,n=r.length;n>t;t++)i=r[t],"utf8"!==i.name&&(s=-1!==i.name.indexOf("[]",i.name.length-"[]".length)?i.name.substr(0,i.name.length-2):i.name,e[s]=null!=e[s]?e[s]+(","+i.value):i.value);return e},e.prototype._include_blank_url_params=function(){return this.$form.data("include-blank-url-params")===!0},e.prototype._optimize_url_params=function(){return this.$form.data("optimize-url-params")!==!1},e.prototype._type=function(){return"partial"===this.$form.data("push")?"partial":"template"},e.prototype._target=function(){return this.$form.data("target")},e.prototype._url=function(){var e,t,i,n,s,r;return i=this,n=function(){var n;if(i._optimize_url_params()){t=[],n=this._params();for(e in n)r=n[e],t.push(e+"="+encodeURIComponent(r).replace(/%2C/g,","));return t.join("&")}return this.$form.serialize()}.call(this),s=this.$form.attr("action").replace(/\?.*$/,""),n.length>0&&(s+="?"+n),s},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Form=e}.call(this),function(){var e;e=function(){function e(e,t){null==e&&(e=$("body")),this.options=null!=t?t:{},this._try_jquery(),this.options=$.extend(this._defaults(),this.options),this.enabled()&&(this.options.disable_suid&&(History.options.disableSuid=!0),this.page=new _Wiselinks.Page(e,this.options))}return e.prototype.enabled=function(){return!History.emulated.pushState||this.options.html4===!0},e.prototype.load=function(e,t,i){return null==i&&(i="template"),this.page.load(e,t,i)},e.prototype.reload=function(){return this.page.reload()},e.prototype._defaults=function(){return{disable_suid:!0,html4:!0,html4_root_path:"/",html4_normalize_path:!0,target_missing:null,assets_digest:$("meta[name='assets-digest']").attr("content")}},e.prototype._try_jquery=function(){if(null==window.jQuery)throw new Error("[Wiselinks] jQuery is not loaded")},e}(),window.Wiselinks=e}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){$.fn.datepicker.defaults.weekStart=1,$.fn.datepicker.defaults.autoclose=!0,$.fn.datepicker.defaults.calendarWeeks=!0,$.fn.datepicker.defaults.todayHighlight=!0}.call(this),function(){$.fn.extend({initialize:function(){return $(".gallery",this).each(function(){return $(this).magnificPopup({delegate:".image-link",type:"image",gallery:{enabled:!0}})}),$('[data-toggle="tooltip"]',this).tooltip(),$('[data-toggle="popover"]',this).popover({html:!0,trigger:"hover"}),$(".select2",this).select2({width:"resolve",dropdownAutoWidth:!0}),$('.nav-tabs[role="tablist"]').stickyTabs({backToTop:!0})}}),jQuery(function(){return window.wiselinks=new Wiselinks,$(document).initialize(),$(document).on("change","form.immediate",function(e){return $(e.currentTarget).trigger("submit.rails")}),$(document).on("click","button.stateful",function(e){return $(e.currentTarget).prop("disabled",!0)}),$(document).on("click",'a[href="#print"]',function(e){return e.preventDefault(),$.print()})})}.call(this),!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.sortable=t(e.jQuery)}(this,function(e){"use strict";var t,i,n=e(),s=[],r=function(e){e.off("dragstart.h5s"),e.off("dragend.h5s"),e.off("selectstart.h5s"),e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},a=function(e){e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},o=function(e,t){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",""),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(t.item,t.x,t.y)},l=function(e,t){return t.x||(t.x=parseInt(e.pageX-t.draggedItem.offset().left)),t.y||(t.y=parseInt(e.pageY-t.draggedItem.offset().top)),t},d=function(e){return{item:e[0],draggedItem:e}},c=function(e,t){var i=d(t);i=l(e,i),o(e,i)},h=function(e,t){return"undefined"==typeof e?t:e},p=function(e){e.removeData("opts"),e.removeData("connectWith"),e.removeData("items"),e.removeAttr("aria-dropeffect")},u=function(e){e.removeAttr("aria-grabbed"),e.removeAttr("draggable"),e.removeAttr("role")},f=function(e,t){return e[0]===t[0]?!0:void 0!==e.data("connectWith")?e.data("connectWith")===t.data("connectWith"):!1},m=function(e){var t=e.data("opts")||{},i=e.children(t.items),n=t.handle?i.find(t.handle):i;a(e),p(e),n.off("mousedown.h5s"),r(i),u(i)},g=function(t){var i=t.data("opts"),n=t.children(i.items),s=i.handle?n.find(i.handle):n;t.attr("aria-dropeffect","move"),s.attr("draggable","true"),"function"!=typeof document.createElement("span").dragDrop||i.disableIEFix||s.on("mousedown.h5s",function(){-1!==n.index(this)?this.dragDrop():e(this).parents(i.items)[0].dragDrop()})},v=function(e){var t=e.data("opts"),i=e.children(t.items),n=t.handle?i.find(t.handle):i;e.attr("aria-dropeffect","none"),n.attr("draggable",!1),n.off("mousedown.h5s")},b=function(e){var t=e.data("opts"),i=e.children(t.items),n=t.handle?i.find(t.handle):i;r(i),n.off("mousedown.h5s"),a(e)},y=function(r,a){var l=e(r),d=String(a);return a=e.extend({connectWith:!1,placeholder:null,dragImage:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging"},a),l.each(function(){var r=e(this);if(/enable|disable|destroy/.test(d))return void y[d](r);a=h(r.data("opts"),a),r.data("opts",a),b(r);var l,p,u,m=r.children(a.items),v=null===a.placeholder?e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="'+a.placeholderClass+'"/>'):e(a.placeholder).addClass(a.placeholderClass);if(!r.attr("data-sortable-id")){var w=s.length;s[w]=r,r.attr("data-sortable-id",w),m.attr("data-item-sortable-id",w)}r.data("items",a.items),n=n.add(v),a.connectWith&&r.data("connectWith",a.connectWith),g(r),m.attr("role","option"),m.attr("aria-grabbed","false"),m.on("dragstart.h5s",function(n){n.stopImmediatePropagation(),a.dragImage?(o(n.originalEvent,{item:a.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):c(n.originalEvent,e(this),a.dragImage),t=e(this),t.addClass(a.draggingClass),t.attr("aria-grabbed","true"),l=t.index(),i=t.height(),p=e(this).parent(),t.parent().triggerHandler("sortstart",{item:t,startparent:p})}),m.on("dragend.h5s",function(){t&&(t.removeClass(a.draggingClass),t.attr("aria-grabbed","false"),t.show(),n.detach(),u=e(this).parent(),t.parent().triggerHandler("sortstop",{item:t,startparent:p}),(l!==t.index()||p.get(0)!==u.get(0))&&t.parent().triggerHandler("sortupdate",{item:t,index:u.children(u.data("items")).index(t),oldindex:m.index(t),elementIndex:t.index(),oldElementIndex:l,startparent:p,endparent:u}),t=null,i=null)}),e(this).add([v]).on("drop.h5s",function(i){return f(r,e(t).parent())?(i.stopPropagation(),n.filter(":visible").after(t),t.trigger("dragend.h5s"),!1):void 0}),m.add([this,v]).on("dragover.h5s dragenter.h5s",function(s){if(f(r,e(t).parent())){if(s.preventDefault(),s.originalEvent.dataTransfer.dropEffect="move",m.is(this)){var o=e(this).height();if(a.forcePlaceholderSize&&v.height(i),o>i){var l=o-i,d=e(this).offset().top;if(v.index()<e(this).index()&&s.originalEvent.pageY<d+l)return!1;if(v.index()>e(this).index()&&s.originalEvent.pageY>d+o-l)return!1}t.hide(),v.index()<e(this).index()?e(this).after(v):e(this).before(v),n.not(v).detach()}else n.is(this)||e(this).children(a.items).length||(n.detach(),e(this).append(v));return!1}})})};return y.destroy=function(e){m(e)},y.enable=function(e){g(e)},y.disable=function(e){v(e)},e.fn.sortable=function(e){return y(this,e)},y}),function(e){e.fn.stickyTabs=function(t){var i=this,n=e.extend({getHashCallback:function(e){return e},selectorAttribute:"href",backToTop:!1,initialTab:e("li.active > a",i)},t),s=function(){var t="href"==n.selectorAttribute?window.location.hash:window.location.hash.substring(1),s=t?"a["+n.selectorAttribute+'="'+t+'"]':n.initialTab;e(s,i).tab("show"),setTimeout(a,1)},r=function(e){history&&history.pushState?history.pushState(null,null,window.location.pathname+window.location.search+"#"+e):(scrollV=document.body.scrollTop,scrollH=document.body.scrollLeft,window.location.hash=e,document.body.scrollTop=scrollV,document.body.scrollLeft=scrollH)},a=function(){n.backToTop===!0&&window.scrollTo(0,0)};return s(),e(window).on("hashchange",s),e("a",i).on("click",function(){var e=this.href.split("#")[1],t=n.getHashCallback(e,this);r(t),setTimeout(a,1)}),this}}(jQuery),function(){$.print=function(){var e;return e=jsPrintSetup,e.setPaperSizeData(9),e.setOption("orientation",e.kPortraitOrientation),e.setOption("scaling",100),e.setOption("shrinkToFit",0),e.setOption("marginTop",0),e.setOption("marginBottom",0),e.setOption("marginLeft",0),e.setOption("marginRight",0),e.setOption("headerStrLeft",""),e.setOption("headerStrCenter",""),e.setOption("headerStrRight",""),e.setOption("footerStrLeft",""),e.setOption("footerStrCenter",""),e.setOption("footerStrRight",""),e.setOption("printBGColors",1),e.setOption("printBGImages",1),e.print()}}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){UnobtrusiveFlash.flashOptions.timeout=5e3
}.call(this);