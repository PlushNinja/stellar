.page-header
  - if current_user.can_create?(Product)
    = link_to new_admin_product_path, class: 'btn btn-primary' do
      = icon('plus', t('.new_product'))
  %h1= icon('cube', title(Product, count: 2))

.panel.panel-info
  .panel-heading
    .panel-title
      %h4= t('actions.search')
  .panel-body
    = form_for @search, url: admin_products_path, method: :get do |f|
      .row
        .col-sm-6.col-md-2
          .form-group
            = f.search_field :code, autocomplete: 'off', placeholder: col(Product, :code), class: 'form-control'
        .col-sm-6.col-md-4
          .form-group
            = f.search_field :keyword, autocomplete: 'off', placeholder: col(Product, :title), class: 'form-control'
        .col-sm-6.col-md-3
          .form-group
            = f.select :categories, current_store.category_options, {include_blank: true}, {multiple: true, placeholder: col(Product, :category_ids), class: 'form-control selectize'}
        .col-sm-4.col-md-2
          .form-group
            = f.select :live, Product.availability_options, {include_blank: true}, {placeholder: col(Product, :live), class: 'form-control selectize'}
        .col-sm-2.col-md-1
          .form-group
            = f.submit t('actions.search'), class: 'btn btn-block btn-primary'

= render partial: 'admin/products/table', object: @products, as: :products
= paginate @products
