/*!
 * jQuery JavaScript Library v1.11.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-17T15:27Z
 */
/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=se.type(t);return"function"===i||se.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(se.isFunction(e))return se.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return se.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(ce.test(e))return se.filter(e,t,i);e=se.filter(e,t)}return se.grep(t,function(t){return se.inArray(t,e)>=0!==i})}function s(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e=we[t]={};return se.each(t.match(ye)||[],function(t,i){e[i]=!0}),e}function r(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(fe.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(r(),se.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Se,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:$e.test(i)?se.parseJSON(i):i}catch(s){}se.data(t,e,i)}else i=void 0}return i}function h(t){var e;for(e in t)if(("data"!==e||!se.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function d(t,e,i,n){if(se.acceptData(t)){var s,o,r=se.expando,a=t.nodeType,l=a?se.cache:t,h=a?t[r]:t[r]&&r;if(h&&l[h]&&(n||l[h].data)||void 0!==i||"string"!=typeof e)return h||(h=a?t[r]=Y.pop()||se.guid++:r),l[h]||(l[h]=a?{}:{toJSON:se.noop}),("object"==typeof e||"function"==typeof e)&&(n?l[h]=se.extend(l[h],e):l[h].data=se.extend(l[h].data,e)),o=l[h],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[se.camelCase(e)]=i),"string"==typeof e?(s=o[e],null==s&&(s=o[se.camelCase(e)])):s=o,s}}function p(t,e,i){if(se.acceptData(t)){var n,s,o=t.nodeType,r=o?se.cache:t,a=o?t[se.expando]:se.expando;if(r[a]){if(e&&(n=i?r[a]:r[a].data)){se.isArray(e)?e=e.concat(se.map(e,se.camelCase)):e in n?e=[e]:(e=se.camelCase(e),e=e in n?[e]:e.split(" ")),s=e.length;for(;s--;)delete n[e[s]];if(i?!h(n):!se.isEmptyObject(n))return}(i||(delete r[a].data,h(r[a])))&&(o?se.cleanData([t],!0):ie.deleteExpando||r!=r.window?delete r[a]:r[a]=null)}}}function c(){return!0}function u(){return!1}function f(){try{return fe.activeElement}catch(t){}}function m(t){var e=Oe.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function g(t,e){var i,n,s=0,o=typeof t.getElementsByTagName!==Ee?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Ee?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(n=i[s]);s++)!e||se.nodeName(n,e)?o.push(n):se.merge(o,g(n,e));return void 0===e||e&&se.nodeName(t,e)?se.merge([t],o):o}function v(t){Le.test(t.type)&&(t.defaultChecked=t.checked)}function b(t,e){return se.nodeName(t,"table")&&se.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==se.find.attr(t,"type"))+"/"+t.type,t}function w(t){var e=Ve.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){for(var i,n=0;null!=(i=t[n]);n++)se._data(i,"globalEval",!e||se._data(e[n],"globalEval"))}function k(t,e){if(1===e.nodeType&&se.hasData(t)){var i,n,s,o=se._data(t),r=se._data(e,o),a=o.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,s=a[i].length;s>n;n++)se.event.add(e,i,a[i][n])}r.data&&(r.data=se.extend({},r.data))}}function E(t,e){var i,n,s;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ie.noCloneEvent&&e[se.expando]){s=se._data(e);for(n in s.events)se.removeEvent(e,n,s.handle);e.removeAttribute(se.expando)}"script"===i&&e.text!==t.text?(y(e).text=t.text,w(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ie.html5Clone&&t.innerHTML&&!se.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Le.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function $(e,i){var n,s=se(i.createElement(e)).appendTo(i.body),o=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(s[0]))?n.display:se.css(s[0],"display");return s.detach(),o}function S(t){var e=fe,i=Ze[t];return i||(i=$(t,e),"none"!==i&&i||(Je=(Je||se("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Je[0].contentWindow||Je[0].contentDocument).document,e.write(),e.close(),i=$(t,e),Je.detach()),Ze[t]=i),i}function C(t,e){return{get:function(){var i=t();if(null!=i)return i?void delete this.get:(this.get=e).apply(this,arguments)}}}function T(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,s=ci.length;s--;)if(e=ci[s]+i,e in t)return e;return n}function _(t,e){for(var i,n,s,o=[],r=0,a=t.length;a>r;r++)n=t[r],n.style&&(o[r]=se._data(n,"olddisplay"),i=n.style.display,e?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&_e(n)&&(o[r]=se._data(n,"olddisplay",S(n.nodeName)))):(s=_e(n),(i&&"none"!==i||!s)&&se._data(n,"olddisplay",s?i:se.css(n,"display"))));for(r=0;a>r;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[r]||"":"none"));return t}function I(t,e,i){var n=li.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function L(t,e,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,r=0;4>o;o+=2)"margin"===i&&(r+=se.css(t,i+Te[o],!0,s)),n?("content"===i&&(r-=se.css(t,"padding"+Te[o],!0,s)),"margin"!==i&&(r-=se.css(t,"border"+Te[o]+"Width",!0,s))):(r+=se.css(t,"padding"+Te[o],!0,s),"padding"!==i&&(r+=se.css(t,"border"+Te[o]+"Width",!0,s)));return r}function N(t,e,i){var n=!0,s="width"===e?t.offsetWidth:t.offsetHeight,o=ti(t),r=ie.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,o);if(0>=s||null==s){if(s=ei(t,e,o),(0>s||null==s)&&(s=t.style[e]),ni.test(s))return s;n=r&&(ie.boxSizingReliable()||s===t.style[e]),s=parseFloat(s)||0}return s+L(t,e,i||(r?"border":"content"),n,o)+"px"}function A(t,e,i,n,s){return new A.prototype.init(t,e,i,n,s)}function D(){return setTimeout(function(){ui=void 0}),ui=se.now()}function M(t,e){var i,n={height:t},s=0;for(e=e?1:0;4>s;s+=2-e)i=Te[s],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function R(t,e,i){for(var n,s=(yi[e]||[]).concat(yi["*"]),o=0,r=s.length;r>o;o++)if(n=s[o].call(i,e,t))return n}function O(t,e,i){var n,s,o,r,a,l,h,d,p=this,c={},u=t.style,f=t.nodeType&&_e(t),m=se._data(t,"fxshow");i.queue||(a=se._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,se.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],h=se.css(t,"display"),d="none"===h?se._data(t,"olddisplay")||S(t.nodeName):h,"inline"===d&&"none"===se.css(t,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==S(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",ie.shrinkWrapBlocks()||p.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],mi.exec(s)){if(delete e[n],o=o||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;f=!0}c[n]=m&&m[n]||se.style(t,n)}else h=void 0;if(se.isEmptyObject(c))"inline"===("none"===h?S(t.nodeName):h)&&(u.display=h);else{m?"hidden"in m&&(f=m.hidden):m=se._data(t,"fxshow",{}),o&&(m.hidden=!f),f?se(t).show():p.done(function(){se(t).hide()}),p.done(function(){var e;se._removeData(t,"fxshow");for(e in c)se.style(t,e,c[e])});for(n in c)r=R(f?m[n]:0,n,p),n in m||(m[n]=r.start,f&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function B(t,e){var i,n,s,o,r;for(i in t)if(n=se.camelCase(i),s=e[n],o=t[i],se.isArray(o)&&(s=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),r=se.cssHooks[n],r&&"expand"in r){o=r.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=s)}else e[n]=s}function P(t,e,i){var n,s,o=0,r=bi.length,a=se.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=ui||D(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,o=1-n,r=0,l=h.tweens.length;l>r;r++)h.tweens[r].run(o);return a.notifyWith(t,[h,o,i]),1>o&&l?i:(a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:se.extend({},e),opts:se.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:ui||D(),duration:i.duration,tweens:[],createTween:function(e,i){var n=se.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)h.tweens[i].run(1);return e?a.resolveWith(t,[h,e]):a.rejectWith(t,[h,e]),this}}),d=h.props;for(B(d,h.opts.specialEasing);r>o;o++)if(n=bi[o].call(h,t,d,h.opts))return n;return se.map(d,R,h),se.isFunction(h.opts.start)&&h.opts.start.call(t,h),se.fx.timer(se.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function H(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,o=e.toLowerCase().match(ye)||[];if(se.isFunction(i))for(;n=o[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function j(t,e,i,n){function s(a){var l;return o[a]=!0,se.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!=typeof h||r||o[h]?r?!(l=h):void 0:(e.dataTypes.unshift(h),s(h),!1)}),l}var o={},r=t===Ui;return s(e.dataTypes[0])||!o["*"]&&s("*")}function F(t,e){var i,n,s=se.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((s[n]?t:i||(i={}))[n]=e[n]);return i&&se.extend(!0,t,i),t}function z(t,e,i){for(var n,s,o,r,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=t.mimeType||e.getResponseHeader("Content-Type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}n||(n=r)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function U(t,e,i,n){var s,o,r,a,l,h={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)h[r.toLowerCase()]=t.converters[r];for(o=d.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=h[l+" "+o]||h["* "+o],!r)for(s in h)if(a=s.split(" "),a[1]===o&&(r=h[l+" "+a[0]]||h["* "+a[0]])){r===!0?r=h[s]:h[s]!==!0&&(o=a[0],d.unshift(a[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(p){return{state:"parsererror",error:r?p:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function W(t,e,i,n){var s;if(se.isArray(e))se.each(e,function(e,s){i||Vi.test(t)?n(t,s):W(t+"["+("object"==typeof s?e:"")+"]",s,i,n)});else if(i||"object"!==se.type(e))n(t,e);else for(s in e)W(t+"["+s+"]",e[s],i,n)}function q(){try{return new t.XMLHttpRequest}catch(e){}}function X(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function V(t){return se.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var Y=[],K=Y.slice,Q=Y.concat,G=Y.push,J=Y.indexOf,Z={},te=Z.toString,ee=Z.hasOwnProperty,ie={},ne="1.11.2",se=function(t,e){return new se.fn.init(t,e)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,re=/^-ms-/,ae=/-([\da-z])/gi,le=function(t,e){return e.toUpperCase()};se.fn=se.prototype={jquery:ne,constructor:se,selector:"",length:0,toArray:function(){return K.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:K.call(this)},pushStack:function(t){var e=se.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return se.each(this,t,e)},map:function(t){return this.pushStack(se.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:Y.sort,splice:Y.splice},se.extend=se.fn.extend=function(){var t,e,i,n,s,o,r=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof r&&(h=r,r=arguments[a]||{},a++),"object"==typeof r||se.isFunction(r)||(r={}),a===l&&(r=this,a--);l>a;a++)if(null!=(s=arguments[a]))for(n in s)t=r[n],i=s[n],r!==i&&(h&&i&&(se.isPlainObject(i)||(e=se.isArray(i)))?(e?(e=!1,o=t&&se.isArray(t)?t:[]):o=t&&se.isPlainObject(t)?t:{},r[n]=se.extend(h,o,i)):void 0!==i&&(r[n]=i));return r},se.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===se.type(t)},isArray:Array.isArray||function(t){return"array"===se.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!se.isArray(t)&&t-parseFloat(t)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==se.type(t)||t.nodeType||se.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ie.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[te.call(t)]||"object":typeof t},globalEval:function(e){e&&se.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(re,"ms-").replace(ae,le)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var s,o=0,r=t.length,a=i(t);if(n){if(a)for(;r>o&&(s=e.apply(t[o],n),s!==!1);o++);else for(o in t)if(s=e.apply(t[o],n),s===!1)break}else if(a)for(;r>o&&(s=e.call(t[o],o,t[o]),s!==!1);o++);else for(o in t)if(s=e.call(t[o],o,t[o]),s===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(oe,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?se.merge(n,"string"==typeof t?[t]:t):G.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(J)return J.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;i>n;)t[s++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[s++]=e[n++];return t.length=s,t},grep:function(t,e,i){for(var n,s=[],o=0,r=t.length,a=!i;r>o;o++)n=!e(t[o],o),n!==a&&s.push(t[o]);return s},map:function(t,e,n){var s,o=0,r=t.length,a=i(t),l=[];if(a)for(;r>o;o++)s=e(t[o],o,n),null!=s&&l.push(s);else for(o in t)s=e(t[o],o,n),null!=s&&l.push(s);return Q.apply([],l)},guid:1,proxy:function(t,e){var i,n,s;return"string"==typeof e&&(s=t[e],e=t,t=s),se.isFunction(t)?(i=K.call(arguments,2),n=function(){return t.apply(e||this,i.concat(K.call(arguments)))},n.guid=t.guid=t.guid||se.guid++,n):void 0},now:function(){return+new Date},support:ie}),se.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var he=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,i,n){var s,o,r,a,l,h,p,u,f,m;if((e?e.ownerDocument||e:j)!==A&&N(e),e=e||A,i=i||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return i;if(!n&&M){if(11!==a&&(s=be.exec(t)))if(r=s[1]){if(9===a){if(o=e.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(r))&&P(e,o)&&o.id===r)return i.push(o),i}else{if(s[2])return J.apply(i,e.getElementsByTagName(t)),i;if((r=s[3])&&x.getElementsByClassName)return J.apply(i,e.getElementsByClassName(r)),i}if(x.qsa&&(!R||!R.test(t))){if(u=p=H,f=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(h=S(t),(p=e.getAttribute("id"))?u=p.replace(we,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",l=h.length;l--;)h[l]=u+c(h[l]);f=ye.test(t)&&d(e.parentNode)||e,m=h.join(",")}if(m)try{return J.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{p||e.removeAttribute("id")}}}return T(t.replace(le,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>k.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[H]=!0,t}function s(t){var e=A.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=t.length;n--;)k.attrHandle[i[n]]=e}function r(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function h(t){return n(function(e){return e=+e,n(function(i,n){for(var s,o=t([],i.length,e),r=o.length;r--;)i[s=o[r]]&&(i[s]=!(n[s]=i[s]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function p(){}function c(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function u(t,e,i){var n=e.dir,s=i&&"parentNode"===n,o=z++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,o)}:function(e,i,r){var a,l,h=[F,o];if(r){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,r))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(l=e[H]||(e[H]={}),(a=l[n])&&a[0]===F&&a[1]===o)return h[2]=a[2];if(l[n]=h,h[2]=t(e,i,r))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var s=0,o=i.length;o>s;s++)e(t,i[s],n);return n}function g(t,e,i,n,s){for(var o,r=[],a=0,l=t.length,h=null!=e;l>a;a++)(o=t[a])&&(!i||i(o,n,s))&&(r.push(o),h&&e.push(a));return r}function v(t,e,i,s,o,r){return s&&!s[H]&&(s=v(s)),o&&!o[H]&&(o=v(o,r)),n(function(n,r,a,l){var h,d,p,c=[],u=[],f=r.length,v=n||m(e||"*",a.nodeType?[a]:a,[]),b=!t||!n&&e?v:g(v,c,t,a,l),y=i?o||(n?t:f||s)?[]:r:b;if(i&&i(b,y,a,l),s)for(h=g(y,u),s(h,[],a,l),d=h.length;d--;)(p=h[d])&&(y[u[d]]=!(b[u[d]]=p));if(n){if(o||t){if(o){for(h=[],d=y.length;d--;)(p=y[d])&&h.push(b[d]=p);o(null,y=[],h,l)}for(d=y.length;d--;)(p=y[d])&&(h=o?te(n,p):c[d])>-1&&(n[h]=!(r[h]=p))}}else y=g(y===r?y.splice(f,y.length):y),o?o(null,r,y,l):J.apply(r,y)})}function b(t){for(var e,i,n,s=t.length,o=k.relative[t[0].type],r=o||k.relative[" "],a=o?1:0,l=u(function(t){return t===e},r,!0),h=u(function(t){return te(e,t)>-1},r,!0),d=[function(t,i,n){var s=!o&&(n||i!==_)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,s}];s>a;a++)if(i=k.relative[t[a].type])d=[u(f(d),i)];else{if(i=k.filter[t[a].type].apply(null,t[a].matches),i[H]){for(n=++a;s>n&&!k.relative[t[n].type];n++);return v(a>1&&f(d),a>1&&c(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(le,"$1"),i,n>a&&b(t.slice(a,n)),s>n&&b(t=t.slice(n)),s>n&&c(t))}d.push(i)}return f(d)}function y(t,i){var s=i.length>0,o=t.length>0,r=function(n,r,a,l,h){var d,p,c,u=0,f="0",m=n&&[],v=[],b=_,y=n||o&&k.find.TAG("*",h),w=F+=null==b?1:Math.random()||.1,x=y.length;for(h&&(_=r!==A&&r);f!==x&&null!=(d=y[f]);f++){if(o&&d){for(p=0;c=t[p++];)if(c(d,r,a)){l.push(d);break}h&&(F=w)}s&&((d=!c&&d)&&u--,n&&m.push(d))}if(u+=f,s&&f!==u){for(p=0;c=i[p++];)c(m,v,r,a);if(n){if(u>0)for(;f--;)m[f]||v[f]||(v[f]=Q.call(l));v=g(v)}J.apply(l,v),h&&!n&&v.length>0&&u+i.length>1&&e.uniqueSort(l)}return h&&(F=w,_=b),m};return s?n(r):r}var w,x,k,E,$,S,C,T,_,I,L,N,A,D,M,R,O,B,P,H="sizzle"+1*new Date,j=t.document,F=0,z=0,U=i(),W=i(),q=i(),X=function(t,e){return t===e&&(L=!0),0},V=1<<31,Y={}.hasOwnProperty,K=[],Q=K.pop,G=K.push,J=K.push,Z=K.slice,te=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=ne.replace("w","w#"),oe="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+se+"))|)"+ie+"*\\]",re=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ie+"+","g"),le=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),he=new RegExp("^"+ie+"*,"+ie+"*"),de=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),pe=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),ce=new RegExp(re),ue=new RegExp("^"+se+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),ke=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ee=function(){N()};try{J.apply(K=Z.call(j.childNodes),j.childNodes),K[j.childNodes.length].nodeType}catch($e){J={apply:K.length?function(t,e){G.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},$=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},N=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:j;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,D=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",Ee,!1):i.attachEvent&&i.attachEvent("onunload",Ee)),M=!$(n),x.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=s(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(n.getElementsByClassName),x.getById=s(function(t){return D.appendChild(t).id=H,!n.getElementsByName||!n.getElementsByName(H).length}),x.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&M){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},k.filter.ID=function(t){var e=t.replace(xe,ke);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(xe,ke);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),k.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[s++];)1===i.nodeType&&n.push(i);return n}return o},k.find.CLASS=x.getElementsByClassName&&function(t,e){return M?e.getElementsByClassName(t):void 0},O=[],R=[],(x.qsa=ve.test(n.querySelectorAll))&&(s(function(t){D.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+ie+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+H+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||R.push(".#.+[+~]")}),s(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+ie+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=ve.test(B=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&s(function(t){x.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),O.push("!=",re)}),R=R.length&&new RegExp(R.join("|")),O=O.length&&new RegExp(O.join("|")),e=ve.test(D.compareDocumentPosition),P=e||ve.test(D.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return L=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===j&&P(j,t)?-1:e===n||e.ownerDocument===j&&P(j,e)?1:I?te(I,t)-te(I,e):0:4&i?-1:1)}:function(t,e){if(t===e)return L=!0,0;var i,s=0,o=t.parentNode,a=e.parentNode,l=[t],h=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:I?te(I,t)-te(I,e):0;if(o===a)return r(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;l[s]===h[s];)s++;return s?r(l[s],h[s]):l[s]===j?-1:h[s]===j?1:0},n):A},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==A&&N(t),i=i.replace(pe,"='$1']"),!(!x.matchesSelector||!M||O&&O.test(i)||R&&R.test(i)))try{var n=B.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(s){}return e(i,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&N(t),P(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&N(t);var i=k.attrHandle[e.toLowerCase()],n=i&&Y.call(k.attrHandle,e.toLowerCase())?i(t,e,!M):void 0;return void 0!==n?n:x.attributes||!M?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,s=0;if(L=!x.detectDuplicates,I=!x.sortStable&&t.slice(0),t.sort(X),L){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return I=null,t},E=e.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=E(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=E(e);return i},k=e.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,ke),t[3]=(t[3]||t[4]||t[5]||"").replace(xe,ke),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return fe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ce.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,ke).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(s){var o=e.attr(s,t);return null==o?"!="===i:i?(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(ae," ")+" ").indexOf(n)>-1:"|="===i?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,s){var o="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,l){var h,d,p,c,u,f,m=o!==r?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),b=!l&&!a;if(g){if(o){for(;m;){for(p=e;p=p[m];)if(a?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(d=g[H]||(g[H]={}),h=d[t]||[],u=h[0]===F&&h[1],c=h[0]===F&&h[2],p=u&&g.childNodes[u];p=++u&&p&&p[m]||(c=u=0)||f.pop();)if(1===p.nodeType&&++c&&p===e){d[t]=[F,u,c];break}}else if(b&&(h=(e[H]||(e[H]={}))[t])&&h[0]===F)c=h[1];else for(;(p=++u&&p&&p[m]||(c=u=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++c||(b&&((p[H]||(p[H]={}))[t]=[F,c]),p!==e)););return c-=s,c===n||c%n===0&&c/n>=0}}},PSEUDO:function(t,i){var s,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(i):o.length>1?(s=[t,t,"",i],k.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,s=o(t,i),r=s.length;r--;)n=te(t,s[r]),t[n]=!(e[n]=s[r])}):function(t){return o(t,0,s)}):o}},pseudos:{not:n(function(t){var e=[],i=[],s=C(t.replace(le,"$1"));return s[H]?n(function(t,e,i,n){for(var o,r=s(t,null,n,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,s(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(xe,ke),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:n(function(t){return ue.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,ke).toLowerCase(),function(e){var i;do if(i=M?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return ge.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:h(function(){return[0]}),last:h(function(t,e){return[e-1]}),eq:h(function(t,e,i){return[0>i?i+e:i]}),even:h(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:h(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:h(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:h(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return p.prototype=k.filters=k.pseudos,k.setFilters=new p,S=e.tokenize=function(t,i){var n,s,o,r,a,l,h,d=W[t+" "];if(d)return i?0:d.slice(0);for(a=t,l=[],h=k.preFilter;a;){(!n||(s=he.exec(a)))&&(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),n=!1,(s=de.exec(a))&&(n=s.shift(),o.push({value:n,type:s[0].replace(le," ")}),a=a.slice(n.length));for(r in k.filter)!(s=fe[r].exec(a))||h[r]&&!(s=h[r](s))||(n=s.shift(),o.push({value:n,type:r,matches:s}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):W(t,l).slice(0)},C=e.compile=function(t,e){var i,n=[],s=[],o=q[t+" "];if(!o){for(e||(e=S(t)),i=e.length;i--;)o=b(e[i]),o[H]?n.push(o):s.push(o);o=q(t,y(s,n)),o.selector=t}return o},T=e.select=function(t,e,i,n){var s,o,r,a,l,h="function"==typeof t&&t,p=!n&&S(t=h.selector||t);if(i=i||[],1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&x.getById&&9===e.nodeType&&M&&k.relative[o[1].type]){if(e=(k.find.ID(r.matches[0].replace(xe,ke),e)||[])[0],!e)return i;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(s=fe.needsContext.test(t)?0:o.length;s--&&(r=o[s],!k.relative[a=r.type]);)if((l=k.find[a])&&(n=l(r.matches[0].replace(xe,ke),ye.test(o[0].type)&&d(e.parentNode)||e))){if(o.splice(s,1),t=n.length&&c(o),!t)return J.apply(i,n),i;break}}return(h||C(t,p))(n,e,!M,i,ye.test(t)&&d(e.parentNode)||e),i},x.sortStable=H.split("").sort(X).join("")===H,x.detectDuplicates=!!L,N(),x.sortDetached=s(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);se.find=he,se.expr=he.selectors,se.expr[":"]=se.expr.pseudos,se.unique=he.uniqueSort,se.text=he.getText,se.isXMLDoc=he.isXML,se.contains=he.contains;var de=se.expr.match.needsContext,pe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ce=/^.[^:#\[\.,]*$/;se.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?se.find.matchesSelector(n,t)?[n]:[]:se.find.matches(t,se.grep(e,function(t){return 1===t.nodeType}))},se.fn.extend({find:function(t){var e,i=[],n=this,s=n.length;if("string"!=typeof t)return this.pushStack(se(t).filter(function(){for(e=0;s>e;e++)if(se.contains(n[e],this))return!0}));for(e=0;s>e;e++)se.find(t,n[e],i);return i=this.pushStack(s>1?se.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&de.test(t)?se(t):t||[],!1).length}});var ue,fe=t.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=se.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:me.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||ue).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof se?e[0]:e,se.merge(this,se.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:fe,!0)),pe.test(i[1])&&se.isPlainObject(e))for(i in e)se.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(n=fe.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return ue.find(t);this.length=1,this[0]=n}return this.context=fe,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):se.isFunction(t)?"undefined"!=typeof ue.ready?ue.ready(t):t(se):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),se.makeArray(t,this))};ge.prototype=se.fn,ue=se(fe);var ve=/^(?:parents|prev(?:Until|All))/,be={children:!0,contents:!0,next:!0,prev:!0};se.extend({dir:function(t,e,i){for(var n=[],s=t[e];s&&9!==s.nodeType&&(void 0===i||1!==s.nodeType||!se(s).is(i));)1===s.nodeType&&n.push(s),s=s[e];return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),se.fn.extend({has:function(t){var e,i=se(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(se.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,o=[],r=de.test(t)||"string"!=typeof t?se(t,e||this.context):0;s>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&se.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?se.unique(o):o)},index:function(t){return t?"string"==typeof t?se.inArray(this[0],se(t)):se.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(se.unique(se.merge(this.get(),se(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),se.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return se.dir(t,"parentNode")},parentsUntil:function(t,e,i){return se.dir(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return se.dir(t,"nextSibling")},prevAll:function(t){return se.dir(t,"previousSibling")},nextUntil:function(t,e,i){return se.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return se.dir(t,"previousSibling",i)},siblings:function(t){return se.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return se.sibling(t.firstChild)},contents:function(t){return se.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:se.merge([],t.childNodes)}},function(t,e){se.fn[t]=function(i,n){var s=se.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=se.filter(n,s)),this.length>1&&(be[t]||(s=se.unique(s)),ve.test(t)&&(s=s.reverse())),this.pushStack(s)}});var ye=/\S+/g,we={};se.Callbacks=function(t){t="string"==typeof t?we[t]||o(t):se.extend({},t);var e,i,n,s,r,a,l=[],h=!t.once&&[],d=function(o){for(i=t.memory&&o,n=!0,r=a||0,a=0,s=l.length,e=!0;l&&s>r;r++)if(l[r].apply(o[0],o[1])===!1&&t.stopOnFalse){i=!1;break}e=!1,l&&(h?h.length&&d(h.shift()):i?l=[]:p.disable())},p={add:function(){if(l){var n=l.length;!function o(e){se.each(e,function(e,i){var n=se.type(i);"function"===n?t.unique&&p.has(i)||l.push(i):i&&i.length&&"string"!==n&&o(i)})}(arguments),e?s=l.length:i&&(a=n,d(i))}return this},remove:function(){return l&&se.each(arguments,function(t,i){for(var n;(n=se.inArray(i,l,n))>-1;)l.splice(n,1),e&&(s>=n&&s--,r>=n&&r--)}),this},has:function(t){return t?se.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=h=i=void 0,this},disabled:function(){return!l},lock:function(){return h=void 0,i||p.disable(),this},locked:function(){return!h},fireWith:function(t,i){return!l||n&&!h||(i=i||[],i=[t,i.slice?i.slice():i],e?h.push(i):d(i)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},se.extend({Deferred:function(t){var e=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return se.Deferred(function(i){se.each(e,function(e,o){var r=se.isFunction(t[e])&&t[e];s[o[1]](function(){var t=r&&r.apply(this,arguments);t&&se.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?se.extend(t,n):n}},s={};return n.pipe=n.then,se.each(e,function(t,o){var r=o[2],a=o[3];n[o[1]]=r.add,a&&r.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),s[o[0]]=function(){return s[o[0]+"With"](this===s?n:this,arguments),this},s[o[0]+"With"]=r.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,o=K.call(arguments),r=o.length,a=1!==r||t&&se.isFunction(t.promise)?r:0,l=1===a?t:se.Deferred(),h=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?K.call(arguments):s,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(e=new Array(r),i=new Array(r),n=new Array(r);r>s;s++)o[s]&&se.isFunction(o[s].promise)?o[s].promise().done(h(s,n,o)).fail(l.reject).progress(h(s,i,e)):--a;return a||l.resolveWith(n,o),l.promise()}});var xe;se.fn.ready=function(t){return se.ready.promise().done(t),this},se.extend({isReady:!1,readyWait:1,holdReady:function(t){t?se.readyWait++:se.ready(!0)},ready:function(t){if(t===!0?!--se.readyWait:!se.isReady){if(!fe.body)return setTimeout(se.ready);se.isReady=!0,t!==!0&&--se.readyWait>0||(xe.resolveWith(fe,[se]),se.fn.triggerHandler&&(se(fe).triggerHandler("ready"),se(fe).off("ready")))}}}),se.ready.promise=function(e){if(!xe)if(xe=se.Deferred(),"complete"===fe.readyState)setTimeout(se.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{fe.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var i=!1;try{i=null==t.frameElement&&fe.documentElement}catch(n){}i&&i.doScroll&&!function s(){if(!se.isReady){try{i.doScroll("left")}catch(t){return setTimeout(s,50)}r(),se.ready()}}()}return xe.promise(e)};var ke,Ee="undefined";for(ke in se(ie))break;ie.ownLast="0"!==ke,ie.inlineBlockNeedsLayout=!1,se(function(){var t,e,i,n;i=fe.getElementsByTagName("body")[0],i&&i.style&&(e=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==Ee&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}t=null}(),se.acceptData=function(t){var e=se.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e};var $e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;se.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?se.cache[t[se.expando]]:t[se.expando],!!t&&!h(t)},data:function(t,e,i){return d(t,e,i)},removeData:function(t,e){return p(t,e)},_data:function(t,e,i){return d(t,e,i,!0)},_removeData:function(t,e){return p(t,e,!0)}}),se.fn.extend({data:function(t,e){var i,n,s,o=this[0],r=o&&o.attributes;if(void 0===t){if(this.length&&(s=se.data(o),1===o.nodeType&&!se._data(o,"parsedAttrs"))){for(i=r.length;i--;)r[i]&&(n=r[i].name,0===n.indexOf("data-")&&(n=se.camelCase(n.slice(5)),l(o,n,s[n])));se._data(o,"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){se.data(this,t)}):arguments.length>1?this.each(function(){se.data(this,t,e)}):o?l(o,t,se.data(o,t)):void 0},removeData:function(t){return this.each(function(){se.removeData(this,t)})}}),se.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=se._data(t,e),i&&(!n||se.isArray(i)?n=se._data(t,e,se.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=se.queue(t,e),n=i.length,s=i.shift(),o=se._queueHooks(t,e),r=function(){se.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete o.stop,s.call(t,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return se._data(t,i)||se._data(t,i,{empty:se.Callbacks("once memory").add(function(){se._removeData(t,e+"queue"),se._removeData(t,i)})})}}),se.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?se.queue(this[0],t):void 0===e?this:this.each(function(){var i=se.queue(this,t,e);se._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&se.dequeue(this,t)})},dequeue:function(t){return this.each(function(){se.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=se.Deferred(),o=this,r=this.length,a=function(){--n||s.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)i=se._data(o[r],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(e)}});var Ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],_e=function(t,e){return t=e||t,"none"===se.css(t,"display")||!se.contains(t.ownerDocument,t)},Ie=se.access=function(t,e,i,n,s,o,r){var a=0,l=t.length,h=null==i;if("object"===se.type(i)){s=!0;for(a in i)se.access(t,e,a,i[a],!0,o,r)}else if(void 0!==n&&(s=!0,se.isFunction(n)||(r=!0),h&&(r?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(se(t),i)})),e))for(;l>a;a++)e(t[a],i,r?n:n.call(t[a],a,e(t[a],i)));return s?t:h?e.call(t):l?e(t[0],i):o},Le=/^(?:checkbox|radio)$/i;!function(){var t=fe.createElement("input"),e=fe.createElement("div"),i=fe.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===e.firstChild.nodeType,ie.tbody=!e.getElementsByTagName("tbody").length,ie.htmlSerialize=!!e.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,i.appendChild(t),ie.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,i.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ie.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(n){ie.deleteExpando=!1}}}(),function(){var e,i,n=fe.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ie[e+"Bubbles"]=i in t)||(n.setAttribute(i,"t"),ie[e+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Ne=/^(?:input|select|textarea)$/i,Ae=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,Re=/^([^.]*)(?:\.(.+)|)$/;se.event={global:{},add:function(t,e,i,n,s){var o,r,a,l,h,d,p,c,u,f,m,g=se._data(t);if(g){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=se.guid++),(r=g.events)||(r=g.events={}),(d=g.handle)||(d=g.handle=function(t){return typeof se===Ee||t&&se.event.triggered===t.type?void 0:se.event.dispatch.apply(d.elem,arguments)},d.elem=t),e=(e||"").match(ye)||[""],a=e.length;a--;)o=Re.exec(e[a])||[],u=m=o[1],f=(o[2]||"").split(".").sort(),u&&(h=se.event.special[u]||{},u=(s?h.delegateType:h.bindType)||u,h=se.event.special[u]||{},p=se.extend({type:u,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&se.expr.match.needsContext.test(s),namespace:f.join(".")},l),(c=r[u])||(c=r[u]=[],c.delegateCount=0,h.setup&&h.setup.call(t,n,f,d)!==!1||(t.addEventListener?t.addEventListener(u,d,!1):t.attachEvent&&t.attachEvent("on"+u,d))),h.add&&(h.add.call(t,p),p.handler.guid||(p.handler.guid=i.guid)),s?c.splice(c.delegateCount++,0,p):c.push(p),se.event.global[u]=!0);t=null}},remove:function(t,e,i,n,s){var o,r,a,l,h,d,p,c,u,f,m,g=se.hasData(t)&&se._data(t);if(g&&(d=g.events)){for(e=(e||"").match(ye)||[""],h=e.length;h--;)if(a=Re.exec(e[h])||[],u=m=a[1],f=(a[2]||"").split(".").sort(),u){for(p=se.event.special[u]||{},u=(n?p.delegateType:p.bindType)||u,c=d[u]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=c.length;o--;)r=c[o],!s&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(c.splice(o,1),r.selector&&c.delegateCount--,p.remove&&p.remove.call(t,r));l&&!c.length&&(p.teardown&&p.teardown.call(t,f,g.handle)!==!1||se.removeEvent(t,u,g.handle),delete d[u])}else for(u in d)se.event.remove(t,u+e[h],i,n,!0);se.isEmptyObject(d)&&(delete g.handle,se._removeData(t,"events"))}},trigger:function(e,i,n,s){var o,r,a,l,h,d,p,c=[n||fe],u=ee.call(e,"type")?e.type:e,f=ee.call(e,"namespace")?e.namespace.split("."):[];if(a=d=n=n||fe,3!==n.nodeType&&8!==n.nodeType&&!Me.test(u+se.event.triggered)&&(u.indexOf(".")>=0&&(f=u.split("."),u=f.shift(),f.sort()),r=u.indexOf(":")<0&&"on"+u,e=e[se.expando]?e:new se.Event(u,"object"==typeof e&&e),e.isTrigger=s?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:se.makeArray(i,[e]),h=se.event.special[u]||{},s||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!s&&!h.noBubble&&!se.isWindow(n)){for(l=h.delegateType||u,Me.test(l+u)||(a=a.parentNode);a;a=a.parentNode)c.push(a),d=a;
d===(n.ownerDocument||fe)&&c.push(d.defaultView||d.parentWindow||t)}for(p=0;(a=c[p++])&&!e.isPropagationStopped();)e.type=p>1?l:h.bindType||u,o=(se._data(a,"events")||{})[e.type]&&se._data(a,"handle"),o&&o.apply(a,i),o=r&&a[r],o&&o.apply&&se.acceptData(a)&&(e.result=o.apply(a,i),e.result===!1&&e.preventDefault());if(e.type=u,!s&&!e.isDefaultPrevented()&&(!h._default||h._default.apply(c.pop(),i)===!1)&&se.acceptData(n)&&r&&n[u]&&!se.isWindow(n)){d=n[r],d&&(n[r]=null),se.event.triggered=u;try{n[u]()}catch(m){}se.event.triggered=void 0,d&&(n[r]=d)}return e.result}},dispatch:function(t){t=se.event.fix(t);var e,i,n,s,o,r=[],a=K.call(arguments),l=(se._data(this,"events")||{})[t.type]||[],h=se.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!h.preDispatch||h.preDispatch.call(this,t)!==!1){for(r=se.event.handlers.call(this,t,l),e=0;(s=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,o=0;(n=s.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(n.namespace))&&(t.handleObj=n,t.data=n.data,i=((se.event.special[n.origType]||{}).handle||n.handler).apply(s.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,o,r=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(s=[],o=0;a>o;o++)n=e[o],i=n.selector+" ",void 0===s[i]&&(s[i]=n.needsContext?se(i,this).index(l)>=0:se.find(i,this,null,[l]).length),s[i]&&s.push(n);s.length&&r.push({elem:l,handlers:s})}return a<e.length&&r.push({elem:this,handlers:e.slice(a)}),r},fix:function(t){if(t[se.expando])return t;var e,i,n,s=t.type,o=t,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=De.test(s)?this.mouseHooks:Ae.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new se.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=o.srcElement||fe),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,o=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||fe,s=n.documentElement,i=n.body,t.pageX=e.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return se.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return se.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var s=se.extend(new se.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?se.event.trigger(s,null,e):se.event.dispatch.call(e,s),s.isDefaultPrevented()&&i.preventDefault()}},se.removeEvent=fe.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===Ee&&(t[n]=null),t.detachEvent(n,i))},se.Event=function(t,e){return this instanceof se.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:u):this.type=t,e&&se.extend(this,e),this.timeStamp=t&&t.timeStamp||se.now(),void(this[se.expando]=!0)):new se.Event(t,e)},se.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){se.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,o=t.handleObj;return(!s||s!==n&&!se.contains(n,s))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),ie.submitBubbles||(se.event.special.submit={setup:function(){return se.nodeName(this,"form")?!1:void se.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=se.nodeName(e,"input")||se.nodeName(e,"button")?e.form:void 0;i&&!se._data(i,"submitBubbles")&&(se.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),se._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&se.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return se.nodeName(this,"form")?!1:void se.event.remove(this,"._submit")}}),ie.changeBubbles||(se.event.special.change={setup:function(){return Ne.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(se.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),se.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),se.event.simulate("change",this,t,!0)})),!1):void se.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ne.test(e.nodeName)&&!se._data(e,"changeBubbles")&&(se.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||se.event.simulate("change",this.parentNode,t,!0)}),se._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return se.event.remove(this,"._change"),!Ne.test(this.nodeName)}}),ie.focusinBubbles||se.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){se.event.simulate(e,t.target,se.event.fix(t),!0)};se.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=se._data(n,e);s||n.addEventListener(t,i,!0),se._data(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=se._data(n,e)-1;s?se._data(n,e,s):(n.removeEventListener(t,i,!0),se._removeData(n,e))}}}),se.fn.extend({on:function(t,e,i,n,s){var o,r;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(o in t)this.on(o,e,i,t[o],s);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=u;else if(!n)return this;return 1===s&&(r=n,n=function(t){return se().off(t),r.apply(this,arguments)},n.guid=r.guid||(r.guid=se.guid++)),this.each(function(){se.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,se(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=u),this.each(function(){se.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){se.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?se.event.trigger(t,e,i,!0):void 0}});var Oe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Be=/ jQuery\d+="(?:null|\d+)"/g,Pe=new RegExp("<(?:"+Oe+")[\\s/>]","i"),He=/^\s+/,je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fe=/<([\w:]+)/,ze=/<tbody/i,Ue=/<|&#?\w+;/,We=/<(?:script|style|link)/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Xe=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=m(fe),Ge=Qe.appendChild(fe.createElement("div"));Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td,se.extend({clone:function(t,e,i){var n,s,o,r,a,l=se.contains(t.ownerDocument,t);if(ie.html5Clone||se.isXMLDoc(t)||!Pe.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Ge.innerHTML=t.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||se.isXMLDoc(t)))for(n=g(o),a=g(t),r=0;null!=(s=a[r]);++r)n[r]&&E(s,n[r]);if(e)if(i)for(a=a||g(t),n=n||g(o),r=0;null!=(s=a[r]);r++)k(s,n[r]);else k(t,o);return n=g(o,"script"),n.length>0&&x(n,!l&&g(t,"script")),n=a=s=null,o},buildFragment:function(t,e,i,n){for(var s,o,r,a,l,h,d,p=t.length,c=m(e),u=[],f=0;p>f;f++)if(o=t[f],o||0===o)if("object"===se.type(o))se.merge(u,o.nodeType?[o]:o);else if(Ue.test(o)){for(a=a||c.appendChild(e.createElement("div")),l=(Fe.exec(o)||["",""])[1].toLowerCase(),d=Ke[l]||Ke._default,a.innerHTML=d[1]+o.replace(je,"<$1></$2>")+d[2],s=d[0];s--;)a=a.lastChild;if(!ie.leadingWhitespace&&He.test(o)&&u.push(e.createTextNode(He.exec(o)[0])),!ie.tbody)for(o="table"!==l||ze.test(o)?"<table>"!==d[1]||ze.test(o)?0:a:a.firstChild,s=o&&o.childNodes.length;s--;)se.nodeName(h=o.childNodes[s],"tbody")&&!h.childNodes.length&&o.removeChild(h);for(se.merge(u,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=c.lastChild}else u.push(e.createTextNode(o));for(a&&c.removeChild(a),ie.appendChecked||se.grep(g(u,"input"),v),f=0;o=u[f++];)if((!n||-1===se.inArray(o,n))&&(r=se.contains(o.ownerDocument,o),a=g(c.appendChild(o),"script"),r&&x(a),i))for(s=0;o=a[s++];)Xe.test(o.type||"")&&i.push(o);return a=null,c},cleanData:function(t,e){for(var i,n,s,o,r=0,a=se.expando,l=se.cache,h=ie.deleteExpando,d=se.event.special;null!=(i=t[r]);r++)if((e||se.acceptData(i))&&(s=i[a],o=s&&l[s])){if(o.events)for(n in o.events)d[n]?se.event.remove(i,n):se.removeEvent(i,n,o.handle);l[s]&&(delete l[s],h?delete i[a]:typeof i.removeAttribute!==Ee?i.removeAttribute(a):i[a]=null,Y.push(s))}}}),se.fn.extend({text:function(t){return Ie(this,function(t){return void 0===t?se.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?se.filter(t,this):this,s=0;null!=(i=n[s]);s++)e||1!==i.nodeType||se.cleanData(g(i)),i.parentNode&&(e&&se.contains(i.ownerDocument,i)&&x(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&se.cleanData(g(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&se.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return se.clone(this,t,e)})},html:function(t){return Ie(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Be,""):void 0;if(!("string"!=typeof t||We.test(t)||!ie.htmlSerialize&&Pe.test(t)||!ie.leadingWhitespace&&He.test(t)||Ke[(Fe.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(je,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(se.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(s){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,se.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Q.apply([],t);var i,n,s,o,r,a,l=0,h=this.length,d=this,p=h-1,c=t[0],u=se.isFunction(c);if(u||h>1&&"string"==typeof c&&!ie.checkClone&&qe.test(c))return this.each(function(i){var n=d.eq(i);u&&(t[0]=c.call(this,i,n.html())),n.domManip(t,e)});if(h&&(a=se.buildFragment(t,this[0].ownerDocument,!1,this),i=a.firstChild,1===a.childNodes.length&&(a=i),i)){for(o=se.map(g(a,"script"),y),s=o.length;h>l;l++)n=a,l!==p&&(n=se.clone(n,!0,!0),s&&se.merge(o,g(n,"script"))),e.call(this[l],n,l);if(s)for(r=o[o.length-1].ownerDocument,se.map(o,w),l=0;s>l;l++)n=o[l],Xe.test(n.type||"")&&!se._data(n,"globalEval")&&se.contains(r,n)&&(n.src?se._evalUrl&&se._evalUrl(n.src):se.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Ye,"")));a=i=null}return this}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){se.fn[t]=function(t){for(var i,n=0,s=[],o=se(t),r=o.length-1;r>=n;n++)i=n===r?this:this.clone(!0),se(o[n])[e](i),G.apply(s,i.get());return this.pushStack(s)}});var Je,Ze={};!function(){var t;ie.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=fe.getElementsByTagName("body")[0],i&&i.style?(e=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==Ee&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(fe.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var ti,ei,ii=/^margin/,ni=new RegExp("^("+Ce+")(?!px)[a-z%]+$","i"),si=/^(top|right|bottom|left)$/;t.getComputedStyle?(ti=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)},ei=function(t,e,i){var n,s,o,r,a=t.style;return i=i||ti(t),r=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==r||se.contains(t.ownerDocument,t)||(r=se.style(t,e)),ni.test(r)&&ii.test(e)&&(n=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=s,a.maxWidth=o)),void 0===r?r:r+""}):fe.documentElement.currentStyle&&(ti=function(t){return t.currentStyle},ei=function(t,e,i){var n,s,o,r,a=t.style;return i=i||ti(t),r=i?i[e]:void 0,null==r&&a&&a[e]&&(r=a[e]),ni.test(r)&&!si.test(e)&&(n=a.left,s=t.runtimeStyle,o=s&&s.left,o&&(s.left=t.currentStyle.left),a.left="fontSize"===e?"1em":r,r=a.pixelLeft+"px",a.left=n,o&&(s.left=o)),void 0===r?r:r+""||"auto"}),function(){function e(){var e,i,n,s;i=fe.getElementsByTagName("body")[0],i&&i.style&&(e=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=r=!1,l=!0,t.getComputedStyle&&(o="1%"!==(t.getComputedStyle(e,null)||{}).top,r="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,s=e.appendChild(fe.createElement("div")),s.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",s.style.marginRight=s.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(s,null)||{}).marginRight),e.removeChild(s)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=e.getElementsByTagName("td"),s[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===s[0].offsetHeight,a&&(s[0].style.display="",s[1].style.display="none",a=0===s[0].offsetHeight),i.removeChild(n))}var i,n,s,o,r,a,l;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",s=i.getElementsByTagName("a")[0],n=s&&s.style,n&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,se.extend(ie,{reliableHiddenOffsets:function(){return null==a&&e(),a},boxSizingReliable:function(){return null==r&&e(),r},pixelPosition:function(){return null==o&&e(),o},reliableMarginRight:function(){return null==l&&e(),l}}))}(),se.swap=function(t,e,i,n){var s,o,r={};for(o in e)r[o]=t.style[o],t.style[o]=e[o];s=i.apply(t,n||[]);for(o in e)t.style[o]=r[o];return s};var oi=/alpha\([^)]*\)/i,ri=/opacity\s*=\s*([^)]*)/,ai=/^(none|table(?!-c[ea]).+)/,li=new RegExp("^("+Ce+")(.*)$","i"),hi=new RegExp("^([+-])=("+Ce+")","i"),di={position:"absolute",visibility:"hidden",display:"block"},pi={letterSpacing:"0",fontWeight:"400"},ci=["Webkit","O","Moz","ms"];se.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ei(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,o,r,a=se.camelCase(e),l=t.style;if(e=se.cssProps[a]||(se.cssProps[a]=T(l,a)),r=se.cssHooks[e]||se.cssHooks[a],void 0===i)return r&&"get"in r&&void 0!==(s=r.get(t,!1,n))?s:l[e];if(o=typeof i,"string"===o&&(s=hi.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(se.css(t,e)),o="number"),null!=i&&i===i&&("number"!==o||se.cssNumber[a]||(i+="px"),ie.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(r&&"set"in r&&void 0===(i=r.set(t,i,n)))))try{l[e]=i}catch(h){}}},css:function(t,e,i,n){var s,o,r,a=se.camelCase(e);return e=se.cssProps[a]||(se.cssProps[a]=T(t.style,a)),r=se.cssHooks[e]||se.cssHooks[a],r&&"get"in r&&(o=r.get(t,!0,i)),void 0===o&&(o=ei(t,e,n)),"normal"===o&&e in pi&&(o=pi[e]),""===i||i?(s=parseFloat(o),i===!0||se.isNumeric(s)?s||0:o):o}}),se.each(["height","width"],function(t,e){se.cssHooks[e]={get:function(t,i,n){return i?ai.test(se.css(t,"display"))&&0===t.offsetWidth?se.swap(t,di,function(){return N(t,e,n)}):N(t,e,n):void 0},set:function(t,i,n){var s=n&&ti(t);return I(t,i,n?L(t,e,n,ie.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,s),s):0)}}}),ie.opacity||(se.cssHooks.opacity={get:function(t,e){return ri.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=se.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===se.trim(o.replace(oi,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=oi.test(o)?o.replace(oi,s):o+" "+s)}}),se.cssHooks.marginRight=C(ie.reliableMarginRight,function(t,e){return e?se.swap(t,{display:"inline-block"},ei,[t,"marginRight"]):void 0}),se.each({margin:"",padding:"",border:"Width"},function(t,e){se.cssHooks[t+e]={expand:function(i){for(var n=0,s={},o="string"==typeof i?i.split(" "):[i];4>n;n++)s[t+Te[n]+e]=o[n]||o[n-2]||o[0];return s}},ii.test(t)||(se.cssHooks[t+e].set=I)}),se.fn.extend({css:function(t,e){return Ie(this,function(t,e,i){var n,s,o={},r=0;if(se.isArray(e)){for(n=ti(t),s=e.length;s>r;r++)o[e[r]]=se.css(t,e[r],!1,n);return o}return void 0!==i?se.style(t,e,i):se.css(t,e)},t,e,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){_e(this)?se(this).show():se(this).hide()})}}),se.Tween=A,A.prototype={constructor:A,init:function(t,e,i,n,s,o){this.elem=t,this.prop=i,this.easing=s||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(se.cssNumber[i]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,i=A.propHooks[this.prop];return this.pos=e=this.options.duration?se.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=se.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){se.fx.step[t.prop]?se.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[se.cssProps[t.prop]]||se.cssHooks[t.prop])?se.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},se.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},se.fx=A.prototype.init,se.fx.step={};var ui,fi,mi=/^(?:toggle|show|hide)$/,gi=new RegExp("^(?:([+-])=|)("+Ce+")([a-z%]*)$","i"),vi=/queueHooks$/,bi=[O],yi={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),s=gi.exec(e),o=s&&s[3]||(se.cssNumber[t]?"":"px"),r=(se.cssNumber[t]||"px"!==o&&+n)&&gi.exec(se.css(i.elem,t)),a=1,l=20;if(r&&r[3]!==o){o=o||r[3],s=s||[],r=+n||1;do a=a||".5",r/=a,se.style(i.elem,t,r+o);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return s&&(r=i.start=+r||+n||0,i.unit=o,i.end=s[1]?r+(s[1]+1)*s[2]:+s[2]),i}]};se.Animation=se.extend(P,{tweener:function(t,e){se.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,s=t.length;s>n;n++)i=t[n],yi[i]=yi[i]||[],yi[i].unshift(e)},prefilter:function(t,e){e?bi.unshift(t):bi.push(t)}}),se.speed=function(t,e,i){var n=t&&"object"==typeof t?se.extend({},t):{complete:i||!i&&e||se.isFunction(t)&&t,duration:t,easing:i&&e||e&&!se.isFunction(e)&&e};return n.duration=se.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in se.fx.speeds?se.fx.speeds[n.duration]:se.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){se.isFunction(n.old)&&n.old.call(this),n.queue&&se.dequeue(this,n.queue)},n},se.fn.extend({fadeTo:function(t,e,i,n){return this.filter(_e).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=se.isEmptyObject(t),o=se.speed(e,i,n),r=function(){var e=P(this,se.extend({},t),o);(s||se._data(this,"finish"))&&e.stop(!0)};return r.finish=r,s||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",o=se.timers,r=se._data(this);if(s)r[s]&&r[s].stop&&n(r[s]);else for(s in r)r[s]&&r[s].stop&&vi.test(s)&&n(r[s]);for(s=o.length;s--;)o[s].elem!==this||null!=t&&o[s].queue!==t||(o[s].anim.stop(i),e=!1,o.splice(s,1));(e||!i)&&se.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=se._data(this),n=i[t+"queue"],s=i[t+"queueHooks"],o=se.timers,r=n?n.length:0;for(i.finish=!0,se.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;r>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),se.each(["toggle","show","hide"],function(t,e){var i=se.fn[e];se.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(M(e,!0),t,n,s)}}),se.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){se.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),se.timers=[],se.fx.tick=function(){var t,e=se.timers,i=0;for(ui=se.now();i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||se.fx.stop(),ui=void 0},se.fx.timer=function(t){se.timers.push(t),t()?se.fx.start():se.timers.pop()},se.fx.interval=13,se.fx.start=function(){fi||(fi=setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){clearInterval(fi),fi=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fn.delay=function(t,e){return t=se.fx?se.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t,e,i,n,s;e=fe.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("a")[0],i=fe.createElement("select"),s=i.appendChild(fe.createElement("option")),t=e.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==e.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!t.value,ie.optSelected=s.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!s.disabled,t=fe.createElement("input"),t.setAttribute("value",""),ie.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ie.radioValue="t"===t.value}();var wi=/\r/g;se.fn.extend({val:function(t){var e,i,n,s=this[0];{if(arguments.length)return n=se.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=n?t.call(this,i,se(this).val()):t,null==s?s="":"number"==typeof s?s+="":se.isArray(s)&&(s=se.map(s,function(t){return null==t?"":t+""})),e=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))});if(s)return e=se.valHooks[s.type]||se.valHooks[s.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(wi,""):null==i?"":i)}}}),se.extend({valHooks:{option:{get:function(t){var e=se.find.attr(t,"value");return null!=e?e:se.trim(se.text(t))}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,o="select-one"===t.type||0>s,r=o?null:[],a=o?s+1:n.length,l=0>s?a:o?s:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==s||(ie.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&se.nodeName(i.parentNode,"optgroup"))){if(e=se(i).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var i,n,s=t.options,o=se.makeArray(e),r=s.length;r--;)if(n=s[r],se.inArray(se.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),s}}}}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(t,e){return se.isArray(e)?t.checked=se.inArray(se(t).val(),e)>=0:void 0}},ie.checkOn||(se.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var xi,ki,Ei=se.expr.attrHandle,$i=/^(?:checked|selected)$/i,Si=ie.getSetAttribute,Ci=ie.input;se.fn.extend({attr:function(t,e){return Ie(this,se.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){se.removeAttr(this,t)})}}),se.extend({attr:function(t,e,i){var n,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ee?se.prop(t,e,i):(1===o&&se.isXMLDoc(t)||(e=e.toLowerCase(),n=se.attrHooks[e]||(se.expr.match.bool.test(e)?ki:xi)),void 0===i?n&&"get"in n&&null!==(s=n.get(t,e))?s:(s=se.find.attr(t,e),null==s?void 0:s):null!==i?n&&"set"in n&&void 0!==(s=n.set(t,i,e))?s:(t.setAttribute(e,i+""),i):void se.removeAttr(t,e))},removeAttr:function(t,e){var i,n,s=0,o=e&&e.match(ye);if(o&&1===t.nodeType)for(;i=o[s++];)n=se.propFix[i]||i,se.expr.match.bool.test(i)?Ci&&Si||!$i.test(i)?t[n]=!1:t[se.camelCase("default-"+i)]=t[n]=!1:se.attr(t,i,""),t.removeAttribute(Si?i:n)},attrHooks:{type:{set:function(t,e){if(!ie.radioValue&&"radio"===e&&se.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),ki={set:function(t,e,i){return e===!1?se.removeAttr(t,i):Ci&&Si||!$i.test(i)?t.setAttribute(!Si&&se.propFix[i]||i,i):t[se.camelCase("default-"+i)]=t[i]=!0,i}},se.each(se.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Ei[e]||se.find.attr;Ei[e]=Ci&&Si||!$i.test(e)?function(t,e,n){var s,o;return n||(o=Ei[e],Ei[e]=s,s=null!=i(t,e,n)?e.toLowerCase():null,Ei[e]=o),s}:function(t,e,i){return i?void 0:t[se.camelCase("default-"+e)]?e.toLowerCase():null}}),Ci&&Si||(se.attrHooks.value={set:function(t,e,i){return se.nodeName(t,"input")?void(t.defaultValue=e):xi&&xi.set(t,e,i)}}),Si||(xi={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Ei.id=Ei.name=Ei.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},se.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:xi.set},se.attrHooks.contenteditable={set:function(t,e,i){xi.set(t,""===e?!1:e,i)}},se.each(["width","height"],function(t,e){se.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ie.style||(se.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ti=/^(?:input|select|textarea|button|object)$/i,_i=/^(?:a|area)$/i;se.fn.extend({prop:function(t,e){return Ie(this,se.prop,t,e,arguments.length>1)},removeProp:function(t){return t=se.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),se.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,s,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return o=1!==r||!se.isXMLDoc(t),o&&(e=se.propFix[e]||e,s=se.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=se.find.attr(t,"tabindex");return e?parseInt(e,10):Ti.test(t.nodeName)||_i.test(t.nodeName)&&t.href?0:-1}}}}),ie.hrefNormalized||se.each(["href","src"],function(t,e){se.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ie.optSelected||(se.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this}),ie.enctype||(se.propFix.enctype="encoding");var Ii=/[\t\r\n\f]/g;se.fn.extend({addClass:function(t){var e,i,n,s,o,r,a=0,l=this.length,h="string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).addClass(t.call(this,e,this.className))});if(h)for(e=(t||"").match(ye)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ii," "):" ")){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r=se.trim(n),i.className!==r&&(i.className=r)}return this},removeClass:function(t){var e,i,n,s,o,r,a=0,l=this.length,h=0===arguments.length||"string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).removeClass(t.call(this,e,this.className))});if(h)for(e=(t||"").match(ye)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ii," "):"")){for(o=0;s=e[o++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");r=t?se.trim(n):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(se.isFunction(t)?function(i){se(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,s=se(this),o=t.match(ye)||[];e=o[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);
else(i===Ee||"boolean"===i)&&(this.className&&se._data(this,"__className__",this.className),this.className=this.className||t===!1?"":se._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ii," ").indexOf(e)>=0)return!0;return!1}}),se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){se.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),se.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Li=se.now(),Ni=/\?/,Ai=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;se.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,s=se.trim(e+"");return s&&!se.trim(s.replace(Ai,function(t,e,s,o){return i&&e&&(n=0),0===n?t:(i=s||e,n+=!o-!s,"")}))?Function("return "+s)():se.error("Invalid JSON: "+e)},se.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new DOMParser,i=n.parseFromString(e,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(s){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||se.error("Invalid XML: "+e),i};var Di,Mi,Ri=/#.*$/,Oi=/([?&])_=[^&]*/,Bi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hi=/^(?:GET|HEAD)$/,ji=/^\/\//,Fi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zi={},Ui={},Wi="*/".concat("*");try{Mi=location.href}catch(qi){Mi=fe.createElement("a"),Mi.href="",Mi=Mi.href}Di=Fi.exec(Mi.toLowerCase())||[],se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mi,type:"GET",isLocal:Pi.test(Di[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wi,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?F(F(t,se.ajaxSettings),e):F(se.ajaxSettings,t)},ajaxPrefilter:H(zi),ajaxTransport:H(Ui),ajax:function(t,e){function i(t,e,i,n){var s,d,v,b,w,k=e;2!==y&&(y=2,a&&clearTimeout(a),h=void 0,r=n||"",x.readyState=t>0?4:0,s=t>=200&&300>t||304===t,i&&(b=z(p,x,i)),b=U(p,b,x,s),s?(p.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(se.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(se.etag[o]=w)),204===t||"HEAD"===p.type?k="nocontent":304===t?k="notmodified":(k=b.state,d=b.data,v=b.error,s=!v)):(v=k,(t||!k)&&(k="error",0>t&&(t=0))),x.status=t,x.statusText=(e||k)+"",s?f.resolveWith(c,[d,k,x]):f.rejectWith(c,[x,k,v]),x.statusCode(g),g=void 0,l&&u.trigger(s?"ajaxSuccess":"ajaxError",[x,p,s?d:v]),m.fireWith(c,[x,k]),l&&(u.trigger("ajaxComplete",[x,p]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,s,o,r,a,l,h,d,p=se.ajaxSetup({},e),c=p.context||p,u=p.context&&(c.nodeType||c.jquery)?se(c):se.event,f=se.Deferred(),m=se.Callbacks("once memory"),g=p.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!d)for(d={};e=Bi.exec(r);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return y||(t=b[i]=b[i]||t,v[t]=e),this},overrideMimeType:function(t){return y||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)g[e]=[g[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return h&&h.abort(e),i(0,e),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,p.url=((t||p.url||Mi)+"").replace(Ri,"").replace(ji,Di[1]+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=se.trim(p.dataType||"*").toLowerCase().match(ye)||[""],null==p.crossDomain&&(n=Fi.exec(p.url.toLowerCase()),p.crossDomain=!(!n||n[1]===Di[1]&&n[2]===Di[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Di[3]||("http:"===Di[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=se.param(p.data,p.traditional)),j(zi,p,e,x),2===y)return x;l=se.event&&p.global,l&&0===se.active++&&se.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Hi.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Ni.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Oi.test(o)?o.replace(Oi,"$1_="+Li++):o+(Ni.test(o)?"&":"?")+"_="+Li++)),p.ifModified&&(se.lastModified[o]&&x.setRequestHeader("If-Modified-Since",se.lastModified[o]),se.etag[o]&&x.setRequestHeader("If-None-Match",se.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Wi+"; q=0.01":""):p.accepts["*"]);for(s in p.headers)x.setRequestHeader(s,p.headers[s]);if(p.beforeSend&&(p.beforeSend.call(c,x,p)===!1||2===y))return x.abort();w="abort";for(s in{success:1,error:1,complete:1})x[s](p[s]);if(h=j(Ui,p,e,x)){x.readyState=1,l&&u.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},p.timeout));try{y=1,h.send(v,i)}catch(k){if(!(2>y))throw k;i(-1,k)}}else i(-1,"No Transport");return x},getJSON:function(t,e,i){return se.get(t,e,i,"json")},getScript:function(t,e){return se.get(t,void 0,e,"script")}}),se.each(["get","post"],function(t,e){se[e]=function(t,i,n,s){return se.isFunction(i)&&(s=s||n,n=i,i=void 0),se.ajax({url:t,type:e,dataType:s,data:i,success:n})}}),se._evalUrl=function(t){return se.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},se.fn.extend({wrapAll:function(t){if(se.isFunction(t))return this.each(function(e){se(this).wrapAll(t.call(this,e))});if(this[0]){var e=se(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(se.isFunction(t)?function(e){se(this).wrapInner(t.call(this,e))}:function(){var e=se(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=se.isFunction(t);return this.each(function(i){se(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}}),se.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||se.css(t,"display"))},se.expr.filters.visible=function(t){return!se.expr.filters.hidden(t)};var Xi=/%20/g,Vi=/\[\]$/,Yi=/\r?\n/g,Ki=/^(?:submit|button|image|reset|file)$/i,Qi=/^(?:input|select|textarea|keygen)/i;se.param=function(t,e){var i,n=[],s=function(t,e){e=se.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(t)||t.jquery&&!se.isPlainObject(t))se.each(t,function(){s(this.name,this.value)});else for(i in t)W(i,t[i],e,s);return n.join("&").replace(Xi,"+")},se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=se.prop(this,"elements");return t?se.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!se(this).is(":disabled")&&Qi.test(this.nodeName)&&!Ki.test(t)&&(this.checked||!Le.test(t))}).map(function(t,e){var i=se(this).val();return null==i?null:se.isArray(i)?se.map(i,function(t){return{name:e.name,value:t.replace(Yi,"\r\n")}}):{name:e.name,value:i.replace(Yi,"\r\n")}}).get()}}),se.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||X()}:q;var Gi=0,Ji={},Zi=se.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ji)Ji[t](void 0,!0)}),ie.cors=!!Zi&&"withCredentials"in Zi,Zi=ie.ajax=!!Zi,Zi&&se.ajaxTransport(function(t){if(!t.crossDomain||ie.cors){var e;return{send:function(i,n){var s,o=t.xhr(),r=++Gi;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)o[s]=t.xhrFields[s];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)void 0!==i[s]&&o.setRequestHeader(s,i[s]+"");o.send(t.hasContent&&t.data||null),e=function(i,s){var a,l,h;if(e&&(s||4===o.readyState))if(delete Ji[r],e=void 0,o.onreadystatechange=se.noop,s)4!==o.readyState&&o.abort();else{h={},a=o.status,"string"==typeof o.responseText&&(h.text=o.responseText);try{l=o.statusText}catch(d){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=h.text?200:404}h&&n(a,l,h,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=Ji[r]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return se.globalEval(t),t}}}),se.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),se.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=fe.head||se("head")[0]||fe.documentElement;return{send:function(n,s){e=fe.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||s(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||se.expando+"_"+Li++;return this[t]=!0,t}}),se.ajaxPrefilter("json jsonp",function(e,i,n){var s,o,r,a=e.jsonp!==!1&&(en.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(s=e.jsonpCallback=se.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(en,"$1"+s):e.jsonp!==!1&&(e.url+=(Ni.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return r||se.error(s+" was not called"),r[0]},e.dataTypes[0]="json",o=t[s],t[s]=function(){r=arguments},n.always(function(){t[s]=o,e[s]&&(e.jsonpCallback=i.jsonpCallback,tn.push(s)),r&&se.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),se.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||fe;var n=pe.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=se.buildFragment([t],e,s),s&&s.length&&se(s).remove(),se.merge([],n.childNodes))};var nn=se.fn.load;se.fn.load=function(t,e,i){if("string"!=typeof t&&nn)return nn.apply(this,arguments);var n,s,o,r=this,a=t.indexOf(" ");return a>=0&&(n=se.trim(t.slice(a,t.length)),t=t.slice(0,a)),se.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&se.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){s=arguments,r.html(n?se("<div>").append(se.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){r.each(i,s||[t.responseText,e,t])}),this},se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){se.fn[e]=function(t){return this.on(e,t)}}),se.expr.filters.animated=function(t){return se.grep(se.timers,function(e){return t===e.elem}).length};var sn=t.document.documentElement;se.offset={setOffset:function(t,e,i){var n,s,o,r,a,l,h,d=se.css(t,"position"),p=se(t),c={};"static"===d&&(t.style.position="relative"),a=p.offset(),o=se.css(t,"top"),l=se.css(t,"left"),h=("absolute"===d||"fixed"===d)&&se.inArray("auto",[o,l])>-1,h?(n=p.position(),r=n.top,s=n.left):(r=parseFloat(o)||0,s=parseFloat(l)||0),se.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(c.top=e.top-a.top+r),null!=e.left&&(c.left=e.left-a.left+s),"using"in e?e.using.call(t,c):p.css(c)}},se.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){se.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},s=this[0],o=s&&s.ownerDocument;if(o)return e=o.documentElement,se.contains(e,s)?(typeof s.getBoundingClientRect!==Ee&&(n=s.getBoundingClientRect()),i=V(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===se.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),se.nodeName(t[0],"html")||(i=t.offset()),i.top+=se.css(t[0],"borderTopWidth",!0),i.left+=se.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-se.css(n,"marginTop",!0),left:e.left-i.left-se.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||sn;t&&!se.nodeName(t,"html")&&"static"===se.css(t,"position");)t=t.offsetParent;return t||sn})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);se.fn[t]=function(n){return Ie(this,function(t,n,s){var o=V(t);return void 0===s?o?e in o?o[e]:o.document.documentElement[n]:t[n]:void(o?o.scrollTo(i?se(o).scrollLeft():s,i?s:se(o).scrollTop()):t[n]=s)},t,n,arguments.length,null)}}),se.each(["top","left"],function(t,e){se.cssHooks[e]=C(ie.pixelPosition,function(t,i){return i?(i=ei(t,e),ni.test(i)?se(t).position()[e]+"px":i):void 0})}),se.each({Height:"height",Width:"width"},function(t,e){se.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){se.fn[n]=function(n,s){var o=arguments.length&&(i||"boolean"!=typeof n),r=i||(n===!0||s===!0?"margin":"border");return Ie(this,function(e,i,n){var s;return se.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===n?se.css(e,i,r):se.style(e,i,n,r)},e,o?n:void 0,o,null)}})}),se.fn.size=function(){return this.length},se.fn.andSelf=se.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return se});var on=t.jQuery,rn=t.$;return se.noConflict=function(e){return t.$===se&&(t.$=rn),e&&t.jQuery===se&&(t.jQuery=on),se},typeof e===Ee&&(t.jQuery=t.$=se),se}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)},fire:function(e,i,n){var s=t.Event(i);return e.trigger(s,n),s.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var s,o,r,a,l,h,d,p;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===e?null:a,h=n.data("with-credentials")||null,d=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){s=n.attr("method"),o=n.attr("action"),r=n.serializeArray();var c=n.data("ujs:submit-button");c&&(r.push(c),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(s=n.data("method"),o=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(s=n.data("method")||"get",o=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):(s=n.data("method"),o=i.href(n),r=n.data("params")||null);return p={type:s||"GET",data:r,dataType:d,beforeSend:function(t,s){return s.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),i.fire(n,"ajax:beforeSend",[t,s])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},h&&(p.xhrFields={withCredentials:h}),o&&(p.url=o),i.ajax(p)}return!1},handleMethod:function(n){var s=i.href(n),o=n.data("method"),r=n.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),h=t('<form method="post" action="'+s+'"></form>'),d='<input name="_method" value="'+o+'" type="hidden" />';l!==e&&a!==e&&(d+='<input name="'+l+'" value="'+a+'" type="hidden" />'),r&&h.attr("target",r),h.hide().append(d).appendTo("body"),h.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),t.data("ujs:enable-with",t[i]()),n!==e&&t[i](n),t.prop("disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,n=t.data("confirm"),s=!1;return n?(i.fire(t,"confirm")&&(s=i.confirm(n),e=i.fire(t,"confirm:complete",[s])),s&&e):!0},blankInputs:function(e,i,n){var s,o,r=t(),a=i||"input,textarea",l=e.find(a);return l.each(function(){if(s=t(this),o=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val(),!o==!n){if(s.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;r=r.add(s)}}),r.length?r:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");t.data("ujs:enable-with",t.html()),n!==e&&t.html(n),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableElement(e)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var s=t(this),o=s.data("method"),r=s.data("params"),a=n.metaKey||n.ctrlKey;if(!i.allowAction(s))return i.stopEverything(n);if(!a&&s.is(i.linkDisableSelector)&&i.disableElement(s),s.data("remote")!==e){if(a&&(!o||"GET"===o)&&!r)return!0;var l=i.handleRemote(s);return l===!1?i.enableElement(s):l.fail(function(){i.enableElement(s)}),!1}return o?(i.handleMethod(s),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var s=i.handleRemote(n);return s===!1?i.enableFormElement(n):s.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var s,o,r=t(this),a=r.data("remote")!==e;if(!i.allowAction(r))return i.stopEverything(n);if(r.attr("novalidate")==e&&(s=i.blankInputs(r,i.requiredInputSelector),s&&i.fire(r,"ajax:aborted:required",[s])))return i.stopEverything(n);if(a){if(o=i.nonBlankInputs(r,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[o]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return i.handleRemote(r),!1}setTimeout(function(){i.disableFormElements(r)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var s=n.attr("name"),o=s?{name:s,value:n.val()}:null;n.closest("form").data("ujs:submit-button",o)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e="ui-effects-",i=t;/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
return t.effects={effect:{}},function(t,e){function i(t,e,i){var n=p[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=h(),n=i._rgba=[];return e=e.toLowerCase(),f(l,function(t,s){var o,r=s.re.exec(e),a=r&&s.parse(r),l=s.space||"rgba";return a?(o=i[l](a),i[d[l].cache]=o[d[l].cache],n=i._rgba=o._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),i):o[e]}function s(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var o,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},p={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=h.support={},u=t("<p>")[0],f=t.each;u.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=u.style.backgroundColor.indexOf("rgba")>-1,f(d,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(s,r,a,l){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(r),r=e);var p=this,c=t.type(s),u=this._rgba=[];return r!==e&&(s=[s,r,a,l],c="array"),"string"===c?this.parse(n(s)||o._default):"array"===c?(f(d.rgba.props,function(t,e){u[e.idx]=i(s[e.idx],e)}),this):"object"===c?(s instanceof h?f(d,function(t,e){s[e.cache]&&(p[e.cache]=s[e.cache].slice())}):f(d,function(e,n){var o=n.cache;f(n.props,function(t,e){if(!p[o]&&n.to){if("alpha"===t||null==s[t])return;p[o]=n.to(p._rgba)}p[o][e.idx]=i(s[t],e,!0)}),p[o]&&t.inArray(null,p[o].slice(0,3))<0&&(p[o][3]=1,n.from&&(p._rgba=n.from(p[o])))}),this):void 0},is:function(t){var e=h(t),i=!0,n=this;return f(d,function(t,s){var o,r=e[s.cache];return r&&(o=n[s.cache]||s.to&&s.to(n._rgba)||[],f(s.props,function(t,e){return null!=r[e.idx]?i=r[e.idx]===o[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return f(d,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=h(t),s=n._space(),o=d[s],r=0===this.alpha()?h("transparent"):this,a=r[o.cache]||o.to(r._rgba),l=a.slice();return n=n[o.cache],f(o.props,function(t,s){var o=s.idx,r=a[o],h=n[o],d=p[s.type]||{};null!==h&&(null===r?l[o]=h:(d.mod&&(h-r>d.mod/2?r+=d.mod:r-h>d.mod/2&&(r-=d.mod)),l[o]=i((h-r)*e+r,s)))}),this[s](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=h(e)._rgba;return h(t.map(i,function(t,e){return(1-n)*s[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,d.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,s=t[1]/255,o=t[2]/255,r=t[3],a=Math.max(n,s,o),l=Math.min(n,s,o),h=a-l,d=a+l,p=.5*d;return e=l===a?0:n===a?60*(s-o)/h+360:s===a?60*(o-n)/h+120:60*(n-s)/h+240,i=0===h?0:.5>=p?h/d:h/(2-d),[Math.round(e)%360,i,p,null==r?1:r]},d.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],r=.5>=n?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(255*s(a,r,e+1/3)),Math.round(255*s(a,r,e)),Math.round(255*s(a,r,e-1/3)),o]},f(d,function(n,s){var o=s.props,r=s.cache,l=s.to,d=s.from;h.fn[n]=function(n){if(l&&!this[r]&&(this[r]=l(this._rgba)),n===e)return this[r].slice();var s,a=t.type(n),p="array"===a||"object"===a?n:arguments,c=this[r].slice();return f(o,function(t,e){var n=p["object"===a?t:e.idx];null==n&&(n=c[e.idx]),c[e.idx]=i(n,e)}),d?(s=h(d(c)),s[r]=c,s):h(c)},f(o,function(e,i){h.fn[e]||(h.fn[e]=function(s){var o,r=t.type(s),l="alpha"===e?this._hsla?"hsla":"rgba":n,h=this[l](),d=h[i.idx];return"undefined"===r?d:("function"===r&&(s=s.call(this,d),r=t.type(s)),null==s&&i.empty?this:("string"===r&&(o=a.exec(s),o&&(s=d+parseFloat(o[2])*("+"===o[1]?1:-1))),h[i.idx]=s,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,s){var o,r,a="";if("transparent"!==s&&("string"!==t.type(s)||(o=n(s)))){if(s=h(o||s),!c.rgba&&1!==s._rgba[3]){for(r="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&r&&r.style;)try{a=t.css(r,"backgroundColor"),r=r.parentNode}catch(l){}s=s.blend(a&&"transparent"!==a?a:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(r),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function e(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(o[t.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(o[i]=s[i]);return o}function n(e,i){var n,s,r={};for(n in i)s=i[n],e[n]!==s&&(o[n]||(t.fx.step[n]||!isNaN(parseFloat(s)))&&(r[n]=s));return r}var s=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(i.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(i,o,r,a){var l=t.speed(o,r,a);return this.queue(function(){var o,r=t(this),a=r.attr("class")||"",h=l.children?r.find("*").addBack():r;h=h.map(function(){var i=t(this);return{el:i,start:e(this)}}),o=function(){t.each(s,function(t,e){i[e]&&r[e+"Class"](i[e])})},o(),h=h.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),r.attr("class",a),h=h.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,h.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(r[0])})})},t.fn.extend({addClass:function(e){return function(i,n,s,o){return n?t.effects.animateClass.call(this,{add:i},n,s,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,s,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,s,o,r){return"boolean"==typeof n||void 0===n?s?t.effects.animateClass.call(this,n?{add:i}:{remove:i},s,o,r):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,s,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,s,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,o)}})}(),function(){function i(e,i,n,s){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=s||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,i){for(var n=0;n<i.length;n++)null!==i[n]&&t.data(e+i[n],t[0].style[i[n]])},restore:function(t,i){var n,s;for(s=0;s<i.length;s++)null!==i[s]&&(n=t.data(e+i[s]),void 0===n&&(n=""),t.css(i[s],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(r){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(s),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(s[i]=o[0]*n+o[1])}),s}}),t.fn.extend({effect:function(){function e(e){function i(){t.isFunction(o)&&o.call(s[0]),t.isFunction(e)&&e()}var s=t(this),o=n.complete,a=n.mode;(s.is(":hidden")?"hide"===a:"show"===a)?(s[a](),i()):r.call(s[0],n,i)}var n=i.apply(this,arguments),s=n.mode,o=n.queue,r=t.effects.effect[n.effect];return t.fx.off||!r?s?this[s](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var s=i.apply(this,arguments);return s.mode="show",this.effect.call(this,s)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var s=i.apply(this,arguments);return s.mode="hide",this.effect.call(this,s)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var s=i.apply(this,arguments);return s.mode="toggle",this.effect.call(this,s)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}(),t.effects}),/*!
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.blind=function(e,i){var n,s,o,r=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,h=["position","top","bottom","left","right","height","width"],d=t.effects.setMode(r,e.mode||"hide"),p=e.direction||"up",c=a.test(p),u=c?"height":"width",f=c?"top":"left",m=l.test(p),g={},v="show"===d;r.parent().is(".ui-effects-wrapper")?t.effects.save(r.parent(),h):t.effects.save(r,h),r.show(),n=t.effects.createWrapper(r).css({overflow:"hidden"}),s=n[u](),o=parseFloat(n.css(f))||0,g[u]=v?s:0,m||(r.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),g[f]=v?o:s+o),v&&(n.css(u,0),m||n.css(f,o+s)),n.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===d&&r.hide(),t.effects.restore(r,h),t.effects.removeWrapper(r),i()}})}}),/*!
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.bounce=function(e,i){var n,s,o,r=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(r,e.mode||"effect"),h="hide"===l,d="show"===l,p=e.direction||"up",c=e.distance,u=e.times||5,f=2*u+(d||h?1:0),m=e.duration/f,g=e.easing,v="up"===p||"down"===p?"top":"left",b="up"===p||"left"===p,y=r.queue(),w=y.length;for((d||h)&&a.push("opacity"),t.effects.save(r,a),r.show(),t.effects.createWrapper(r),c||(c=r["top"===v?"outerHeight":"outerWidth"]()/3),d&&(o={opacity:1},o[v]=0,r.css("opacity",0).css(v,b?2*-c:2*c).animate(o,m,g)),h&&(c/=Math.pow(2,u-1)),o={},o[v]=0,n=0;u>n;n++)s={},s[v]=(b?"-=":"+=")+c,r.animate(s,m,g).animate(o,m,g),c=h?2*c:c/2;h&&(s={opacity:0},s[v]=(b?"-=":"+=")+c,r.animate(s,m,g)),r.queue(function(){h&&r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),i()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,f+1))),r.dequeue()}}),/*!
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.clip=function(e,i){var n,s,o,r=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(r,e.mode||"hide"),h="show"===l,d=e.direction||"vertical",p="vertical"===d,c=p?"height":"width",u=p?"top":"left",f={};t.effects.save(r,a),r.show(),n=t.effects.createWrapper(r).css({overflow:"hidden"}),s="IMG"===r[0].tagName?n:r,o=s[c](),h&&(s.css(c,0),s.css(u,o/2)),f[c]=h?o:0,f[u]=h?0:o/2,s.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),i()}})}}),/*!
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.drop=function(e,i){var n,s=t(this),o=["position","top","bottom","left","right","opacity","height","width"],r=t.effects.setMode(s,e.mode||"hide"),a="show"===r,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l?"pos":"neg",p={opacity:a?1:0};t.effects.save(s,o),s.show(),t.effects.createWrapper(s),n=e.distance||s["top"===h?"outerHeight":"outerWidth"](!0)/2,a&&s.css("opacity",0).css(h,"pos"===d?-n:n),p[h]=(a?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+n,s.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.explode=function(e,i){function n(){y.push(this),y.length===p*c&&s()}function s(){u.css({visibility:"visible"}),t(y).remove(),m||u.hide(),i()}var o,r,a,l,h,d,p=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=p,u=t(this),f=t.effects.setMode(u,e.mode||"hide"),m="show"===f,g=u.show().css("visibility","hidden").offset(),v=Math.ceil(u.outerWidth()/c),b=Math.ceil(u.outerHeight()/p),y=[];for(o=0;p>o;o++)for(l=g.top+o*b,d=o-(p-1)/2,r=0;c>r;r++)a=g.left+r*v,h=r-(c-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-o*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(m?h*v:0),top:l+(m?d*b:0),opacity:m?0:1}).animate({left:a+(m?0:h*v),top:l+(m?0:d*b),opacity:m?1:0},e.duration||500,e.easing,n)}}),/*!
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.fade=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}),/*!
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.fold=function(e,i){var n,s,o=t(this),r=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,h="hide"===a,d=e.size||15,p=/([0-9]+)%/.exec(d),c=!!e.horizFirst,u=l!==c,f=u?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,r),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),s=u?[n.width(),n.height()]:[n.height(),n.width()],p&&(d=parseInt(p[1],10)/100*s[h?0:1]),l&&n.css(c?{height:0,width:d}:{height:d,width:0}),g[f[0]]=l?s[0]:d,v[f[1]]=l?s[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){h&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()})}}),/*!
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.highlight=function(e,i){var n=t(this),s=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(n,e.mode||"show"),r={backgroundColor:n.css("backgroundColor")};"hide"===o&&(r.opacity=0),t.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,s),i()}})}}),/*!
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.size=function(e,i){var n,s,o,r=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],d=["fontSize"],p=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=t.effects.setMode(r,e.mode||"effect"),f=e.restore||"effect"!==u,m=e.scale||"both",g=e.origin||["middle","center"],v=r.css("position"),b=f?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===u&&r.show(),n={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===e.mode&&"show"===u?(r.from=e.to||y,r.to=e.from||n):(r.from=e.from||("show"===u?y:n),r.to=e.to||("hide"===u?y:n)),o={from:{y:r.from.height/n.height,x:r.from.width/n.width},to:{y:r.to.height/n.height,x:r.to.width/n.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(b=b.concat(p),r.from=t.effects.setTransition(r,p,o.from.y,r.from),r.to=t.effects.setTransition(r,p,o.to.y,r.to)),o.from.x!==o.to.x&&(b=b.concat(c),r.from=t.effects.setTransition(r,c,o.from.x,r.from),r.to=t.effects.setTransition(r,c,o.to.x,r.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(b=b.concat(d).concat(h),r.from=t.effects.setTransition(r,d,o.from.y,r.from),r.to=t.effects.setTransition(r,d,o.to.y,r.to)),t.effects.save(r,b),r.show(),t.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(s=t.effects.getBaseline(g,n),r.from.top=(n.outerHeight-r.outerHeight())*s.y,r.from.left=(n.outerWidth-r.outerWidth())*s.x,r.to.top=(n.outerHeight-r.to.outerHeight)*s.y,r.to.left=(n.outerWidth-r.to.outerWidth)*s.x),r.css(r.from),("content"===m||"both"===m)&&(p=p.concat(["marginTop","marginBottom"]).concat(d),c=c.concat(["marginLeft","marginRight"]),h=a.concat(p).concat(c),r.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,h),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,p,o.from.y,i.from),i.to=t.effects.setTransition(i,p,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,c,o.from.x,i.from),i.to=t.effects.setTransition(i,c,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,h)})})),r.animate(r.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===u&&r.hide(),t.effects.restore(r,b),f||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):t.each(["top","left"],function(t,e){r.css(e,function(e,i){var n=parseInt(i,10),s=t?r.to.left:r.to.top;return"auto"===i?s+"px":n+s+"px"})})),t.effects.removeWrapper(r),i()}})}}),/*!
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],t):t(jQuery)}(function(t){return t.effects.effect.scale=function(e,i){var n=t(this),s=t.extend(!0,{},e),o=t.effects.setMode(n,e.mode||"effect"),r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",l=e.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},d={y:"horizontal"!==a?r/100:1,x:"vertical"!==a?r/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==o&&(s.origin=l||["middle","center"],s.restore=!0),s.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:h),s.to={height:h.height*d.y,width:h.width*d.x,outerHeight:h.outerHeight*d.y,outerWidth:h.outerWidth*d.x},s.fade&&("show"===o&&(s.from.opacity=0,s.to.opacity=1),"hide"===o&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)}}),/*!
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],t):t(jQuery)}(function(t){return t.effects.effect.puff=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"hide"),o="hide"===s,r=parseInt(e.percent,10)||150,a=r/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:o?r:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)}}),/*!
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.pulsate=function(e,i){var n,s=t(this),o=t.effects.setMode(s,e.mode||"show"),r="show"===o,a="hide"===o,l=r||"hide"===o,h=2*(e.times||5)+(l?1:0),d=e.duration/h,p=0,c=s.queue(),u=c.length;for((r||!s.is(":visible"))&&(s.css("opacity",0).show(),p=1),n=1;h>n;n++)s.animate({opacity:p},d,e.easing),p=1-p;s.animate({opacity:p},d,e.easing),s.queue(function(){a&&s.hide(),i()}),u>1&&c.splice.apply(c,[1,0].concat(c.splice(u,h+1))),s.dequeue()}}),/*!
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.shake=function(e,i){var n,s=t(this),o=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(s,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,h=e.times||3,d=2*h+1,p=Math.round(e.duration/d),c="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a,f={},m={},g={},v=s.queue(),b=v.length;for(t.effects.save(s,o),s.show(),t.effects.createWrapper(s),f[c]=(u?"-=":"+=")+l,m[c]=(u?"+=":"-=")+2*l,g[c]=(u?"-=":"+=")+2*l,s.animate(f,p,e.easing),n=1;h>n;n++)s.animate(m,p,e.easing).animate(g,p,e.easing);s.animate(m,p,e.easing).animate(f,p/2,e.easing).queue(function(){"hide"===r&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,d+1))),s.dequeue()}}),/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.slide=function(e,i){var n,s=t(this),o=["position","top","bottom","left","right","width","height"],r=t.effects.setMode(s,e.mode||"show"),a="show"===r,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,p={};t.effects.save(s,o),s.show(),n=e.distance||s["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(s).css({overflow:"hidden"}),a&&s.css(h,d?isNaN(n)?"-"+n:-n:n),p[h]=(a?d?"+=":"-=":d?"-=":"+=")+n,s.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()}})}}),/*!
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","./effect"],t):t(jQuery)}(function(t){return t.effects.effect.transfer=function(e,i){var n=t(this),s=t(e.to),o="fixed"===s.css("position"),r=t("body"),a=o?r.scrollTop():0,l=o?r.scrollLeft():0,h=s.offset(),d={top:h.top-a,left:h.left-l,height:s.innerHeight(),width:s.innerWidth()},p=n.offset(),c=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:p.top-a,left:p.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(d,e.duration,e.easing,function(){c.remove(),i()})}}),/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),s=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!s&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),s||i.data("bs.collapse",s=new n(this,o)),"string"==typeof e&&s[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.4",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(e=s.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){s&&s.length&&(i.call(s,"hide"),e||s.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[r](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION):s.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var s=t(n);this.addAriaAndCollapsedClass(e(s),s)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var s=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=s,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var s=t(this);s.attr("data-target")||n.preventDefault();var o=e(s),r=o.data("bs.collapse"),a=r?"toggle":s.data();i.call(o,a)})}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e,n){return this.each(function(){var s=t(this),o=s.data("bs.modal"),r=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e);o||s.data("bs.modal",o=new i(this,r)),"string"==typeof e?o[e](n):r.show&&o.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),s&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});s?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&s;if(this.$backdrop=t('<div class="modal-backdrop '+s+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),s=n.attr("href"),o=t(n.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},o.data(),n.data());n.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(o,r,this)})}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.button"),o="object"==typeof e&&e;s||n.data("bs.button",s=new i(this,o)),"toggle"==e?s.toggle():e&&s.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,s=n.is("input")?"val":"html",o=n.data();e+="Text",null==o.resetText&&n.data("resetText",n[s]()),setTimeout(t.proxy(function(){n[s](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target);n.hasClass("btn")||(n=n.closest(".btn")),e.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.affix"),o="object"==typeof e&&e;s||n.data("bs.affix",s=new i(this,o)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var s=this.$target.scrollTop(),o=this.$element.offset(),r=this.$target.height();if(null!=i&&"top"==this.affixed)return i>s?"top":!1;if("bottom"==this.affixed)return null!=i?s+this.unpin<=o.top?!1:"bottom":t-n>=s+r?!1:"bottom";var a=null==this.affixed,l=a?s:o.top,h=a?r:e;return null!=i&&i>=s?"top":null!=n&&l+h>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,s=n.top,o=n.bottom,r=t(document.body).height();"object"!=typeof n&&(o=s=n),"function"==typeof s&&(s=n.top(this.$element)),"function"==typeof o&&(o=n.bottom(this.$element));var a=this.getState(r,e,s,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:r-e-o})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(o),e.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},i.prototype.activate=function(e,n,s){function o(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var r=n.find("> .active"),a=s&&t.support.transition&&(r.length&&r.hasClass("fade")||!!n.find("> .fade").length);r.length&&a?r.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),r.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var s=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),s=i.data("bs.alert");s||i.data("bs.alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){r.detach().trigger("closed.bs.alert").remove()}var s=t(this),o=s.attr("data-target");o||(o=s.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var r=t(o);e&&e.preventDefault(),r.length||(r=s.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var s=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=s,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),o="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.tooltip",s=new i(this,o)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),o=s.length;o--;){var r=s[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var s=this,o=this.tip(),r=this.getUID(this.type);this.setContent(),o.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(a);h&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var d=this.getPosition(),p=o[0].offsetWidth,c=o[0].offsetHeight;if(h){var u=a,f=this.options.container?t(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&d.bottom+c>m.bottom?"top":"top"==a&&d.top-c<m.top?"bottom":"right"==a&&d.right+p>m.width?"left":"left"==a&&d.left-p<m.left?"right":a,o.removeClass(u).addClass(a)}var g=this.getCalculatedOffset(a,d,p,c);this.applyPlacement(g,a);var v=function(){var t=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==t&&s.leave(s)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),s=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,h=n[0].offsetHeight;"top"==i&&h!=o&&(e.top=e.top+o-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-s+l:2*d.top-o+h,u=p?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(c,n[0][u],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=s.hoverState&&o.detach(),s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),e&&e()}var s=this,o=t(this.$tip),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,s=i.getBoundingClientRect();null==s.width&&(s=t.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var o=n?{top:0,left:0}:e.offset(),r={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},s,r,a,o)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var s={top:0,left:0};if(!this.$viewport)return s;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-r.scroll,l=e.top+o-r.scroll+n;a<r.top?s.top=r.top-a:l>r.top+r.height&&(s.top=r.top+r.height-l)}else{var h=e.left-o,d=e.left+o+i;h<r.left?s.left=r.left-h:d>r.width&&(s.left=r.left+r.width-d)}return s},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.popover"),o="object"==typeof e&&e;(s||!/destroy|hide/.test(e))&&(s||n.data("bs.popover",s=new i(this,o)),"string"==typeof e&&s[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){e&&3===e.which||(t(s).remove(),t(o).each(function(){var n=t(this),s=i(n),o={relatedTarget:this};s.hasClass("open")&&(s.trigger(e=t.Event("hide.bs.dropdown",o)),e.isDefaultPrevented()||(n.attr("aria-expanded","false"),s.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})}var s=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.4",r.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var o=i(s),r=o.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),r=s.hasClass("open");if(!r&&27!=e.which||r&&27==e.which)return 27==e.which&&s.find(o).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=s.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var h=l.index(e.target);38==e.which&&h>0&&h--,40==e.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o,r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',r.prototype.keydown)}(jQuery),"undefined"==typeof jQuery)throw new Error("Froala requires jQuery");!function(t){"use strict";var e=function(i,n){return this.options=t.extend({},e.DEFAULTS,t(i).data(),"object"==typeof n&&n),this.options.unsupportedAgents.test(navigator.userAgent)?!1:(this.valid_nodes=t.merge([],e.VALID_NODES),this.valid_nodes=t.merge(this.valid_nodes,t.map(Object.keys(this.options.blockTags),function(t){return t.toUpperCase()})),this.browser=e.browser(),this.disabledList=[],this._id=++e.count,this._events={},this.blurred=!0,this.$original_element=t(i),this.document=i.ownerDocument,this.window="defaultView"in this.document?this.document.defaultView:this.document.parentWindow,this.$document=t(this.document),this.$window=t(this.window),this.br=this.browser.msie&&t.Editable.getIEversion()<=10?"":"<br/>",this.init(i),void t(i).on("editable.focus",t.proxy(function(){for(var e=1;e<=t.Editable.count;e++)e!=this._id&&this.$window.trigger("blur."+e)},this)))};e.initializers=[],e.count=0,e.VALID_NODES=["P","DIV","LI","TD","TH"],e.LANGS=[],e.INVISIBLE_SPACE="&#x200b;",e.DEFAULTS={allowComments:!0,allowScript:!1,allowStyle:!1,allowedAttrs:["accept","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","width","wrap"],allowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],alwaysBlank:!1,alwaysVisible:!1,autosave:!1,autosaveInterval:1e4,beautifyCode:!0,blockTags:{n:"Normal",blockquote:"Quote",pre:"Code",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},buttons:["bold","italic","underline","strikeThrough","fontSize","fontFamily","color","sep","formatBlock","blockStyle","align","insertOrderedList","insertUnorderedList","outdent","indent","sep","createLink","insertImage","insertVideo","insertHorizontalRule","undo","redo","html"],crossDomain:!0,convertMailAddresses:!0,customButtons:{},customDropdowns:{},customText:!1,defaultTag:"P",direction:"ltr",disableRightClick:!1,editInPopup:!1,editorClass:"",formatTags:["p","pre","blockquote","h1","h2","h3","h4","h5","h6","div","ul","ol","li","table","tbody","thead","tfoot","tr","th","td","body","head","html","title","meta","link","base","script","style"],headers:{},height:"auto",icons:{},inlineMode:!0,initOnClick:!1,fullPage:!1,language:"en_us",linkList:[],linkText:!1,linkClasses:{},linkAttributes:{},linkAutoPrefix:"",maxHeight:"auto",minHeight:"auto",multiLine:!0,noFollow:!0,paragraphy:!0,placeholder:"Type something",plainPaste:!1,preloaderSrc:"",saveURL:null,saveParam:"body",saveParams:{},saveRequestType:"POST",scrollableContainer:"body",simpleAmpersand:!1,shortcuts:!0,shortcutsAvailable:["show","bold","italic","underline","createLink","insertImage","indent","outdent","html","formatBlock n","formatBlock h1","formatBlock h2","formatBlock h3","formatBlock h4","formatBlock h5","formatBlock h6","formatBlock blockquote","formatBlock pre","strikeThrough"],showNextToCursor:!1,spellcheck:!1,theme:null,toolbarFixed:!0,trackScroll:!1,unlinkButton:!0,useClasses:!0,tabSpaces:!0,typingTimer:500,pastedImagesUploadRequestType:"POST",pastedImagesUploadURL:"http://i.froala.com/upload_base64",unsupportedAgents:/Opera Mini/i,useFrTag:!1,width:"auto",withCredentials:!1,zIndex:2e3},e.prototype.destroy=function(){this.sync(),this.options.useFrTag&&this.addFrTag(),this.hide(),this.isHTML&&this.html(),this.$bttn_wrapper&&this.$bttn_wrapper.html("").removeData().remove(),this.$editor&&this.$editor.html("").removeData().remove(),this.raiseEvent("destroy"),this.$popup_editor&&this.$popup_editor.html("").removeData().remove(),this.$placeholder&&this.$placeholder.html("").removeData().remove(),clearTimeout(this.ajaxInterval),clearTimeout(this.typingTimer),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop"),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop","**"),this.$window.off("mouseup."+this._id),this.$window.off("keydown."+this._id),this.$window.off("keyup."+this._id),this.$window.off("blur."+this._id),this.$window.off("hide."+this._id),this.$window.off("scroll."+this._id),this.$window.off("resize."+this._id),this.$window.off("orientationchange."+this._id),this.$document.off("selectionchange."+this._id),this.$original_element.off("editable"),void 0!==this.$upload_frame&&this.$upload_frame.remove(),this.$textarea&&(this.$box.remove(),this.$textarea.removeData("fa.editable"),this.$textarea.show());for(var t in this._events)delete this._events[t];this.$placeholder&&this.$placeholder.remove(),this.isLink?this.$element.removeData("fa.editable"):(this.$wrapper?this.$wrapper.replaceWith(this.getHTML(!1,!1)):this.$element.replaceWith(this.getHTML(!1,!1)),this.$box&&!this.editableDisabled&&(this.$box.removeClass("froala-box f-rtl"),this.$box.find(".html-switch").remove(),this.$box.removeData("fa.editable"),clearTimeout(this.typingTimer))),this.$lb&&this.$lb.remove()},e.prototype.triggerEvent=function(e,i,n,s){void 0===n&&(n=!0),void 0===s&&(s=!1),n===!0&&(this.isResizing()||this.editableDisabled||this.imageMode||!s||this.cleanify(),this.sync());var o=!0;return i||(i=[]),o=this.$original_element.triggerHandler("editable."+e,t.merge([this],i)),void 0===o?!0:o},e.prototype.syncStyle=function(){if(this.options.fullPage){var t=this.$element.html().match(/\[style[^\]]*\].*\[\/style\]/gi);if(this.$document.find("head style[data-id]").remove(),t)for(var e=0;e<t.length;e++)this.$document.find("head").append(t[e].replace(/\[/gi,"<").replace(/\]/gi,">"))}},e.prototype.sync=function(){if(!this.isHTML){this.raiseEvent("sync"),this.disableImageResize(),this.isLink||this.isImage||this.checkPlaceholder();var t=this.getHTML();this.trackHTML!==t&&null!=this.trackHTML?(this.refreshImageList(),this.refreshButtons(),this.trackHTML=t,this.$textarea&&this.$textarea.val(t),this.doingRedo||this.saveUndoStep(),this.triggerEvent("contentChanged",[],!1)):null==this.trackHTML&&(this.trackHTML=t),this.syncStyle()}},e.prototype.emptyElement=function(e){if("IMG"==e.tagName||t(e).find("img").length>0)return!1;if(t(e).find("input, iframe, object").length>0)return!1;for(var i=t(e).text(),n=0;n<i.length;n++)if("\n"!==i[n]&&"\r"!==i[n]&&"	"!==i[n]&&8203!=i[n].charCodeAt(0))return!1;return!0},e.prototype.initEvents=function(){this.mobile()?(this.mousedown="touchstart",this.mouseup="touchend",this.move="touchmove"):(this.mousedown="mousedown",this.mouseup="mouseup",this.move="")},e.prototype.initDisable=function(){this.$element.on("keypress keydown keyup",t.proxy(function(t){return this.isDisabled?(t.stopPropagation(),t.preventDefault(),!1):void 0},this))},e.prototype.continueInit=function(){this.initDisable(),this.initEvents(),this.browserFixes(),this.handleEnter(),this.editableDisabled||(this.initUndoRedo(),this.enableTyping(),this.initShortcuts()),this.initTabs(),this.initEditor();for(var e=0;e<t.Editable.initializers.length;e++)t.Editable.initializers[e].call(this);this.initOptions(),this.initEditorSelection(),this.initAjaxSaver(),this.setLanguage(),this.setCustomText(),this.editableDisabled||this.registerPaste(),this.refreshDisabledState(),this.refreshUndo(),this.refreshRedo(),this.initPopupSubmit(),this.initialized=!0,this.triggerEvent("initialized",[],!1,!1)},e.prototype.initPopupSubmit=function(){this.$popup_editor.find(".froala-popup input").keydown(function(e){var i=e.which;13==i&&(e.preventDefault(),e.stopPropagation(),t(this).blur(),t(this).parents(".froala-popup").find("button.f-submit").click())})},e.prototype.lateInit=function(){this.saveSelectionByMarkers(),this.continueInit(),this.restoreSelectionByMarkers(),this.$element.focus(),this.hideOtherEditors()},e.prototype.init=function(e){this.options.paragraphy||(this.options.defaultTag="DIV"),this.options.allowStyle&&this.setAllowStyle(),this.options.allowScript&&this.setAllowScript(),this.initElement(e),this.initElementStyle(),(!this.isLink||this.isImage)&&(this.initImageEvents(),this.buildImageMove()),this.options.initOnClick?(this.editableDisabled||(this.$element.attr("contenteditable",!0),this.$element.attr("spellcheck",!1)),this.$element.bind("mousedown.element focus.element",t.proxy(function(t){return this.isLink||t.stopPropagation(),this.isDisabled?!1:(this.$element.unbind("mousedown.element focus.element"),this.browser.webkit&&(this.initMouseUp=!1),void this.lateInit())},this))):this.continueInit()},e.prototype.phone=function(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t},e.prototype.mobile=function(){return this.phone()||this.android()||this.iOS()||this.blackberry()},e.prototype.iOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},e.prototype.iOSVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),e=[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3]||0,10)];if(e&&e[0])return e[0]}return 0},e.prototype.iPad=function(){return/(iPad)/g.test(navigator.userAgent)},e.prototype.iPhone=function(){return/(iPhone)/g.test(navigator.userAgent)},e.prototype.iPod=function(){return/(iPod)/g.test(navigator.userAgent)},e.prototype.android=function(){return/(Android)/g.test(navigator.userAgent)},e.prototype.blackberry=function(){return/(Blackberry)/g.test(navigator.userAgent)},e.prototype.initOnTextarea=function(e){this.$textarea=t(e),void 0!==this.$textarea.attr("placeholder")&&"Type something"==this.options.placeholder&&(this.options.placeholder=this.$textarea.attr("placeholder")),this.$element=t("<div>").html(this.clean(this.$textarea.val(),!0,!1)),this.$element.find("pre br").replaceWith("\n"),this.$textarea.before(this.$element).hide(),this.$textarea.parents("form").bind("submit",t.proxy(function(){this.isHTML?this.html():this.sync()},this)),this.addListener("destroy",t.proxy(function(){this.$textarea.parents("form").unbind("submit")},this))},e.prototype.initOnLink=function(e){this.isLink=!0,this.options.linkText=!0,this.selectionDisabled=!0,this.editableDisabled=!0,this.options.buttons=[],this.$element=t(e),this.options.paragraphy=!1,this.options.countCharacters=!1,this.$box=this.$element},e.prototype.initOnImage=function(e){var i=t(e).css("float");"A"==t(e).parent().get(0).tagName&&(e=t(e).parent()),this.isImage=!0,this.editableDisabled=!0,this.imageList=[],this.options.buttons=[],this.options.paragraphy=!1,this.options.imageMargin="auto",t(e).wrap("<div>"),this.$element=t(e).parent(),this.$element.css("display","inline-block"),this.$element.css("max-width","100%"),this.$element.css("margin-left","auto"),this.$element.css("margin-right","auto"),this.$element.css("float",i),this.$element.addClass("f-image"),this.$box=t(e)},e.prototype.initForPopup=function(e){this.$element=t(e),this.$box=this.$element,this.editableDisabled=!0,this.options.countCharacters=!1,this.options.buttons=[],this.$element.on("click",t.proxy(function(t){t.preventDefault()},this))},e.prototype.initOnDefault=function(e){"DIV"!=e.tagName&&this.options.buttons.indexOf("formatBlock")>=0&&this.disabledList.push("formatBlock"),this.$element=t(e)},e.prototype.initElement=function(e){if("TEXTAREA"==e.tagName?this.initOnTextarea(e):"A"==e.tagName?this.initOnLink(e):"IMG"==e.tagName?this.initOnImage(e):this.options.editInPopup?this.initForPopup(e):this.initOnDefault(e),!this.editableDisabled){this.$box=this.$element.addClass("froala-box"),this.$wrapper=t('<div class="froala-wrapper">'),this.$element=t("<div>");var i=this.$box.html();this.$box.html(this.$wrapper.html(this.$element)),this.$element.on("keyup",t.proxy(function(){this.$element.find("ul, ol").length>1&&this.cleanupLists()},this)),this.setHTML(i,!0)}this.$element.on("drop",t.proxy(function(){setTimeout(t.proxy(function(){t("html").click(),this.$element.find(".f-img-wrap").each(function(e,i){0===t(i).find("img").length&&t(i).remove()}),this.$element.find(this.options.defaultTag+":empty").remove()},this),1)},this))},e.prototype.trim=function(t){return t=String(t).replace(/^\s+|\s+$/g,""),t=t.replace(/\u200B/gi,"")},e.prototype.unwrapText=function(){this.options.paragraphy||this.$element.find(this.options.defaultTag).each(t.proxy(function(e,i){if(0===i.attributes.length){var n=t(i).find("br:last");t(i).replaceWith(n.length&&this.isLastSibling(n.get(0))?t(i).html():t(i).html()+"<br/>")}},this))},e.prototype.wrapTextInElement=function(e,i){void 0===i&&(i=!1);var n=[],s=["SPAN","A","B","I","EM","U","S","STRONG","STRIKE","FONT","IMG","SUB","SUP","BUTTON","INPUT"],o=this;this.no_verify=!0;var r=function(){if(0===n.length)return!1;var e=t("<"+o.options.defaultTag+">"),i=t(n[0]);if(1==n.length&&"f-marker"==i.attr("class"))return void(n=[]);for(var s=0;s<n.length;s++){var r=t(n[s]);e.append(r.clone()),s==n.length-1?r.replaceWith(e):r.remove()}n=[]},a=!1,l=!1,h=!1;e.contents().filter(function(){var e=t(this);if(e.hasClass("f-marker")||e.find(".f-marker").length){var d=e;if(1==e.find(".f-marker").length||e.hasClass("f-marker")){d=e.find(".f-marker").length?t(e.find(".f-marker")[0]):e;var p=d.prev();"true"===d.attr("data-type")?p.length&&t(p[0]).hasClass("f-marker")?h=!0:(a=!0,l=!1):l=!0}else h=!0}this.nodeType==Node.TEXT_NODE&&e.text().length>0||s.indexOf(this.tagName)>=0?n.push(this):this.nodeType==Node.TEXT_NODE&&0===e.text().length&&o.options.beautifyCode?e.remove():a||i||h?("BR"===this.tagName&&(n.length>0?e.remove():n.push(this)),r(),l&&(a=!1),h=!1):n=[]}),(a||i||h)&&r(),e.find("> "+this.options.defaultTag).each(function(e,i){0===t(i).text().trim().length&&0===t(i).find("img").length&&0===t(i).find("br").length&&t(i).append(this.br)}),e.find("div:empty:not([class])").remove(),e.is(":empty")&&e.append(o.options.paragraphy===!0?"<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">":this.br),this.no_verify=!1},e.prototype.wrapText=function(e){if(this.isImage||this.isLink)return!1;this.allow_div=!0,this.removeBlankSpans();for(var i=this.getSelectionElements(),n=0;n<i.length;n++){var s=t(i[n]);["LI","TH","TD"].indexOf(s.get(0).tagName)>=0?this.wrapTextInElement(s,!0):this.parents(s,"li").length?this.wrapTextInElement(t(this.parents(s,"li")[0]),e):this.wrapTextInElement(this.$element,e)}this.allow_div=!1},e.prototype.convertNewLines=function(){this.$element.find("pre").each(function(e,i){var n=t(i),s=t(i).html();s.indexOf("\n")>=0&&n.html(s.replace(/\n/g,"<br>"))})},e.prototype.setHTML=function(e,i){this.no_verify=!0,this.allow_div=!0,void 0===i&&(i=!0),e=this.clean(e,!0,!1),e=e.replace(/>\s+</g,"><"),this.$element.html(e),this.cleanAttrs(this.$element.get(0)),this.convertNewLines(),this.imageList=[],this.refreshImageList(),this.options.paragraphy&&this.wrapText(!0),this.$element.find("li:empty").append(t.Editable.INVISIBLE_SPACE),this.cleanupLists(),this.cleanify(!1,!0,!1),i&&(this.restoreSelectionByMarkers(),this.sync()),this.$element.find("span").attr("data-fr-verified",!0),this.initialized&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.no_verify=!1,this.allow_div=!1},e.prototype.beforePaste=function(){this.saveSelectionByMarkers(),this.clipboardHTML=null,this.scrollPosition=this.$window.scrollTop(),this.$pasteDiv?this.$pasteDiv.html(""):(this.$pasteDiv=t('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; z-index: 4000; line-height: 140%;" tabindex="-1"></div>'),this.$box.after(this.$pasteDiv)),this.$pasteDiv.focus(),this.window.setTimeout(t.proxy(this.processPaste,this),1)},e.prototype.processPaste=function(){var i=this.clipboardHTML;null===this.clipboardHTML&&(i=this.$pasteDiv.html(),this.restoreSelectionByMarkers(),this.$window.scrollTop(this.scrollPosition));var n,s=this.triggerEvent("onPaste",[i],!1);"string"==typeof s&&(i=s),i=i.replace(/<img /gi,'<img data-fr-image-pasted="true" '),i.match(/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/gi)?(n=this.wordClean(i),n=this.clean(t("<div>").append(n).html(),!1,!0),n=this.removeEmptyTags(n)):(n=this.clean(i,!1,!0),n=this.removeEmptyTags(n),e.copiedText&&t("<div>").html(n).text().replace(/\u00A0/gi," ")==e.copiedText.replace(/(\u00A0|\r|\n)/gi," ")&&(n=e.copiedHTML)),this.options.plainPaste&&(n=this.plainPasteClean(n)),s=this.triggerEvent("afterPasteCleanup",[n],!1),"string"==typeof s&&(n=s),""!==n&&(this.insertHTML(n,!0,!0),this.saveSelectionByMarkers(),this.removeBlankSpans(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove(),this.restoreSelectionByMarkers(),this.$element.find("li[data-indent]").each(t.proxy(function(e,i){this.indentLi?(t(i).removeAttr("data-indent"),this.indentLi(t(i))):t(i).removeAttr("data-indent")},this)),this.$element.find("li").each(t.proxy(function(e,i){this.wrapTextInElement(t(i),!0)},this)),this.options.paragraphy&&this.wrapText(!0),this.cleanupLists()),this.afterPaste()},e.prototype.afterPaste=function(){this.uploadPastedImages(),this.checkPlaceholder(),this.pasting=!1,this.triggerEvent("afterPaste",[],!0,!1)},e.prototype.getSelectedHTML=function(){function e(e,n){for(;3==n.nodeType||i.valid_nodes.indexOf(n.tagName)<0;)3!=n.nodeType&&t(e).wrapInner("<"+n.tagName+i.attrs(n)+"></"+n.tagName+">"),n=n.parentNode}var i=this,n="";if("undefined"!=typeof window.getSelection)for(var s=this.getRanges(),o=0;o<s.length;o++){var r=document.createElement("div");r.appendChild(s[o].cloneContents()),e(r,this.getSelectionParent()),n+=r.innerHTML}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(n=document.selection.createRange().htmlText);return n},e.prototype.registerPaste=function(){this.$element.on("copy cut",t.proxy(function(){this.isHTML||(e.copiedHTML=this.getSelectedHTML(),e.copiedText=t("<div>").html(e.copiedHTML).text())},this)),this.$element.on("paste",t.proxy(function(e){if(!this.isHTML){if(e.originalEvent&&(e=e.originalEvent),!this.triggerEvent("beforePaste",[],!1))return!1;if(this.clipboardPaste(e))return!1;this.clipboardHTML="",this.pasting=!0,this.scrollPosition=this.$window.scrollTop();var i=!1;if(e&&e.clipboardData&&e.clipboardData.getData){var n="",s=e.clipboardData.types;if(t.Editable.isArray(s))for(var o=0;o<s.length;o++)n+=s[o]+";";else n=s;if(/text\/html/.test(n)?this.clipboardHTML=e.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&this.browser.safari?this.clipboardHTML=e.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(this.clipboardHTML=this.escapeEntities(e.clipboardData.getData("text/plain")).replace(/\n/g,"<br/>")),""!==this.clipboardHTML?i=!0:this.clipboardHTML=null,i)return this.processPaste(),e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!1}this.beforePaste()}},this))},e.prototype.clipboardPaste=function(e){if(e&&e.clipboardData&&e.clipboardData.items&&e.clipboardData.items[0]){var i=e.clipboardData.items[0].getAsFile();if(i){var n=new FileReader;return n.onload=t.proxy(function(t){var e=t.target.result;this.insertHTML('<img data-fr-image-pasted="true" src="'+e+'" />'),this.afterPaste()},this),n.readAsDataURL(i),!0}}return!1},e.prototype.uploadPastedImages=function(){this.options.pasteImage?this.options.imageUpload&&this.$element.find("img[data-fr-image-pasted]").each(t.proxy(function(e,i){if(0===i.src.indexOf("data:")){if(this.options.defaultImageWidth&&t(i).attr("width",this.options.defaultImageWidth),this.options.pastedImagesUploadURL){if(!this.triggerEvent("beforeUploadPastedImage",[i],!1))return!1;setTimeout(t.proxy(function(){this.showImageLoader(),this.$progress_bar.find("span").css("width","100%").text("Please wait!"),this.showByCoordinates(t(i).offset().left+t(i).width()/2,t(i).offset().top+t(i).height()+10),this.isDisabled=!0},this),10),t.ajax({type:this.options.pastedImagesUploadRequestType,url:this.options.pastedImagesUploadURL,data:t.extend({image:decodeURIComponent(i.src)},this.options.imageUploadParams),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers,dataType:"json"}).done(t.proxy(function(e){try{if(e.link){var n=new Image;n.onerror=t.proxy(function(){t(i).remove(),this.hide(),this.throwImageError(1)},this),n.onload=t.proxy(function(){i.src=e.link,this.hideImageLoader(),this.hide(),this.enable(),setTimeout(function(){t(i).trigger("touchend")},50),this.triggerEvent("afterUploadPastedImage",[t(i)])},this),n.src=e.link}else e.error?(t(i).remove(),this.hide(),this.throwImageErrorWithMessage(e.error)):(t(i).remove(),this.hide(),this.throwImageError(2))}catch(s){t(i).remove(),this.hide(),this.throwImageError(4)}},this)).fail(t.proxy(function(){t(i).remove(),this.hide(),this.throwImageError(3)},this))}}else 0!==i.src.indexOf("http")&&t(i).remove();t(i).removeAttr("data-fr-image-pasted")},this)):this.$element.find("img[data-fr-image-pasted]").remove()},e.prototype.disable=function(){this.isDisabled=!0,this.$element.blur(),this.$box.addClass("fr-disabled"),this.$element.attr("contenteditable",!1)},e.prototype.enable=function(){this.isDisabled=!1,this.$box.removeClass("fr-disabled"),this.$element.attr("contenteditable",!0)},e.prototype.wordClean=function(t){t.indexOf("<body")>=0&&(t=t.replace(/[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,"$1")),t=t.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),t=t.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),t=t.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),t=t.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),t=t.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),t=t.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),t=t.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),t=t.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),t=t.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),t=t.replace(/<!--[\s\S]*?-->/gi,""),t=t.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var e=["style","script","applet","embed","noframes","noscript"],i=0;i<e.length;i++){var n=new RegExp("<"+e[i]+".*?"+e[i]+"(.*?)>","gi");t=t.replace(n,"")}t=t.replace(/&nbsp;/gi," ");var s;do s=t,t=t.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(t!=s);return t=t.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),t=t.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),t=this.clean(t),t=t.replace(/<a>(.[^<]+)<\/a>/gi,"$1")},e.prototype.tabs=function(t){for(var e="",i=0;t>i;i++)e+="  ";return e},e.prototype.cleanTags=function(t,e){void 0===e&&(e=!1);var i,n,s,o,r=[],a=[],l=!1,h=!1,d=this.options.formatTags;for(n=0;n<t.length;n++)if(i=t.charAt(n),"<"==i){var p=t.indexOf(">",n+1);if(-1!==p){var c=t.substring(n,p+1),u=this.tagName(c);if(0===u.indexOf("!--")&&(p=t.indexOf("-->",n+1),-1!==p)){c=t.substring(n,p+3),a.push(c),n=p+2;continue}if(0===u.indexOf("!")&&a.length&&a[a.length-1]!=c){a.push(c),n=p;continue}if("head"==u&&this.options.fullPage&&(h=!0),h){a.push(c),n=p,"head"==u&&this.isClosingTag(c)&&(h=!1);continue}if(this.options.allowedTags.indexOf(u)<0&&(!this.options.fullPage||["html","head","body","!doctype"].indexOf(u)<0)){n=p;continue}var f=this.isClosingTag(c);if("pre"===u&&(l=f?!1:!0),this.isSelfClosingTag(c))a.push("br"===u&&l?"\n":c);else if(f)for(s=!1,o=!0;s===!1&&void 0!==o;)o=r.pop(),void 0!==o&&o.tag_name!==u?a.splice(o.i,1):(s=!0,void 0!==o&&a.push(c));else a.push(c),r.push({tag_name:u,i:a.length-1});n=p}}else"\n"===i&&this.options.beautifyCode?e&&l?a.push("<br/>"):l?a.push(i):r.length>0&&a.push(" "):9!=i.charCodeAt(0)&&a.push(i);for(;r.length>0;)o=r.pop(),a.splice(o.i,1);var m="\n";this.options.beautifyCode||(m=""),t="",r=0;var g=!0;for(n=0;n<a.length;n++)1==a[n].length?g&&" "===a[n]||(t+=a[n],g=!1):d.indexOf(this.tagName(a[n]).toLowerCase())<0?(t+=a[n],"br"==this.tagName(a[n])&&(t+=m)):this.isSelfClosingTag(a[n])?d.indexOf(this.tagName(a[n]).toLowerCase())>=0?(t+=this.tabs(r)+a[n]+m,g=!1):t+=a[n]:this.isClosingTag(a[n])?(r-=1,0===r&&(g=!0),t.length>0&&t[t.length-1]==m&&(t+=this.tabs(r)),t+=a[n]+m):(t+=m+this.tabs(r)+a[n],r+=1,g=!1);return t[0]==m&&(t=t.substring(1,t.length)),t[t.length-1]==m&&(t=t.substring(0,t.length-1)),t},e.prototype.cleanupLists=function(){this.$element.find("ul, ol").each(t.proxy(function(e,i){var n=t(i);if(this.parents(t(i),"ul, ol").length>0)return!0;if(n.find(".close-ul, .open-ul, .close-ol, .open-ol, .open-li, .close-li").length>0){var s="<"+i.tagName.toLowerCase()+">"+n.html()+"</"+i.tagName.toLowerCase()+">";s=s.replace(new RegExp('<span class="close-ul" data-fr-verified="true"></span>',"g"),"</ul>"),s=s.replace(new RegExp('<span class="open-ul" data-fr-verified="true"></span>',"g"),"<ul>"),s=s.replace(new RegExp('<span class="close-ol" data-fr-verified="true"></span>',"g"),"</ol>"),s=s.replace(new RegExp('<span class="open-ol" data-fr-verified="true"></span>',"g"),"<ol>"),s=s.replace(new RegExp('<span class="close-li" data-fr-verified="true"></span>',"g"),"</li>"),s=s.replace(new RegExp('<span class="open-li" data-fr-verified="true"></span>',"g"),"<li>"),s=s.replace(new RegExp("<li></li>","g"),""),n.replaceWith(s)}},this)),this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(t.Editable.INVISIBLE_SPACE),this.$element.find(" > li").wrap("<ul>"),this.$element.find("ul, ol").each(t.proxy(function(e,i){var n=t(i);0===n.find(this.valid_nodes.join(",")).length&&n.remove()},this)),this.$element.find("li > ul, li > ol").each(t.proxy(function(e,i){var n=t(i).parent().get(0).previousSibling;this.isFirstSibling(i)&&(n&&"LI"==n.tagName?t(n).append(t(i)):t(i).before("<br/>"))},this)),this.$element.find("li:empty").remove();for(var e=this.$element.find("ol + ol, ul + ul"),i=0;i<e.length;i++){var n=t(e[i]);this.attrs(e[i])==this.attrs(n.prev().get(0))&&(n.prev().append(n.html()),n.remove())}this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(t.Editable.INVISIBLE_SPACE),this.$element.find("li > "+this.options.defaultTag).each(function(e,i){0===i.attributes.length&&t(i).replaceWith(t(i).html())})},e.prototype.escapeEntities=function(t){return t.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&apos;")},e.prototype.cleanNodeAttrs=function(t,e){var i=t.attributes;if(i)for(var n=new RegExp("^"+e.join("$|^")+"$","i"),s=0;s<i.length;s++){var o=i[s];
n.test(o.nodeName)?t.setAttribute(o.nodeName,o.nodeValue.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")):t.removeAttribute(o.nodeName)}},e.prototype.cleanAttrs=function(t){1==t.nodeType&&t.className.indexOf("f-marker")<0&&t!==this.$element.get(0)&&"IFRAME"!=t.tagName&&this.cleanNodeAttrs(t,this.options.allowedAttrs,!0);for(var e=t.childNodes,i=0;i<e.length;i++)this.cleanAttrs(e[i])},e.prototype.clean=function(i,n,s,o,r){this.pasting&&e.copiedText===t("<div>").html(i).text()&&(s=!1,n=!0),r||(r=t.merge([],this.options.allowedAttrs)),o||(o=t.merge([],this.options.allowedTags)),n||r.indexOf("id")>-1&&r.splice(r.indexOf("id"),1),this.options.fullPage&&(i=i.replace(/<!DOCTYPE([^>]*?)>/i,"<!-- DOCTYPE$1 -->"),i=i.replace(/<html([^>]*?)>/i,"<!-- html$1 -->"),i=i.replace(/<\/html([^>]*?)>/i,"<!-- /html$1 -->"),i=i.replace(/<body([^>]*?)>/i,"<!-- body$1 -->"),i=i.replace(/<\/body([^>]*?)>/i,"<!-- /body$1 -->"),i=i.replace(/<head>([\w\W]*)<\/head>/i,function(t,e){var i=1;return e=e.replace(/(<style)/gi,function(t,e){return e+" data-id="+i++}),"<!-- head "+e.replace(/(>)([\s|\t]*)(<)/gi,"$1$3").replace(/</gi,"[").replace(/>/gi,"]")+" -->"})),this.options.allowComments?(this.options.allowedTags.push("!--"),this.options.allowedTags.push("!")):i=i.replace(/(<!--[.\s\w\W]*?-->)/gi,""),this.options.allowScript||(i=i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")),this.options.allowStyle||(i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(t,e){return"<!--"+e.replace(/</g,"[[").replace(/>/g,"]]")+"-->"});var a=new RegExp("<\\/?((?!(?:"+o.join(" |")+" |"+o.join(">|")+">|"+o.join("/>|")+"/>))\\w+)[^>]*?>","gi");if(i=i.replace(a,""),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(t,e){return"<!--"+e.replace(/\[\[/g,"<").replace(/\]\]/g,">")+"-->"}),s){var l=new RegExp("style=(\"[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/'%]*\"|'[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/\"%]*')","gi");i=i.replace(l,""),i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")}i=this.cleanTags(i,!0),i=i.replace(/(\r|\n)/gi,"");var h=new RegExp("<([^>]*)( src| href)=('[^']*'|\"[^\"]*\"|[^\\s>]+)([^>]*)>","gi");if(i=i.replace(h,t.proxy(function(t,e,i,n,s){return"<"+e+i+'="'+this.sanitizeURL(n.replace(/^["'](.*)["']\/?$/gi,"$1"))+'"'+s+">"},this)),!n){var d=t("<div>").append(i);d.find('[class]:not([class^="fr-"])').each(function(e,i){t(i).removeAttr("class")}),i=d.html()}return i},e.prototype.removeBlankSpans=function(){this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),this.$element.find("span").each(t.proxy(function(e,i){0===this.attrs(i).length&&t(i).replaceWith(t(i).html())},this)),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1},e.prototype.plainPasteClean=function(e){var i=t("<div>").html(e);i.find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote").each(t.proxy(function(e,i){t(i).replaceWith("<"+this.options.defaultTag+">"+t(i).html()+"</"+this.options.defaultTag+">")},this)),t(i.find("*").not("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br").get().reverse()).each(function(){t(this).replaceWith(t(this).html())});var n=function(e){for(var i=e.contents(),s=0;s<i.length;s++)3!=i[s].nodeType&&1!=i[s].nodeType?t(i[s]).remove():n(t(i[s]))};return n(i),i.html()},e.prototype.removeEmptyTags=function(e){for(var i,n=t("<div>").html(e),s=n.find("*:empty:not(br, img, td, th)");s.length;){for(i=0;i<s.length;i++)t(s[i]).remove();s=n.find("*:empty:not(br, img, td, th)")}for(var o=n.find("> div, td > div, th > div, li > div");o.length;){var r=t(o[o.length-1]);r.replaceWith(r.html()+"<br/>"),o=n.find("> div, td > div, th > div, li > div")}for(o=n.find("div");o.length;){for(i=0;i<o.length;i++){var a=t(o[i]),l=a.html().replace(/\u0009/gi,"").trim();a.replaceWith(l)}o=n.find("div")}return n.html()},e.prototype.initElementStyle=function(){this.editableDisabled||this.$element.attr("contenteditable",!0);var t="froala-view froala-element "+this.options.editorClass;this.browser.msie&&e.getIEversion()<9&&(t+=" ie8"),this.$element.css("outline",0),this.browser.msie||(t+=" not-msie"),this.$element.addClass(t)},e.prototype.CJKclean=function(t){var e=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return t.replace(e,"")},e.prototype.enableTyping=function(){this.typingTimer=null,this.$element.on("keydown","textarea, input",function(t){t.stopPropagation()}),this.$element.on("keydown cut",t.proxy(function(e){if(!this.isHTML){if(!this.options.multiLine&&13==e.which)return e.preventDefault(),e.stopPropagation(),!1;if("keydown"===e.type&&!this.triggerEvent("keydown",[e],!1))return!1;clearTimeout(this.typingTimer),this.ajaxSave=!1,this.oldHTML=this.getHTML(!0,!1),this.typingTimer=setTimeout(t.proxy(function(){var t=this.getHTML(!0,!1);this.ime||this.CJKclean(t)===this.CJKclean(this.oldHTML)||this.CJKclean(t)!==t||this.sync()},this),Math.max(this.options.typingTimer,500))}},this))},e.prototype.removeMarkersByRegex=function(t){return t.replace(/<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>([\S\s][^\/])*<\/span>/gi,"")},e.prototype.getImageHTML=function(){return JSON.stringify({src:this.$element.find("img").attr("src"),style:this.$element.find("img").attr("style"),alt:this.$element.find("img").attr("alt"),width:this.$element.find("img").attr("width"),link:this.$element.find("a").attr("href"),link_title:this.$element.find("a").attr("title"),link_target:this.$element.find("a").attr("target")})},e.prototype.getLinkHTML=function(){return JSON.stringify({body:this.$element.html(),href:this.$element.attr("href"),title:this.$element.attr("title"),popout:this.$element.hasClass("popout"),nofollow:"nofollow"==this.$element.attr("ref"),blank:"_blank"==this.$element.attr("target"),cls:this.$element.attr("class")?this.$element.attr("class").replace(/froala-element ?|not-msie ?|froala-view ?/gi,"").trim():""})},e.prototype.addFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").addClass("fr-tag")},e.prototype.removeFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").removeClass("fr-tag")},e.prototype.getHTML=function(e,i,n){if(void 0===e&&(e=!1),void 0===i&&(i=this.options.useFrTag),void 0===n&&(n=!0),this.$element.hasClass("f-placeholder")&&!e)return"";if(this.isHTML)return this.$html_area.val();if(this.isImage)return this.getImageHTML();if(this.isLink)return this.getLinkHTML();this.$element.find("a").data("fr-link",!0),i&&this.addFrTag(),this.$element.find(".f-img-editor > img").each(t.proxy(function(e,i){t(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(t(i).parent().attr("class")))},this)),this.options.useClasses||this.$element.find("img").each(t.proxy(function(e,i){var n=t(i);n.attr("data-style",this.getImageStyle(n))},this)),this.$element.find("pre").each(t.proxy(function(e,i){var n=t(i),s=n.html(),o=s.replace(/\&nbsp;/gi," ").replace(/\n/gi,"<br>");s!=o&&(this.saveSelectionByMarkers(),n.html(o),this.restoreSelectionByMarkers())},this)),this.$element.find("pre br").addClass("fr-br"),this.$element.find('[class=""]').removeAttr("class"),this.cleanAttrs(this.$element.get(0));var s=this.$element.html();this.removeFrTag(),this.$element.find("pre br").removeAttr("class"),s=s.replace(/<a[^>]*?><\/a>/g,""),e||(s=this.removeMarkersByRegex(s)),s=s.replace(/<span[^>]*? class\s*=\s*["']?f-img-handle[^>]+><\/span>/gi,""),s=s.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-editor[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),s=s.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-wrap[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),this.options.useClasses||(s=s.replace(/data-style/gi,"style"),s=s.replace(/(<img[^>]*)( class\s*=['"]?[a-zA-Z0-9- ]+['"]?)([^>]*\/?>)/gi,"$1$3")),this.options.simpleAmpersand&&(s=s.replace(/\&amp;/gi,"&")),n&&(s=s.replace(/ data-fr-verified="true"/gi,"")),this.options.beautifyCode&&(s=s.replace(/\n/gi,"")),s=s.replace(/<br class="fr-br">/gi,"\n"),s=s.replace(/\u200B/gi,""),this.options.fullPage&&(s=s.replace(/<!-- DOCTYPE([^>]*?) -->/i,"<!DOCTYPE$1>"),s=s.replace(/<!-- html([^>]*?) -->/i,"<html$1>"),s=s.replace(/<!-- \/html([^>]*?) -->/i,"</html$1>"),s=s.replace(/<!-- body([^>]*?) -->/i,"<body$1>"),s=s.replace(/<!-- \/body([^>]*?) -->/i,"</body$1>"),s=s.replace(/<!-- head ([\w\W]*?) -->/i,function(t,e){return"<head>"+e.replace(/\[/gi,"<").replace(/\]/gi,">")+"</head>"}));var o=this.triggerEvent("getHTML",[s],!1);return"string"==typeof o?o:s},e.prototype.getText=function(){return this.$element.text()},e.prototype.setDirty=function(t){this.dirty=t,t||(clearTimeout(this.ajaxInterval),this.ajaxHTML=this.getHTML(!1,!1))},e.prototype.initAjaxSaver=function(){this.ajaxHTML=this.getHTML(!1,!1),this.ajaxSave=!0,this.ajaxInterval=setInterval(t.proxy(function(){var t=this.getHTML(!1,!1);(this.ajaxHTML!=t||this.dirty)&&this.ajaxSave&&(this.options.autosave&&this.save(),this.dirty=!1,this.ajaxHTML=t),this.ajaxSave=!0},this),Math.max(this.options.autosaveInterval,100))},e.prototype.disableBrowserUndo=function(){this.$element.keydown(t.proxy(function(t){var e=t.which,i=(t.ctrlKey||t.metaKey)&&!t.altKey;if(!this.isHTML&&i){if(90==e&&t.shiftKey)return t.preventDefault(),!1;if(90==e)return t.preventDefault(),!1}},this))},e.prototype.shortcutEnabled=function(t){return this.options.shortcutsAvailable.indexOf(t)>=0},e.prototype.shortcuts_map={69:{cmd:"show",params:[null],id:"show"},66:{cmd:"exec",params:["bold"],id:"bold"},73:{cmd:"exec",params:["italic"],id:"italic"},85:{cmd:"exec",params:["underline"],id:"underline"},83:{cmd:"exec",params:["strikeThrough"],id:"strikeThrough"},75:{cmd:"exec",params:["createLink"],id:"createLink"},80:{cmd:"exec",params:["insertImage"],id:"insertImage"},221:{cmd:"exec",params:["indent"],id:"indent"},219:{cmd:"exec",params:["outdent"],id:"outdent"},72:{cmd:"exec",params:["html"],id:"html"},48:{cmd:"exec",params:["formatBlock","n"],id:"formatBlock n"},49:{cmd:"exec",params:["formatBlock","h1"],id:"formatBlock h1"},50:{cmd:"exec",params:["formatBlock","h2"],id:"formatBlock h2"},51:{cmd:"exec",params:["formatBlock","h3"],id:"formatBlock h3"},52:{cmd:"exec",params:["formatBlock","h4"],id:"formatBlock h4"},53:{cmd:"exec",params:["formatBlock","h5"],id:"formatBlock h5"},54:{cmd:"exec",params:["formatBlock","h6"],id:"formatBlock h6"},222:{cmd:"exec",params:["formatBlock","blockquote"],id:"formatBlock blockquote"},220:{cmd:"exec",params:["formatBlock","pre"],id:"formatBlock pre"}},e.prototype.ctrlKey=function(t){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(t.metaKey&&!t.altKey)return!0}else if(t.ctrlKey&&!t.altKey)return!0;return!1},e.prototype.initShortcuts=function(){this.options.shortcuts&&this.$element.on("keydown",t.proxy(function(t){var e=t.which,i=this.ctrlKey(t);if(!this.isHTML&&i){if(this.shortcuts_map[e]&&this.shortcutEnabled(this.shortcuts_map[e].id))return this.execDefaultShortcut(this.shortcuts_map[e].cmd,this.shortcuts_map[e].params);if(90==e&&t.shiftKey)return t.preventDefault(),t.stopPropagation(),this.redo(),!1;if(90==e)return t.preventDefault(),t.stopPropagation(),this.undo(),!1}},this))},e.prototype.initTabs=function(){this.$element.on("keydown",t.proxy(function(t){var e=t.which;if(9!=e||t.shiftKey)9==e&&t.shiftKey&&(this.raiseEvent("shift+tab")?this.options.tabSpaces?t.preventDefault():this.blur():t.preventDefault());else if(this.raiseEvent("tab"))if(this.options.tabSpaces){t.preventDefault();var i="&nbsp;&nbsp;&nbsp;&nbsp;",n=this.getSelectionElements()[0];"PRE"===n.tagName&&(i="    "),this.insertHTML(i,!1)}else this.blur();else t.preventDefault()},this))},e.prototype.textEmpty=function(e){var i=t(e).text().replace(/(\r\n|\n|\r|\t)/gm,"");return(""===i||e===this.$element.get(0))&&0===t(e).find("br").length},e.prototype.inEditor=function(t){for(;t&&"BODY"!==t.tagName;){if(t===this.$element.get(0))return!0;t=t.parentNode}return!1},e.prototype.focus=function(e){if(this.isDisabled)return!1;if(void 0===e&&(e=!0),""!==this.text()&&!this.$element.is(":focus"))return void(this.browser.msie||(this.clearSelection(),this.$element.focus()));if(!this.isHTML){if(e&&!this.pasting&&this.$element.focus(),this.pasting&&!this.$element.is(":focus")&&this.$element.focus(),this.$element.hasClass("f-placeholder"))return void this.setSelection(this.$element.find(this.options.defaultTag).length>0?this.$element.find(this.options.defaultTag)[0]:this.$element.get(0));var i=this.getRange();if(""===this.text()&&i&&(0===i.startOffset||i.startContainer===this.$element.get(0)||!this.inEditor(i.startContainer))){var n,s,o=this.getSelectionElements();if(t.merge(["IMG","BR"],this.valid_nodes).indexOf(this.getSelectionElement().tagName)<0)return!1;if(i.startOffset>0&&this.valid_nodes.indexOf(this.getSelectionElement().tagName)>=0&&"BODY"!=i.startContainer.tagName||i.startContainer&&3===i.startContainer.nodeType)return;if(!this.options.paragraphy&&o.length>=1&&o[0]===this.$element.get(0)){var r=function(e){if(!e)return null;if(3==e.nodeType&&e.textContent.length>0)return e;if(1==e.nodeType&&"BR"==e.tagName)return e;for(var i=t(e).contents(),n=0;n<i.length;n++){var s=r(i[n]);if(null!=s)return s}return null};if(0===i.startOffset&&this.$element.contents().length>0&&3!=this.$element.contents()[0].nodeType){var a=r(this.$element.get(0));null!=a&&("BR"==a.tagName?this.$element.is(":focus")&&(t(a).before(this.markers_html),this.restoreSelectionByMarkers()):this.setSelection(a))}return!1}if(o.length>=1&&o[0]!==this.$element.get(0))for(n=0;n<o.length;n++){if(s=o[n],!this.textEmpty(s)||this.browser.msie)return void this.setSelection(s);if(this.textEmpty(s)&&["LI","TD"].indexOf(s.tagName)>=0)return}if(i.startContainer===this.$element.get(0)&&i.startOffset>0&&!this.options.paragraphy)return void this.setSelection(this.$element.get(0),i.startOffset);for(o=this.$element.find(this.valid_nodes.join(",")),n=0;n<o.length;n++)if(s=o[n],!this.textEmpty(s)&&0===t(s).find(this.valid_nodes.join(",")).length)return void this.setSelection(s);this.setSelection(this.$element.get(0))}}},e.prototype.addMarkersAtEnd=function(e){if(e.find(".fr-marker").length>0)return!1;for(var i=e.get(0),n=t(i).contents();n.length&&this.valid_nodes.indexOf(n[n.length-1].tagName)>=0;)i=n[n.length-1],n=t(n[n.length-1]).contents();t(i).append(this.markers_html)},e.prototype.setFocusAtEnd=function(t){void 0===t&&(t=this.$element),this.addMarkersAtEnd(t),this.restoreSelectionByMarkers()},e.prototype.breakHTML=function(e,i){"undefined"==typeof i&&(i=!0),this.removeMarkers(),0===this.$element.find("break").length&&this.insertSimpleHTML("<break></break>");var n=this.parents(this.$element.find("break"),t.merge(["UL","OL"],this.valid_nodes).join(","))[0];if(this.parents(t(n),"ul, ol").length&&(n=this.parents(t(n),"ul, ol")[0]),void 0===n&&(n=this.$element.get(0)),["UL","OL"].indexOf(n.tagName)>=0){var s=t("<div>").html(e);s.find("> li").wrap("<"+n.tagName+">"),e=s.html()}if(n==this.$element.get(0)){if(this.$element.find("break").next().length){this.insertSimpleHTML('<div id="inserted-div">'+e+"</div>");var o=this.$element.find("div#inserted-div");this.setFocusAtEnd(o),this.saveSelectionByMarkers(),o.replaceWith(o.contents()),this.restoreSelectionByMarkers()}else this.insertSimpleHTML(e),this.setFocusAtEnd();return this.$element.find("break").remove(),this.checkPlaceholder(),!0}if("TD"===n.tagName)return this.$element.find("break").remove(),this.insertSimpleHTML(e),!0;var r=t("<div>").html(e);if(this.addMarkersAtEnd(r),e=r.html(),this.emptyElement(t(n)))return t(n).replaceWith(e),this.restoreSelectionByMarkers(),this.checkPlaceholder(),!0;this.$element.find("li").each(t.proxy(function(e,i){this.emptyElement(i)&&t(i).addClass("empty-li")},this));for(var a,l,h=t("<div></div>").append(t(n).clone()).html(),d=[],p={},c=[],u=0,f=0;f<h.length;f++)if(l=h.charAt(f),"<"==l){var m=h.indexOf(">",f+1);if(-1!==m){a=h.substring(f,m+1);var g=this.tagName(a);if(f=m,"break"==g){if(!this.isClosingTag(a)){for(var v=!0,b=[],y=d.length-1;y>=0;y--){var w=this.tagName(d[y]);if(!i&&"LI"==w.toUpperCase()){v=!1;break}c.push("</"+w+">"),b.push(d[y])}c.push(e),v||c.push("</li><li>");for(var x=0;x<b.length;x++)c.push(b[x])}}else if(c.push(a),!this.isSelfClosingTag(a))if(this.isClosingTag(a)){var k=p[g].pop();d.splice(k,1)}else d.push(a),void 0===p[g]&&(p[g]=[]),p[g].push(d.length-1)}}else u++,c.push(l);t(n).replaceWith(c.join("")),this.$element.find("li").each(t.proxy(function(e,i){var n=t(i);n.hasClass("empty-li")?n.removeClass("empty-li"):this.emptyElement(i)&&n.remove()},this)),this.cleanupLists(),this.restoreSelectionByMarkers()},e.prototype.insertSimpleHTML=function(t){var e,i;if(this.no_verify=!0,this.window.getSelection){if(e=this.window.getSelection(),e.getRangeAt&&e.rangeCount){i=e.getRangeAt(0),this.browser.webkit?i.collapsed||this.document.execCommand("delete"):i.deleteContents(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove();var n=this.document.createElement("div");n.innerHTML=t;for(var s,o,r=this.document.createDocumentFragment();s=n.firstChild;)o=r.appendChild(s);i.insertNode(r),o&&(i=i.cloneRange(),i.setStartAfter(o),i.collapse(!0),e.removeAllRanges(),e.addRange(i))}}else if((e=this.document.selection)&&"Control"!=e.type){var a=e.createRange();a.collapse(!0),e.createRange().pasteHTML(t)}this.no_verify=!1},e.prototype.insertHTML=function(e,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!1),!this.isHTML&&i&&this.focus(),this.removeMarkers(),this.insertSimpleHTML("<break></break>"),this.checkPlaceholder(!0),this.$element.hasClass("f-placeholder"))return this.$element.html(e),this.options.paragraphy&&this.wrapText(!0),this.$element.find("p > br").each(function(){var e=this.parentNode;1==t(e).contents().length&&t(e).remove()}),this.$element.find("break").remove(),this.setFocusAtEnd(),this.checkPlaceholder(),this.convertNewLines(),!1;for(var s=t("<div>").append(e).find("*"),o=0;o<s.length;o++)if(this.valid_nodes.indexOf(s[o].tagName)>=0)return this.breakHTML(e),this.$element.find("break").remove(),this.convertNewLines(),!1;this.$element.find("break").remove(),this.insertSimpleHTML(e),this.convertNewLines()},e.prototype.execDefaultShortcut=function(t,e){return this[t].apply(this,e),!1},e.prototype.initEditor=function(){var i="froala-editor";this.mobile()&&(i+=" touch"),this.browser.msie&&e.getIEversion()<9&&(i+=" ie8"),this.$editor=t('<div class="'+i+'" style="display: none;">');var n=this.$document.find(this.options.scrollableContainer);n.append(this.$editor),this.options.inlineMode?this.initInlineEditor():this.initBasicEditor()},e.prototype.refreshToolbarPosition=function(){this.$window.scrollTop()>this.$box.offset().top&&this.$window.scrollTop()<this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.iOS()&&(this.$element.is(":focus")?this.$editor.css("top",this.$window.scrollTop()):this.$editor.css("top",""))):this.$window.scrollTop()<this.$box.offset().top?this.iOS()&&this.$element.is(":focus")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.$editor.css("top",this.$box.offset().top)):(this.$editor.removeClass("f-scroll f-scroll-abs").css("bottom","").css("top","").width(""),this.$element.css("padding-top",""),this.$placeholder.css("margin-top","")):this.$window.scrollTop()>this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()&&!this.$editor.hasClass("f-scroll-abs")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.removeClass("f-scroll").addClass("f-scroll-abs"),this.$editor.css("bottom",0).css("top","").css("left","")):this.$editor.removeClass("f-scroll").css("bottom","").css("top","").css("left","").width("")},e.prototype.toolbarTop=function(){this.options.toolbarFixed||this.options.inlineMode||(this.$element.data("padding-top",parseInt(this.$element.css("padding-top"),10)),this.$window.on("scroll resize load",t.proxy(function(){this.refreshToolbarPosition()},this)),this.iOS()&&this.$element.on("focus blur",t.proxy(function(){this.refreshToolbarPosition()},this)))},e.prototype.initBasicEditor=function(){this.$element.addClass("f-basic"),this.$wrapper.addClass("f-basic"),this.$popup_editor=this.$editor.clone();var t=this.$document.find(this.options.scrollableContainer);this.$popup_editor.appendTo(t).addClass("f-inline"),this.$editor.addClass("f-basic").show(),this.$editor.insertBefore(this.$wrapper),this.toolbarTop()},e.prototype.initInlineEditor=function(){this.$editor.addClass("f-inline"),this.$element.addClass("f-inline"),this.$popup_editor=this.$editor},e.prototype.initDrag=function(){this.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!this.window.FormData,progress:"upload"in new XMLHttpRequest}},e.prototype.initOptions=function(){this.setDimensions(),this.setSpellcheck(),this.setImageUploadURL(),this.setButtons(),this.setDirection(),this.setZIndex(),this.setTheme(),this.options.editInPopup&&this.buildEditPopup(),this.editableDisabled||(this.setPlaceholder(),this.setPlaceholderEvents())},e.prototype.setAllowStyle=function(t){"undefined"==typeof t&&(t=this.options.allowStyle),t?this.options.allowedTags.push("style"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("style"),1)},e.prototype.setAllowScript=function(t){"undefined"==typeof t&&(t=this.options.allowScript),t?this.options.allowedTags.push("script"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("script"),1)},e.prototype.isTouch=function(){return WYSIWYGModernizr.touch&&void 0!==this.window.Touch},e.prototype.initEditorSelection=function(){this.$element.on("keyup",t.proxy(function(t){return this.triggerEvent("keyup",[t],!1)},this)),this.$element.on("focus",t.proxy(function(){this.blurred&&(this.blurred=!1,this.pasting||""!==this.text()||this.focus(!1),this.triggerEvent("focus",[],!1))},this)),this.$element.on("mousedown touchstart",t.proxy(function(){return this.isDisabled?!1:void(this.isResizing()||(this.closeImageMode(),this.hide()))},this)),this.options.disableRightClick&&this.$element.contextmenu(t.proxy(function(t){return t.preventDefault(),this.options.inlineMode&&this.$element.focus(),!1},this)),this.$element.on(this.mouseup,t.proxy(function(e){if(this.isDisabled)return!1;if(!this.isResizing()){var i=this.text();e.stopPropagation(),this.imageMode=!1,!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==e.which||2==e.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode?this.options.inlineMode||this.refreshButtons():setTimeout(t.proxy(function(){i=this.text(),!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==e.which||2==e.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode||(this.show(e),this.options.editInPopup&&this.showEditPopup())},this),0)}this.hideDropdowns(),this.hideOtherEditors()},this)),this.$editor.on(this.mouseup,t.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||(t.stopPropagation(),this.options.inlineMode===!1&&this.hide()))},this)),this.$editor.on("mousedown",".fr-dropdown-menu",t.proxy(function(t){return this.isDisabled?!1:(t.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mousedown",".fr-dropdown-menu",t.proxy(function(t){return this.isDisabled?!1:(t.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mouseup",t.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||t.stopPropagation())},this)),this.$edit_popup_wrapper&&this.$edit_popup_wrapper.on("mouseup",t.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||t.stopPropagation())},this)),this.setDocumentSelectionChangeEvent(),this.setWindowMouseUpEvent(),this.setWindowKeyDownEvent(),this.setWindowKeyUpEvent(),this.setWindowOrientationChangeEvent(),this.setWindowHideEvent(),this.setWindowBlurEvent(),this.options.trackScroll&&this.setWindowScrollEvent(),this.setWindowResize()},e.prototype.setWindowResize=function(){this.$window.on("resize."+this._id,t.proxy(function(){this.hide(),this.closeImageMode(),this.imageMode=!1},this))},e.prototype.blur=function(e){this.blurred||this.pasting||(this.selectionDisabled=!0,this.triggerEvent("blur",[]),e&&0===t("*:focus").length&&this.clearSelection(),this.isLink||this.isImage||(this.selectionDisabled=!1),this.blurred=!0)},e.prototype.setWindowBlurEvent=function(){this.$window.on("blur."+this._id,t.proxy(function(t,e){this.blur(e)},this))},e.prototype.setWindowHideEvent=function(){this.$window.on("hide."+this._id,t.proxy(function(){this.isResizing()?this.$element.find(".f-img-handle").trigger("moveend"):this.hide(!1)},this))},e.prototype.setWindowOrientationChangeEvent=function(){this.$window.on("orientationchange."+this._id,t.proxy(function(){setTimeout(t.proxy(function(){this.hide()},this),10)},this))},e.prototype.setDocumentSelectionChangeEvent=function(){this.$document.on("selectionchange."+this._id,t.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||this.isScrolling||(clearTimeout(this.selectionChangedTimeout),this.selectionChangedTimeout=setTimeout(t.proxy(function(){if(this.options.inlineMode&&this.selectionInEditor()&&this.link!==!0&&this.isTouch()){var t=this.text();""!==t?(this.iPod()?this.options.alwaysVisible&&this.hide():this.show(null),e.stopPropagation()):this.options.alwaysVisible?this.show(null):(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this),75)))},this))},e.prototype.setWindowMouseUpEvent=function(){this.$window.on(this.mouseup+"."+this._id,t.proxy(function(){return this.browser.webkit&&!this.initMouseUp?(this.initMouseUp=!0,!1):(this.isResizing()||this.isScrolling||this.isDisabled||(this.$bttn_wrapper.find("button.fr-trigger").removeClass("active"),this.selectionInEditor()&&""!==this.text()&&!this.isTouch()?this.show(null):this.$popup_editor.is(":visible")&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.blur(!0)),void t("[data-down]").removeAttr("data-down"))},this))},e.prototype.setWindowKeyDownEvent=function(){this.$window.on("keydown."+this._id,t.proxy(function(e){var i=e.which;if(27==i&&(this.focus(),this.restoreSelection(),this.hide(),this.closeImageMode(),this.imageMode=!1),this.imageMode){if(13==i)return this.$element.find(".f-img-editor").parents(".f-img-wrap").before("<br/>"),this.sync(),this.$element.find(".f-img-editor img").click(),!1;if(46==i||8==i)return e.stopPropagation(),e.preventDefault(),setTimeout(t.proxy(function(){this.removeImage(this.$element.find(".f-img-editor img"))},this),0),!1}else if(this.selectionInEditor()){if(this.isDisabled)return!0;var n=(e.ctrlKey||e.metaKey)&&!e.altKey;!n&&this.$popup_editor.is(":visible")&&this.$bttn_wrapper.is(":visible")&&this.options.inlineMode&&(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this))},e.prototype.setWindowKeyUpEvent=function(){this.$window.on("keyup."+this._id,t.proxy(function(){return this.isDisabled?!1:void(this.selectionInEditor()&&""!==this.text()&&!this.$popup_editor.is(":visible")&&this.repositionEditor())},this))},e.prototype.setWindowScrollEvent=function(){t.merge(this.$window,t(this.options.scrollableContainer)).on("scroll."+this._id,t.proxy(function(){return this.isDisabled?!1:(clearTimeout(this.scrollTimer),this.isScrolling=!0,void(this.scrollTimer=setTimeout(t.proxy(function(){this.isScrolling=!1},this),2500)))},this))},e.prototype.setPlaceholder=function(e){e&&(this.options.placeholder=e),this.$textarea&&this.$textarea.attr("placeholder",this.options.placeholder),this.$placeholder||(this.$placeholder=t('<span class="fr-placeholder" unselectable="on"></span>').bind("click",t.proxy(function(){this.focus()},this)),this.$element.after(this.$placeholder)),this.$placeholder.text(this.options.placeholder)},e.prototype.isEmpty=function(){var e=this.$element.text().replace(/(\r\n|\n|\r|\t|\u200B|\u0020)/gm,"");return""===e&&0===this.$element.find("img, table, iframe, input, textarea, hr, li, object").length&&0===this.$element.find(this.options.defaultTag+" > br, br").length&&0===this.$element.find(t.map(this.valid_nodes,t.proxy(function(t){return this.options.defaultTag==t?null:t},this)).join(", ")).length},e.prototype.checkPlaceholder=function(i){if(this.isDisabled&&!i)return!1;if(this.pasting&&!i)return!1;if(this.$element.find("td:empty, th:empty").append(t.Editable.INVISIBLE_SPACE),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").append(this.br),!this.isHTML)if(this.isEmpty()&&!this.fakeEmpty()){var n,s=this.selectionInEditor()||this.$element.is(":focus");this.options.paragraphy?(n=t("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"),this.$element.html(n),s&&this.setSelection(n.get(0)),this.$element.addClass("f-placeholder")):(0!==this.$element.find("br").length||this.browser.msie&&e.getIEversion()<=10||(this.$element.append(this.br),s&&this.browser.msie&&this.focus()),this.$element.addClass("f-placeholder"))}else!this.$element.find(this.options.defaultTag+", li, td, th").length&&this.options.paragraphy?(this.wrapText(!0),this.$element.find(this.options.defaultTag).length&&""===this.text()?this.setSelection(this.$element.find(this.options.defaultTag)[0],this.$element.find(this.options.defaultTag).text().length,null,this.$element.find(this.options.defaultTag).text().length):this.$element.removeClass("f-placeholder")):this.fakeEmpty()===!1&&(!this.options.paragraphy||this.$element.find(this.valid_nodes.join(",")).length>=1)?this.$element.removeClass("f-placeholder"):!this.options.paragraphy&&this.$element.find(this.valid_nodes.join(",")).length>=1?this.$element.removeClass("f-placeholder"):this.$element.addClass("f-placeholder");return!0},e.prototype.fakeEmpty=function(t){void 0===t&&(t=this.$element);var e=!0;this.options.paragraphy&&(e=1==t.find(this.options.defaultTag).length?!0:!1);var i=t.text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return""===i&&e&&1==t.find("br, li").length&&0===t.find("img, table, iframe, input, textarea, hr, li").length},e.prototype.setPlaceholderEvents=function(){this.browser.msie&&e.getIEversion()<9||(this.$element.on("focus click",t.proxy(function(t){return this.isDisabled?!1:void(""!==this.$element.text()||this.pasting||(this.$element.data("focused")||"click"!==t.type?"focus"==t.type&&this.focus(!1):this.$element.focus(),this.$element.data("focused",!0)))},this)),this.$element.on("keyup keydown input focus placeholderCheck",t.proxy(function(){return this.checkPlaceholder()},this)),this.$element.trigger("placeholderCheck"))},e.prototype.setDimensions=function(t,e,i,n){t&&(this.options.height=t),e&&(this.options.width=e),i&&(this.options.minHeight=i),n&&(this.options.maxHeight=n),"auto"!=this.options.height&&(this.$wrapper.css("height",this.options.height),this.$element.css("minHeight",this.options.height-parseInt(this.$element.css("padding-top"),10)-parseInt(this.$element.css("padding-bottom"),10))),"auto"!=this.options.minHeight&&(this.$wrapper.css("minHeight",this.options.minHeight),this.$element.css("minHeight",this.options.minHeight)),"auto"!=this.options.maxHeight&&this.$wrapper.css("maxHeight",this.options.maxHeight),"auto"!=this.options.width&&this.$box.css("width",this.options.width)},e.prototype.setDirection=function(t){t&&(this.options.direction=t),"ltr"!=this.options.direction&&"rtl"!=this.options.direction&&(this.options.direction="ltr"),"rtl"==this.options.direction?(this.$element.removeAttr("dir"),this.$box.addClass("f-rtl"),this.$element.addClass("f-rtl"),this.$editor.addClass("f-rtl"),this.$popup_editor.addClass("f-rtl"),this.$image_modal&&this.$image_modal.addClass("f-rtl")):(this.$element.attr("dir","auto"),this.$box.removeClass("f-rtl"),this.$element.removeClass("f-rtl"),this.$editor.removeClass("f-rtl"),this.$popup_editor.removeClass("f-rtl"),this.$image_modal&&this.$image_modal.removeClass("f-rtl"))
},e.prototype.setZIndex=function(t){t&&(this.options.zIndex=t),this.$editor.css("z-index",this.options.zIndex),this.$popup_editor.css("z-index",this.options.zIndex+1),this.$overlay&&this.$overlay.css("z-index",this.options.zIndex+1002),this.$image_modal&&this.$image_modal.css("z-index",this.options.zIndex+1003)},e.prototype.setTheme=function(t){t&&(this.options.theme=t),null!=this.options.theme&&(this.$editor.addClass(this.options.theme+"-theme"),this.$popup_editor.addClass(this.options.theme+"-theme"),this.$box&&this.$box.addClass(this.options.theme+"-theme"),this.$image_modal&&this.$image_modal.addClass(this.options.theme+"-theme"))},e.prototype.setSpellcheck=function(t){void 0!==t&&(this.options.spellcheck=t),this.$element.attr("spellcheck",this.options.spellcheck)},e.prototype.customizeText=function(e){if(e){var i=this.$editor.find("[title]").add(this.$popup_editor.find("[title]"));this.$image_modal&&(i=i.add(this.$image_modal.find("[title]"))),i.each(t.proxy(function(i,n){for(var s in e)t(n).attr("title").toLowerCase()==s.toLowerCase()&&t(n).attr("title",e[s])},this)),i=this.$editor.find('[data-text="true"]').add(this.$popup_editor.find('[data-text="true"]')),this.$image_modal&&(i=i.add(this.$image_modal.find('[data-text="true"]'))),i.each(t.proxy(function(i,n){for(var s in e)t(n).text().toLowerCase()==s.toLowerCase()&&t(n).text(e[s])},this))}},e.prototype.setLanguage=function(e){void 0!==e&&(this.options.language=e),t.Editable.LANGS[this.options.language]&&(this.customizeText(t.Editable.LANGS[this.options.language].translation),t.Editable.LANGS[this.options.language].direction&&t.Editable.LANGS[this.options.language].direction!=t.Editable.DEFAULTS.direction&&this.setDirection(t.Editable.LANGS[this.options.language].direction),t.Editable.LANGS[this.options.language].translation[this.options.placeholder]&&this.setPlaceholder(t.Editable.LANGS[this.options.language].translation[this.options.placeholder]))},e.prototype.setCustomText=function(t){t&&(this.options.customText=t),this.options.customText&&this.customizeText(this.options.customText)},e.prototype.execHTML=function(){this.html()},e.prototype.initHTMLArea=function(){this.$html_area=t('<textarea wrap="hard">').keydown(function(e){var i=e.keyCode||e.which;if(9==i){e.preventDefault();var n=t(this).get(0).selectionStart,s=t(this).get(0).selectionEnd;t(this).val(t(this).val().substring(0,n)+"	"+t(this).val().substring(s)),t(this).get(0).selectionStart=t(this).get(0).selectionEnd=n+1}}).focus(t.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this)).mouseup(t.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this))},e.prototype.command_dispatcher={align:function(t){var e=this.buildDropdownAlign(t),i=this.buildDropdownButton(t,e);return i},formatBlock:function(t){var e=this.buildDropdownFormatBlock(t),i=this.buildDropdownButton(t,e);return i},html:function(e){var i=this.buildDefaultButton(e);return this.options.inlineMode&&this.$box.append(t(i).clone(!0).addClass("html-switch").attr("title","Hide HTML").click(t.proxy(this.execHTML,this))),this.initHTMLArea(),i}},e.prototype.setButtons=function(t){t&&(this.options.buttons=t),this.$editor.append('<div class="bttn-wrapper" id="bttn-wrapper-'+this._id+'">'),this.$bttn_wrapper=this.$editor.find("#bttn-wrapper-"+this._id),this.mobile()&&this.$bttn_wrapper.addClass("touch");for(var i,n,s="",o=0;o<this.options.buttons.length;o++){var r=this.options.buttons[o];if("sep"!=r){var a=e.commands[r];if(void 0!==a){a.cmd=r;var l=this.command_dispatcher[a.cmd];l?s+=l.apply(this,[a]):a.seed?(i=this.buildDefaultDropdown(a),n=this.buildDropdownButton(a,i),s+=n):(n=this.buildDefaultButton(a),s+=n,this.bindRefreshListener(a))}else{if(a=this.options.customButtons[r],void 0===a){if(a=this.options.customDropdowns[r],void 0===a)continue;n=this.buildCustomDropdown(a,r),s+=n,this.bindRefreshListener(a);continue}n=this.buildCustomButton(a,r),s+=n,this.bindRefreshListener(a)}}else s+=this.options.inlineMode?'<div class="f-clear"></div><hr/>':'<span class="f-sep"></span>'}this.$bttn_wrapper.html(s),this.$bttn_wrapper.find('button[data-cmd="undo"], button[data-cmd="redo"]').prop("disabled",!0),this.bindButtonEvents()},e.prototype.bindRefreshListener=function(e){e.refresh&&this.addListener("refresh",t.proxy(function(){e.refresh.apply(this,[e.cmd])},this))},e.prototype.buildDefaultButton=function(t){var e='<button tabIndex="-1" type="button" class="fr-bttn" title="'+t.title+'" data-cmd="'+t.cmd+'">';return e+=void 0===this.options.icons[t.cmd]?this.addButtonIcon(t):this.prepareIcon(this.options.icons[t.cmd],t.title),e+="</button>"},e.prototype.prepareIcon=function(t,e){switch(t.type){case"font":return this.addButtonIcon({icon:t.value});case"img":return this.addButtonIcon({icon_img:t.value,title:e});case"txt":return this.addButtonIcon({icon_txt:t.value})}},e.prototype.addButtonIcon=function(t){return t.icon?'<i class="'+t.icon+'"></i>':t.icon_alt?'<i class="for-text">'+t.icon_alt+"</i>":t.icon_img?'<img src="'+t.icon_img+'" alt="'+t.title+'"/>':t.icon_txt?"<i>"+t.icon_txt+"</i>":t.title},e.prototype.buildCustomButton=function(t,e){this["call_"+e]=t.callback;var i='<button tabIndex="-1" type="button" class="fr-bttn" data-callback="call_'+e+'" data-cmd="button_name" data-name="'+e+'" title="'+t.title+'">'+this.prepareIcon(t.icon,t.title)+"</button>";return i},e.prototype.callDropdown=function(e,i){this.$bttn_wrapper.on("click touch",'[data-name="'+e+'"]',t.proxy(function(t){t.preventDefault(),t.stopPropagation(),i.apply(this)},this))},e.prototype.buildCustomDropdown=function(t,e){var i='<div class="fr-bttn fr-dropdown">';i+='<button tabIndex="-1" type="button" class="fr-trigger" title="'+t.title+'" data-name="'+e+'">'+this.prepareIcon(t.icon,t.title)+"</button>",i+='<ul class="fr-dropdown-menu">';var n=0;for(var s in t.options){this["call_"+e+n]=t.options[s];var o='<li data-callback="call_'+e+n+'" data-cmd="'+e+n+'" data-name="'+e+n+'"><a href="#">'+s+"</a></li>";i+=o,n++}return i+="</ul></div>"},e.prototype.buildDropdownButton=function(t,e,i){i=i||"";var n='<div class="fr-bttn fr-dropdown '+i+'">',s="";s+=void 0===this.options.icons[t.cmd]?this.addButtonIcon(t):this.prepareIcon(this.options.icons[t.cmd],t.title);var o='<button tabIndex="-1" type="button" data-name="'+t.cmd+'" class="fr-trigger" title="'+t.title+'">'+s+"</button>";return n+=o,n+=e,n+="</div>"},e.prototype.buildDropdownAlign=function(t){this.bindRefreshListener(t);for(var e='<ul class="fr-dropdown-menu f-align">',i=0;i<t.seed.length;i++){var n=t.seed[i];e+='<li data-cmd="align" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return e+="</ul>"},e.prototype.buildDropdownFormatBlock=function(t){var e='<ul class="fr-dropdown-menu">';for(var i in this.options.blockTags){var n='<li data-cmd="'+t.cmd+'" data-val="'+i+'">';n+='<a href="#" data-text="true" class="format-'+i+'" title="'+this.options.blockTags[i]+'">'+this.options.blockTags[i]+"</a></li>",e+=n}return e+="</ul>"},e.prototype.buildDefaultDropdown=function(t){for(var e='<ul class="fr-dropdown-menu">',i=0;i<t.seed.length;i++){var n=t.seed[i],s='<li data-namespace="'+t.namespace+'" data-cmd="'+(n.cmd||t.cmd)+'" data-val="'+n.value+'" data-param="'+(n.param||t.param)+'">';s+='<a href="#" data-text="true" class="'+n.value+'" title="'+n.title+'">'+n.title+"</a></li>",e+=s}return e+="</ul>"},e.prototype.createEditPopupHTML=function(){var t='<div class="froala-popup froala-text-popup" style="display:none;">';return t+='<h4><span data-text="true">Edit text</span><i title="Cancel" class="fa fa-times" id="f-text-close-'+this._id+'"></i></h4></h4>',t+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu" id="f-ti-'+this._id+'">',t+='<button data-text="true" type="button" class="f-ok" id="f-edit-popup-ok-'+this._id+'">OK</button>',t+="</div>",t+="</div>"},e.prototype.buildEditPopup=function(){this.$edit_popup_wrapper=t(this.createEditPopupHTML()),this.$popup_editor.append(this.$edit_popup_wrapper),this.$edit_popup_wrapper.find("#f-ti-"+this._id).on("mouseup keydown",function(t){t.stopPropagation()}),this.addListener("hidePopups",t.proxy(function(){this.$edit_popup_wrapper.hide()},this)),this.$edit_popup_wrapper.on("click","#f-edit-popup-ok-"+this._id,t.proxy(function(){this.$element.text(this.$edit_popup_wrapper.find("#f-ti-"+this._id).val()),this.sync(),this.hide()},this)),this.$edit_popup_wrapper.on("click","i#f-text-close-"+this._id,t.proxy(function(){this.hide()},this))},e.prototype.createCORSRequest=function(t,e){var i=new XMLHttpRequest;if("withCredentials"in i){i.open(t,e,!0),this.options.withCredentials&&(i.withCredentials=!0);for(var n in this.options.headers)i.setRequestHeader(n,this.options.headers[n])}else"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(t,e)):i=null;return i},e.prototype.isEnabled=function(e){return t.inArray(e,this.options.buttons)>=0},e.prototype.bindButtonEvents=function(){this.bindDropdownEvents(this.$bttn_wrapper),this.bindCommandEvents(this.$bttn_wrapper)},e.prototype.bindDropdownEvents=function(i){var n=this;i.on(this.mousedown,".fr-dropdown .fr-trigger:not([disabled])",function(e){return"mousedown"===e.type&&1!==e.which?!0:("LI"===this.tagName&&"touchstart"===e.type&&n.android()||n.iOS()||e.preventDefault(),void t(this).attr("data-down",!0))}),i.on(this.mouseup,".fr-dropdown .fr-trigger:not([disabled])",function(s){if(n.isDisabled)return!1;if(s.stopPropagation(),s.preventDefault(),!t(this).attr("data-down"))return t("[data-down]").removeAttr("data-down"),!1;t("[data-down]").removeAttr("data-down"),n.options.inlineMode===!1&&0===t(this).parents(".froala-popup").length&&(n.hide(),n.closeImageMode(),n.imageMode=!1),t(this).toggleClass("active").trigger("blur");var o,r=t(this).attr("data-name");return e.commands[r]?o=e.commands[r].refreshOnShow:n.options.customDropdowns[r]?o=n.options.customDropdowns[r].refreshOnShow:e.image_commands[r]&&(o=e.image_commands[r].refreshOnShow),o&&o.call(n),i.find("button.fr-trigger").not(this).removeClass("active"),!1}),i.on(this.mouseup,".fr-dropdown",function(t){t.stopPropagation(),t.preventDefault()}),this.$element.on("mouseup","img, a",t.proxy(function(){return this.isDisabled?!1:void i.find(".fr-dropdown .fr-trigger").removeClass("active")},this)),i.on("click","li[data-cmd] > a",function(t){t.preventDefault()})},e.prototype.bindCommandEvents=function(e){var i=this;e.on(this.mousedown,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",function(e){return"mousedown"===e.type&&1!==e.which?!0:("LI"===this.tagName&&"touchstart"===e.type&&i.android()||i.iOS()||e.preventDefault(),void t(this).attr("data-down",!0))}),e.on(this.mouseup+" "+this.move,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",t.proxy(function(e){if(i.isDisabled)return!1;if("mouseup"===e.type&&1!==e.which)return!0;var n=e.currentTarget;if("touchmove"!=e.type){if(e.stopPropagation(),e.preventDefault(),!t(n).attr("data-down"))return t("[data-down]").removeAttr("data-down"),!1;if(t("[data-down]").removeAttr("data-down"),t(n).data("dragging")||t(n).attr("disabled"))return t(n).removeData("dragging"),!1;var s=t(n).data("timeout");s&&(clearTimeout(s),t(n).removeData("timeout"));var o=t(n).attr("data-callback");if(i.options.inlineMode===!1&&0===t(n).parents(".froala-popup").length&&(i.hide(),i.closeImageMode(),i.imageMode=!1),o)t(n).parents(".fr-dropdown").find(".fr-trigger.active").removeClass("active"),i[o]();else{var r=t(n).attr("data-namespace"),a=t(n).attr("data-cmd"),l=t(n).attr("data-val"),h=t(n).attr("data-param");r?i["exec"+r](a,l,h):(i.exec(a,l,h),i.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"))}return!1}t(n).data("timeout")||t(n).data("timeout",setTimeout(function(){t(n).data("dragging",!0)},200))},this))},e.prototype.save=function(){if(!this.triggerEvent("beforeSave",[],!1))return!1;if(this.options.saveURL){var e={};for(var i in this.options.saveParams){var n=this.options.saveParams[i];e[i]="function"==typeof n?n.call(this):n}var s={};s[this.options.saveParam]=this.getHTML(),t.ajax({type:this.options.saveRequestType,url:this.options.saveURL,data:t.extend(s,e),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(t.proxy(function(t){this.triggerEvent("afterSave",[t])},this)).fail(t.proxy(function(){this.triggerEvent("saveError",["Save request failed on the server."])},this))}else this.triggerEvent("saveError",["Missing save URL."])},e.prototype.isURL=function(t){if(!/^(https?:|ftps?:|)\/\//.test(t))return!1;t=String(t).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var e=/\(?(?:(https?:|ftps?:|)\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|(?:www.)?(?:[^\W\s]|\.|-)|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/gi;return e.test(t)},e.prototype.sanitizeURL=function(t){if(/^(https?:|ftps?:|)\/\//.test(t)){if(!this.isURL(t))return""}else t=encodeURIComponent(t).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/g,"mailto:").replace(/tel%3A/g,"tel:").replace(/data%3Aimage/g,"data:image").replace(/webkit-fake-url%3A/g,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@");return t},e.prototype.parents=function(t,e){return t.get(0)!=this.$element.get(0)?t.parentsUntil(this.$element,e):[]},e.prototype.option=function(e,i){if(void 0===e)return this.options;if(e instanceof Object)this.options=t.extend({},this.options,e),this.initOptions(),this.setCustomText(),this.setLanguage(),this.setAllowScript(),this.setAllowStyle();else{if(void 0===i)return this.options[e];switch(this.options[e]=i,e){case"direction":this.setDirection();break;case"height":case"width":case"minHeight":case"maxHeight":this.setDimensions();break;case"spellcheck":this.setSpellcheck();break;case"placeholder":this.setPlaceholder();break;case"customText":this.setCustomText();break;case"language":this.setLanguage();break;case"textNearImage":this.setTextNearImage();break;case"zIndex":this.setZIndex();break;case"theme":this.setTheme();break;case"allowScript":this.setAllowScript();break;case"allowStyle":this.setAllowStyle()}}};var i=t.fn.editable;t.fn.editable=function(i){for(var n=[],s=0;s<arguments.length;s++)n.push(arguments[s]);if("string"==typeof i){var o=[];return this.each(function(){var e=t(this),s=e.data("fa.editable");if(!s[i])return t.error("Method "+i+" does not exist in Froala Editor.");var r=s[i].apply(s,n.slice(1));void 0===r?o.push(this):0===o.length&&o.push(r)}),1==o.length?o[0]:o}return"object"!=typeof i&&i?void 0:this.each(function(){var n=this,s=t(n),o=s.data("fa.editable");o||s.data("fa.editable",o=new e(n,i))})},t.fn.editable.Constructor=e,t.Editable=e,t.fn.editable.noConflict=function(){return t.fn.editable=i,this}}(window.jQuery),function(t){t.Editable.prototype.initUndoRedo=function(){this.undoStack=[],this.undoIndex=0,this.saveUndoStep(),this.disableBrowserUndo()},t.Editable.prototype.undo=function(){if(this.no_verify=!0,this.undoIndex>1){clearTimeout(this.typingTimer),this.triggerEvent("beforeUndo",[],!1);var t=this.undoStack[--this.undoIndex-1];this.restoreSnapshot(t),this.doingRedo=!0,this.triggerEvent("afterUndo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},t.Editable.prototype.redo=function(){if(this.no_verify=!0,this.undoIndex<this.undoStack.length){clearTimeout(this.typingTimer),this.triggerEvent("beforeRedo",[],!1);var t=this.undoStack[this.undoIndex++];this.restoreSnapshot(t),this.doingRedo=!0,this.triggerEvent("afterRedo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},t.Editable.prototype.saveUndoStep=function(){if(!this.undoStack)return!1;for(;this.undoStack.length>this.undoIndex;)this.undoStack.pop();var t=this.getSnapshot();this.undoStack[this.undoIndex-1]&&this.identicSnapshots(this.undoStack[this.undoIndex-1],t)||(this.undoStack.push(t),this.undoIndex++),this.refreshUndo(),this.refreshRedo()},t.Editable.prototype.refreshUndo=function(){if(this.isEnabled("undo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="undo"]').removeAttr("disabled"),(0===this.undoStack.length||this.undoIndex<=1||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="undo"]').attr("disabled",!0)}},t.Editable.prototype.refreshRedo=function(){if(this.isEnabled("redo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="redo"]').removeAttr("disabled"),(this.undoIndex==this.undoStack.length||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="redo"]').prop("disabled",!0)}},t.Editable.prototype.getNodeIndex=function(t){for(var e=t.parentNode.childNodes,i=0,n=null,s=0;s<e.length;s++){if(n){var o=3===e[s].nodeType&&""===e[s].textContent,r=3===n.nodeType&&3===e[s].nodeType;o||r||i++}if(e[s]==t)return i;n=e[s]}},t.Editable.prototype.getNodeLocation=function(t){var e=[];if(!t.parentNode)return[];for(;t!=this.$element.get(0);)e.push(this.getNodeIndex(t)),t=t.parentNode;return e.reverse()},t.Editable.prototype.getNodeByLocation=function(t){for(var e=this.$element.get(0),i=0;i<t.length;i++)e=e.childNodes[t[i]];return e},t.Editable.prototype.getRealNodeOffset=function(t,e){for(;t&&3===t.nodeType;){var i=t.previousSibling;i&&3==i.nodeType&&(e+=i.textContent.length),t=i}return e},t.Editable.prototype.getRangeSnapshot=function(t){return{scLoc:this.getNodeLocation(t.startContainer),scOffset:this.getRealNodeOffset(t.startContainer,t.startOffset),ecLoc:this.getNodeLocation(t.endContainer),ecOffset:this.getRealNodeOffset(t.endContainer,t.endOffset)}},t.Editable.prototype.getSnapshot=function(){var t={};if(t.html=this.$element.html(),t.ranges=[],this.selectionInEditor()&&this.$element.is(":focus"))for(var e=this.getRanges(),i=0;i<e.length;i++)t.ranges.push(this.getRangeSnapshot(e[i]));return t},t.Editable.prototype.identicSnapshots=function(t,e){return t.html!=e.html?!1:JSON.stringify(t.ranges)!=JSON.stringify(e.ranges)?!1:!0},t.Editable.prototype.restoreRangeSnapshot=function(t,e){try{var i=this.getNodeByLocation(t.scLoc),n=t.scOffset,s=this.getNodeByLocation(t.ecLoc),o=t.ecOffset,r=this.document.createRange();r.setStart(i,n),r.setEnd(s,o),e.addRange(r)}catch(a){}},t.Editable.prototype.restoreSnapshot=function(e){this.$element.html()!=e.html&&this.$element.html(e.html);var i=this.getSelection();this.clearSelection(),this.$element.focus();for(var n=0;n<e.ranges.length;n++)this.restoreRangeSnapshot(e.ranges[n],i);setTimeout(t.proxy(function(){this.$element.find(".f-img-wrap img").click()},this),0)}}(jQuery),function(t){t.Editable.prototype.refreshButtons=function(e){return this.initialized&&(this.selectionInEditor()&&!this.isHTML||this.browser.msie&&t.Editable.getIEversion()<9||e)?(this.$editor.find("button[data-cmd]").removeClass("active"),this.refreshDisabledState(),void this.raiseEvent("refresh")):!1},t.Editable.prototype.refreshDisabledState=function(){if(this.isHTML)return!1;if(this.$editor){for(var e=0;e<this.options.buttons.length;e++){var i=this.options.buttons[e];if(void 0!==t.Editable.commands[i]){var n=!1;t.isFunction(t.Editable.commands[i].disabled)?n=t.Editable.commands[i].disabled.apply(this):void 0!==t.Editable.commands[i].disabled&&(n=!0),n?(this.$editor.find('button[data-cmd="'+i+'"]').prop("disabled",!0),this.$editor.find('button[data-name="'+i+'"]').prop("disabled",!0)):(this.$editor.find('button[data-cmd="'+i+'"]').removeAttr("disabled"),this.$editor.find('button[data-name="'+i+'"]').removeAttr("disabled"))}}this.refreshUndo(),this.refreshRedo()}},t.Editable.prototype.refreshFormatBlocks=function(){var t=this.getSelectionElements()[0],e=t.tagName.toLowerCase();this.options.paragraphy&&e===this.options.defaultTag.toLowerCase()&&(e="n"),this.$editor.find('.fr-bttn > button[data-name="formatBlock"] + ul li').removeClass("active"),this.$bttn_wrapper.find('.fr-bttn > button[data-name="formatBlock"] + ul li[data-val="'+e+'"]').addClass("active")},t.Editable.prototype.refreshDefault=function(t){try{this.document.queryCommandState(t)===!0&&this.$editor.find('[data-cmd="'+t+'"]').addClass("active")}catch(e){}},t.Editable.prototype.refreshAlign=function(){var e=t(this.getSelectionElements()[0]);this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var i,n=e.css("text-align");["left","right","justify","center"].indexOf(n)<0&&(n="left"),"left"==n?i="justifyLeft":"right"==n?i="justifyRight":"justify"==n?i="justifyFull":"center"==n&&(i="justifyCenter"),this.$editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+n),this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+i+'"]').addClass("active")},t.Editable.prototype.refreshHTML=function(){this.isActive("html")?this.$editor.find('[data-cmd="html"]').addClass("active"):this.$editor.find('[data-cmd="html"]').removeClass("active")}}(jQuery),function(t){t.Editable.commands={bold:{title:"Bold",icon:"fa fa-bold",shortcut:"(Ctrl + B)",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},italic:{title:"Italic",icon:"fa fa-italic",shortcut:"(Ctrl + I)",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},underline:{cmd:"underline",title:"Underline",icon:"fa fa-underline",shortcut:"(Ctrl + U)",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},strikeThrough:{title:"Strikethrough",icon:"fa fa-strikethrough",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},subscript:{title:"Subscript",icon:"fa fa-subscript",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},superscript:{title:"Superscript",icon:"fa fa-superscript",refresh:t.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(t){this._startInDefault(t)}},formatBlock:{title:"Format Block",icon:"fa fa-paragraph",refreshOnShow:t.Editable.prototype.refreshFormatBlocks,callback:function(t,e){this.formatBlock(e)},undo:!0},align:{title:"Alignment",icon:"fa fa-align-left",refresh:t.Editable.prototype.refreshAlign,refreshOnShow:t.Editable.prototype.refreshAlign,seed:[{cmd:"justifyLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"justifyCenter",title:"Align Center",icon:"fa fa-align-center"},{cmd:"justifyRight",title:"Align Right",icon:"fa fa-align-right"},{cmd:"justifyFull",title:"Justify",icon:"fa fa-align-justify"}],callback:function(t,e){this.align(e)},undo:!0},outdent:{title:"Indent Less",icon:"fa fa-dedent",activeless:!0,shortcut:"(Ctrl + <)",callback:function(){this.outdent(!0)},undo:!0},indent:{title:"Indent More",icon:"fa fa-indent",activeless:!0,shortcut:"(Ctrl + >)",callback:function(){this.indent()},undo:!0},selectAll:{title:"Select All",icon:"fa fa-file-text",shortcut:"(Ctrl + A)",callback:function(t,e){this.$element.focus(),this.execDefault(t,e)},undo:!1},createLink:{title:"Insert Link",icon:"fa fa-link",shortcut:"(Ctrl + K)",callback:function(){this.insertLink()},undo:!1},insertImage:{title:"Insert Image",icon:"fa fa-picture-o",activeless:!0,shortcut:"(Ctrl + P)",callback:function(){this.insertImage()},undo:!1},undo:{title:"Undo",icon:"fa fa-undo",activeless:!0,shortcut:"(Ctrl+Z)",refresh:t.Editable.prototype.refreshUndo,callback:function(){this.undo()},undo:!1},redo:{title:"Redo",icon:"fa fa-repeat",activeless:!0,shortcut:"(Shift+Ctrl+Z)",refresh:t.Editable.prototype.refreshRedo,callback:function(){this.redo()},undo:!1},html:{title:"Show HTML",icon:"fa fa-code",refresh:t.Editable.prototype.refreshHTML,callback:function(){this.html()},undo:!1},save:{title:"Save",icon:"fa fa-floppy-o",callback:function(){this.save()},undo:!1},insertHorizontalRule:{title:"Insert Horizontal Line",icon:"fa fa-minus",callback:function(t){this.insertHR(t)},undo:!0},removeFormat:{title:"Clear formatting",icon:"fa fa-eraser",activeless:!0,callback:function(){this.removeFormat()},undo:!0}},t.Editable.prototype.exec=function(e,i,n){return!this.selectionInEditor()&&t.Editable.commands[e].undo&&this.focus(),this.selectionInEditor()&&""===this.text()&&t.Editable.commands[e].callbackWithoutSelection?(t.Editable.commands[e].callbackWithoutSelection.apply(this,[e,i,n]),!1):void(t.Editable.commands[e].callback?t.Editable.commands[e].callback.apply(this,[e,i,n]):this.execDefault(e,i))},t.Editable.prototype.html=function(){var t;this.isHTML?(this.isHTML=!1,t=this.$html_area.val(),this.$box.removeClass("f-html"),this.$element.attr("contenteditable",!0),this.setHTML(t,!1),this.$editor.find('.fr-bttn:not([data-cmd="html"]), .fr-trigger').removeAttr("disabled"),this.$editor.find('.fr-bttn[data-cmd="html"]').removeClass("active"),this.$element.blur(),this.focus(),this.refreshButtons(),this.triggerEvent("htmlHide",[t],!0,!1)):(this.$box.removeClass("f-placeholder"),this.clearSelection(),this.cleanify(!1,!0,!1),t=this.cleanTags(this.getHTML(!1,!1)),this.$html_area.val(t).trigger("resize"),this.$html_area.css("height",this.$element.height()-1),this.$element.html("").append(this.$html_area).removeAttr("contenteditable"),this.$box.addClass("f-html"),this.$editor.find('button.fr-bttn:not([data-cmd="html"]), button.fr-trigger').attr("disabled",!0),this.$editor.find('.fr-bttn[data-cmd="html"]').addClass("active"),this.isHTML=!0,this.hide(),this.imageMode=!1,this.$element.blur(),this.$element.removeAttr("contenteditable"),this.triggerEvent("htmlShow",[t],!0,!1))},t.Editable.prototype.insertHR=function(e){this.$element.find("hr").addClass("fr-tag"),this.$element.hasClass("f-placeholder")?t(this.$element.find("> "+this.valid_nodes.join(", >"))[0]).before("<hr/>"):this.document.execCommand(e),this.hide();var i=this.$element.find("hr:not(.fr-tag)").next(this.valid_nodes.join(","));i.length>0?t(i[0]).prepend(this.markers_html):this.$element.find("hr:not(.fr-tag)").after(this.options.paragraphy?"<p>"+this.markers_html+"<br/></p>":this.markers_html),this.restoreSelectionByMarkers(),this.triggerEvent(e,[],!0,!1)},t.Editable.prototype.formatBlock=function(e){if(this.disabledList.indexOf("formatBlock")>=0)return!1;if(this.browser.msie&&t.Editable.getIEversion()<9)return"n"==e&&(e=this.options.defaultTag),this.document.execCommand("formatBlock",!1,"<"+e+">"),this.triggerEvent("formatBlock"),!1;if(this.$element.hasClass("f-placeholder")){if(this.options.paragraphy||"n"!=e){"n"==e&&(e=this.options.defaultTag);var i=t("<"+e+"><br/></"+e+">");this.$element.html(i),this.setSelection(i.get(0),0),this.$element.removeClass("f-placeholder")}}else{this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var n=this.getSelectionElements();n[0]==this.$element.get(0)&&(n=this.$element.find("> "+this.valid_nodes.join(", >"))),this.saveSelectionByMarkers();for(var s,o=function(e){if("PRE"==e.get(0).tagName)for(;e.find("br + br").length>0;){var i=t(e.find("br + br")[0]);i.prev().remove(),i.replaceWith("\n\n")}},r=0;r<n.length;r++){var a=t(n[r]);if(!this.fakeEmpty(a)){if(o(a),!this.options.paragraphy&&this.emptyElement(a.get(0))&&a.append("<br/>"),"n"==e)if(this.options.paragraphy){var l="<"+this.options.defaultTag+this.attrs(a.get(0))+">"+a.html()+"</"+this.options.defaultTag+">";s=t(l)}else s=a.html()+"<br/>";else s=t("<"+e+this.attrs(a.get(0))+">").html(a.html());a.get(0)!=this.$element.get(0)?a.replaceWith(s):a.html(s)}}this.unwrapText(),this.$element.find("pre + pre").each(function(){t(this).prepend(t(this).prev().html()+"<br/><br/>"),t(this).prev().remove()});var h=this;this.$element.find(this.valid_nodes.join(",")).each(function(){"PRE"!=this.tagName&&t(this).replaceWith("<"+this.tagName+h.attrs(this)+">"+t(this).html().replace(/\n\n/gi,"</"+this.tagName+"><"+this.tagName+">")+"</"+this.tagName+">")}),this.$element.find(this.valid_nodes.join(":empty ,")+":empty").append("<br/>"),this.cleanupLists(),this.restoreSelectionByMarkers()}this.triggerEvent("formatBlock"),this.repositionEditor()},t.Editable.prototype.align=function(e){if(this.browser.msie&&t.Editable.getIEversion()<9)return this.document.execCommand(e,!1,!1),this.triggerEvent("align",[e]),!1;this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers(),this.saveSelectionByMarkers();var i=this.getSelectionElements();"justifyLeft"==e?e="left":"justifyRight"==e?e="right":"justifyCenter"==e?e="center":"justifyFull"==e&&(e="justify");for(var n=0;n<i.length;n++)this.parents(t(i[n]),"LI").length>0&&(i[n]=t(i[n]).parents("LI").get(0)),t(i[n]).css("text-align",e);this.cleanupLists(),this.unwrapText(),this.restoreSelectionByMarkers(),this.repositionEditor(),this.triggerEvent("align",[e])},t.Editable.prototype.indent=function(e,i){if(void 0===i&&(i=!0),this.browser.msie&&t.Editable.getIEversion()<9)return e?this.document.execCommand("outdent",!1,!1):this.document.execCommand("indent",!1,!1),!1;var n=20;e&&(n=-20),this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var s=this.getSelectionElements();this.saveSelectionByMarkers();for(var o=0;o<s.length;o++)t(s[o]).parentsUntil(this.$element,"li").length>0&&(s[o]=t(s[o]).closest("li").get(0));for(var r=0;r<s.length;r++){var a=t(s[r]);if(this.raiseEvent("indent",[a,e]))if(a.get(0)!=this.$element.get(0)){var l=parseInt(a.css("margin-left"),10),h=Math.max(0,l+n);a.css("marginLeft",h),0===h&&(a.css("marginLeft",""),void 0===a.css("style")&&a.removeAttr("style"))}else{var d=t("<div>").html(a.html());a.html(d),d.css("marginLeft",Math.max(0,n)),0===Math.max(0,n)&&(d.css("marginLeft",""),void 0===d.css("style")&&d.removeAttr("style"))}}this.unwrapText(),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),e||this.triggerEvent("indent")},t.Editable.prototype.outdent=function(t){this.indent(!0,t),this.triggerEvent("outdent")},t.Editable.prototype.execDefault=function(t,e){this.saveUndoStep(),this.document.execCommand(t,!1,e),this.triggerEvent(t,[],!0,!0)},t.Editable.prototype._startInDefault=function(t){this.focus(),this.document.execCommand(t,!1,!1),this.refreshButtons()},t.Editable.prototype._startInFontExec=function(e,i,n){this.focus();try{var s=this.getRange(),o=s.cloneRange();o.collapse(!1);var r=t('<span data-inserted="true" data-fr-verified="true" style="'+e+": "+n+';">'+t.Editable.INVISIBLE_SPACE+"</span>",this.document);o.insertNode(r[0]),r=this.$element.find("[data-inserted]"),r.removeAttr("data-inserted"),this.setSelection(r.get(0),1),null!=i&&this.triggerEvent(i,[n],!0,!0)}catch(a){}},t.Editable.prototype.removeFormat=function(){this.document.execCommand("removeFormat",!1,!1),this.document.execCommand("unlink",!1,!1),this.refreshButtons()},t.Editable.prototype.inlineStyle=function(e,i,n){if(this.browser.webkit){var s=function(t){return t.attr("style").indexOf("font-size")>=0};this.$element.find("[style]").each(function(e,i){var n=t(i);s(n)&&(n.attr("data-font-size",n.css("font-size")),n.css("font-size",""))})}this.document.execCommand("fontSize",!1,4),this.saveSelectionByMarkers(),this.browser.webkit&&this.$element.find("[data-font-size]").each(function(e,i){var n=t(i);n.css("font-size",n.attr("data-font-size")),n.removeAttr("data-font-size")});var o=function(i){var s=t(i);s.css(e)!=n&&s.css(e,""),""===s.attr("style")&&s.replaceWith(s.html())};this.$element.find("font").each(function(i,s){var r=t('<span data-fr-verified="true" style="'+e+": "+n+';">'+t(s).html()+"</span>");t(s).replaceWith(r);for(var a=r.find("span"),l=a.length-1;l>=0;l--)o(a[l])}),this.removeBlankSpans(),this.restoreSelectionByMarkers(),this.repositionEditor(),null!=i&&this.triggerEvent(i,[n],!0,!0)}}(jQuery),function(t){t.Editable.prototype.addListener=function(t,e){var i=this._events,n=i[t]=i[t]||[];n.push(e)},t.Editable.prototype.raiseEvent=function(t,e){void 0===e&&(e=[]);var i=!0,n=this._events[t];if(n)for(var s=0,o=n.length;o>s;s++){var r=n[s].apply(this,e);void 0!==r&&i!==!1&&(i=r)}return void 0===i&&(i=!0),i}}(jQuery),function(t){t.Editable.prototype.start_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',t.Editable.prototype.end_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span>',t.Editable.prototype.markers_html='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span><span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',t.Editable.prototype.text=function(){var t="";
return this.window.getSelection?t=this.window.getSelection():this.document.getSelection?t=this.document.getSelection():this.document.selection&&(t=this.document.selection.createRange().text),t.toString()},t.Editable.prototype.selectionInEditor=function(){var e=this.getSelectionParent(),i=!1;return e==this.$element.get(0)&&(i=!0),i===!1&&t(e).parents().each(t.proxy(function(t,e){e==this.$element.get(0)&&(i=!0)},this)),i},t.Editable.prototype.getSelection=function(){var t="";return t=this.window.getSelection?this.window.getSelection():this.document.getSelection?this.document.getSelection():this.document.selection.createRange()},t.Editable.prototype.getRange=function(){var t=this.getRanges();return t.length>0?t[0]:null},t.Editable.prototype.getRanges=function(){var t=this.getSelection();if(t.getRangeAt&&t.rangeCount){for(var e=[],i=0;i<t.rangeCount;i++)e.push(t.getRangeAt(i));return e}return this.document.createRange?[this.document.createRange()]:[]},t.Editable.prototype.clearSelection=function(){var t=this.getSelection();try{t.removeAllRanges?t.removeAllRanges():t.empty?t.empty():t.clear&&t.clear()}catch(e){}},t.Editable.prototype.getSelectionElement=function(){var e=this.getSelection();if(e&&e.rangeCount){var i=this.getRange(),n=i.startContainer;if(1==n.nodeType){var s=!1;n.childNodes.length>0&&n.childNodes[i.startOffset]&&t(n.childNodes[i.startOffset]).text()===this.text()&&(n=n.childNodes[i.startOffset],s=!0),!s&&n.childNodes.length>0&&t(n.childNodes[0]).text()===this.text()&&["BR","IMG","HR"].indexOf(n.childNodes[0].tagName)<0&&(n=n.childNodes[0])}for(;1!=n.nodeType&&n.parentNode;)n=n.parentNode;for(var o=n;o&&"BODY"!=o.tagName;){if(o==this.$element.get(0))return n;o=t(o).parent()[0]}}return this.$element.get(0)},t.Editable.prototype.getSelectionParent=function(){var e,i=null;return this.window.getSelection?(e=this.window.getSelection(),e&&e.rangeCount&&(i=e.getRangeAt(0).commonAncestorContainer,1!=i.nodeType&&(i=i.parentNode))):(e=this.document.selection)&&"Control"!=e.type&&(i=e.createRange().parentElement()),null!=i&&(t.inArray(this.$element.get(0),t(i).parents())>=0||i==this.$element.get(0))?i:null},t.Editable.prototype.nodeInRange=function(t,e){var i;if(t.intersectsNode)return t.intersectsNode(e);i=e.ownerthis.document.createRange();try{i.selectNode(e)}catch(n){i.selectNodeContents(e)}return-1==t.compareBoundaryPoints(Range.END_TO_START,i)&&1==t.compareBoundaryPoints(Range.START_TO_END,i)},t.Editable.prototype.getElementFromNode=function(e){for(1!=e.nodeType&&(e=e.parentNode);null!==e&&this.valid_nodes.indexOf(e.tagName)<0;)e=e.parentNode;return null!=e&&"LI"==e.tagName&&t(e).find(this.valid_nodes.join(",")).not("li").length>0?null:t.makeArray(t(e).parents()).indexOf(this.$element.get(0))>=0?e:null},t.Editable.prototype.nextNode=function(t,e){if(t.hasChildNodes())return t.firstChild;for(;t&&!t.nextSibling&&t!=e;)t=t.parentNode;return t&&t!=e?t.nextSibling:null},t.Editable.prototype.getRangeSelectedNodes=function(t){var e=[],i=t.startContainer,n=t.endContainer;if(i==n&&"TR"!=i.tagName){if(i.hasChildNodes()&&0!==i.childNodes.length){for(var s=i.childNodes,o=t.startOffset;o<t.endOffset;o++)s[o]&&e.push(s[o]);return 0===e.length&&e.push(i),e}return[i]}if(i==n&&"TR"==i.tagName){var r=i.childNodes,a=t.startOffset;if(r.length>a&&a>=0){var l=r[a];if("TD"==l.tagName||"TH"==l.tagName)return[l]}}for(;i&&i!=n;)i=this.nextNode(i,n),(i!=n||t.endOffset>0)&&e.push(i);for(i=t.startContainer;i&&i!=t.commonAncestorContainer;)e.unshift(i),i=i.parentNode;return e},t.Editable.prototype.getSelectedNodes=function(){if(this.window.getSelection){var e=this.window.getSelection();if(!e.isCollapsed){for(var i=this.getRanges(),n=[],s=0;s<i.length;s++)n=t.merge(n,this.getRangeSelectedNodes(i[s]));return n}if(this.selectionInEditor()){var o=e.getRangeAt(0).startContainer;return 3==o.nodeType?[o.parentNode]:[o]}}return[]},t.Editable.prototype.getSelectionElements=function(){var e=this.getSelectedNodes(),i=[];return t.each(e,t.proxy(function(t,e){if(null!==e){var n=this.getElementFromNode(e);i.indexOf(n)<0&&n!=this.$element.get(0)&&null!==n&&i.push(n)}},this)),0===i.length&&i.push(this.$element.get(0)),i},t.Editable.prototype.getSelectionLink=function(){var e=this.getSelectionLinks();return e.length>0?t(e[0]).attr("href"):null},t.Editable.prototype.saveSelection=function(){if(!this.selectionDisabled){this.savedRanges=[];for(var t=this.getRanges(),e=0;e<t.length;e++)this.savedRanges.push(t[e].cloneRange())}},t.Editable.prototype.restoreSelection=function(){if(!this.selectionDisabled){var t,e,i=this.getSelection();if(this.savedRanges&&this.savedRanges.length)for(i.removeAllRanges(),t=0,e=this.savedRanges.length;e>t;t+=1)i.addRange(this.savedRanges[t]);this.savedRanges=null}},t.Editable.prototype.insertMarkersAtPoint=function(t){var e=t.clientX,i=t.clientY;this.removeMarkers();var n,s=null;if("undefined"!=typeof this.document.caretPositionFromPoint?(n=this.document.caretPositionFromPoint(e,i),s=this.document.createRange(),s.setStart(n.offsetNode,n.offset),s.setEnd(n.offsetNode,n.offset)):"undefined"!=typeof this.document.caretRangeFromPoint&&(n=this.document.caretRangeFromPoint(e,i),s=this.document.createRange(),s.setStart(n.startContainer,n.startOffset),s.setEnd(n.startContainer,n.startOffset)),null!==s&&"undefined"!=typeof this.window.getSelection){var o=this.window.getSelection();o.removeAllRanges(),o.addRange(s)}else if("undefined"!=typeof this.document.body.createTextRange)try{s=this.document.body.createTextRange(),s.moveToPoint(e,i);var r=s.duplicate();r.moveToPoint(e,i),s.setEndPoint("EndToEnd",r),s.select()}catch(a){}this.placeMarker(s,!0,0),this.placeMarker(s,!1,0)},t.Editable.prototype.saveSelectionByMarkers=function(){if(!this.selectionDisabled){this.selectionInEditor()||this.focus(),this.removeMarkers();for(var t=this.getRanges(),e=0;e<t.length;e++)if(t[e].startContainer!==this.document){var i=t[e];this.placeMarker(i,!0,e),this.placeMarker(i,!1,e)}}},t.Editable.prototype.hasSelectionByMarkers=function(){var t=this.$element.find('.f-marker[data-type="true"]');return t.length>0?!0:!1},t.Editable.prototype.restoreSelectionByMarkers=function(e){if(void 0===e&&(e=!0),!this.selectionDisabled){var i=this.$element.find('.f-marker[data-type="true"]');if(0===i.length)return!1;this.$element.is(":focus")||this.browser.msie||this.$element.focus();var n=this.getSelection();(e||this.getRange()&&!this.getRange().collapsed||!t(i[0]).attr("data-collapsed"))&&(this.browser.msie&&t.Editable.getIEversion()<9||(this.clearSelection(),e=!0));for(var s=0;s<i.length;s++){var o=t(i[s]).data("id"),r=i[s],a=this.$element.find('.f-marker[data-type="false"][data-id="'+o+'"]');if(this.browser.msie&&t.Editable.getIEversion()<9)return this.setSelection(r,0,a,0),this.removeMarkers(),!1;var l;if(l=e?this.document.createRange():this.getRange(),a.length>0){a=a[0];try{l.setStartAfter(r),l.setEndBefore(a)}catch(h){}}e&&n.addRange(l)}this.removeMarkers()}},t.Editable.prototype.setSelection=function(t,e,i,n){var s=this.getSelection();if(s){this.clearSelection();try{i||(i=t),void 0===e&&(e=0),void 0===n&&(n=e);var o=this.getRange();o.setStart(t,e),o.setEnd(i,n),s.addRange(o)}catch(r){}}},t.Editable.prototype.buildMarker=function(e,i,n){return void 0===n&&(n=""),t('<span class="f-marker"'+n+' style="display:none; line-height: 0;" data-fr-verified="true" data-id="'+i+'" data-type="'+e+'">',this.document)[0]},t.Editable.prototype.placeMarker=function(e,i,n){var s="";e.collapsed&&(s=' data-collapsed="true"');try{var o=e.cloneRange();o.collapse(i);var r,a,l;if(o.insertNode(this.buildMarker(i,n,s)),i===!0&&s)for(r=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;3===r.nodeType&&0===r.data.length;)t(r).remove(),r=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;if(i===!0&&""===s&&(l=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0),r=l.nextSibling,r&&r.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(r.tagName)>=0)){a=[r];do r=a[0],a=t(r).contents();while(a[0]&&this.valid_nodes.indexOf(a[0].tagName)>=0);t(r).prepend(t(l))}if(i===!1&&""===s&&(l=this.$element.find('span.f-marker[data-type="false"][data-id="'+n+'"]').get(0),r=l.previousSibling,r&&r.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(r.tagName)>=0)){a=[r];do r=a[a.length-1],a=t(r).contents();while(a[a.length-1]&&this.valid_nodes.indexOf(a[a.length-1].tagName)>=0);t(r).append(t(l))}}catch(h){}},t.Editable.prototype.removeMarkers=function(){this.$element.find(".f-marker").remove()},t.Editable.prototype.getSelectionTextInfo=function(t){var e,i,n=!1,s=!1;if(this.window.getSelection){var o=this.window.getSelection();o&&o.rangeCount&&(e=o.getRangeAt(0),i=e.cloneRange(),i.selectNodeContents(t),i.setEnd(e.startContainer,e.startOffset),n=""===i.toString(),i.selectNodeContents(t),i.setStart(e.endContainer,e.endOffset),s=""===i.toString())}else this.document.selection&&"Control"!=this.document.selection.type&&(e=this.document.selection.createRange(),i=e.duplicate(),i.moveToElementText(t),i.setEndPoint("EndToStart",e),n=""===i.text,i.moveToElementText(t),i.setEndPoint("StartToEnd",e),s=""===i.text);return{atStart:n,atEnd:s}},t.Editable.prototype.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)}}(jQuery),function(t){t.Editable.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},t.Editable.hexToRGBString=function(t){var e=this.hexToRGB(t);return e?"rgb("+e.r+", "+e.g+", "+e.b+")":""},t.Editable.RGBToHex=function(t){function e(t){return("0"+parseInt(t,10).toString(16)).slice(-2)}try{return t&&"transparent"!==t?/^#[0-9A-F]{6}$/i.test(t)?t:(t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+e(t[1])+e(t[2])+e(t[3])).toUpperCase()):""}catch(i){return null}},t.Editable.getIEversion=function(){var t,e,i=-1;return"Microsoft Internet Explorer"==navigator.appName?(t=navigator.userAgent,e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(t=navigator.userAgent,e=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==e.exec(t)&&(i=parseFloat(RegExp.$1))),i},t.Editable.browser=function(){var t={};if(this.getIEversion()>0)t.msie=!0;else{var e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n={browser:i[1]||"",version:i[2]||"0"};i[1]&&(t[n.browser]=!0),parseInt(n.version,10)<9&&t.msie&&(t.oldMsie=!0),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0)}return t},t.Editable.isArray=function(t){return t&&!t.propertyIsEnumerable("length")&&"object"==typeof t&&"number"==typeof t.length},t.Editable.uniq=function(e){return t.grep(e,function(i,n){return n==t.inArray(i,e)})},t.Editable.cleanWhitespace=function(e){e.contents().filter(function(){return 1==this.nodeType&&t.Editable.cleanWhitespace(t(this)),3==this.nodeType&&!/\S/.test(this.nodeValue)}).remove()}}(jQuery),function(t){t.Editable.prototype.show=function(e){if(this.hideDropdowns(),void 0!==e){if(this.options.inlineMode||this.options.editInPopup)if(null!==e&&"touchend"!==e.type){if(this.options.showNextToCursor){var i=e.pageX,n=e.pageY;i<this.$element.offset().left&&(i=this.$element.offset().left),i>this.$element.offset().left+this.$element.width()&&(i=this.$element.offset().left+this.$element.width()),n<this.$element.offset.top&&(n=this.$element.offset().top),n>this.$element.offset().top+this.$element.height()&&(n=this.$element.offset().top+this.$element.height()),20>i&&(i=20),0>n&&(n=0),this.showByCoordinates(i,n)}else this.repositionEditor();t(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),0!==this.options.buttons.length||this.options.editInPopup||this.$editor.hide()}else t(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),this.repositionEditor();this.hidePopups(),this.options.editInPopup||this.showEditPopupWrapper(),this.$bttn_wrapper.show(),this.refreshButtons(),this.imageMode=!1}},t.Editable.prototype.hideDropdowns=function(){this.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"),this.$bttn_wrapper.find(".fr-dropdown .fr-trigger")},t.Editable.prototype.hide=function(t){return this.initialized?(void 0===t&&(t=!0),t?this.hideOtherEditors():(this.closeImageMode(),this.imageMode=!1),this.$popup_editor.hide(),this.hidePopups(!1),void(this.link=!1)):!1},t.Editable.prototype.hideOtherEditors=function(){for(var e=1;e<=t.Editable.count;e++)e!=this._id&&this.$window.trigger("hide."+e)},t.Editable.prototype.hideBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.hide()},t.Editable.prototype.showBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.show()},t.Editable.prototype.showEditPopupWrapper=function(){this.$edit_popup_wrapper&&(this.$edit_popup_wrapper.show(),setTimeout(t.proxy(function(){this.$edit_popup_wrapper.find("input").val(this.$element.text()).focus().select()},this),1))},t.Editable.prototype.hidePopups=function(t){void 0===t&&(t=!0),t&&this.hideBttnWrapper(),this.raiseEvent("hidePopups")},t.Editable.prototype.showEditPopup=function(){this.showEditPopupWrapper()}}(jQuery),function(t){t.Editable.prototype.getBoundingRect=function(){var e;if(this.isLink){e={};var i=this.$element;e.left=i.offset().left-this.$window.scrollLeft(),e.top=i.offset().top-this.$window.scrollTop(),e.width=i.outerWidth(),e.height=parseInt(i.css("padding-top").replace("px",""),10)+i.height(),e.right=1,e.bottom=1,e.ok=!0}else if(this.getRange()&&this.getRange().collapsed){var n=t(this.getSelectionElement());this.saveSelectionByMarkers();var s=this.$element.find(".f-marker:first");s.css("display","inline");var o=s.offset();s.css("display","none"),e={},e.left=o.left-this.$window.scrollLeft(),e.width=0,e.height=(parseInt(n.css("line-height").replace("px",""),10)||10)-10-this.$window.scrollTop(),e.top=o.top,e.right=1,e.bottom=1,e.ok=!0,this.removeMarkers()}else this.getRange()&&(e=this.getRange().getBoundingClientRect());return e},t.Editable.prototype.repositionEditor=function(t){var e,i,n;if(this.options.inlineMode||t){if(e=this.getBoundingRect(),this.showBttnWrapper(),e.ok||e.left>=0&&e.top>=0&&e.right>0&&e.bottom>0)i=e.left+e.width/2,n=e.top+e.height,this.iOS()&&this.iOSVersion()<8||(i+=this.$window.scrollLeft(),n+=this.$window.scrollTop()),this.showByCoordinates(i,n);else if(this.options.alwaysVisible)this.hide();else{var s=this.$element.offset();this.showByCoordinates(s.left,s.top+10)}0===this.options.buttons.length&&this.hide()}},t.Editable.prototype.showByCoordinates=function(t,e){t-=22,e+=8;var i=this.$document.find(this.options.scrollableContainer);"body"!=this.options.scrollableContainer&&(t-=i.offset().left,e-=i.offset().top,this.iPad()||(t+=i.scrollLeft(),e+=i.scrollTop()));var n=Math.max(this.$popup_editor.outerWidth(),250);t+n>=i.outerWidth()-50&&t+44-n>0?(this.$popup_editor.addClass("right-side"),t=i.outerWidth()-(t+44),"static"==i.css("position")&&(t=t+parseFloat(i.css("margin-left"),10)+parseFloat(i.css("margin-right"),10)),this.$popup_editor.css("top",e),this.$popup_editor.css("right",t),this.$popup_editor.css("left","auto")):t+n<i.outerWidth()-50?(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",e),this.$popup_editor.css("left",t),this.$popup_editor.css("right","auto")):(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",e),this.$popup_editor.css("left",Math.max(i.outerWidth()-n,10)/2),this.$popup_editor.css("right","auto")),this.$popup_editor.show()},t.Editable.prototype.positionPopup=function(e){if(t(this.$editor.find('button.fr-bttn[data-cmd="'+e+'"]')).length){var i=this.$editor.find('button.fr-bttn[data-cmd="'+e+'"]'),n=i.width(),s=i.height(),o=i.offset().left+n/2,r=i.offset().top+s;this.showByCoordinates(o,r)}}}(jQuery),function(t){t.Editable.prototype.refreshImageAlign=function(t){this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var e="floatImageNone",i="center";t.hasClass("fr-fil")?(i="left",e="floatImageLeft"):t.hasClass("fr-fir")&&(i="right",e="floatImageRight"),this.$image_editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+i),this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+e+'"]').addClass("active")},t.Editable.prototype.refreshImageDisplay=function(){var t=this.$element.find(".f-img-editor");this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li').removeClass("active"),t.hasClass("fr-dib")?this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dib"]').addClass("active"):this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dii"]').addClass("active")},t.Editable.image_commands={align:{title:"Alignment",icon:"fa fa-align-center",refresh:t.Editable.prototype.refreshImageAlign,refreshOnShow:t.Editable.prototype.refreshImageAlign,seed:[{cmd:"floatImageLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"floatImageNone",title:"Align Center",icon:"fa fa-align-center"},{cmd:"floatImageRight",title:"Align Right",icon:"fa fa-align-right"}],callback:function(t,e,i){this[i](t)},undo:!0},display:{title:"Text Wrap",icon:"fa fa-star",refreshOnShow:t.Editable.prototype.refreshImageDisplay,namespace:"Image",seed:[{title:"Inline",value:"fr-dii"},{title:"Break Text",value:"fr-dib"}],callback:function(t,e,i){this.displayImage(t,i)},undo:!0},linkImage:{title:"Insert Link",icon:{type:"font",value:"fa fa-link"},callback:function(t){this.linkImage(t)}},replaceImage:{title:"Replace Image",icon:{type:"font",value:"fa fa-exchange"},callback:function(t){this.replaceImage(t)}},removeImage:{title:"Remove Image",icon:{type:"font",value:"fa fa-trash-o"},callback:function(t){this.removeImage(t)}}},t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{allowedImageTypes:["jpeg","jpg","png","gif"],customImageButtons:{},defaultImageTitle:"Image title",defaultImageWidth:300,defaultImageDisplay:"block",defaultImageAlignment:"center",imageButtons:["display","align","linkImage","replaceImage","removeImage"],imageDeleteConfirmation:!0,imageDeleteURL:null,imageDeleteParams:{},imageMove:!0,imageResize:!0,imageLink:!0,imageTitle:!0,imageUpload:!0,imageUploadParams:{},imageUploadParam:"file",imageUploadToS3:!1,imageUploadURL:"http://i.froala.com/upload",maxImageSize:10485760,pasteImage:!0,textNearImage:!0}),t.Editable.prototype.hideImageEditorPopup=function(){this.$image_editor&&this.$image_editor.hide()},t.Editable.prototype.showImageEditorPopup=function(){this.$image_editor&&this.$image_editor.show(),this.options.imageMove||this.$element.attr("contenteditable",!1)},t.Editable.prototype.showImageWrapper=function(){this.$image_wrapper&&this.$image_wrapper.show()},t.Editable.prototype.hideImageWrapper=function(t){this.$image_wrapper&&(this.$element.attr("data-resize")||t||(this.closeImageMode(),this.imageMode=!1),this.$image_wrapper.hide(),this.$image_wrapper.find("input").blur())},t.Editable.prototype.showInsertImage=function(){this.hidePopups(),this.showImageWrapper()},t.Editable.prototype.showImageEditor=function(){this.hidePopups(),this.showImageEditorPopup()},t.Editable.prototype.insertImageHTML=function(){var e='<div class="froala-popup froala-image-popup" style="display: none;"><h4><span data-text="true">Insert Image</span><span data-text="true">Uploading image</span><i title="Cancel" class="fa fa-times" id="f-image-close-'+this._id+'"></i></h4>';return e+='<div id="f-image-list-'+this._id+'">',this.options.imageUpload&&(e+='<div class="f-popup-line drop-upload">',e+='<div class="f-upload" id="f-upload-div-'+this._id+'"><strong data-text="true">Drop Image</strong><br>(<span data-text="true">or click</span>)<form target="frame-'+this._id+'" enctype="multipart/form-data" encoding="multipart/form-data" action="'+this.options.imageUploadURL+'" method="post" id="f-upload-form-'+this._id+'"><input id="f-file-upload-'+this._id+'" type="file" name="'+this.options.imageUploadParam+'" accept="image/*"></form></div>',this.browser.msie&&t.Editable.getIEversion()<=9&&(e+='<iframe id="frame-'+this._id+'" name="frame-'+this._id+'" src="javascript:false;" style="width:0; height:0; border:0px solid #FFF; position: fixed; z-index: -1;"></iframe>'),e+="</div>"),this.options.imageLink&&(e+='<div class="f-popup-line"><label><span data-text="true">Enter URL</span>: </label><input id="f-image-url-'+this._id+'" type="text" placeholder="http://example.com"><button class="f-browse fr-p-bttn" id="f-browser-'+this._id+'"><i class="fa fa-search"></i></button><button data-text="true" class="f-ok fr-p-bttn f-submit" id="f-image-ok-'+this._id+'">OK</button></div>'),e+="</div>",e+='<p class="f-progress" id="f-progress-'+this._id+'"><span></span></p>',e+="</div>"},t.Editable.prototype.iFrameLoad=function(){var t=this.$image_wrapper.find("iframe#frame-"+this._id);if(!t.attr("data-loaded"))return t.attr("data-loaded",!0),!1;try{var e=this.$image_wrapper.find("#f-upload-form-"+this._id);if(this.options.imageUploadToS3){var i=e.attr("action"),n=e.find('input[name="key"]').val(),s=i+n;this.writeImage(s),this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,s,n)}else{var o=t.contents().text();this.parseImageResponse(o)}}catch(r){this.throwImageError(7)}},t.Editable.prototype.initImage=function(){this.buildInsertImage(),(!this.isLink||this.isImage)&&this.initImagePopup(),this.addListener("destroy",this.destroyImage)},t.Editable.initializers.push(t.Editable.prototype.initImage),t.Editable.prototype.destroyImage=function(){this.$image_editor&&this.$image_editor.html("").removeData().remove(),this.$image_wrapper&&this.$image_wrapper.html("").removeData().remove()},t.Editable.prototype.buildInsertImage=function(){this.$image_wrapper=t(this.insertImageHTML()),this.$popup_editor.append(this.$image_wrapper);var e=this;if(this.$image_wrapper.on("mouseup touchend",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.addListener("hidePopups",t.proxy(function(){this.hideImageWrapper(!0)},this)),this.$progress_bar=this.$image_wrapper.find("p#f-progress-"+this._id),this.options.imageUpload){if(this.browser.msie&&t.Editable.getIEversion()<=9){var i=this.$image_wrapper.find("iframe").get(0);i.attachEvent?i.attachEvent("onload",function(){e.iFrameLoad()}):i.onload=function(){e.iFrameLoad()}}this.$image_wrapper.on("change",'input[type="file"]',function(){if(void 0!==this.files)e.uploadImage(this.files);else{if(!e.triggerEvent("beforeImageUpload",[],!1))return!1;var i=t(this).parents("form");i.find('input[type="hidden"]').remove();var n;for(n in e.options.imageUploadParams)i.prepend('<input type="hidden" name="'+n+'" value="'+e.options.imageUploadParams[n]+'" />');if(e.options.imageUploadToS3!==!1){for(n in e.options.imageUploadToS3.params)i.prepend('<input type="hidden" name="'+n+'" value="'+e.options.imageUploadToS3.params[n]+'" />');i.prepend('<input type="hidden" name="success_action_status" value="201" />'),i.prepend('<input type="hidden" name="X-Requested-With" value="xhr" />'),i.prepend('<input type="hidden" name="Content-Type" value="" />'),i.prepend('<input type="hidden" name="key" value="'+e.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+t(this).val().match(/[^\/\\]+$/)+'" />')}else i.prepend('<input type="hidden" name="XHR_CORS_TRARGETORIGIN" value="'+e.window.location.href+'" />');e.showInsertImage(),e.showImageLoader(!0),e.disable(),i.submit()}t(this).val("")})}this.buildDragUpload(),this.$image_wrapper.on("mouseup keydown","#f-image-url-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation()},this)),this.$image_wrapper.on("click","#f-image-ok-"+this._id,t.proxy(function(){this.writeImage(this.$image_wrapper.find("#f-image-url-"+this._id).val(),!0)},this)),this.$image_wrapper.on(this.mouseup,"#f-image-close-"+this._id,t.proxy(function(t){return this.isDisabled?!1:(t.stopPropagation(),this.$bttn_wrapper.show(),this.hideImageWrapper(!0),this.options.inlineMode&&0===this.options.buttons.length&&(this.imageMode?this.showImageEditor():this.hide()),this.imageMode||(this.restoreSelection(),this.focus()),void(this.options.inlineMode||this.imageMode?this.imageMode&&this.showImageEditor():this.hide()))},this)),this.$image_wrapper.on("click",function(t){t.stopPropagation()}),this.$image_wrapper.on("click","*",function(t){t.stopPropagation()})},t.Editable.prototype.deleteImage=function(e){if(this.options.imageDeleteURL){var i=this.options.imageDeleteParams;i.info=e.data("info"),i.src=e.attr("src"),t.ajax({type:"POST",url:this.options.imageDeleteURL,data:i,crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(t.proxy(function(t){e.parent().parent().hasClass("f-image-list")?e.parent().remove():e.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteSuccess",[t],!1)},this)).fail(t.proxy(function(){e.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Error during image delete."],!1)},this))}else e.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Missing imageDeleteURL option."],!1)},t.Editable.prototype.imageHandle=function(){var e=this,i=t('<span data-fr-verified="true">').addClass("f-img-handle").on({movestart:function(i){e.hide(),e.$element.addClass("f-non-selectable").attr("contenteditable",!1),e.$element.attr("data-resize",!0),t(this).attr("data-start-x",i.startX),t(this).attr("data-start-y",i.startY)},move:function(i){var n=t(this),s=i.pageX-parseInt(n.attr("data-start-x"),10);n.attr("data-start-x",i.pageX),n.attr("data-start-y",i.pageY);var o=n.prevAll("img"),r=o.width();n.hasClass("f-h-ne")||n.hasClass("f-h-se")?o.attr("width",r+s):o.attr("width",r-s),e.triggerEvent("imageResize",[o],!1)},moveend:function(){t(this).removeAttr("data-start-x"),t(this).removeAttr("data-start-y");var i=t(this),n=i.prevAll("img");e.$element.removeClass("f-non-selectable"),e.isImage||e.$element.attr("contenteditable",!0),e.triggerEvent("imageResizeEnd",[n]),t(this).trigger("mouseup")},touchend:function(){t(this).trigger("moveend")}});return i},t.Editable.prototype.disableImageResize=function(){if(this.browser.mozilla)try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(t){}},t.Editable.prototype.isResizing=function(){return this.$element.attr("data-resize")},t.Editable.prototype.getImageStyle=function(t){var e="z-index: 1; position: relative; overflow: auto;",i=t,n="padding";return t.parent().hasClass("f-img-editor")&&(i=t.parent(),n="margin"),e+=" padding-left:"+i.css(n+"-left")+";",e+=" padding-right:"+i.css(n+"-right")+";",e+=" padding-bottom:"+i.css(n+"-bottom")+";",e+=" padding-top:"+i.css(n+"-top")+";",t.hasClass("fr-dib")?(e+=" vertical-align: top; display: block;",e+=t.hasClass("fr-fir")?" float: none; margin-right: 0; margin-left: auto;":t.hasClass("fr-fil")?" float: none; margin-left: 0; margin-right: auto;":" float: none; margin: auto;"):(e+=" display: inline-block;",e+=t.hasClass("fr-fir")?" float: right;":t.hasClass("fr-fil")?" float: left;":" float: none;"),e},t.Editable.prototype.getImageClass=function(t){var e=t.split(" ");return t="fr-fin",e.indexOf("fr-fir")>=0&&(t="fr-fir"),e.indexOf("fr-fil")>=0&&(t="fr-fil"),e.indexOf("fr-dib")>=0&&(t+=" fr-dib"),e.indexOf("fr-dii")>=0&&(t+=" fr-dii"),t},t.Editable.prototype.refreshImageButtons=function(t){this.$image_editor.find("button").removeClass("active");var e=t.css("float");e=t.hasClass("fr-fil")?"Left":t.hasClass("fr-fir")?"Right":"None",this.$image_editor.find('button[data-cmd="floatImage'+e+'"]').addClass("active"),this.raiseEvent("refreshImage",[t])},t.Editable.prototype.initImageEvents=function(){document.addEventListener&&!document.dropAssigned&&(document.dropAssigned=!0,document.addEventListener("drop",t.proxy(function(e){return t(".froala-element img.fr-image-move").length?(e.preventDefault(),e.stopPropagation(),t(".froala-element img.fr-image-move").removeClass("fr-image-move"),!1):void 0},this))),this.disableImageResize();var e=this;this.$element.on("mousedown",'img:not([contenteditable="false"])',function(i){return e.isDisabled?!1:void(e.isResizing()||(e.initialized&&i.stopPropagation(),e.$element.attr("contenteditable",!1),t(this).addClass("fr-image-move")))}),this.$element.on("mouseup",'img:not([contenteditable="false"])',function(){return e.isDisabled?!1:void(e.isResizing()||(e.options.imageMove||e.isImage||e.isHTML||e.$element.attr("contenteditable",!0),t(this).removeClass("fr-image-move")))}),this.$element.on("click touchend",'img:not([contenteditable="false"])',function(i){if(e.isDisabled)return!1;if(!e.isResizing()&&e.initialized){if(i.preventDefault(),i.stopPropagation(),e.closeImageMode(),e.$element.blur(),e.refreshImageButtons(t(this)),e.$image_editor.find('.f-image-alt input[type="text"]').val(t(this).attr("alt")||t(this).attr("title")),e.showImageEditor(),!t(this).parent().hasClass("f-img-editor")||"SPAN"!=t(this).parent().get(0).tagName){var n=e.getImageClass(t(this).attr("class"));t(this).wrap('<span data-fr-verified="true" class="f-img-editor '+n+'"></span>'),0!==t(this).parents(".f-img-wrap").length||e.isImage?t(this).parents(".f-img-wrap").attr("class",n+" f-img-wrap"):t(this).parents("a").length>0?t(this).parents("a:first").wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>'):t(this).parent().wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>')}if(t(this).parent().find(".f-img-handle").remove(),e.options.imageResize){var s=e.imageHandle();t(this).parent().append(s.clone(!0).addClass("f-h-ne")),t(this).parent().append(s.clone(!0).addClass("f-h-se")),t(this).parent().append(s.clone(!0).addClass("f-h-sw")),t(this).parent().append(s.clone(!0).addClass("f-h-nw"))}e.showByCoordinates(t(this).offset().left+t(this).width()/2,t(this).offset().top+t(this).height()),e.imageMode=!0,e.$bttn_wrapper.find(".fr-bttn").removeClass("active"),e.clearSelection()}}),this.$element.on("mousedown touchstart",".f-img-handle",t.proxy(function(){return e.isDisabled?!1:void this.$element.attr("data-resize",!0)},this)),this.$element.on("mouseup",".f-img-handle",t.proxy(function(i){if(e.isDisabled)return!1;var n=t(i.target).prevAll("img");setTimeout(t.proxy(function(){this.$element.removeAttr("data-resize"),n.click()},this),0)},this))},t.Editable.prototype.execImage=function(e,i,n){var s=this.$element.find("span.f-img-editor"),o=s.find("img"),r=t.Editable.image_commands[e]||this.options.customImageButtons[e];r&&r.callback&&r.callback.apply(this,[o,e,i,n])},t.Editable.prototype.bindImageRefreshListener=function(e){e.refresh&&this.addListener("refreshImage",t.proxy(function(t){e.refresh.apply(this,[t])},this))},t.Editable.prototype.buildImageButton=function(t,e){var i='<button class="fr-bttn" data-namespace="Image" data-cmd="'+e+'" title="'+t.title+'">';return i+=void 0!==this.options.icons[e]?this.prepareIcon(this.options.icons[e],t.title):this.prepareIcon(t.icon,t.title),i+="</button>",this.bindImageRefreshListener(t),i},t.Editable.prototype.buildImageAlignDropdown=function(t){this.bindImageRefreshListener(t);for(var e='<ul class="fr-dropdown-menu f-align">',i=0;i<t.seed.length;i++){var n=t.seed[i];e+='<li data-cmd="align" data-namespace="Image" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return e+="</ul>"},t.Editable.prototype.buildImageDropdown=function(t){return dropdown=this.buildDefaultDropdown(t),btn=this.buildDropdownButton(t,dropdown),btn},t.Editable.prototype.image_command_dispatcher={align:function(t){var e=this.buildImageAlignDropdown(t),i=this.buildDropdownButton(t,e);return i}},t.Editable.prototype.buildImageButtons=function(){for(var e="",i=0;i<this.options.imageButtons.length;i++){var n=this.options.imageButtons[i];if(void 0!==t.Editable.image_commands[n]||void 0!==this.options.customImageButtons[n]){var s=t.Editable.image_commands[n]||this.options.customImageButtons[n];s.cmd=n;var o=this.image_command_dispatcher[n];e+=o?o.apply(this,[s]):s.seed?this.buildImageDropdown(s,n):this.buildImageButton(s,n)}}return e},t.Editable.prototype.initImagePopup=function(){this.$image_editor=t('<div class="froala-popup froala-image-editor-popup" style="display: none">');var e=t('<div class="f-popup-line f-popup-toolbar">').appendTo(this.$image_editor);e.append(this.buildImageButtons()),this.addListener("hidePopups",this.hideImageEditorPopup),this.options.imageTitle&&t('<div class="f-popup-line f-image-alt">').append('<label><span data-text="true">Title</span>: </label>').append(t('<input type="text">').on("mouseup keydown touchend",function(t){var e=t.which;
e&&27===e||t.stopPropagation()})).append('<button class="fr-p-bttn f-ok" data-text="true" data-callback="setImageAlt" data-cmd="setImageAlt" title="OK">OK</button>').appendTo(this.$image_editor),this.$popup_editor.append(this.$image_editor),this.bindCommandEvents(this.$image_editor),this.bindDropdownEvents(this.$image_editor)},t.Editable.prototype.displayImage=function(t,e){var i=t.parents("span.f-img-editor");i.removeClass("fr-dii fr-dib").addClass(e),this.triggerEvent("imageDisplayed",[t,e]),t.click()},t.Editable.prototype.floatImageLeft=function(t){var e=t.parents("span.f-img-editor");e.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fil"),this.isImage&&this.$element.css("float","left"),this.triggerEvent("imageFloatedLeft",[t]),t.click()},t.Editable.prototype.floatImageNone=function(t){var e=t.parents("span.f-img-editor");e.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fin"),this.isImage||(e.parent().get(0)==this.$element.get(0)?e.wrap('<div style="text-align: center;"></div>'):e.parents(".f-img-wrap:first").css("text-align","center")),this.isImage&&this.$element.css("float","none"),this.triggerEvent("imageFloatedNone",[t]),t.click()},t.Editable.prototype.floatImageRight=function(t){var e=t.parents("span.f-img-editor");e.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fir"),this.isImage&&this.$element.css("float","right"),this.triggerEvent("imageFloatedRight",[t]),t.click()},t.Editable.prototype.linkImage=function(t){this.imageMode=!0,this.showInsertLink();var e=t.parents("span.f-img-editor");"A"==e.parent().get(0).tagName?this.updateLinkValues(e.parent()):this.resetLinkValues()},t.Editable.prototype.replaceImage=function(t){this.showInsertImage(),this.imageMode=!0,this.$image_wrapper.find('input[type="text"]').val(t.attr("src")),this.showByCoordinates(t.offset().left+t.width()/2,t.offset().top+t.height())},t.Editable.prototype.removeImage=function(e){var i=e.parents("span.f-img-editor");if(0===i.length)return!1;var n=e.get(0),s="Are you sure? Image will be deleted.";if(t.Editable.LANGS[this.options.language]&&(s=t.Editable.LANGS[this.options.language].translation[s]),!this.options.imageDeleteConfirmation||confirm(s)){if(this.triggerEvent("beforeRemoveImage",[t(n)],!1)){var o=i.parents(this.valid_nodes.join(","));i.parents(".f-img-wrap").length?i.parents(".f-img-wrap").remove():i.remove(),this.refreshImageList(!0),this.hide(),o.length&&o[0]!=this.$element.get(0)&&""===t(o[0]).text()&&1==o[0].childNodes.length&&t(o[0]).remove(),this.wrapText(),this.triggerEvent("afterRemoveImage",[e]),this.focus(),this.imageMode=!1}}else e.click()},t.Editable.prototype.setImageAlt=function(){var t=this.$element.find("span.f-img-editor"),e=t.find("img");e.attr("alt",this.$image_editor.find('.f-image-alt input[type="text"]').val()),e.attr("title",this.$image_editor.find('.f-image-alt input[type="text"]').val()),this.hide(),this.closeImageMode(),this.triggerEvent("imageAltSet",[e])},t.Editable.prototype.buildImageMove=function(){var e=this;this.isLink||this.initDrag(),e.$element.on("dragover dragenter dragend",function(t){t.preventDefault()}),e.$element.on("drop",function(i){if(e.isDisabled)return!1;if(e.closeImageMode(),e.hide(),e.imageMode=!1,e.initialized||(e.$element.unbind("mousedown.element"),e.lateInit()),!e.options.imageUpload||0!==t(".froala-element img.fr-image-move").length){if(t(".froala-element .fr-image-move").length>0&&e.options.imageMove){i.preventDefault(),i.stopPropagation(),e.insertMarkersAtPoint(i.originalEvent),e.restoreSelectionByMarkers();var n=t("<div>").append(t(".froala-element img.fr-image-move").clone().removeClass("fr-image-move").addClass("fr-image-dropped")).html();e.insertHTML(n);var s=t(".froala-element img.fr-image-move").parent();t(".froala-element img.fr-image-move").remove(),s.get(0)!=e.$element.get(0)&&s.is(":empty")&&s.remove(),e.clearSelection(),e.initialized?setTimeout(function(){e.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped").click()},0):e.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped"),e.sync(),e.hideOtherEditors()}else i.preventDefault(),i.stopPropagation(),t(".froala-element img.fr-image-move").removeClass("fr-image-move");return!1}if(i.originalEvent.dataTransfer&&i.originalEvent.dataTransfer.files&&i.originalEvent.dataTransfer.files.length){if(e.isDisabled)return!1;var o=i.originalEvent.dataTransfer.files;e.options.allowedImageTypes.indexOf(o[0].type.replace(/image\//g,""))>=0&&(e.insertMarkersAtPoint(i.originalEvent),e.showByCoordinates(i.originalEvent.pageX,i.originalEvent.pageY),e.uploadImage(o),i.preventDefault(),i.stopPropagation())}})},t.Editable.prototype.buildDragUpload=function(){var e=this;e.$image_wrapper.on("dragover","#f-upload-div-"+this._id,function(){return t(this).addClass("f-hover"),!1}),e.$image_wrapper.on("dragend","#f-upload-div-"+this._id,function(){return t(this).removeClass("f-hover"),!1}),e.$image_wrapper.on("drop","#f-upload-div-"+this._id,function(i){return i.preventDefault(),i.stopPropagation(),e.options.imageUpload?(t(this).removeClass("f-hover"),void e.uploadImage(i.originalEvent.dataTransfer.files)):!1})},t.Editable.prototype.showImageLoader=function(e){if(void 0===e&&(e=!1),e){var i="Please wait!";t.Editable.LANGS[this.options.language]&&(i=t.Editable.LANGS[this.options.language].translation[i]),this.$progress_bar.find("span").css("width","100%").text(i)}else this.$image_wrapper.find("h4").addClass("uploading");this.$image_wrapper.find("#f-image-list-"+this._id).hide(),this.$progress_bar.show(),this.showInsertImage()},t.Editable.prototype.hideImageLoader=function(){this.$progress_bar.hide(),this.$progress_bar.find("span").css("width","0%").text(""),this.$image_wrapper.find("#f-image-list-"+this._id).show(),this.$image_wrapper.find("h4").removeClass("uploading")},t.Editable.prototype.writeImage=function(e,i,n){if(i&&(e=this.sanitizeURL(e),""===e))return!1;var s=new Image;s.onerror=t.proxy(function(){this.hideImageLoader(),this.throwImageError(1)},this),s.onload=this.imageMode?t.proxy(function(){var t=this.$element.find(".f-img-editor > img");t.attr("src",e),this.hide(),this.hideImageLoader(),this.$image_editor.show(),this.enable(),this.triggerEvent("imageReplaced",[t,n]),setTimeout(function(){t.trigger("click")},0)},this):t.proxy(function(){this.insertLoadedImage(e,n)},this),this.showImageLoader(!0),s.src=e},t.Editable.prototype.processInsertImage=function(e,i){void 0===i&&(i=!0),this.enable(),this.focus(),this.restoreSelection();var n="";parseInt(this.options.defaultImageWidth,10)&&(n=' width="'+this.options.defaultImageWidth+'"');var s="fr-fin";"left"==this.options.defaultImageAlignment&&(s="fr-fil"),"right"==this.options.defaultImageAlignment&&(s="fr-fir"),s+=" fr-di"+this.options.defaultImageDisplay[0];var o='<img class="'+s+' fr-just-inserted" alt="'+this.options.defaultImageTitle+'" src="'+e+'"'+n+">",r=this.getSelectionElements()[0],a=this.getRange(),l=!this.browser.msie&&t.Editable.getIEversion()>8?t(a.startContainer):null;l&&l.hasClass("f-img-wrap")?(1===a.startOffset?(l.after("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()):0===a.startOffset&&(l.before("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()),this.insertHTML(o)):this.getSelectionTextInfo(r).atStart&&r!=this.$element.get(0)&&"TD"!=r.tagName&&"TH"!=r.tagName&&"LI"!=r.tagName?t(r).before("<"+this.options.defaultTag+">"+o+"</"+this.options.defaultTag+">"):this.insertHTML(o),this.disable()},t.Editable.prototype.insertLoadedImage=function(e,i){this.triggerEvent("imageLoaded",[e],!1),this.processInsertImage(e,!1),this.browser.msie&&this.$element.find("img").each(function(t,e){e.oncontrolselect=function(){return!1}}),this.enable(),this.hide(),this.hideImageLoader(),this.wrapText(),this.cleanupLists();var n,s=this.$element.find("img.fr-just-inserted").get(0);s&&(n=s.previousSibling),n&&3==n.nodeType&&/\u200B/gi.test(n.textContent)&&t(n).remove(),this.triggerEvent("imageInserted",[this.$element.find("img.fr-just-inserted"),i]),setTimeout(t.proxy(function(){this.$element.find("img.fr-just-inserted").removeClass("fr-just-inserted").trigger("touchend")},this),50)},t.Editable.prototype.throwImageErrorWithMessage=function(t){this.enable(),this.triggerEvent("imageError",[{message:t,code:0}],!1),this.hideImageLoader()},t.Editable.prototype.throwImageError=function(t){this.enable();var e="Unknown image upload error.";1==t?e="Bad link.":2==t?e="No link in upload response.":3==t?e="Error during file upload.":4==t?e="Parsing response failed.":5==t?e="Image too large.":6==t?e="Invalid image type.":7==t&&(e="Image can be uploaded only to same domain in IE 8 and IE 9."),this.triggerEvent("imageError",[{code:t,message:e}],!1),this.hideImageLoader()},t.Editable.prototype.uploadImage=function(e){if(!this.triggerEvent("beforeImageUpload",[e],!1))return!1;if(void 0!==e&&e.length>0){var i;if(this.drag_support.formdata&&(i=this.drag_support.formdata?new FormData:null),i){var n;for(n in this.options.imageUploadParams)i.append(n,this.options.imageUploadParams[n]);if(this.options.imageUploadToS3!==!1){for(n in this.options.imageUploadToS3.params)i.append(n,this.options.imageUploadToS3.params[n]);i.append("success_action_status","201"),i.append("X-Requested-With","xhr"),i.append("Content-Type",e[0].type),i.append("key",this.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+e[0].name)}if(i.append(this.options.imageUploadParam,e[0]),e[0].size>this.options.maxImageSize)return this.throwImageError(5),!1;if(this.options.allowedImageTypes.indexOf(e[0].type.replace(/image\//g,""))<0)return this.throwImageError(6),!1}if(i){var s;if(this.options.crossDomain)s=this.createCORSRequest("POST",this.options.imageUploadURL);else{s=new XMLHttpRequest,s.open("POST",this.options.imageUploadURL);for(var o in this.options.headers)s.setRequestHeader(o,this.options.headers[o])}s.onload=t.proxy(function(){var e="Please wait!";t.Editable.LANGS[this.options.language]&&(e=t.Editable.LANGS[this.options.language].translation[e]),this.$progress_bar.find("span").css("width","100%").text(e);try{if(this.options.imageUploadToS3)201==s.status?this.parseImageResponseXML(s.responseXML):this.throwImageError(3);else if(s.status>=200&&s.status<300)this.parseImageResponse(s.responseText);else try{var i=t.parseJSON(s.responseText);i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(3)}catch(n){this.throwImageError(3)}}catch(n){this.throwImageError(4)}},this),s.onerror=t.proxy(function(){this.throwImageError(3)},this),s.upload.onprogress=t.proxy(function(t){if(t.lengthComputable){var e=t.loaded/t.total*100|0;this.$progress_bar.find("span").css("width",e+"%")}},this),this.disable(),s.send(i),this.showImageLoader()}}},t.Editable.prototype.parseImageResponse=function(e){try{if(!this.triggerEvent("afterImageUpload",[e],!1))return!1;var i=t.parseJSON(e);i.link?this.writeImage(i.link,!1,e):i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(2)}catch(n){this.throwImageError(4)}},t.Editable.prototype.parseImageResponseXML=function(e){try{var i=t(e).find("Location").text(),n=t(e).find("Key").text();this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,i,n),i?this.writeImage(i):this.throwImageError(2)}catch(s){this.throwImageError(4)}},t.Editable.prototype.setImageUploadURL=function(t){t&&(this.options.imageUploadURL=t),this.options.imageUploadToS3&&(this.options.imageUploadURL="https://"+this.options.imageUploadToS3.bucket+"."+this.options.imageUploadToS3.region+".amazonaws.com/")},t.Editable.prototype.closeImageMode=function(){this.$element.find("span.f-img-editor > img").each(t.proxy(function(e,i){t(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(t(i).parent().attr("class"))),t(i).parents(".f-img-wrap").length>0?"A"==t(i).parent().parent().get(0).tagName?t(i).siblings("span.f-img-handle").remove().end().unwrap().parent().unwrap():t(i).siblings("span.f-img-handle").remove().end().unwrap().unwrap():t(i).siblings("span.f-img-handle").remove().end().unwrap()},this)),this.$element.find("span.f-img-editor").length&&(this.$element.find("span.f-img-editor").remove(),this.$element.parents("span.f-img-editor").remove()),this.$element.removeClass("f-non-selectable"),this.editableDisabled||this.isHTML||this.$element.attr("contenteditable",!0),this.$image_editor&&this.$image_editor.hide(),this.$link_wrapper&&this.options.linkText&&this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden")},t.Editable.prototype.refreshImageList=function(e){if(!this.isLink&&!this.options.editInPopup){var i=[],n=[],s=this;if(this.$element.find("img").each(function(e,o){var r=t(o);if(i.push(r.attr("src")),n.push(r),"false"==r.attr("contenteditable"))return!0;if(0!==r.parents(".f-img-editor").length||r.hasClass("fr-dii")||r.hasClass("fr-dib")||(s.options.textNearImage?r.addClass(r.hasClass("fr-fin")?"fr-dib":r.hasClass("fr-fil")||r.hasClass("fr-fir")?"fr-dii":"block"==r.css("display")&&"none"==r.css("float")?"fr-dib":"fr-dii"):(r.addClass("fr-dib"),s.options.imageButtons.splice(s.options.imageButtons.indexOf("display"),1))),s.options.textNearImage||r.removeClass("fr-dii").addClass("fr-dib"),0===r.parents(".f-img-editor").length&&!r.hasClass("fr-fil")&&!r.hasClass("fr-fir")&&!r.hasClass("fr-fin"))if(r.hasClass("fr-dii"))r.addClass("right"==r.css("float")?"fr-fir":"left"==r.css("float")?"fr-fil":"fr-fin");else{var a=r.attr("style");r.hide(),r.addClass(0===parseInt(r.css("margin-right"),10)&&a?"fr-fir":0===parseInt(r.css("margin-left"),10)&&a?"fr-fil":"fr-fin"),r.show()}r.css("margin",""),r.css("float",""),r.css("display",""),r.removeAttr("data-style")}),void 0===e)for(var o=0;o<this.imageList.length;o++)i.indexOf(this.imageList[o].attr("src"))<0&&this.triggerEvent("afterRemoveImage",[this.imageList[o]],!1);this.imageList=n}},t.Editable.prototype.insertImage=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("insertImage")),this.selectionInEditor()&&this.saveSelection(),this.showInsertImage(),this.imageMode=!1,this.$image_wrapper.find('input[type="text"]').val("")}}(jQuery),function(t){t.Editable.prototype.showLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.show(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList"),this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode||!this.options.linkText?this.$link_wrapper.find('input[type="text"].f-lt').parent().addClass("fr-hidden"):this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden"),this.imageMode&&this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.phone()?this.$document.scrollTop(this.$link_wrapper.offset().top+30):setTimeout(t.proxy(function(){this.imageMode&&this.iPad()||this.$link_wrapper.find('input[type="text"].f-lu').focus().select()},this),0),this.link=!0),this.refreshDisabledState()},t.Editable.prototype.hideLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.hide(),this.$link_wrapper.find("input").blur()),this.refreshDisabledState()},t.Editable.prototype.showInsertLink=function(){this.hidePopups(),this.showLinkWrapper()},t.Editable.prototype.updateLinkValues=function(e){var i=e.attr("href")||"http://";this.$link_wrapper.find("input.f-lt").val(e.text()),this.isLink?("#"==i&&(i=""),this.$link_wrapper.find("input#f-lu-"+this._id).val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i||"#")):(this.$link_wrapper.find("input.f-lu").val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i)),this.$link_wrapper.find("input.f-target").prop("checked","_blank"==e.attr("target")),this.$link_wrapper.find("li.f-choose-link-class").each(t.proxy(function(i,n){e.hasClass(t(n).data("class"))&&t(n).click()},this));for(var n in this.options.linkAttributes){var s=e.attr(n);this.$link_wrapper.find("input.fl-"+n).val(s?s:"")}this.$link_wrapper.find("a.f-external-link, button.f-unlink").show()},t.Editable.prototype.initLinkEvents=function(){var e=this,i=function(t){t.stopPropagation(),t.preventDefault()},n=function(i){return i.stopPropagation(),i.preventDefault(),e.isDisabled?!1:""!==e.text()?(e.hide(),!1):(e.link=!0,e.clearSelection(),e.removeMarkers(),e.selectionDisabled||(t(this).before('<span class="f-marker" data-type="true" data-id="0" data-fr-verified="true"></span>'),t(this).after('<span class="f-marker" data-type="false" data-id="0" data-fr-verified="true"></span>'),e.restoreSelectionByMarkers()),e.exec("createLink"),e.updateLinkValues(t(this)),e.showByCoordinates(t(this).offset().left+t(this).outerWidth()/2,t(this).offset().top+(parseInt(t(this).css("padding-top"),10)||0)+t(this).height()),e.showInsertLink(),t(this).hasClass("fr-file")?e.$link_wrapper.find("input.f-lu").attr("disabled","disabled"):e.$link_wrapper.find("input.f-lu").removeAttr("disabled"),void e.closeImageMode())};this.$element.on("mousedown","a",t.proxy(function(t){this.isResizing()||t.stopPropagation()},this)),this.isLink?this.iOS()?(this.$element.on("touchstart",i),this.$element.on("touchend",n)):this.$element.on("click",n):this.iOS()?(this.$element.on("touchstart",'a:not([contenteditable="false"])',i),this.$element.on("touchend",'a:not([contenteditable="false"])',n),this.$element.on("touchstart",'a[contenteditable="false"]',i),this.$element.on("touchend",'a[contenteditable="false"]',i)):(this.$element.on("click",'a:not([contenteditable="false"])',n),this.$element.on("click",'a[contenteditable="false"]',i))},t.Editable.prototype.destroyLink=function(){this.$link_wrapper.html("").removeData().remove()},t.Editable.prototype.initLink=function(){this.buildCreateLink(),this.initLinkEvents(),this.addListener("destroy",this.destroyLink)},t.Editable.initializers.push(t.Editable.prototype.initLink),t.Editable.prototype.removeLink=function(){this.imageMode?("A"==this.$element.find(".f-img-editor").parent().get(0).tagName&&t(this.$element.find(".f-img-editor").get(0)).unwrap(),this.triggerEvent("imageLinkRemoved"),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1):(this.restoreSelection(),this.document.execCommand("unlink",!1,null),this.isLink||this.$element.find("a:empty").remove(),this.triggerEvent("linkRemoved"),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1)},t.Editable.prototype.writeLink=function(e,i,n,s,o){var r,a=this.options.noFollow;this.options.alwaysBlank&&(s=!0);var l,h="",d="",p="";a===!0&&/^https?:\/\//.test(e)&&(h='rel="nofollow"'),s===!0&&(d='target="_blank"');for(l in o)p+=" "+l+'="'+o[l]+'"';var c=e;if(e=this.sanitizeURL(e),this.options.convertMailAddresses){var u=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/i;u.test(e)&&0!==e.indexOf("mailto:")&&(e="mailto:"+e)}if(0===e.indexOf("mailto:")||""===this.options.linkAutoPrefix||/^(https?:|ftps?:|)\/\//.test(e)||(e=this.options.linkAutoPrefix+e),""===e)return this.$link_wrapper.find("input.f-lu").addClass("fr-error").focus(),this.triggerEvent("badLink",[c],!1),!1;if(this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode){if("A"!=this.$element.find(".f-img-editor").parent().get(0).tagName)this.$element.find(".f-img-editor").wrap('<a data-fr-link="true" href="'+e+'" '+d+" "+h+p+"></a>");else{var f=this.$element.find(".f-img-editor").parent();s===!0?f.attr("target","_blank"):f.removeAttr("target"),a===!0?f.attr("rel","nofollow"):f.removeAttr("rel");for(l in o)o[l]?f.attr(l,o[l]):f.removeAttr(l);f.removeClass(Object.keys(this.options.linkClasses).join(" ")),f.attr("href",e).addClass(n)}this.triggerEvent("imageLinkInserted",[e]),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1}else{var m=null;this.isLink?""===i&&(i=this.$element.text()):(this.restoreSelection(),r=this.getSelectionLinks(),r.length>0&&(m=r[0].attributes,is_file=t(r[0]).hasClass("fr-file")),this.saveSelectionByMarkers(),this.document.execCommand("unlink",!1,e),this.$element.find('span[data-fr-link="true"]').each(function(e,i){t(i).replaceWith(t(i).html())}),this.restoreSelectionByMarkers()),this.isLink?(this.$element.text(i),r=[this.$element.attr("href",e).get(0)]):(this.removeMarkers(),(this.options.linkText||""===this.text())&&(this.insertHTML('<span class="f-marker" data-fr-verified="true" data-id="0" data-type="true"></span>'+(i||this.clean(c))+'<span class="f-marker" data-fr-verified="true" data-id="0" data-type="false"></span>'),this.restoreSelectionByMarkers()),this.document.execCommand("createLink",!1,e),r=this.getSelectionLinks());for(var g=0;g<r.length;g++){if(m)for(var v=0;v<m.length;v++)"href"!=m[v].nodeName&&t(r[g]).attr(m[v].nodeName,m[v].value);s===!0?t(r[g]).attr("target","_blank"):t(r[g]).removeAttr("target"),a===!0&&/^https?:\/\//.test(e)?t(r[g]).attr("rel","nofollow"):t(r[g]).removeAttr("rel"),t(r[g]).data("fr-link",!0),t(r[g]).removeClass(Object.keys(this.options.linkClasses).join(" ")),t(r[g]).addClass(n);for(l in o)o[l]?t(r[g]).attr(l,o[l]):t(r[g]).removeAttr(l)}this.$element.find("a:empty").remove(),this.triggerEvent("linkInserted",[e]),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1}},t.Editable.prototype.createLinkHTML=function(){var t='<div class="froala-popup froala-link-popup" style="display: none;">';t+='<h4><span data-text="true">Insert Link</span><a target="_blank" title="Open Link" class="f-external-link" href="#"><i class="fa fa-external-link"></i></a><i title="Cancel" class="fa fa-times" id="f-link-close-'+this._id+'"></i></h4>',t+='<div class="f-popup-line fr-hidden"><input type="text" placeholder="Text" class="f-lt" id="f-lt-'+this._id+'"></div>';var e="";if(this.options.linkList.length&&(e="f-bi"),t+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu '+e+'" id="f-lu-'+this._id+'"/>',this.options.linkList.length){t+='<button class="fr-p-bttn f-browse-links" id="f-browse-links-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',t+='<ul id="f-link-list-'+this._id+'">';for(var i=0;i<this.options.linkList.length;i++){var n=this.options.linkList[i],s="";for(var o in n)s+=" data-"+o+'="'+n[o]+'"';t+='<li class="f-choose-link"'+s+">"+n.body+"</li>"}t+="</ul>"}if(t+="</div>",Object.keys(this.options.linkClasses).length){t+='<div class="f-popup-line"><input type="text" placeholder="Choose link type" class="f-bi" id="f-luc-'+this._id+'" disabled="disabled"/>',t+='<button class="fr-p-bttn f-browse-links" id="f-links-class-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',t+='<ul id="f-link-class-list-'+this._id+'">';for(var r in this.options.linkClasses){var a=this.options.linkClasses[r];t+='<li class="f-choose-link-class" data-class="'+r+'">'+a+"</li>"}t+="</ul>",t+="</div>"}for(var l in this.options.linkAttributes){var h=this.options.linkAttributes[l];t+='<div class="f-popup-line"><input class="fl-'+l+'" type="text" placeholder="'+h+'" id="fl-'+l+"-"+this._id+'"/></div>'}return t+='<div class="f-popup-line"><input type="checkbox" class="f-target" id="f-target-'+this._id+'"> <label data-text="true" for="f-target-'+this._id+'">Open in new tab</label><button data-text="true" type="button" class="fr-p-bttn f-ok f-submit" id="f-ok-'+this._id+'">OK</button>',this.options.unlinkButton&&(t+='<button type="button" data-text="true" class="fr-p-bttn f-ok f-unlink" id="f-unlink-'+this._id+'">UNLINK</button>'),t+="</div></div>"},t.Editable.prototype.buildCreateLink=function(){this.$link_wrapper=t(this.createLinkHTML()),this.$popup_editor.append(this.$link_wrapper);var e=this;this.addListener("hidePopups",this.hideLinkWrapper),this.$link_wrapper.on("mouseup touchend",t.proxy(function(t){this.isResizing()||(t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"))},this)),this.$link_wrapper.on("click",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","*",function(t){t.stopPropagation()}),this.options.linkText&&this.$link_wrapper.on("mouseup keydown","input#f-lt-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("mouseup keydown touchend touchstart","input#f-lu-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click keydown","input#f-target-"+this._id,function(t){var e=t.which;e&&27===e||t.stopPropagation()}),this.$link_wrapper.on("touchend","button#f-ok-"+this._id,function(t){t.stopPropagation()}).on("click","button#f-ok-"+this._id,t.proxy(function(){var t,e=this.$link_wrapper.find("input#f-lt-"+this._id),i=this.$link_wrapper.find("input#f-lu-"+this._id),n=this.$link_wrapper.find("input#f-luc-"+this._id),s=this.$link_wrapper.find("input#f-target-"+this._id);t=e?e.val():"";var o=i.val();this.isLink&&""===o&&(o="#");var r="";n&&(r=n.data("class"));var a={};for(var l in this.options.linkAttributes)a[l]=this.$link_wrapper.find("input#fl-"+l+"-"+this._id).val();this.writeLink(o,t,r,s.prop("checked"),a)},this)),this.$link_wrapper.on("click touch","button#f-unlink-"+this._id,t.proxy(function(){this.link=!0,this.removeLink()},this)),this.options.linkList.length&&(this.$link_wrapper.on("click touch","li.f-choose-link",function(){e.resetLinkValues();var i=e.$link_wrapper.find("button#f-browse-links-"+e._id),n=e.$link_wrapper.find("input#f-lt-"+e._id),s=e.$link_wrapper.find("input#f-lu-"+e._id),o=e.$link_wrapper.find("input#f-target-"+e._id);n&&n.val(t(this).data("body")),s.val(t(this).data("href")),o.prop("checked",t(this).data("blank"));for(var r in e.options.linkAttributes)t(this).data(r)&&e.$link_wrapper.find("input#fl-"+r+"-"+e._id).val(t(this).data(r));i.click()}).on("mouseup","li.f-choose-link",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(i){i.stopPropagation();var n=e.$link_wrapper.find("ul#f-link-list-"+e._id);e.$link_wrapper.trigger("hideLinkClassList"),t(this).find("i").toggleClass("fa-chevron-down"),t(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(t){t.stopPropagation()}),this.$link_wrapper.bind("hideLinkList",function(){var t=e.$link_wrapper.find("ul#f-link-list-"+e._id),i=e.$link_wrapper.find("button#f-browse-links-"+e._id);t&&t.is(":visible")&&i.click()})),Object.keys(this.options.linkClasses).length&&(this.$link_wrapper.on("mouseup keydown","input#f-luc-"+this._id,t.proxy(function(t){var e=t.which;e&&27===e||t.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click touch","li.f-choose-link-class",function(){var i=e.$link_wrapper.find("input#f-luc-"+e._id);i.val(t(this).text()),i.data("class",t(this).data("class")),e.$link_wrapper.trigger("hideLinkClassList")}).on("mouseup","li.f-choose-link-class",function(t){t.stopPropagation()}),this.$link_wrapper.on("click","button#f-links-class-"+this._id,function(i){i.stopPropagation(),e.$link_wrapper.trigger("hideLinkList");var n=e.$link_wrapper.find("ul#f-link-class-list-"+e._id);t(this).find("i").toggleClass("fa-chevron-down"),t(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-links-class-"+this._id,function(t){t.stopPropagation()}),this.$link_wrapper.bind("hideLinkClassList",function(){var t=e.$link_wrapper.find("ul#f-link-class-list-"+e._id),i=e.$link_wrapper.find("button#f-links-class-"+e._id);t&&t.is(":visible")&&i.click()})),this.$link_wrapper.on(this.mouseup,"i#f-link-close-"+this._id,t.proxy(function(){this.$bttn_wrapper.show(),this.hideLinkWrapper(),(!this.options.inlineMode&&!this.imageMode||this.isLink||0===this.options.buttons.length)&&this.hide(),this.imageMode?this.showImageEditor():(this.restoreSelection(),this.focus())},this))},t.Editable.prototype.getSelectionLinks=function(){var t,e,i,n,s=[];if(this.window.getSelection){var o=this.window.getSelection();if(o.getRangeAt&&o.rangeCount){n=this.document.createRange();for(var r=0;r<o.rangeCount;++r)if(t=o.getRangeAt(r),e=t.commonAncestorContainer,e&&1!=e.nodeType&&(e=e.parentNode),e&&"a"==e.nodeName.toLowerCase())s.push(e);else{i=e.getElementsByTagName("a");for(var a=0;a<i.length;++a)n.selectNodeContents(i[a]),n.compareBoundaryPoints(t.END_TO_START,t)<1&&n.compareBoundaryPoints(t.START_TO_END,t)>-1&&s.push(i[a])}}}else if(this.document.selection&&"Control"!=this.document.selection.type)if(t=this.document.selection.createRange(),e=t.parentElement(),"a"==e.nodeName.toLowerCase())s.push(e);else{i=e.getElementsByTagName("a"),n=this.document.body.createTextRange();for(var l=0;l<i.length;++l)n.moveToElementText(i[l]),n.compareEndPoints("StartToEnd",t)>-1&&n.compareEndPoints("EndToStart",t)<1&&s.push(i[l])}return s},t.Editable.prototype.resetLinkValues=function(){this.$link_wrapper.find("input").val(""),this.$link_wrapper.find('input[type="checkbox"].f-target').prop("checked",this.options.alwaysBlank),this.$link_wrapper.find('input[type="text"].f-lt').val(this.text()),this.$link_wrapper.find('input[type="text"].f-lu').val("http://"),this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.$link_wrapper.find("a.f-external-link, button.f-unlink").hide();for(var t in this.options.linkAttributes)this.$link_wrapper.find('input[type="text"].fl-'+t).val("")},t.Editable.prototype.insertLink=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("createLink")),this.selectionInEditor()&&this.saveSelection(),this.showInsertLink();var e=this.getSelectionLinks();e.length>0?this.updateLinkValues(t(e[0])):this.resetLinkValues()}}(jQuery),function(t){t.Editable.prototype.browserFixes=function(){this.backspaceEmpty(),this.backspaceInEmptyBlock(),this.fixHR(),this.domInsert(),this.fixIME(),this.cleanInvisibleSpace(),this.cleanBR(),this.insertSpace()},t.Editable.prototype.backspaceInEmptyBlock=function(){this.$element.on("keyup",t.proxy(function(e){var i=e.which;if(this.browser.mozilla&&!this.isHTML&&8==i){var n=t(this.getSelectionElement());this.valid_nodes.indexOf(n.get(0).tagName)>=0&&1==n.find("*").length&&""===n.text()&&1==n.find("br").length&&this.setSelection(n.get(0))}},this))},t.Editable.prototype.insertSpace=function(){this.browser.mozilla&&this.$element.on("keypress",t.proxy(function(t){var e=t.which,i=this.getSelectionElements()[0];this.isHTML||32!=e||"PRE"==i.tagName||(t.preventDefault(),this.insertSimpleHTML("&nbsp;"))},this))},t.Editable.prototype.cleanBR=function(){this.$element.on("keyup",t.proxy(function(){this.$element.find(this.valid_nodes.join(",")).each(t.proxy(function(e,i){if(["TH","TD","LI"].indexOf(i.tagName)>=0)return!0;var n=i.childNodes,s=null;if(!n.length||"BR"!=n[n.length-1].tagName)return!0;s=n[n.length-1];var o=s.previousSibling;o&&"BR"!=o.tagName&&t(s).parent().text().length>0&&this.valid_nodes.indexOf(o.tagName)<0&&t(s).remove()},this))},this))},t.Editable.prototype.replaceU200B=function(e){for(var i=0;i<e.length;i++)3==e[i].nodeType&&/\u200B/gi.test(e[i].textContent)?e[i].textContent=e[i].textContent.replace(/\u200B/gi,""):1==e[i].nodeType&&this.replaceU200B(t(e[i]).contents())},t.Editable.prototype.cleanInvisibleSpace=function(){var e=function(e){var i=t(e).text();return e&&/\u200B/.test(t(e).text())&&i.replace(/\u200B/gi,"").length>0?!0:!1};this.$element.on("keyup",t.proxy(function(){var i=this.getSelectionElement();e(i)&&0===t(i).find("li").length&&(this.saveSelectionByMarkers(),this.replaceU200B(t(i).contents()),this.restoreSelectionByMarkers())},this))},t.Editable.prototype.fixHR=function(){this.$element.on("keypress",t.proxy(function(e){var i=t(this.getSelectionElement());if(i.is("hr")||i.parents("hr").length)return!1;var n=e.which;if(8==n){var s=t(this.getSelectionElements()[0]);s.prev().is("hr")&&this.getSelectionTextInfo(s.get(0)).atStart&&(this.saveSelectionByMarkers(),s.prev().remove(),this.restoreSelectionByMarkers(),e.preventDefault())}},this))},t.Editable.prototype.backspaceEmpty=function(){this.$element.on("keydown",t.proxy(function(t){var e=t.which;!this.isHTML&&8==e&&this.$element.hasClass("f-placeholder")&&t.preventDefault()},this))},t.Editable.prototype.domInsert=function(){this.$element.on("keydown",t.proxy(function(t){var e=t.which;
13===e&&(this.add_br=!0)},this)),this.$element.on("DOMNodeInserted",t.proxy(function(e){if("SPAN"!==e.target.tagName||t(e.target).attr("data-fr-verified")||this.no_verify||this.textEmpty(e.target)||t(e.target).replaceWith(t(e.target).contents()),"BR"===e.target.tagName&&setTimeout(function(){t(e.target).removeAttr("type")},0),"A"===e.target.tagName&&setTimeout(function(){t(e.target).removeAttr("_moz_dirty")},0),this.options.paragraphy&&this.add_br&&"BR"===e.target.tagName&&(t(e.target).prev().length&&"TABLE"===t(e.target).prev().get(0).tagName||t(e.target).next().length&&"TABLE"===t(e.target).next().get(0).tagName)){t(e.target).wrap('<p class="fr-p-wrap">');var i=this.$element.find("p.fr-p-wrap").removeAttr("class");this.setSelection(i.get(0))}"BR"===e.target.tagName&&this.isLastSibling(e.target)&&"LI"==e.target.parentNode.tagName&&this.textEmpty(e.target.parentNode)&&t(e.target).remove()},this)),this.$element.on("keyup",t.proxy(function(t){var e=t.which;8===e&&this.$element.find("span:not([data-fr-verified])").attr("data-fr-verified",!0),13===e&&(this.add_br=!1)},this))},t.Editable.prototype.fixIME=function(){try{this.$element.get(0).msGetInputContext&&(this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowShow",t.proxy(function(){this.ime=!0},this)),this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowHide",t.proxy(function(){this.ime=!1,this.$element.trigger("keydown"),this.oldHTML=""},this)))}catch(e){}}}(jQuery),function(t){t.Editable.prototype.handleEnter=function(){var e=t.proxy(function(){var e=this.getSelectionElement();return"LI"==e.tagName||this.parents(t(e),"li").length>0?!0:!1},this);this.$element.on("keypress",t.proxy(function(t){if(!this.isHTML&&!e()){var i=t.which;if(13==i&&!t.shiftKey){t.preventDefault(),this.saveUndoStep(),this.insertSimpleHTML("<break></break>");var n=this.getSelectionElements();if(n[0]==this.$element.get(0)?this.enterInMainElement(n[0]):this.enterInElement(n[0]),this.getSelectionTextInfo(this.$element.get(0)).atEnd)this.$wrapper.scrollTop(this.$element.height());else{var s=this.getBoundingRect();this.$wrapper.offset().top+this.$wrapper.height()<s.top+s.height&&this.$wrapper.scrollTop(s.top+this.$wrapper.scrollTop()-(this.$wrapper.height()+this.$wrapper.offset().top)+s.height+10)}}}},this))},t.Editable.prototype.enterInMainElement=function(e){var i=t(e).find("break").get(0);if(t(i).parent().get(0)==e)this.isLastSibling(i)?this.insertSimpleHTML("</br>"+this.markers_html+this.br):t(e).hasClass("f-placeholder")?t(e).html("</br>"+this.markers_html+this.br):this.insertSimpleHTML("</br>"+this.markers_html),t(e).find("break").remove(),this.restoreSelectionByMarkers();else if(t(i).parents(this.$element).length){for(e=this.getSelectionElement();"BREAK"==e.tagName||0===t(e).text().length&&e.parentNode!=this.$element.get(0);)e=e.parentNode;if(this.getSelectionTextInfo(e).atEnd)t(e).after(this.breakEnd(this.getDeepParent(e),!0)),this.$element.find("break").remove(),this.restoreSelectionByMarkers();else if(this.getSelectionTextInfo(e).atStart){for(;i.parentNode!=this.$element.get(0);)i=i.parentNode;t(i).before("<br/>"),this.$element.find("break").remove(),this.$element.find("a:empty").replaceWith(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()}else this.breakMiddle(this.getDeepParent(e),!0),this.restoreSelectionByMarkers()}else t(i).remove()},t.Editable.prototype.enterInElement=function(e){if(["TD","TH"].indexOf(e.tagName)<0){var i=!1;if(this.emptyElement(e)&&e.parentNode&&"BLOCKQUOTE"==e.parentNode.tagName){t(e).before(this.$element.find("break"));var n=e;e=e.parentNode,t(n).remove(),i=!0}this.getSelectionTextInfo(e).atEnd?(t(e).after(this.breakEnd(e),!1),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):this.getSelectionTextInfo(e).atStart?(this.options.paragraphy?i?(t(e).before("<"+this.options.defaultTag+">"+this.markers_html+this.br+"</"+this.options.defaultTag+">"),this.restoreSelectionByMarkers()):t(e).before("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"):i?(t(e).before(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()):t(e).before("<br/>"),this.$element.find("break").remove()):"PRE"==e.tagName?(this.$element.find("break").after("<br/>"+this.markers_html),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):(this.breakMiddle(e,!1,i),this.restoreSelectionByMarkers())}else this.enterInMainElement(e)},t.Editable.prototype.breakEnd=function(e,i){if(void 0===i&&(i=!1),"BLOCKQUOTE"==e.tagName){var n=t(e).contents();n.length&&"BR"==n[n.length-1].tagName&&t(n[n.length-1]).remove()}var s=t(e).find("break").get(0),o=this.br;this.options.paragraphy||(o="<br/>");var r=this.markers_html+o;for(i&&(r=this.markers_html+t.Editable.INVISIBLE_SPACE);s!=e;)"A"!=s.tagName&&"BREAK"!=s.tagName&&(r="<"+s.tagName+this.attrs(s)+">"+r+"</"+s.tagName+">"),s=s.parentNode;return i&&"A"!=s.tagName&&"BREAK"!=s.tagName&&(r="<"+s.tagName+this.attrs(s)+">"+r+"</"+s.tagName+">"),this.options.paragraphy&&(r="<"+this.options.defaultTag+">"+r+"</"+this.options.defaultTag+">"),i&&(r=o+r),r},t.Editable.prototype.breakMiddle=function(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var s=t(e).find("break").get(0),o=this.markers_html;n&&(o="");for(var r="";s!=e;)s=s.parentNode,r=r+"</"+s.tagName+">",o="<"+s.tagName+this.attrs(s)+">"+o;var a="";n&&(a=this.options.paragraphy?"<"+this.options.defaultTag+">"+this.markers_html+"<br/></"+this.options.defaultTag+">":this.markers_html+"<br/>");var l="<"+e.tagName+this.attrs(e)+">"+t(e).html()+"</"+e.tagName+">";l=l.replace(/<break><\/break>/,r+(i?this.br:"")+a+o),t(e).replaceWith(l)}}(jQuery),function(t){t.Editable.prototype.isFirstSibling=function(t){var e=t.previousSibling;return e?3==e.nodeType&&""===e.textContent?this.isFirstSibling(e):!1:!0},t.Editable.prototype.isLastSibling=function(t){var e=t.nextSibling;return e?3==e.nodeType&&""===e.textContent?this.isLastSibling(e):!1:!0},t.Editable.prototype.getDeepParent=function(t){return t.parentNode==this.$element.get(0)?t:this.getDeepParent(t.parentNode)},t.Editable.prototype.attrs=function(t){for(var e="",i=t.attributes,n=0;n<i.length;n++){var s=i[n];e+=" "+s.nodeName+'="'+s.value+'"'}return e}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){function i(t){function e(){n?(i(),P(e),s=!0,n=!1):s=!1}var i=t,n=!1,s=!1;this.kick=function(){n=!0,s||e()},this.end=function(t){var e=i;t&&(s?(i=n?function(){e(),t()}:t,n=!0):t())}}function n(){return!0}function s(){return!1}function o(t){t.preventDefault()}function r(t){H[t.target.tagName.toLowerCase()]||t.preventDefault()}function a(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}function l(t,e){var i,n;if(t.identifiedTouch)return t.identifiedTouch(e);for(i=-1,n=t.length;++i<n;)if(t[i].identifier===e)return t[i]}function h(t,e){var i=l(t.changedTouches,e.identifier);return!i||i.pageX===e.pageX&&i.pageY===e.pageY?void 0:i}function d(t){var e;a(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},R(document,j.move,p,e),R(document,j.cancel,c,e))}function p(t){var e=t.data;b(t,e,t,u)}function c(){u()}function u(){O(document,j.move,p),O(document,j.cancel,c)}function f(t){var e,i;H[t.target.tagName.toLowerCase()]||(e=t.changedTouches[0],i={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},R(document,F.move+"."+e.identifier,m,i),R(document,F.cancel+"."+e.identifier,g,i))}function m(t){var e=t.data,i=h(t,e);i&&b(t,e,i,v)}function g(t){var e=t.data,i=l(t.changedTouches,e.identifier);i&&v(e.identifier)}function v(t){O(document,"."+t,m),O(document,"."+t,g)}function b(t,e,i,n){var s=i.pageX-e.startX,o=i.pageY-e.startY;M*M>s*s+o*o||x(t,e,i,s,o,n)}function y(){return this._handled=n,!1}function w(t){try{t._handled()}catch(e){return!1}}function x(t,e,i,n,s,o){var r,a;e.target,r=t.targetTouches,a=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=n,e.distY=s,e.deltaX=n,e.deltaY=s,e.pageX=i.pageX,e.pageY=i.pageY,e.velocityX=n/a,e.velocityY=s/a,e.targetTouches=r,e.finger=r?r.length:1,e._handled=y,e._preventTouchmoveDefault=function(){t.preventDefault()},B(e.target,e),o(e.identifier)}function k(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function E(t){var e=t.data.event,i=t.data.timer;$(),I(e,i,function(){setTimeout(function(){O(e.target,"click",s)},0)})}function $(){O(document,j.move,k),O(document,j.end,E)}function S(t){var e=t.data.event,i=t.data.timer,n=h(t,e);n&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=n,t.data.timeStamp=t.timeStamp,i.kick())}function C(t){var e=t.data.event,i=t.data.timer,n=l(t.changedTouches,e.identifier);n&&(T(e),I(e,i))}function T(t){O(document,"."+t.identifier,S),O(document,"."+t.identifier,C)}function _(t,e,i){var n=i-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/n,t.velocityY=.3*t.velocityY+.7*t.deltaY/n,t.pageX=e.pageX,t.pageY=e.pageY}function I(t,e,i){e.end(function(){return t.type="moveend",B(t.target,t),i&&i()})}function L(){return R(this,"movestart.move",w),!0}function N(){return O(this,"dragstart drag",o),O(this,"mousedown touchstart",r),O(this,"movestart",w),!0}function A(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(R(this,"dragstart."+t.guid+" drag."+t.guid,o,e,t.selector),R(this,"mousedown."+t.guid,r,e,t.selector))}function D(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(O(this,"dragstart."+t.guid+" drag."+t.guid),O(this,"mousedown."+t.guid))}var M=6,R=t.event.add,O=t.event.remove,B=function(e,i,n){t.event.trigger(i,n,e)},P=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(function(){t()},25)}}(),H={textarea:!0,input:!0,select:!0,button:!0},j={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},F={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:L,teardown:N,add:A,remove:D,_default:function(t){function n(){_(o,r.touch,r.timeStamp),B(t.target,o)}var o,r;t._handled()&&(o={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},r={event:o,timer:new i(n),touch:e,timeStamp:e},t.identifier===e?(R(t.target,"click",s),R(document,j.move,k,r),R(document,j.end,E,r)):(t._preventTouchmoveDefault(),R(document,F.move+"."+t.identifier,S,r),R(document,F.end+"."+t.identifier,C,r)))}},t.event.special.move={setup:function(){R(this,"movestart.move",t.noop)},teardown:function(){O(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){R(this,"movestart.moveend",t.noop)},teardown:function(){O(this,"movestart.moveend",t.noop)}},R(document,"mousedown.move",d),R(document,"touchstart.move",f),"function"==typeof Array.prototype.indexOf&&!function(t){for(var e=["changedTouches","targetTouches"],i=e.length;i--;)-1===t.event.props.indexOf(e[i])&&t.event.props.push(e[i])}(t)}),window.WYSIWYGModernizr=function(t,e,i){function n(t){u.cssText=t}function s(t,e){return typeof t===e}var o,r,a,l="2.7.1",h={},d=e.documentElement,p="modernizr",c=e.createElement(p),u=c.style,f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),m={},g=[],v=g.slice,b=function(t,i,n,s){var o,r,a,l,h=e.createElement("div"),c=e.body,u=c||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=s?s[n]:p+(n+1),h.appendChild(a);return o=["&#173;",'<style id="s',p,'">',t,"</style>"].join(""),h.id=p,(c?h:u).innerHTML+=o,u.appendChild(h),c||(u.style.background="",u.style.overflow="hidden",l=d.style.overflow,d.style.overflow="hidden",d.appendChild(u)),r=i(h,t),c?h.parentNode.removeChild(h):(u.parentNode.removeChild(u),d.style.overflow=l),!!r},y=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e).matches;var n;return b("@media "+e+" { #"+p+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},w={}.hasOwnProperty;a=s(w,"undefined")||s(w.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return w.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=v.call(arguments,1),n=function(){if(this instanceof n){var s=function(){};s.prototype=e.prototype;var o=new s,r=e.apply(o,i.concat(v.call(arguments)));return Object(r)===r?r:o}return e.apply(t,i.concat(v.call(arguments)))};return n}),m.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:b(["@media (",f.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i};for(var x in m)a(m,x)&&(r=x.toLowerCase(),h[r]=m[x](),g.push((h[r]?"":"no-")+r));return h.addTest=function(t,e){if("object"==typeof t)for(var n in t)a(t,n)&&h.addTest(n,t[n]);else{if(t=t.toLowerCase(),h[t]!==i)return h;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(d.className+=" "+(e?"":"no-")+t),h[t]=e}return h},n(""),c=o=null,h._version=l,h._prefixes=f,h.mq=y,h.testStyles=b,h}(this,document),!function(t){t.Editable.prototype.coreInit=function(){var t=this,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=function(t){for(var e=t.toString(),i=0,n=0;n<e.length;n++)i+=parseInt(e.charAt(n),10);return i>10?i%9+1:i};if(t.options.key!==!1){var n=function(t,e,i){for(var n=Math.abs(i);n-->0;)t-=e;return 0>i&&(t+=123),t},s=function(t){return t},o=function(t){if(!t)return t;for(var o="",r=s("charCodeAt"),a=s("fromCharCode"),l=e.indexOf(t[0]),h=1;h<t.length-2;h++){for(var d=i(++l),p=t[r](h),c="";/[0-9-]/.test(t[h+1]);)c+=t[++h];c=parseInt(c,10)||0,p=n(p,d,c),p^=l-1&31,o+=String[a](p)}return o},r=s(o),a=function(t){return"none"==t.css("display")?(t.attr("style",t.attr("style")+r("zD4D2qJ-7dhuB-11bB4E1wqlhlfE4gjhkbB6C5eg1C-8h1besB-16e1==")),!0):!1},l=function(){for(var t=0,e=document.domain,i=e.split("."),n="_gd"+(new Date).getTime();t<i.length-1&&-1==document.cookie.indexOf(n+"="+n);)e=i.slice(-1-++t).join("."),document.cookie=n+"="+n+";domain="+e+";";return document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+e+";",e}(),h=function(){var e=r(t.options.key)||"";return e!==r("eQZMe1NJGC1HTMVANU==")&&e.indexOf(l,e.length-l.length)<0&&[r("9qqG-7amjlwq=="),r("KA3B3C2A6D1D5H5H1A3==")].indexOf(l)<0?(t.$box.append(r("uA5kygD3g1h1lzrA7E2jtotjvooB2A5eguhdC-22C-16nC2B3lh1deA-21C-16B4A2B4gi1F4D1wyA-13jA4H5C2rA-65A1C10dhzmoyJ2A10A-21d1B-13xvC2I4enC4C2B5B4G4G4H1H4A10aA8jqacD1C3c1B-16D-13A-13B2E5A4jtxfB-13fA1pewxvzA3E-11qrB4E4qwB-16icA1B3ykohde1hF4A2E4clA4C7E6haA4D1xtmolf1F-10A1H4lhkagoD5naalB-22B8B4quvB-8pjvouxB3A-9plnpA2B6D6BD2D1C2H1C3C3A4mf1G-10C-8i1G3C5B3pqB-9E5B1oyejA3ddalvdrnggE3C3bbj1jC6B3D3gugqrlD8B2DB-9qC-7qkA10D2VjiodmgynhA4HA-9D-8pI-7rD4PrE-11lvhE3B5A-16C7A6A3ekuD1==")),t.$lb=t.$box.find("> div:last"),t.$ab=t.$lb.find("> a"),a(t.$lb)||a(t.$ab)):void 0};h()}},t.Editable.initializers.push(t.Editable.prototype.coreInit)}(jQuery),function(t){t.Editable.DEFAULTS=t.extend(t.Editable.DEFAULTS,{allowedBlankTags:["TEXTAREA"],selfClosingTags:["br","input","img","hr","param","!--","source","embed","!","meta","link","base"],doNotJoinTags:["a"],iconClasses:["fa-"]}),t.Editable.prototype.isClosingTag=function(t){return t?null!==t.match(/^<\/([a-zA-Z0-9]+)([^<]+)*>$/gi):!1},t.Editable.prototype.tagName=function(t){return t.replace(/^<\/?([a-zA-Z0-9-!]+)([^>]+)*>$/gi,"$1").toLowerCase()},t.Editable.SELF_CLOSING_AFTER=["source"],t.Editable.prototype.isSelfClosingTag=function(t){var e=this.tagName(t);return this.options.selfClosingTags.indexOf(e.toLowerCase())>=0},t.Editable.prototype.tagKey=function(t){return t.type+(t.attrs||[]).sort().join("|")},t.Editable.prototype.extendedKey=function(t){return this.tagKey(t)+JSON.stringify(t.style)},t.Editable.prototype.mapDOM=function(e){var i=[],n={},s={},o=0,r=this;t(e).find(".f-marker").html(t.Editable.INVISIBLE_SPACE);var a=function(e,i){if(3===e.nodeType)return[];if(8===e.nodeType)return[{comment:!0,attrs:{},styles:{},idx:o++,sp:i,ep:i,text:e.textContent}];var n=e.tagName;"B"==n&&(n="STRONG"),"I"!=n||e.className&&null!=e.className.match(new RegExp(r.options.iconClasses.join("|"),"gi"))||(n="EM");var s={},a={},l=null;if(e.attributes)for(var h=0;h<e.attributes.length;h++){var d=e.attributes[h];"style"==d.nodeName?l=d.value:s[d.nodeName]=d.value}if(l){var p=l.match(/([^:]*):([^:;]*(;|$))/gi);if(p)for(var c=0;c<p.length;c++){var u=p[c].split(":"),f=u.slice(1).join(":").trim();";"==f[f.length-1]&&(f=f.substr(0,f.length-1)),a[u[0].trim()]=f}}var m=[];if(t.isEmptyObject(s)&&"SPAN"==e.tagName&&!t.isEmptyObject(a)){for(var g in a){var v={};v[g]=a[g],m.push({selfClosing:!1,attrs:s,styles:v,idx:o++,sp:i,ep:i+e.textContent.length,tagName:n,noJoin:e.nextSibling&&"BR"===e.nextSibling.tagName})}return m}return[{selfClosing:r.options.selfClosingTags.indexOf(n.toLowerCase())>=0,attrs:s,styles:a,idx:o++,sp:i,ep:i+e.textContent.length,tagName:n,noJoin:e.nextSibling&&"BR"===e.nextSibling.tagName}]},l=function(t,r){var h,d,p;if(t!=e)for(d=a(t,r),h=0;h<d.length;h++)p=d[h],i.push(p),n[p.sp]||(n[p.sp]={}),s[p.ep]||(s[p.ep]={}),n[p.sp][p.tagName]||(n[p.sp][p.tagName]=[]),s[p.ep][p.tagName]||(s[p.ep][p.tagName]=[]),n[p.sp][p.tagName].push(p),s[p.ep][p.tagName].push(p);var c=t.childNodes;if(c){for(h=0;h<c.length;h++)h>0&&8!=c[h-1].nodeType&&(r+=c[h-1].textContent.length),l(c[h],r);if(d)for(h=0;h<d.length;h++)p=d[h],p.ci=o++,n[p.ep]||(n[p.ep]={}),n[p.ep][p.tagName]||(n[p.ep][p.tagName]=[]),n[p.ep][p.tagName].push({shadow:!0,ci:o-1})}},h=function(){var e,s,o,a;for(e in n)for(var l in n[e])for(o=0;o<n[e][l].length;o++)if(s=n[e][l][o],!s.selfClosing&&!(s.dirty||s.shadow||s.comment||s.noJoin))for(var h=o+1;h<n[e][l].length;h++)if(a=n[e][l][h],!a.selfClosing&&!(a.dirty||a.shadow||a.comment||a.noJoin||1!=Object.keys(s.styles).length||1!=Object.keys(a.styles).length||a.sp==a.ep)){var d=Object.keys(s.styles)[0];if(a.styles[d]){s.sp=a.ep;for(var p=0;p<n[s.sp][s.tagName].length;p++){var c=n[s.sp][s.tagName][p];if(c.shadow&&c.ci==a.ci){n[s.sp][s.tagName].splice(p,0,s);break}}n[e][l].splice(o,1),o--;break}}for(e=0;e<i.length;e++)if(s=i[e],!(s.dirty||s.selfClosing||s.comment||s.noJoin||s.shadow||r.options.doNotJoinTags.indexOf(s.tagName.toLowerCase())>=0||!t.isEmptyObject(s.attrs)))if(s.sp==s.ep&&t.isEmptyObject(s.attrs)&&t.isEmptyObject(s.styles)&&r.options.allowedBlankTags.indexOf(s.tagName)<0)s.dirty=!0;else if(n[s.ep]&&n[s.ep][s.tagName])for(o=0;o<n[s.ep][s.tagName].length;o++)if(a=n[s.ep][s.tagName][o],s!=a&&!(a.dirty||a.selfClosing||a.shadow||a.comment||a.noJoin||!t.isEmptyObject(a.attrs)||JSON.stringify(a.styles)!=JSON.stringify(s.styles))){s.ep<a.ep&&(s.ep=a.ep),s.sp>a.sp&&(s.sp=a.sp),a.dirty=!0,e--;break}for(e=0;e<i.length;e++)if(s=i[e],!(s.dirty||s.selfClosing||s.comment||s.noJoin||s.shadow||!t.isEmptyObject(s.attrs)))if(s.sp==s.ep&&t.isEmptyObject(s.attrs)&&t.isEmptyObject(s.style)&&r.options.allowedBlankTags.indexOf(s.tagName)<0)s.dirty=!0;else if(n[s.sp]&&n[s.sp][s.tagName])for(o=n[s.sp][s.tagName].length-1;o>=0;o--)a=n[s.sp][s.tagName][o],s!=a&&(a.dirty||a.selfClosing||a.shadow||a.comment||a.noJoin||s.ep==a.ep&&t.isEmptyObject(a.attrs)&&(s.styles=t.extend(s.styles,a.styles),a.dirty=!0))};l(e,0),h();for(var d=i.length-1;d>=0;d--)i.dirty&&i.splice(d,1);return i},t.Editable.prototype.sortNodes=function(t,e){if(t.comment)return 1;if(t.selfClosing||e.selfClosing)return t.idx-e.idx;var i=t.ep-t.sp,n=e.ep-e.sp;return 0===i&&0===n?t.idx-e.idx:i===n?e.ci-t.ci:n-i},t.Editable.prototype.openTag=function(t){var e,i="<"+t.tagName.toLowerCase(),n=Object.keys(t.attrs).sort();for(e=0;e<n.length;e++){var s=n[e];i+=" "+s+'="'+t.attrs[s]+'"'}var o="",r=Object.keys(t.styles).sort();for(e=0;e<r.length;e++){var a=r[e];null!=t.styles[a]&&(o+=a.replace("_","-")+": "+t.styles[a]+"; ")}return""!==o&&(i+=' style="'+o.trim()+'"'),i+=">"},t.Editable.prototype.commentTag=function(t){var e="";if(t.selfClosing){var i;e="<"+t.tagName.toLowerCase();var n=Object.keys(t.attrs).sort();for(i=0;i<n.length;i++){var s=n[i];e+=" "+s+'="'+t.attrs[s]+'"'}var o="",r=Object.keys(t.styles).sort();for(i=0;i<r.length;i++){var a=r[i];null!=t.styles[a]&&(o+=a.replace("_","-")+": "+t.styles[a]+"; ")}""!==o&&(e+=' style="'+o.trim()+'"'),e+="/>"}else t.comment&&(e="<!--"+t.text+"-->");return e},t.Editable.prototype.closeTag=function(t){return"</"+t.tagName.toLowerCase()+">"},t.Editable.prototype.nodesOpenedAt=function(t,e){for(var i=[],n=t.length-1;n>=0&&t[n].sp==e;)i.push(t.pop()),n--;return i},t.Editable.prototype.entity=function(t){return ch_map={">":"&gt;","<":"&lt;","&":"&amp;"},ch_map[t]?ch_map[t]:t},t.Editable.prototype.removeInvisibleWhitespace=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];i.childNodes.length?this.removeInvisibleWhitespace(i):i.textContent=i.textContent.replace(/\u200B/gi,"")}},t.Editable.prototype.cleanOutput=function(e,i){var n,s,o,r;i&&this.removeInvisibleWhitespace(e);var a=this.mapDOM(e,i).sort(function(t,e){return e.sp-t.sp}),l=e.textContent;html="";var h=[],d=-1,p=t.proxy(function(){var e="";for(simple_nodes_to_close=[],h=h.sort(function(t,e){return t.idx-e.idx}).reverse();h.length;){for(var i=h.pop();simple_nodes_to_close.length&&simple_nodes_to_close[simple_nodes_to_close.length-1].ci<i.ci;)e+=this.closeTag(simple_nodes_to_close.pop());i.selfClosing||i.comment?e+=this.commentTag(i):(!t.isEmptyObject(i.attrs)||this.options.allowedBlankTags.indexOf(i.tagName)>=0)&&(e+=this.openTag(i),simple_nodes_to_close.push(i))}for(;simple_nodes_to_close.length;)e+=this.closeTag(simple_nodes_to_close.pop());html+=e},this),c={},u=[];for(n=0;n<=l.length;n++){if(c[n])for(s=c[n].length-1;s>=0;s--)if(u.length&&u[u.length-1].tagName==c[n][s].tagName&&JSON.stringify(u[u.length-1].styles)==JSON.stringify(c[n][s].styles))html+=this.closeTag(c[n][s]),u.pop();else{for(var f=[];u.length&&(u[u.length-1].tagName!==c[n][s].tagName||JSON.stringify(u[u.length-1].styles)!==JSON.stringify(c[n][s].styles));)r=u.pop(),html+=this.closeTag(r),f.push(r);for(html+=this.closeTag(c[n][s]),u.pop();f.length;){var m=f.pop();html+=this.openTag(m),u.push(m)}}for(var g=this.nodesOpenedAt(a,n).sort(this.sortNodes).reverse();g.length;){var v=g.pop();if(!v.dirty)if(v.selfClosing||v.comment)v.ci>d||"BR"==v.tagName?(p(),html+=this.commentTag(v),d=v.ci):h.length?(h.push(v),d<v.ci&&(d=v.ci)):(html+=this.commentTag(v),d<v.ci&&(d=v.ci));else if(v.ep>v.sp){v.ci>d&&p();var b=[];if("A"==v.tagName)for(var y=v.sp+1;y<v.ep;y++)if(c[y]&&c[y].length)for(o=0;o<c[y].length;o++)b.push(c[y][o]),html+=this.closeTag(c[y][o]),u.pop();var w=[];if("SPAN"==v.tagName&&("#123456"==v.styles["background-color"]||"#123456"===t.Editable.RGBToHex(v.styles["background-color"])||"#123456"==v.styles.color||"#123456"===t.Editable.RGBToHex(v.styles.color)))for(;u.length;){var x=u.pop();html+=this.closeTag(x),w.push(x)}for(html+=this.openTag(v),d<v.ci&&(d=v.ci),u.push(v),c[v.ep]||(c[v.ep]=[]),c[v.ep].push(v);b.length;)v=b.pop(),html+=this.openTag(v),u.push(v);for(;w.length;)v=w.pop(),html+=this.openTag(v),u.push(v)}else v.sp==v.ep&&(h.push(v),d<v.ci&&(d=v.ci))}p(),n!=l.length&&(html+=this.entity(l[n]))}return html=html.replace(/(<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>)\u200B(<\/span>)/gi,"$1$2"),html},t.Editable.prototype.wrapDirectContent=function(){var e=t.merge(["UL","OL","TABLE"],this.valid_nodes);if(!this.options.paragraphy)for(var i=null,n=this.$element.contents(),s=0;s<n.length;s++)1!=n[s].nodeType||e.indexOf(n[s].tagName)<0?(i||(i=t('<div class="fr-wrap">'),t(n[s]).before(i)),i.append(n[s])):i=null},t.Editable.prototype.cleanify=function(e,i,n){if(this.browser.msie&&t.Editable.getIEversion()<9)return!1;var s;if(this.isHTML)return!1;void 0===e&&(e=!0),void 0===n&&(n=!0),this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),n&&this.saveSelectionByMarkers(),e?s=this.getSelectionElements():(this.wrapDirectContent(),s=this.$element.find(this.valid_nodes.join(",")),0===s.length&&(s=[this.$element.get(0)]));var o,r;if(s[0]!=this.$element.get(0))for(var a=0;a<s.length;a++){var l=t(s[a]);0===l.find(this.valid_nodes.join(",")).length&&(o=l.html(),r=this.cleanOutput(l.get(0),i),r!==o&&l.html(r))}else 0===this.$element.find(this.valid_nodes.join(",")).length&&(o=this.$element.html(),r=this.cleanOutput(this.$element.get(0),i),r!==o&&this.$element.html(r));this.$element.find("[data-fr-idx]").removeAttr("data-fr-idx"),this.$element.find(".fr-wrap").each(function(){t(this).replaceWith(t(this).html())}),this.$element.find(".f-marker").html(""),n&&this.restoreSelectionByMarkers(),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.commands=t.extend(t.Editable.commands,{insertOrderedList:{title:"Numbered List",icon:"fa fa-list-ol",refresh:function(){},callback:function(t){this.formatList(t)},undo:!0},insertUnorderedList:{title:"Bulleted List",icon:"fa fa-list-ul",refresh:function(){},callback:function(t){this.formatList(t)},undo:!0}}),t.Editable.prototype.refreshLists=function(){var e=t(this.getSelectionElement()),i=this.parents(e,"ul, ol");if(i.length>0){var n="insertUnorderedList";"OL"==i[0].tagName&&(n="insertOrderedList"),this.$editor.find('button[data-cmd="'+n+'"]').addClass("active")}},t.Editable.prototype.processBackspace=function(e){var i=e.prev();if(i.length){for(this.removeMarkers(),("UL"==i.get(0).tagName||"OL"==i.get(0).tagName)&&(i=i.find("li:last"));i.find("> ul, > ol").length;)i=i.find("> ul li:last, > ol li:last");var n=i.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote");if(0===i.text().length&&0===i.find("img, table, input, iframe, video").length)i.remove();else{if(this.emptyElement(i.get(0))||(this.keep_enter=!0,e.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote").each(function(e,i){t(i).replaceWith(t(i).html())}),this.keep_enter=!1),n.length)if(t(n[n.length-1]).append(this.markers_html),0===e.find("ul, ol").length)t(n[n.length-1]).append(e.html());else{for(var s=!1,o=e.contents(),r=0;r<o.length;r++){var a=o[r];["OL","UL"].indexOf(o[r].tagName)>=0&&(s=!0),s?t(n[n.length-1]).after(a):t(n[n.length-1]).append(a)}this.$element.find("breakli").remove();var l=n[n.length-1].nextSibling;l&&"BR"==l.tagName&&t(l).remove()}else this.emptyElement(i.get(0))?(this.$element.find("breakli").replaceWith(this.markers_html),i.html(e.html())):(i.append(this.markers_html),i.append(e.html()));e.remove(),this.cleanupLists(),this.restoreSelectionByMarkers()}this.$element.find("breakli").remove()}else this.$element.find("breakli").remove(),this.parents(e,"ul").length?this.formatList("insertUnorderedList",!1):this.formatList("insertOrderedList",!1);this.sync()},t.Editable.prototype.liBackspace=function(){if(""!==this.text())return!0;var e,i=this.getSelectionElement(),n=this.parents(t(i),"table, li");if(n.length>0&&"TABLE"===n[0].tagName)return!0;if(e="LI"==i.tagName?t(i):this.parents(t(i),"li:first"),this.removeMarkers(),this.emptyElement(e.get(0))?(e.prepend("<breakli></breakli>"),1==e.find("br").length&&e.find("br").remove()):this.insertHTML("<breakli></breakli>"),e.find("breakli").prev().length&&"TABLE"===e.find("breakli").prev().get(0).tagName&&e.find("breakli").next().length&&"BR"===e.find("breakli").next().get(0).tagName)return this.setSelection(e.find("breakli").prev().find("td:first").get(0)),e.find("breakli").next().remove(),this.$element.find("breakli").remove(),!1;for(var s,o=e.html(),r=[],a=0;a<o.length;a++){if(chr=o.charAt(a),"<"!=chr)return this.$element.find("breakli").remove(),!0;var l=o.indexOf(">",a+1);if(-1!==l){s=o.substring(a,l+1);var h=this.tagName(s);if(a=l,"breakli"==h){if(!this.isClosingTag(s)&&!this.isClosingTag(r[r.length-1]))return this.processBackspace(e),!1}else r.push(s)}}return this.$element.find("breakli").remove(),!0},t.Editable.prototype.textLiEnter=function(e){this.removeMarkers(),this.insertSimpleHTML("<breakli></breakli>",!1);var i,n,s=e.html(),o=[],r={},a=[],l=0,h=e.prop("attributes"),d="";for(n=0;n<h.length;n++)d+=" "+h[n].name+'="'+h[n].value+'"';var p=!1;for(n=0;n<s.length;n++)if(chr=s.charAt(n),"<"==chr){var c=s.indexOf(">",n+1);if(-1!==c){i=s.substring(n,c+1);var u=this.tagName(i);if(n=c,"breakli"==u){if(!this.isClosingTag(i)){for(var f=o.length-1;f>=0;f--){var m=this.tagName(o[f]);a.push("</"+m+">")}a.push("</li>"),a.push("<li"+d+">");for(var g=0;g<o.length;g++)a.push(o[g]);a.push('<span class="f-marker" data-type="false" data-collapsed="true" data-id="0" data-fr-verified="true"></span><span class="f-marker" data-type="true" data-collapsed="true" data-id="0" data-fr-verified="true"></span>'),p=!1}}else if(a.push(i),p=!1,!this.isSelfClosingTag(i))if(this.isClosingTag(i)){var v=r[u].pop();o.splice(v,1)}else o.push(i),void 0===r[u]&&(r[u]=[]),r[u].push(o.length-1)}}else l++,32!=chr.charCodeAt(0)||p?(a.push(chr),p=!0):a.push("&nbsp;");var b=t(e.parents("ul, ol")[0]);e.replaceWith("<li"+d+">"+a.join("")+"</li>"),b.find("p:empty + table").prev().remove(),b.find("p + table").each(function(e,i){var n=t(i);n.prev().append(n.clone()),n.remove()}),b.find("table + p").each(function(e,i){var n=t(i);n.append(n.prev().clone()),n.prev().remove()}),this.keep_enter=!0,b.find(this.valid_nodes.join(",")).each(t.proxy(function(e,i){""===t(i).text().trim()&&0===t(i).find(this.valid_nodes.join(",")).length&&t(i).prepend(t.Editable.INVISIBLE_SPACE)},this)),this.keep_enter=!1},t.Editable.prototype.liEnter=function(){var e,i=this.getSelectionElement(),n=this.parents(t(i),"table, li");if(n.length>0&&"TABLE"==n[0].tagName)return!0;if(e="LI"==i.tagName?t(i):this.parents(t(i),"li:first"),this.getSelectionTextInfo(e.get(0)).atStart&&""===this.text())e.before("<li>"+t.Editable.INVISIBLE_SPACE+"</li>");else{if(0===this.trim(e.text()).length&&0===e.find("img, table, iframe, input, object").length)return this.outdent(!1),!1;this.textLiEnter(e),this.$element.find("breakli").remove(),this.restoreSelectionByMarkers()}return this.sync(),!1},t.Editable.prototype.listTab=function(){var e=t(this.getSelectionElement());return this.parents(e,"ul, ol").length>0&&0===this.parents(e,"table").length?(this.indent(),!1):void 0},t.Editable.prototype.listShiftTab=function(){var e=t(this.getSelectionElement());return this.parents(e,"ul, ol").length>0&&0===this.parents(e,"table").length?(this.outdent(),!1):void 0},t.Editable.prototype.indentList=function(t,e){return"LI"===t.get(0).tagName?(e?this.outdentLi(t):this.indentLi(t),this.cleanupLists(),!1):!0},t.Editable.prototype.initList=function(){this.addListener("tab",this.listTab),this.addListener("shift+tab",this.listShiftTab),this.addListener("refresh",this.refreshLists),this.addListener("indent",this.indentList),this.isImage||this.isLink||this.options.editInPopup||this.$element.on("keypress",t.proxy(function(e){if(["TEXTAREA","INPUT"].indexOf(e.target.tagName)<0&&!this.isHTML){var i=e.which,n=this.getSelectionElement();if("LI"==n.tagName||this.parents(t(n),"li").length>0){if(13==i&&!e.shiftKey&&this.options.multiLine)return this.liEnter();if(8==i)return this.liBackspace()}}},this))},t.Editable.initializers.push(t.Editable.prototype.initList),t.Editable.prototype.formatList=function(e,i){if(this.browser.msie&&t.Editable.getIEversion()<9)return document.execCommand(e,!1,!1),!1;void 0===i&&(i=!0);var n,s,o=!1,r=!0,a=!1,l=this.getSelectionElements(),h=this.parents(t(l[0]),"ul, ol");if(h.length&&("UL"===h[0].tagName?"insertUnorderedList"!=e&&(o=!0):"insertOrderedList"!=e&&(o=!0)),this.saveSelectionByMarkers(),o){n="ol","insertUnorderedList"===e&&(n="ul");var d=t(h[0]);d.replaceWith("<"+n+">"+d.html()+"</"+n+">")}else{for(var p=0;p<l.length;p++)if(s=t(l[p]),("TD"==s.get(0).tagName||"TH"==s.get(0).tagName)&&this.wrapTextInElement(s),this.parents(s,"li").length>0||"LI"==s.get(0).tagName){var c;c="LI"==s.get(0).tagName?s:t(s.parents("li")[0]);var u=this.parents(s,"ul, ol");if(u.length>0&&(n=u[0].tagName.toLowerCase(),c.before('<span class="close-'+n+'" data-fr-verified="true"></span>'),c.after('<span class="open-'+n+'" data-fr-verified="true"></span>')),0===this.parents(t(u[0]),"ol, ul").length||o)if(0===c.find(this.valid_nodes.join(",")).length){var f=c.html().replace(/\u200B/gi,"");this.options.paragraphy?(0===c.text().replace(/\u200B/gi,"").length&&(f+=c.find("br").length>0?"":this.br),f="<"+this.options.defaultTag+this.attrs(c.get(0))+">"+f,f=f+"</"+this.options.defaultTag+">"):f+=c.find("br").length>0?"":this.br,c.replaceWith(f)}else c.replaceWith(c.html().replace(/\u200B/gi,""));else this.parents(t(u[0]),"ol, ul").length>0&&(c.append('<span class="open-li" data-fr-verified="true"></span>'),c.before('<span class="close-li" data-fr-verified="true"></span>'));a=!0}else r=!1;a&&this.cleanupLists(),(r===!1||o===!0)&&(this.wrapText(),this.restoreSelectionByMarkers(),l=this.getSelectionElements(),this.saveSelectionByMarkers(),this.elementsToList(l,e),this.unwrapText(),this.cleanupLists())}this.options.paragraphy&&!o&&this.wrapText(!0),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),e="insertUnorderedList"==e?"unorderedListInserted":"orderedListInserted",this.triggerEvent(e)},t.Editable.prototype.elementsToList=function(e,i){var n="<ol>";"insertUnorderedList"==i&&(n="<ul>"),e[0]==this.$element.get(0)&&(e=this.$element.find("> "+this.valid_nodes.join(", >")));for(var s=0;s<e.length;s++){var o=t(n);$element=t(e[s]),$element.get(0)!=this.$element.get(0)&&("TD"===$element.get(0).tagName||"TH"===$element.get(0).tagName?(this.wrapTextInElement($element,!0),this.elementsToList($element.find("> "+this.valid_nodes.join(", >")),i)):(""===$element.attr("class")&&$element.removeAttr("class"),o.append(t("<li>").html($element.get(0).tagName==this.options.defaultTag&&0===$element.get(0).attributes.length?$element.clone().html():$element.clone())),$element.replaceWith(o)))}},t.Editable.prototype.indentLi=function(e){var i=e.parents("ul, ol"),n=i.get(0).tagName.toLowerCase();e.find("> ul, > ol").length>0&&e.prev("li").length>0?(this.wrapTextInElement(e),e.find("> "+this.valid_nodes.join(" , > ")).each(function(e,i){t(i).wrap("<"+n+"></"+n+">").wrap("<li></li>")}),e.prev("li").append(e.find("> ul, > ol")),e.remove()):0===e.find("> ul, > ol").length&&e.prev("li").length>0&&(e.prev().append(t("<"+n+">").append(e.clone())),e.remove(),t(i.find("li").get().reverse()).each(function(e,i){var n=t(i);n.find(" > ul, > ol").length>0&&n.prev()&&n.prev().find(" > ul, > ol").length>0&&1===n.contents().length&&(n.prev().append(n.html()),n.remove())}))},t.Editable.prototype.outdentLi=function(e){var i=t(e.parents("ul, ol")[0]),n=this.parents(i,"ul, ol"),s=i.get(0).tagName.toLowerCase();0===e.prev("li").length&&this.parents(e,"li").length>0?(e.before('<span class="close-'+s+'" data-fr-verified="true"></span>'),e.before('<span class="close-li" data-fr-verified="true"></span>'),e.before('<span class="open-li" data-fr-verified="true"></span>'),e.after('<span class="open-'+s+'" data-fr-verified="true"></span>'),e.replaceWith(e.html())):(e.before('<span class="close-'+s+'" data-fr-verified="true"></span>'),e.after('<span class="open-'+s+'" data-fr-verified="true"></span>'),this.parents(e,"li").length>0&&(e.before('<span class="close-li" data-fr-verified="true"></span>'),e.after('<span class="open-li" data-fr-verified="true"></span>'))),n.length||(0===e.find(this.valid_nodes.join(",")).length?e.replaceWith(e.html().replace(/\u200b/gi,"")+this.br):(e.find(this.valid_nodes.join(", ")).each(t.proxy(function(e,i){this.emptyElement(i)&&t(i).append(this.br)},this)),e.replaceWith(e.html().replace(/\u200b/gi,""))))},t.Editable.prototype.listTextEmpty=function(e){var i=t(e).text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return(""===i||e===this.$element.get(0))&&1===t(e).find("br").length}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(t){t.Editable.commands=t.extend(t.Editable.commands,{table:{title:"Table",icon:"fa fa-table",callback:function(t,e,i){this.table_commands[e]?this.table_commands[e].apply(this,[e,i]):this.table_commands.insertTable.apply(this,[e,i]),this.cleanupTables()}}}),t.Editable.DEFAULTS.buttons[t.Editable.DEFAULTS.buttons.indexOf("insertHorizontalRule")]="table",t.Editable.prototype.table_commands={insertTable:function(t,e){this.insertTable(t,e)},insertRowAbove:function(){this.insertRow("above")},insertRowBelow:function(){this.insertRow("below")},insertColumnBefore:function(){this.insertColumn("before")},insertColumnAfter:function(){this.insertColumn("after")},deleteColumn:function(){this.deleteColumn()},deleteRow:function(){this.deleteRow()},insertCellBefore:function(){this.insertCell("before")},insertCellAfter:function(){this.insertCell("after")},mergeCells:function(){this.mergeCells()},deleteCell:function(){this.deleteCell()},splitVertical:function(){this.splitVertical()},splitHorizontal:function(){this.splitHorizontal()},insertHeader:function(){this.insertHeader()},deleteHeader:function(){this.deleteHeader()},deleteTable:function(){this.deleteTable()}},t.Editable.prototype.command_dispatcher=t.extend(t.Editable.prototype.command_dispatcher,{table:function(t){var e=this.buildDropdownTable(),i=this.buildDropdownButton(t,e,"fr-table");return this.bindTableDropdownEvents(),i}}),t.Editable.prototype.tableTab=function(){var e;this.currentCell&&(e=this.currentCell());var i=t(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:e&&this.nextCell()?(this.setSelection(this.nextCell()),!1):void 0},t.Editable.prototype.tableShiftTab=function(){var e;this.currentCell&&(e=this.currentCell());var i=t(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:e&&this.prevCell()?(this.setSelection(this.prevCell()),!1):void 0},t.Editable.prototype.initTable=function(){var e=this;this.$editor.on("click mouseup touch touchend",".fr-table a",function(i){i.preventDefault(),i.stopPropagation(),e.android()&&(t(this).parent().siblings().removeClass("hover"),t(this).parent().addClass("hover"))}),this.addListener("tab",this.tableTab),this.addListener("shift+tab",this.tableShiftTab)},t.Editable.initializers.push(t.Editable.prototype.initTable),t.Editable.prototype.buildDropdownTable=function(){var t='<ul class="fr-dropdown-menu fr-table">';t+='<li> <a href="#"><span data-text="true">Insert table</span> <i class="fa fa-chevron-right"></i></a><div class="select-table"> ',t+='<div class="fr-t-info">1 x 1</div>';for(var e=1;10>=e;e++){for(var i=1;10>=i;i++){var n="inline-block";(e>5||i>5)&&(n="none");var s="fr-bttn ";1==e&&1==i&&(s+=" hover"),t+='<span class="'+s+'" data-cmd="table" data-val="'+e+'" data-param="'+i+'" style="display: '+n+';"><span></span></span>'}t+='<div class="new-line"></div>'}return t+="</div> </li>",t+='<li><a href="#"><span data-text="true">Cell</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertCellBefore"><a href="#" data-text="true">Insert cell before</a></li><li data-cmd="table" data-val="insertCellAfter"><a href="#" data-text="true">Insert cell after</a></li><li data-cmd="table" data-val="deleteCell"><a href="#" data-text="true">Delete cell</a></li><li data-cmd="table" data-val="mergeCells"><a href="#" data-text="true">Merge cells</a></li><li data-cmd="table" data-val="splitHorizontal"><a href="#" data-text="true">Horizontal split</a></li><li data-cmd="table" data-val="splitVertical"><a href="#" data-text="true">Vertical split</a></li></ul></li>',t+='<li><a href="#"><span data-text="true">Row</span> <i class="fa fa-chevron-right"></i></a> <ul><li data-cmd="table" data-val="insertRowAbove"><a href="#" data-text="true">Insert row above</a></li><li data-cmd="table" data-val="insertRowBelow"><a href="#" data-text="true">Insert row below</a></li><li data-cmd="table" data-val="deleteRow"><a href="#" data-text="true">Delete row</a></li></ul></li>',t+='<li><a href="#"><span data-text="true">Column</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertColumnBefore"><a href="#" data-text="true">Insert column before</a></li> <li data-cmd="table" data-val="insertColumnAfter"><a href="#" data-text="true">Insert column after</a></li> <li data-cmd="table" data-val="deleteColumn"><a href="#" data-text="true">Delete column</a></li> </ul></li>',t+='<li data-cmd="table" data-val="deleteTable"><a href="#" data-text="true">Delete table</a></li>',t+="</ul>"},t.Editable.prototype.bindTableDropdownEvents=function(){var e=this;this.$bttn_wrapper.on("mouseenter",".fr-table .select-table > span",function(){var i=t(this).data("val"),n=t(this).data("param");e.$bttn_wrapper.find(".fr-table .select-table .fr-t-info").text(i+" x "+n),e.$bttn_wrapper.find(".fr-table .select-table > span").removeClass("hover");for(var s=1;10>=s;s++)for(var o=0;10>=o;o++){var r=e.$bttn_wrapper.find('.fr-table .select-table > span[data-val="'+s+'"][data-param="'+o+'"]');i>=s&&n>=o?r.addClass("hover"):(i+1>=s||5>=s)&&(n+1>=o||5>=o)?r.css("display","inline-block"):(s>5||o>5)&&r.css("display","none")}}),this.$bttn_wrapper.on("mouseleave",".fr-table .select-table",function(){e.$bttn_wrapper.find('.fr-table .select-table > span[data-val="1"][data-param="1"]').trigger("mouseenter")}),this.android()&&this.$bttn_wrapper.on("touchend",".fr-table .fr-trigger",function(){t(this).parents(".fr-table").find(".hover").removeClass("hover")})},t.Editable.prototype.tableMap=function(){var e=this.currentTable(),i=[];return e&&e.find("tr:not(:empty)").each(function(e,n){var s=t(n),o=0;s.find("th, td").each(function(n,s){for(var r=t(s),a=parseInt(r.attr("colspan"),10)||1,l=parseInt(r.attr("rowspan"),10)||1,h=e;e+l>h;h++)for(var d=o;o+a>d;d++)i[h]||(i[h]=[]),i[h][d]?o++:i[h][d]=s;o+=a})}),i},t.Editable.prototype.cellOrigin=function(t,e){for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++)if(e[i][n]==t)return{row:i,col:n}},t.Editable.prototype.canMergeCells=function(){var e=this.getSelectionCells();if(e.length<2)return!1;for(var i=this.tableMap(),n=0,s=32e3,o=0,r=32e3,a=0,l=0;l<e.length;l++){var h=t(e[l]),d=parseInt(h.attr("colspan"),10)||1,p=parseInt(h.attr("rowspan"),10)||1,c=this.cellOrigin(e[l],i);n+=d*p,s=Math.min(s,c.col),o=Math.max(o,c.col+d),r=Math.min(r,c.row),a=Math.max(a,c.row+p)}return n==(o-s)*(a-r)?{row:r,col:s,colspan:o-s,rowspan:a-r,map:i,cells:e}:null},t.Editable.prototype.getSelectionCells=function(){var e,i=[];if(this.browser.webkit||this.browser.msie){var n=this.getSelectionElements();for(e=0;e<n.length;e++)("TD"==n[e].tagName||"TH"==n[e].tagName)&&i.push(n[e])}else{var s=this.getRanges();for(e=0;e<s.length;e++){var o=s[e],r=!1;if("TD"==o.startContainer.tagName||"TH"==o.startContainer.tagName)i.push(o.startContainer),r=!0;else{var a=o.startContainer.childNodes,l=o.startOffset;if(a.length>l&&l>=0){var h=a[l];("TD"==h.tagName||"TH"==h.tagName)&&(i.push(h),r=!0)}}if(r===!1){var d=t(o.startContainer).parents("td:first, th:first");d.length>0&&i.push(d.get(0))}}}return i},t.Editable.prototype.currentCell=function(){var t=this.getSelectionCells();return t.length>0?t[0]:null},t.Editable.prototype.prevCell=function(){var e=this.currentCell();if(e){if(t(e).prev("td").length)return t(e).prev("td").get(0);if(t(e).parent().prev("tr").find("td").length)return t(e).parent().prev("tr").find("td:last").get(0)}return null},t.Editable.prototype.nextCell=function(){var e=this.currentCell();if(e){if(t(e).next("td").length)return t(e).next("td").get(0);if(t(e).parent().next("tr").find("td").length)return t(e).parent().next("tr").find("td").get(0)}return null},t.Editable.prototype.currentTable=function(){for(var e=t(this.getSelectionElement());e.get(0)!=this.$element.get(0)&&e.get(0)!=this.$document.find("body").get(0)&&"TABLE"!=e.get(0).tagName;)e=e.parent();return e.get(0)!=this.$element.get(0)?e:null},t.Editable.prototype.focusOnTable=function(){var t=this.currentTable();if(t){var e=t.find("td:first");this.setSelection(e.get(0))}},t.Editable.prototype.insertCell=function(e){for(var i=this.getSelectionCells(),n=0;n<i.length;n++){var s=t(i[n]);"before"==e?s.before(s.clone().removeAttr("colspan").removeAttr("rowspan").html(t.Editable.INVISIBLE_SPACE)):"after"==e&&s.after(s.clone().removeAttr("colspan").removeAttr("rowspan").html(t.Editable.INVISIBLE_SPACE))}"before"==e?this.triggerEvent("cellInsertedBefore"):"after"==e&&this.triggerEvent("cellInsertedAfter")},t.Editable.prototype.mergeCells=function(){var e=this.canMergeCells();if(e){var i=t(e.map[e.row][e.col]);i.attr("colspan",e.colspan),i.attr("rowspan",e.rowspan);for(var n=0;n<e.cells.length;n++){var s=e.cells[n];if(i.get(0)!=s){var o=t(s);i.append(o.html()),o.remove()}}this.setSelection(i.get(0))}this.hide(),this.triggerEvent("cellsMerged")},t.Editable.prototype.deleteCell=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]);n.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("cellDeleted")},t.Editable.prototype.insertHeader=function(){var t=this.currentTable();t&&t.find(" > thead").length>0&&this.triggerEvent("headerInserted")},t.Editable.prototype.deleteHeader=function(){},t.Editable.prototype.insertColumn=function(e){var i=this.currentCell();if(i)for(var n=t(i),s=this.tableMap(),o=this.cellOrigin(n.get(0),s),r=0;r<s.length;r++){var a=s[r][o.col],l=parseInt(t(a).attr("colspan"),10)||1,h=parseInt(t(a).attr("rowspan"),10)||1;if("before"==e){var d=s[r][o.col-1];d?d==a?t(d).attr("colspan",l+1):h>1?t(d).after("<"+d.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+d.tagName+">"):t(a).before("<"+a.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+a.tagName+">"):t(a).before("<"+a.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+a.tagName+">")}else if("after"==e){var p=s[r][o.col+1];p?p==a?t(p).attr("colspan",l+1):h>1?t(p).before("<"+p.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+p.tagName+">"):t(a).after("<"+a.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+a.tagName+">"):t(a).after("<"+a.tagName+">"+t.Editable.INVISIBLE_SPACE+"</"+a.tagName+">")}}this.hide(),"before"==e?this.triggerEvent("columnInsertedBefore"):"after"==e&&this.triggerEvent("columnInsertedAfter")},t.Editable.prototype.deleteColumn=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++)for(var n=t(e[i]),s=this.tableMap(),o=this.cellOrigin(n.get(0),s),r=0;r<s.length;r++){var a=s[r][o.col],l=parseInt(t(a).attr("colspan"),10)||1;1==l?t(a).remove():t(a).attr("colspan",l-1)}this.focusOnTable(),this.hide(),this.triggerEvent("columnDeleted")},t.Editable.prototype.insertRow=function(e){var i,n=this.currentCell();if(n){var s=t(n),o=this.tableMap(),r=this.cellOrigin(s.get(0),o),a=0,l=null;for(i=0;i<o[r.row].length;i++){var h=o[r.row][i],d=parseInt(t(h).attr("rowspan"),10)||1;if("above"==e)if(0===r.row)a++;else{var p=o[r.row-1][i];p==h&&l!=h?t(h).attr("rowspan",d+1):a++}else if("below"==e)if(r.row==o.length-1)a++;else{var c=o[r.row+1][i];c==h&&l!=h?t(h).attr("rowspan",d+1):a++}l=o[r.row][i]}var u="<tr>";for(i=0;a>i;i++)u+="<td>"+t.Editable.INVISIBLE_SPACE+"</td>";u+="</tr>","below"==e?s.closest("tr").after(u):"above"==e&&s.closest("tr").before(u)}this.hide(),"below"==e?this.triggerEvent("rowInsertedBelow"):"above"==e&&this.triggerEvent("rowInsertedAbove")},t.Editable.prototype.deleteRow=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]),s=this.tableMap(),o=this.cellOrigin(n.get(0),s),r=n.parents("tr:first");if(o)for(var a=0;a<s[o.row].length;a++){var l=s[o.row][a],h=parseInt(t(l).attr("rowspan"),10)||1;if(1==h)t(l).remove();else{var d=this.cellOrigin(l,s);if(t(l).attr("rowspan",h-1),d.row==o.row){var p=s[o.row+1];p&&p[a-1]&&(t(p[a-1]).after(t(l).clone()),t(l).remove())}}}r.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("rowDeleted")},t.Editable.prototype.splitVertical=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]),s=this.tableMap(),o=this.cellOrigin(n.get(0),s),r=parseInt(n.attr("colspan"),10)||1,a=parseInt(n.attr("rowspan"),10)||1;if(a>1){var l=Math.floor(a/2),h=o.row+(a-l),d=s[h][o.col-1];d||(d=s[h][o.col+r]),d?t(d).before(n.clone().attr("rowspan",l).html(t.Editable.INVISIBLE_SPACE)):n.parents("tr:first").after(t("<tr>").append(n.clone().attr("rowspan",l).html(t.Editable.INVISIBLE_SPACE))),n.attr("rowspan",a-l)}else{for(var p=t("<tr>").append(n.clone().html(t.Editable.INVISIBLE_SPACE)),c=null,u=0;u<s[o.row].length;u++){var f=s[o.row][u],m=parseInt(t(f).attr("rowspan"),10)||1;c!=f&&f!=n.get(0)&&t(f).attr("rowspan",m+1),c=f}n.parents("tr:first").after(p)}}this.hide(),this.triggerEvent("cellVerticalSplit")},t.Editable.prototype.splitHorizontal=function(){for(var e=this.getSelectionCells(),i=0;i<e.length;i++){var n=t(e[i]),s=this.tableMap(),o=this.cellOrigin(n.get(0),s),r=parseInt(n.attr("colspan"),10)||1;if(r>1){var a=Math.floor(r/2);n.after(n.clone().attr("colspan",a).html(t.Editable.INVISIBLE_SPACE)),n.attr("colspan",r-a)}else{for(var l=null,h=0;h<s.length;h++){var d=s[h][o.col],p=parseInt(t(d).attr("colspan"),10)||1;l!=d&&d!=n.get(0)&&t(d).attr("colspan",p+1),l=d}n.after(n.clone().html(t.Editable.INVISIBLE_SPACE))}}this.hide(),this.triggerEvent("cellHorizontalSplit")},t.Editable.prototype.insertTable=function(e,i){for(var n='<table data-last-table="true" width="100%">',s=0;e>s;s++){n+="<tr>";for(var o=0;i>o;o++)n+="<td>"+t.Editable.INVISIBLE_SPACE+"</td>";n+="</tr>"}n+="</table>",this.focus();var r=this.getSelectionElement();this.breakHTML(n,this.parents(t(r),"li").length<0);var a=this.$element.find('table[data-last-table="true"]');a.removeAttr("data-last-table"),this.setSelection(a.find("td:first").get(0)),this.hide(),this.triggerEvent("tableInserted")},t.Editable.prototype.deleteTable=function(){var t=this.currentTable();t&&(t.remove(),this.focus(),this.hide(),this.triggerEvent("tableDeleted"))},t.Editable.prototype.cleanupTables=function(){this.$element.find('td[colspan="1"], th[colspan="1"]').each(function(){t(this).removeAttr("colspan")}),this.$element.find('td[rowspan="1"], th[rowspan="1"]').each(function(){t(this).removeAttr("rowspan")})}}(jQuery),/*
 *
 * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
 *
 * Copyright (c) 2012, Matias Meno
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */
function(){var t,e,i,n,s,o,r,a,l=[].slice,h={}.hasOwnProperty,d=function(t,e){function i(){this.constructor=t}for(var n in e)h.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};r=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,i,n,s,o;if(n=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(s=0,o=i.length;o>s;s++)e=i[s],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var i,n,s,o,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[t],!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(s=o=0,r=n.length;r>o;s=++o)if(i=n[s],i===e){n.splice(s,1);break}return this},t}(),t=function(t){function i(t,e){var s,o,r;if(this.element=t,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,s=null!=(r=i.optionsForElement(this.element))?r:{},this.options=n({},this.defaultOptions,s,null!=e?e:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?i.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:i.getElements(this.options.clickable,"clickable")),this.init()}var n,s;return d(i,t),i.prototype.Emitter=e,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return r},forceFallback:!1,fallback:function(){var t,e,n,s,o,r;for(this.element.className=""+this.element.className+" dz-browser-not-supported",r=this.element.getElementsByTagName("div"),s=0,o=r.length;o>s;s++)t=r[s],/(^| )dz-message($| )/.test(t.className)&&(e=t,t.className="dz-message");return e||(e=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(e)),n=e.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,n;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,e.optWidth=this.options.thumbnailWidth,e.optHeight=this.options.thumbnailHeight,null==e.optWidth&&null==e.optHeight?(e.optWidth=e.srcWidth,e.optHeight=e.srcHeight):null==e.optWidth?e.optWidth=i*e.optHeight:null==e.optHeight&&(e.optHeight=1/i*e.optWidth),n=e.optWidth/e.optHeight,t.height<e.optHeight||t.width<e.optWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>n?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*n):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/n),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:r,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:r,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,n,s,o,r,a,l,h,d,p,c,u,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=i.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),p=t.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=p.length;l>o;o++)e=p[o],e.textContent=t.name;for(c=t.previewElement.querySelectorAll("[data-dz-size]"),r=0,h=c.length;h>r;r++)e=c[r],e.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),n=function(e){return function(n){return n.preventDefault(),n.stopPropagation(),t.status===i.UPLOADING?i.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?i.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),u=t.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,d=u.length;d>a;a++)s=u[a],f.push(s.addEventListener("click",n));return f}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,n,s,o;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),o=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,s=o.length;s>n;n++)i=o[n],i.alt=t.name,i.src=e;return setTimeout(function(){return function(){return t.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(t,e){var i,n,s,o,r;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),o=t.previewElement.querySelectorAll("[data-dz-errormessage]"),r=[],n=0,s=o.length;s>n;n++)i=o[n],r.push(i.textContent=e);return r}},errormultiple:r,processing:function(t){return t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink)?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:r,uploadprogress:function(t,e){var i,n,s,o,r;if(t.previewElement){for(o=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),r=[],n=0,s=o.length;s>n;n++)i=o[n],r.push("PROGRESS"===i.nodeName?i.value=e:i.style.width=""+e+"%");return r}},totaluploadprogress:r,sending:r,sendingmultiple:r,success:function(t){return t.previewElement?t.previewElement.classList.add("dz-success"):void 0},successmultiple:r,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:r,complete:function(t){return t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement?t.previewElement.classList.add("dz-complete"):void 0},completemultiple:r,maxfilesexceeded:r,maxfilesreached:r,queuecomplete:r,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var t,e,i,n,s,o,r;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],o=0,r=i.length;r>o;o++){e=i[o];for(t in e)s=e[t],n[t]=s}return n},i.prototype.getAcceptedFiles=function(){var t,e,i,n,s;for(n=this.files,s=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted&&s.push(t);return s},i.prototype.getRejectedFiles=function(){var t,e,i,n,s;for(n=this.files,s=[],e=0,i=n.length;i>e;e++)t=n[e],t.accepted||s.push(t);return s},i.prototype.getFilesWithStatus=function(t){var e,i,n,s,o;for(s=this.files,o=[],i=0,n=s.length;n>i;i++)e=s[i],e.status===t&&o.push(e);return o},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getActiveFiles=function(){var t,e,n,s,o;for(s=this.files,o=[],e=0,n=s.length;n>e;e++)t=s[e],(t.status===i.UPLOADING||t.status===i.QUEUED)&&o.push(t);return o},i.prototype.init=function(){var t,e,n,s,o,r,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(t){return function(){return t.hiddenFileInput&&document.body.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.body.appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,s,o;if(i=t.hiddenFileInput.files,i.length)for(s=0,o=i.length;o>s;s++)e=i[s],t.addFile(e);return n()})}}(this))(),this.URL=null!=(r=window.URL)?r:window.webkitURL,a=this.events,s=0,o=a.length;o>s;s++)t=a[s],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(){return 0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length?setTimeout(function(){return t.emit("queuecomplete")},0):void 0}}(this)),e=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(i){return e(i),t.emit("dragenter",i)}}(this),dragover:function(t){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(s){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",e(i),t.emit("dragover",i)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(i){return e(i),t.drop(i)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(n){return e!==t.element||n.target===t.element||i.elementInside(n.target,t.element.querySelector(".dz-message"))?t.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var t,e,i,n,s,o,r,a;if(n=0,i=0,t=this.getActiveFiles(),t.length){for(a=this.getActiveFiles(),o=0,r=a.length;r>o;o++)e=a[o],n+=e.upload.bytesSent,i+=e.upload.total;s=100*n/i}else s=100;return this.emit("totaluploadprogress",s,i,n)},i.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},i.prototype.getFallbackForm=function(){var t,e,n,s;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=i.createElement(n),"FORM"!==this.element.tagName?(s=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),s.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=s?s:e)},i.prototype.getExistingFallback=function(){var t,e,i,n,s,o;for(e=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},o=["div","form"],n=0,s=o.length;s>n;n++)if(i=o[n],t=e(this.element.getElementsByTagName(i)))return t},i.prototype.setupEventListeners=function(){var t,e,i,n,s,o,r;for(o=this.listeners,r=[],n=0,s=o.length;s>n;n++)t=o[n],r.push(function(){var n,s;n=t.events,s=[];for(e in n)i=n[e],s.push(t.element.addEventListener(e,i,!1));return s}());return r},i.prototype.removeEventListeners=function(){var t,e,i,n,s,o,r;for(o=this.listeners,r=[],n=0,s=o.length;s>n;n++)t=o[n],r.push(function(){var n,s;n=t.events,s=[];for(e in n)i=n[e],s.push(t.element.removeEventListener(e,i,!1));return s}());return r},i.prototype.disable=function(){var t,e,i,n,s;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(this.cancelUpload(t));return s},i.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(t){var e,i,n,s,o,r,a,l;for(r=["TB","GB","MB","KB","b"],n=s=null,i=a=0,l=r.length;l>a;i=++a)if(o=r[i],e=Math.pow(this.options.filesizeBase,4-i)/10,t>=e){n=t/Math.pow(this.options.filesizeBase,4-i),s=o;break}return n=Math.round(10*n)/10,"<strong>"+n+"</strong> "+s},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},i.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},i.prototype.handleFiles=function(t){var e,i,n,s;for(s=[],i=0,n=t.length;n>i;i++)e=t[i],s.push(this.addFile(e));return s},i.prototype._addFilesFromItems=function(t){var e,i,n,s,o;for(o=[],n=0,s=t.length;s>n;n++)i=t[n],o.push(null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?this.addFile(i.getAsFile()):e.isDirectory?this._addFilesFromDirectory(e,e.name):void 0:null!=i.getAsFile?null==i.kind||"file"===i.kind?this.addFile(i.getAsFile()):void 0:void 0);return o},i.prototype._addFilesFromDirectory=function(t,e){var i,n;return i=t.createReader(),n=function(t){return function(i){var n,s,o;for(s=0,o=i.length;o>s;s++)n=i[s],n.isFile?n.file(function(i){return t.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+e+"/"+i.name,t.addFile(i))}):n.isDirectory&&t._addFilesFromDirectory(n,""+e+"/"+n.name)}}(this),i.readEntries(n,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},i.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},i.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=i.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)e=t[i],this.enqueueFile(e);return null},i.prototype.enqueueFile=function(t){if(t.status!==i.ADDED||t.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=i.QUEUED,this.options.autoProcessQueue?setTimeout(function(t){return function(){return t.processQueue()}}(this),0):void 0},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(t){return this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)):void 0},i.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this)))},i.prototype.removeFile=function(t){return t.status===i.UPLOADING&&this.cancelUpload(t),this.files=a(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(t){var e,n,s,o;for(null==t&&(t=!1),o=this.files.slice(),n=0,s=o.length;s>n;n++)e=o[n],(e.status!==i.UPLOADING||t)&&this.removeFile(e);return null},i.prototype.createThumbnail=function(t,e){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===t.type?(n.emit("thumbnail",t,i.result),void(null!=e&&e())):n.createThumbnailFromUrl(t,i.result,e)}}(this),i.readAsDataURL(t)},i.prototype.createThumbnailFromUrl=function(t,e,i){var n;return n=document.createElement("img"),n.onload=function(e){return function(){var s,r,a,l,h,d,p,c;return t.width=n.width,t.height=n.height,a=e.options.resize.call(e,t),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),s=document.createElement("canvas"),r=s.getContext("2d"),s.width=a.trgWidth,s.height=a.trgHeight,o(r,n,null!=(h=a.srcX)?h:0,null!=(d=a.srcY)?d:0,a.srcWidth,a.srcHeight,null!=(p=a.trgX)?p:0,null!=(c=a.trgY)?c:0,a.trgWidth,a.trgHeight),l=s.toDataURL("image/png"),e.emit("thumbnail",t,l),null!=i?i():void 0}}(this),null!=i&&(n.onerror=i),n.src=e},i.prototype.processQueue=function(){var t,e,i,n;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-i));for(;e>t;){if(!n.length)return;this.processFile(n.shift()),t++}}},i.prototype.processFile=function(t){return this.processFiles([t])},i.prototype.processFiles=function(t){var e,n,s;for(n=0,s=t.length;s>n;n++)e=t[n],e.processing=!0,e.status=i.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},i.prototype._getFilesWithXhr=function(t){var e,i;return i=function(){var i,n,s,o;for(s=this.files,o=[],i=0,n=s.length;n>i;i++)e=s[i],e.xhr===t&&o.push(e);return o}.call(this)},i.prototype.cancelUpload=function(t){var e,n,s,o,r,a,l;if(t.status===i.UPLOADING){for(n=this._getFilesWithXhr(t.xhr),s=0,r=n.length;r>s;s++)e=n[s],e.status=i.CANCELED;for(t.xhr.abort(),o=0,a=n.length;a>o;o++)e=n[o],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=t.status)===i.ADDED||l===i.QUEUED)&&(t.status=i.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},s=function(){var t,e;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},i.prototype.uploadFile=function(t){return this.uploadFiles([t])},i.prototype.uploadFiles=function(t){var e,o,r,a,l,h,d,p,c,u,f,m,g,v,b,y,w,x,k,E,$,S,C,T,_,I,L,N,A,D,M,R,O,B;for(k=new XMLHttpRequest,E=0,T=t.length;T>E;E++)e=t[E],e.xhr=k;m=s(this.options.method,t),w=s(this.options.url,t),k.open(m,w,!0),k.withCredentials=!!this.options.withCredentials,b=null,r=function(i){return function(){var n,s,o;for(o=[],n=0,s=t.length;s>n;n++)e=t[n],o.push(i._errorProcessing(t,b||i.options.dictResponseError.replace("{{statusCode}}",k.status),k));return o}}(this),y=function(i){return function(n){var s,o,r,a,l,h,d,p,c;if(null!=n)for(o=100*n.loaded/n.total,r=0,h=t.length;h>r;r++)e=t[r],e.upload={progress:o,total:n.total,bytesSent:n.loaded};else{for(s=!0,o=100,a=0,d=t.length;d>a;a++)e=t[a],(100!==e.upload.progress||e.upload.bytesSent!==e.upload.total)&&(s=!1),e.upload.progress=o,e.upload.bytesSent=e.upload.total;if(s)return}for(c=[],l=0,p=t.length;p>l;l++)e=t[l],c.push(i.emit("uploadprogress",e,o,e.upload.bytesSent));return c}}(this),k.onload=function(e){return function(n){var s;if(t[0].status!==i.CANCELED&&4===k.readyState){if(b=k.responseText,k.getResponseHeader("content-type")&&~k.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(o){n=o,b="Invalid JSON response from server."}return y(),200<=(s=k.status)&&300>s?e._finished(t,b,n):r()}}}(this),k.onerror=function(){return function(){return t[0].status!==i.CANCELED?r():void 0}}(this),v=null!=(A=k.upload)?A:k,v.onprogress=y,h={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(h,this.options.headers);for(a in h)l=h[a],k.setRequestHeader(a,l);if(o=new FormData,this.options.params){D=this.options.params;for(f in D)x=D[f],o.append(f,x)}for($=0,_=t.length;_>$;$++)e=t[$],this.emit("sending",e,k,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,k,o),"FORM"===this.element.tagName)for(M=this.element.querySelectorAll("input, textarea, select, button"),S=0,I=M.length;I>S;S++)if(p=M[S],c=p.getAttribute("name"),u=p.getAttribute("type"),"SELECT"===p.tagName&&p.hasAttribute("multiple"))for(R=p.options,C=0,L=R.length;L>C;C++)g=R[C],g.selected&&o.append(c,g.value);else(!u||"checkbox"!==(O=u.toLowerCase())&&"radio"!==O||p.checked)&&o.append(c,p.value);for(d=N=0,B=t.length-1;B>=0?B>=N:N>=B;d=B>=0?++N:--N)o.append(this._getParamName(d),t[d],t[d].name);return k.send(o)},i.prototype._finished=function(t,e,n){var s,o,r;for(o=0,r=t.length;r>o;o++)s=t[o],s.status=i.SUCCESS,this.emit("success",s,e,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(t,e,n){var s,o,r;for(o=0,r=t.length;r>o;o++)s=t[o],s.status=i.ERROR,this.emit("error",s,e,n),this.emit("complete",s);return this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},i}(e),t.version="4.0.1",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[i(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,i,n,s,o,r;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],e=function(t){var e,i,s,o;for(o=[],i=0,s=t.length;s>i;i++)e=t[i],o.push(/(^| )dropzone($| )/.test(e.className)?n.push(e):void 0);return o},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),r=[],s=0,o=n.length;o>s;s++)i=n[s],r.push(t.optionsForElement(i)!==!1?new t(i):void 0);return r},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,i,n,s,o;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=t.blacklistedBrowsers,n=0,s=o.length;s>n;n++)i=o[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},a=function(t,e){var i,n,s,o;for(o=[],n=0,s=t.length;s>n;n++)i=t[n],i!==e&&o.push(i);return o},i=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},t.getElements=function(t,e){var i,n,s,o,r,a,l,h;if(t instanceof Array){s=[];try{for(o=0,a=t.length;a>o;o++)n=t[o],s.push(this.getElement(n,e))}catch(d){i=d,s=null}}else if("string"==typeof t)for(s=[],h=document.querySelectorAll(t),r=0,l=h.length;l>r;r++)n=h[r],s.push(n);else null!=t.nodeType&&(s=[t]);if(null==s||!s.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return s},t.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},t.isValidFile=function(t,e){var i,n,s,o,r;if(!e)return!0;for(e=e.split(","),n=t.type,i=n.replace(/\/.*$/,""),o=0,r=e.length;r>o;o++)if(s=e[o],s=s.trim(),"."===s.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(s.toLowerCase(),t.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",s=function(t){var e,i,n,s,o,r,a,l,h,d;for(a=t.naturalWidth,r=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=r,n=i.getContext("2d"),n.drawImage(t,0,0),s=n.getImageData(0,0,1,r).data,d=0,o=r,l=r;l>d;)e=s[4*(l-1)+3],0===e?o=l:d=l,l=o+d>>1;return h=l/r,0===h?1:h},o=function(t,e,i,n,o,r,a,l,h,d){var p;return p=s(e),t.drawImage(e,i,n,o,r,a,l,h,d/p)},n=function(t,e){var i,n,s,o,r,a,l,h,d;if(s=!1,d=!0,n=t.document,h=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",o=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?t:n)[l](a+i.type,o,!1),!s&&(s=!0)?e.call(t,i.type||i):void 0):void 0},r=function(){var t;try{h.doScroll("left")}catch(e){return t=e,void setTimeout(r,50)}return o("poll")},"complete"!==n.readyState){if(n.createEventObject&&h.doScroll){try{d=!t.frameElement}catch(p){}d&&r()}return n[i](a+"DOMContentLoaded",o,!1),n[i](a+"readystatechange",o,!1),t[i](a+"load",o,!1)}},t._autoDiscoverFunction=function(){return t.autoDiscover?t.discover():void 0
},n(window,t._autoDiscoverFunction)}.call(this),function(t){var e,i,n,s,o,r,a,l="Close",h="BeforeClose",d="AfterClose",p="BeforeAppend",c="MarkupParse",u="Open",f="Change",m="mfp",g="."+m,v="mfp-ready",b="mfp-removing",y="mfp-prevent-close",w=function(){},x=!!window.jQuery,k=t(window),E=function(t,i){e.ev.on(m+t+g,i)},$=function(e,i,n,s){var o=document.createElement("div");return o.className="mfp-"+e,n&&(o.innerHTML=n),s?i&&i.appendChild(o):(o=t(o),i&&o.appendTo(i)),o},S=function(i,n){e.ev.triggerHandler(m+i,n),e.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),e.st.callbacks[i]&&e.st.callbacks[i].apply(e,t.isArray(n)?n:[n]))},C=function(i){return i===a&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),a=i),e.currTemplate.closeBtn},T=function(){t.magnificPopup.instance||(e=new w,e.init(),t.magnificPopup.instance=e)},_=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};w.prototype={constructor:w,init:function(){var i=navigator.appVersion;e.isIE7=-1!==i.indexOf("MSIE 7."),e.isIE8=-1!==i.indexOf("MSIE 8."),e.isLowIE=e.isIE7||e.isIE8,e.isAndroid=/android/gi.test(i),e.isIOS=/iphone|ipad|ipod/gi.test(i),e.supportsTransition=_(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),s=t(document),e.popupsCache={}},open:function(i){n=t(document.body);var o;if(i.isObj===!1){e.items=i.items.toArray(),e.index=0;var a,l=i.items;for(o=0;o<l.length;o++)if(a=l[o],a.parsed&&(a=a.el[0]),a===i.el[0]){e.index=o;break}}else e.items=t.isArray(i.items)?i.items:[i.items],e.index=i.index||0;if(e.isOpen)return void e.updateItemHTML();e.types=[],r="",e.ev=i.mainEl&&i.mainEl.length?i.mainEl.eq(0):s,i.key?(e.popupsCache[i.key]||(e.popupsCache[i.key]={}),e.currTemplate=e.popupsCache[i.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,i),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=$("bg").on("click"+g,function(){e.close()}),e.wrap=$("wrap").attr("tabindex",-1).on("click"+g,function(t){e._checkIfClose(t.target)&&e.close()}),e.container=$("container",e.wrap)),e.contentContainer=$("content"),e.st.preloader&&(e.preloader=$("preloader",e.container,e.st.tLoading));var h=t.magnificPopup.modules;for(o=0;o<h.length;o++){var d=h[o];d=d.charAt(0).toUpperCase()+d.slice(1),e["init"+d].call(e)}S("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(E(c,function(t,e,i,n){i.close_replaceWith=C(n.type)}),r+=" mfp-close-btn-in"):e.wrap.append(C())),e.st.alignTop&&(r+=" mfp-align-top"),e.wrap.css(e.fixedContentPos?{overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}:{top:k.scrollTop(),position:"absolute"}),(e.st.fixedBgPos===!1||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:s.height(),position:"absolute"}),e.st.enableEscapeKey&&s.on("keyup"+g,function(t){27===t.keyCode&&e.close()}),k.on("resize"+g,function(){e.updateSize()}),e.st.closeOnContentClick||(r+=" mfp-auto-cursor"),r&&e.wrap.addClass(r);var p=e.wH=k.height(),f={};if(e.fixedContentPos&&e._hasScrollBar(p)){var m=e._getScrollbarSize();m&&(f.marginRight=m)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):f.overflow="hidden");var b=e.st.mainClass;return e.isIE7&&(b+=" mfp-ie7"),b&&e._addClassToMFP(b),e.updateItemHTML(),S("BuildControls"),t("html").css(f),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||n),e._lastFocusedEl=document.activeElement,setTimeout(function(){e.content?(e._addClassToMFP(v),e._setFocus()):e.bgOverlay.addClass(v),s.on("focusin"+g,e._onFocusIn)},16),e.isOpen=!0,e.updateSize(p),S(u),i},close:function(){e.isOpen&&(S(h),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(b),setTimeout(function(){e._close()},e.st.removalDelay)):e._close())},_close:function(){S(l);var i=b+" "+v+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(i+=e.st.mainClass+" "),e._removeClassFromMFP(i),e.fixedContentPos){var n={marginRight:""};e.isIE7?t("body, html").css("overflow",""):n.overflow="",t("html").css(n)}s.off("keyup"+g+" focusin"+g),e.ev.off(g),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&e.currTemplate[e.currItem.type]!==!0||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,S(d)},updateSize:function(t){if(e.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;e.wrap.css("height",n),e.wH=n}else e.wH=t||k.height();e.fixedContentPos||e.wrap.css("height",e.wH),S("Resize")},updateItemHTML:function(){var i=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),i.parsed||(i=e.parseEl(e.index));var n=i.type;if(S("BeforeChange",[e.currItem?e.currItem.type:"",n]),e.currItem=i,!e.currTemplate[n]){var s=e.st[n]?e.st[n].markup:!1;S("FirstMarkupParse",s),e.currTemplate[n]=s?t(s):!0}o&&o!==i.type&&e.container.removeClass("mfp-"+o+"-holder");var r=e["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,e.currTemplate[n]);e.appendContent(r,n),i.preloaded=!0,S(f,i),o=i.type,e.container.prepend(e.contentContainer),S("AfterChange")},appendContent:function(t,i){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&e.currTemplate[i]===!0?e.content.find(".mfp-close").length||e.content.append(C()):e.content=t:e.content="",S(p),e.container.addClass("mfp-"+i+"-holder"),e.contentContainer.append(e.content)},parseEl:function(i){var n=e.items[i],s=n.type;if(n=n.tagName?{el:t(n)}:{data:n,src:n.src},n.el){for(var o=e.types,r=0;r<o.length;r++)if(n.el.hasClass("mfp-"+o[r])){s=o[r];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=s||e.st.type||"inline",n.index=i,n.parsed=!0,e.items[i]=n,S("ElementParse",n),e.items[i]},addGroup:function(t,i){var n=function(n){n.mfpEl=this,e._openClick(n,t,i)};i||(i={});var s="click.magnificPopup";i.mainEl=t,i.items?(i.isObj=!0,t.off(s).on(s,n)):(i.isObj=!1,i.delegate?t.off(s).on(s,i.delegate,n):(i.items=t,t.off(s).on(s,n)))},_openClick:function(i,n,s){var o=void 0!==s.midClick?s.midClick:t.magnificPopup.defaults.midClick;if(o||2!==i.which&&!i.ctrlKey&&!i.metaKey){var r=void 0!==s.disableOn?s.disableOn:t.magnificPopup.defaults.disableOn;if(r)if(t.isFunction(r)){if(!r.call(e))return!0}else if(k.width()<r)return!0;i.type&&(i.preventDefault(),e.isOpen&&i.stopPropagation()),s.el=t(i.mfpEl),s.delegate&&(s.items=n.find(s.delegate)),e.open(s)}},updateStatus:function(t,n){if(e.preloader){i!==t&&e.container.removeClass("mfp-s-"+i),n||"loading"!==t||(n=e.st.tLoading);var s={status:t,text:n};S("UpdateStatus",s),t=s.status,n=s.text,e.preloader.html(n),e.preloader.find("a").on("click",function(t){t.stopImmediatePropagation()}),e.container.addClass("mfp-s-"+t),i=t}},_checkIfClose:function(i){if(!t(i).hasClass(y)){var n=e.st.closeOnContentClick,s=e.st.closeOnBgClick;if(n&&s)return!0;if(!e.content||t(i).hasClass("mfp-close")||e.preloader&&i===e.preloader[0])return!0;if(i===e.content[0]||t.contains(e.content[0],i)){if(n)return!0}else if(s&&t.contains(document,i))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?s.height():document.body.scrollHeight)>(t||k.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(i){return i.target===e.wrap[0]||t.contains(e.wrap[0],i.target)?void 0:(e._setFocus(),!1)},_parseMarkup:function(e,i,n){var s;n.data&&(i=t.extend(n.data,i)),S(c,[e,i,n]),t.each(i,function(t,i){if(void 0===i||i===!1)return!0;if(s=t.split("_"),s.length>1){var n=e.find(g+"-"+s[0]);if(n.length>0){var o=s[1];"replaceWith"===o?n[0]!==i[0]&&n.replaceWith(i):"img"===o?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(s[1],i)}}else e.find(g+"-"+t).html(i)})},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.id="mfp-sbm",t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(e,i){return T(),e=e?t.extend(!0,{},e):{},e.isObj=!0,e.index=i||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,i){i.options&&(t.magnificPopup.defaults[e]=i.options),t.extend(this.proto,i.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},t.fn.magnificPopup=function(i){T();var n=t(this);if("string"==typeof i)if("open"===i){var s,o=x?n.data("magnificPopup"):n[0].magnificPopup,r=parseInt(arguments[1],10)||0;o.items?s=o.items[r]:(s=n,o.delegate&&(s=s.find(o.delegate)),s=s.eq(r)),e._openClick({mfpEl:s},n,o)}else e.isOpen&&e[i].apply(e,Array.prototype.slice.call(arguments,1));else i=t.extend(!0,{},i),x?n.data("magnificPopup",i):n[0].magnificPopup=i,e.addGroup(n,i);return n};var I,L,N,A="inline",D=function(){N&&(L.after(N.addClass(I)).detach(),N=null)};t.magnificPopup.registerModule(A,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(A),E(l+"."+A,function(){D()})},getInline:function(i,n){if(D(),i.src){var s=e.st.inline,o=t(i.src);if(o.length){var r=o[0].parentNode;r&&r.tagName&&(L||(I=s.hiddenClass,L=$(I),I="mfp-"+I),N=o.after(L).detach().removeClass(I)),e.updateStatus("ready")}else e.updateStatus("error",s.tNotFound),o=t("<div>");return i.inlineElement=o,o}return e.updateStatus("ready"),e._parseMarkup(n,{},i),n}}});var M,R="ajax",O=function(){M&&n.removeClass(M)},B=function(){O(),e.req&&e.req.abort()};t.magnificPopup.registerModule(R,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(R),M=e.st.ajax.cursor,E(l+"."+R,B),E("BeforeChange."+R,B)},getAjax:function(i){M&&n.addClass(M),e.updateStatus("loading");var s=t.extend({url:i.src,success:function(n,s,o){var r={data:n,xhr:o};S("ParseAjax",r),e.appendContent(t(r.data),R),i.finished=!0,O(),e._setFocus(),setTimeout(function(){e.wrap.addClass(v)},16),e.updateStatus("ready"),S("AjaxContentAdded")},error:function(){O(),i.finished=i.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",i.src))}},e.st.ajax.settings);return e.req=t.ajax(s),""}}});var P,H=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=e.st.image.titleSrc;if(n){if(t.isFunction(n))return n.call(e,i);if(i.el)return i.el.attr(n)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var t=e.st.image,i=".image";e.types.push("image"),E(u+i,function(){"image"===e.currItem.type&&t.cursor&&n.addClass(t.cursor)}),E(l+i,function(){t.cursor&&n.removeClass(t.cursor),k.off("resize"+g)}),E("Resize"+i,e.resizeImage),e.isLowIE&&E("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var i=0;e.isLowIE&&(i=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-i)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,P&&clearInterval(P),t.isCheckingImgSize=!1,S("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],s=function(o){P&&clearInterval(P),P=setInterval(function(){return n.naturalWidth>0?void e._onImageHasSize(t):(i>200&&clearInterval(P),i++,void(3===i?s(10):40===i?s(50):100===i&&s(500)))},o)};s(1)},getImage:function(i,n){var s=0,o=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,S("ImageLoadComplete")):(s++,200>s?setTimeout(o,100):r()))},r=function(){i&&(i.img.off(".mfploader"),i===e.currItem&&(e._onImageHasSize(i),e.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=e.st.image,l=n.find(".mfp-img");if(l.length){var h=document.createElement("img");h.className="mfp-img",i.img=t(h).on("load.mfploader",o).on("error.mfploader",r),h.src=i.src,l.is("img")&&(i.img=i.img.clone()),h=i.img[0],h.naturalWidth>0?i.hasSize=!0:h.width||(i.hasSize=!1)}return e._parseMarkup(n,{title:H(i),img_replaceWith:i.img},i),e.resizeImage(),i.hasSize?(P&&clearInterval(P),i.loadError?(n.addClass("mfp-loading"),e.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),e.updateStatus("ready")),n):(e.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),e.findImageSize(i)),n)}}});var j,F=function(){return void 0===j&&(j=void 0!==document.createElement("p").style.MozTransform),j};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,i=e.st.zoom,n=".zoom";if(i.enabled&&e.supportsTransition){var s,o,r=i.duration,a=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,s={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return s["-webkit-"+o]=s["-moz-"+o]=s["-o-"+o]=s[o]=n,e.css(s),e},d=function(){e.content.css("visibility","visible")};E("BuildControls"+n,function(){if(e._allowZoom()){if(clearTimeout(s),e.content.css("visibility","hidden"),t=e._getItemToZoom(),!t)return void d();o=a(t),o.css(e._getOffset()),e.wrap.append(o),s=setTimeout(function(){o.css(e._getOffset(!0)),s=setTimeout(function(){d(),setTimeout(function(){o.remove(),t=o=null,S("ZoomAnimationEnded")},16)},r)},16)}}),E(h+n,function(){if(e._allowZoom()){if(clearTimeout(s),e.st.removalDelay=r,!t){if(t=e._getItemToZoom(),!t)return;o=a(t)}o.css(e._getOffset(!0)),e.wrap.append(o),e.content.css("visibility","hidden"),setTimeout(function(){o.css(e._getOffset())},16)}}),E(l+n,function(){e._allowZoom()&&(d(),o&&o.remove(),t=null)})}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return e.currItem.hasSize?e.currItem.img:!1},_getOffset:function(i){var n;n=i?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem);var s=n.offset(),o=parseInt(n.css("padding-top"),10),r=parseInt(n.css("padding-bottom"),10);s.top-=t(window).scrollTop()-o;var a={width:n.width(),height:(x?n.innerHeight():n[0].offsetHeight)-r-o};return F()?a["-moz-transform"]=a.transform="translate("+s.left+"px,"+s.top+"px)":(a.left=s.left,a.top=s.top),a}}});var z="iframe",U="//about:blank",W=function(t){if(e.currTemplate[z]){var i=e.currTemplate[z].find("iframe");i.length&&(t||(i[0].src=U),e.isIE8&&i.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(z),E("BeforeChange",function(t,e,i){e!==i&&(e===z?W():i===z&&W(!0))}),E(l+"."+z,function(){W()})},getIframe:function(i,n){var s=i.src,o=e.st.iframe;t.each(o.patterns,function(){return s.indexOf(this.index)>-1?(this.id&&(s="string"==typeof this.id?s.substr(s.lastIndexOf(this.id)+this.id.length,s.length):this.id.call(this,s)),s=this.src.replace("%id%",s),!1):void 0});var r={};return o.srcAction&&(r[o.srcAction]=s),e._parseMarkup(n,r,i),e.updateStatus("ready"),n}}});var q=function(t){var i=e.items.length;return t>i-1?t-i:0>t?i+t:t},X=function(t,e,i){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,i)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=e.st.gallery,n=".mfp-gallery",o=Boolean(t.fn.mfpFastClick);return e.direction=!0,i&&i.enabled?(r+=" mfp-gallery",E(u+n,function(){i.navigateByImgClick&&e.wrap.on("click"+n,".mfp-img",function(){return e.items.length>1?(e.next(),!1):void 0}),s.on("keydown"+n,function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()})}),E("UpdateStatus"+n,function(t,i){i.text&&(i.text=X(i.text,e.currItem.index,e.items.length))}),E(c+n,function(t,n,s,o){var r=e.items.length;s.counter=r>1?X(i.tCounter,o.index,r):""}),E("BuildControls"+n,function(){if(e.items.length>1&&i.arrows&&!e.arrowLeft){var n=i.arrowMarkup,s=e.arrowLeft=t(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(y),r=e.arrowRight=t(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(y),a=o?"mfpFastClick":"click";s[a](function(){e.prev()}),r[a](function(){e.next()}),e.isIE7&&($("b",s[0],!1,!0),$("a",s[0],!1,!0),$("b",r[0],!1,!0),$("a",r[0],!1,!0)),e.container.append(s.add(r))}}),E(f+n,function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){e.preloadNearbyImages(),e._preloadTimeout=null},16)}),void E(l+n,function(){s.off(n),e.wrap.off("click"+n),e.arrowLeft&&o&&e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(),e.arrowRight=e.arrowLeft=null})):!1},next:function(){e.direction=!0,e.index=q(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=q(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,i=e.st.gallery.preload,n=Math.min(i[0],e.items.length),s=Math.min(i[1],e.items.length);for(t=1;t<=(e.direction?s:n);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?n:s);t++)e._preloadItem(e.index-t)},_preloadItem:function(i){if(i=q(i),!e.items[i].preloaded){var n=e.items[i];n.parsed||(n=e.parseEl(i)),S("LazyLoad",n),"image"===n.type&&(n.img=t('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,S("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var V="retina";t.magnificPopup.registerModule(V,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,function(t){return"@2x"+t})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,i=t.ratio;i=isNaN(i)?i():i,i>1&&(E("ImageHasSize."+V,function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/i,width:"100%"})}),E("ElementParse."+V,function(e,n){n.src=t.replaceSrc(n,i)}))}}}}),function(){var e=1e3,i="ontouchstart"in window,n=function(){k.off("touchmove"+o+" touchend"+o)},s="mfpFastClick",o="."+s;t.fn.mfpFastClick=function(s){return t(this).each(function(){var r,a=t(this);if(i){var l,h,d,p,c,u;a.on("touchstart"+o,function(t){p=!1,u=1,c=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],h=c.clientX,d=c.clientY,k.on("touchmove"+o,function(t){c=t.originalEvent?t.originalEvent.touches:t.touches,u=c.length,c=c[0],(Math.abs(c.clientX-h)>10||Math.abs(c.clientY-d)>10)&&(p=!0,n())}).on("touchend"+o,function(t){n(),p||u>1||(r=!0,t.preventDefault(),clearTimeout(l),l=setTimeout(function(){r=!1},e),s())})})}a.on("click"+o,function(){r||s()})})},t.fn.destroyMfpFastClick=function(){t(this).off("touchstart"+o+" click"+o),i&&k.off("touchmove"+o+" touchend"+o)}}(),T()}(window.jQuery||window.Zepto),/*
Copyright 2012 Igor Vaynberg

Version: 3.5.2 Timestamp: Sat Nov  1 14:43:36 EDT 2014

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(t){"undefined"==typeof t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var i=t([0]),n=-1,s=this.length;++n<s&&(i.context=i[0]=this[n])&&e.call(i[0],n,i)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function i(e){var i=t(document.createTextNode(""));e.before(i),i.before(e),i.remove()}function n(t){function e(t){return j[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function s(t,e){for(var i=0,n=e.length;n>i;i+=1)if(r(t,e[i]))return i;return-1}function o(){var e=t(H);e.appendTo(document.body);var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}function r(t,i){return t===i?!0:t===e||i===e?!1:null===t||null===i?!1:t.constructor===String?t+""==i+"":i.constructor===String?i+""==t+"":!1}function a(t,e,i){var n,s,o;if(null===t||t.length<1)return[];for(n=t.split(e),s=0,o=n.length;o>s;s+=1)n[s]=i(n[s]);return n}function l(t){return t.outerWidth(!1)-t.width()}function h(i){var n="keyup-change-value";i.on("keydown",function(){t.data(i,n)===e&&t.data(i,n,i.val())}),i.on("keyup",function(){var s=t.data(i,n);s!==e&&i.val()!==s&&(t.removeData(i,n),i.trigger("keyup-change"))})}function d(i){i.on("mousemove",function(i){var n=B;(n===e||n.x!==i.pageX||n.y!==i.pageY)&&t(i.target).trigger("mousemove-filtered",i)})}function p(t,i,n){n=n||e;var s;return function(){var e=arguments;window.clearTimeout(s),s=window.setTimeout(function(){i.apply(n,e)},t)}}function c(t,e){var i=p(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){s(t.target,e.get())>=0&&i(t)})}function u(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,i=t[0],n=t.val().length;t.focus();var s=i.offsetWidth>0||i.offsetHeight>0;s&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(e=i.createTextRange(),e.collapse(!1),e.select()))},0)}function f(e){e=t(e)[0];var i=0,n=0;if("selectionStart"in e)i=e.selectionStart,n=e.selectionEnd-i;else if("selection"in document){e.focus();var s=document.selection.createRange();n=document.selection.createRange().text.length,s.moveStart("character",-e.value.length),i=s.text.length-n}return{offset:i,length:n}}function m(t){t.preventDefault(),t.stopPropagation()}function g(t){t.preventDefault(),t.stopImmediatePropagation()}function v(e){if(!M){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);M=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),M.attr("class","select2-sizer"),t(document.body).append(M)}return M.text(e.val()),M.width()}function b(e,i,n){var s,o,r=[];s=t.trim(e.attr("class")),s&&(s=""+s,t(s.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&r.push(this)})),s=t.trim(i.attr("class")),s&&(s=""+s,t(s.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=n(this),o&&r.push(o))})),e.attr("class",r.join(" "))}function y(t,e,i,s){var o=n(t.toUpperCase()).indexOf(n(e.toUpperCase())),r=e.length;return 0>o?void i.push(s(t)):(i.push(s(t.substring(0,o))),i.push("<span class='select2-match'>"),i.push(s(t.substring(o,o+r))),i.push("</span>"),void i.push(s(t.substring(o+r,t.length))))}function w(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function x(i){var n,s=null,o=i.quietMillis||100,r=i.url,a=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,o=r,h=i.transport||t.fn.select2.ajaxDefaults.transport,d={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},p=t.extend({},t.fn.select2.ajaxDefaults.params,d);n=n?n.call(a,l.term,l.page,l.context):null,o="function"==typeof o?o.call(a,l.term,l.page,l.context):o,s&&"function"==typeof s.abort&&s.abort(),i.params&&(t.isFunction(i.params)?t.extend(p,i.params.call(a)):t.extend(p,i.params)),t.extend(p,{url:o,dataType:i.dataType,data:n,success:function(t){var e=i.results(t,l.page,l);l.callback(e)},error:function(t,e,i){var n={hasError:!0,jqXHR:t,textStatus:e,errorThrown:i};l.callback(n)}}),s=h.call(a,p)},o)}}function k(e){var i,n,s=e,o=function(t){return""+t.text};t.isArray(s)&&(n=s,s={results:n}),t.isFunction(s)===!1&&(n=s,s=function(){return n});var r=s();return r.text&&(o=r.text,t.isFunction(o)||(i=r.text,o=function(t){return t[i]})),function(e){var i,n=e.term,r={results:[]};return""===n?void e.callback(s()):(i=function(s,r){var a,l;if(s=s[0],s.children){a={};for(l in s)s.hasOwnProperty(l)&&(a[l]=s[l]);a.children=[],t(s.children).each2(function(t,e){i(e,a.children)}),(a.children.length||e.matcher(n,o(a),s))&&r.push(a)}else e.matcher(n,o(s),s)&&r.push(s)},t(s().results).each2(function(t,e){i(e,r.results)}),void e.callback(r))}}function E(i){var n=t.isFunction(i);return function(s){var o=s.term,r={results:[]},a=n?i(s):i;t.isArray(a)&&(t(a).each(function(){var t=this.text!==e,i=t?this.text:this;(""===o||s.matcher(o,i))&&r.results.push(t?this:{id:this,text:this})}),s.callback(r))}}function $(e,i){if(t.isFunction(e))return!0;if(!e)return!1;if("string"==typeof e)return!0;throw new Error(i+" must be a string, function, or falsy value")}function S(e,i){if(t.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return e.apply(i,n)}return e}function C(e){var i=0;return t.each(e,function(t,e){e.children?i+=C(e.children):i++}),i}function T(t,i,n,s){var o,a,l,h,d,p=t,c=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1)return e;for(;;){for(a=-1,l=0,h=s.tokenSeparators.length;h>l&&(d=s.tokenSeparators[l],a=t.indexOf(d),!(a>=0));l++);if(0>a)break;if(o=t.substring(0,a),t=t.substring(a+d.length),o.length>0&&(o=s.createSearchChoice.call(this,o,i),o!==e&&null!==o&&s.id(o)!==e&&null!==s.id(o))){for(c=!1,l=0,h=i.length;h>l;l++)if(r(s.id(o),s.id(i[l]))){c=!0;break}c||n(o)}}return p!==t?t:void 0}function _(){var e=this;t.each(arguments,function(t,i){e[i].remove(),e[i]=null})}function I(e,i){var n=function(){};return n.prototype=new e,n.prototype.constructor=n,n.prototype.parent=e.prototype,n.prototype=t.extend(n.prototype,i),n}if(window.Select2===e){var L,N,A,D,M,R,O,B={x:0,y:0},P={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case P.LEFT:case P.RIGHT:case P.UP:case P.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case P.SHIFT:case P.CTRL:case P.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},H="<div class='select2-measure-scrollbar'></div>",j={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};R=t(document),D=function(){var t=1;return function(){return t++}}(),L=I(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var n,s,r=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=t(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+D()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=t(document.body),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(S(i.containerCss,this.opts.element)),this.container.addClass(S(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=n=this.container.find(r),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),d(this.results),this.dropdown.on("mousemove-filtered",r,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",r,this.bind(function(t){this._touchEvent=!0,this.highlightUnderEvent(t)})),this.dropdown.on("touchmove",r,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",r,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),c(80,this.results),this.dropdown.on("scroll-debounced",r,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),t(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),t.fn.mousewheel&&n.mousewheel(function(t,e,i,s){var o=n.scrollTop();s>0&&0>=o-s?(n.scrollTop(0),m(t)):0>s&&n.get(0).scrollHeight-n.scrollTop()+s<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),m(t))}),h(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",r,this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=e,t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var a=i.element.prop("disabled");a===e&&(a=!1),this.enable(!a);var l=i.element.prop("readonly");l===e&&(l=!1),this.readonly(l),O=O||o(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var t=this.opts.element,i=t.data("select2"),n=this;this.close(),t.length&&t[0].detachEvent&&n._sync&&t.each(function(){n._sync&&this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==e&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),t.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show()),_.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:r(t.attr("locked"),"locked")||r(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var n,s,o,l,h=this;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=s=i.element),s&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=t.extend({},{populateResults:function(n,s,o){var r,a=this.opts.id,l=this.liveRegion;(r=function(n,s,d){var p,c,u,f,m,g,v,b,y,w;n=i.sortResults(n,s,o);var x=[];for(p=0,c=n.length;c>p;p+=1)u=n[p],m=u.disabled===!0,f=!m&&a(u)!==e,g=u.children&&u.children.length>0,v=t("<li></li>"),v.addClass("select2-results-dept-"+d),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(h.opts.formatResultCssClass(u)),v.attr("role","presentation"),b=t(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+D()),b.attr("role","option"),w=i.formatResult(u,b,o,h.opts.escapeMarkup),w!==e&&(b.html(w),v.append(b)),g&&(y=t("<ul></ul>"),y.addClass("select2-result-sub"),r(u.children,y,d+1),v.append(y)),v.data("select2-data",u),x.push(v[0]);s.append(x),l.text(i.formatMatches(n.length))})(s,n,0)}},t.fn.select2.defaults,i),"function"!=typeof i.id&&(o=i.id,i.id=function(t){return t[o]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(s?(i.query=this.bind(function(t){var i,s,o,r={results:[],more:!1},a=t.term;o=function(e,i){var n;e.is("option")?t.matcher(a,e.text(),e)&&i.push(h.optionToData(e)):e.is("optgroup")&&(n=h.optionToData(e),e.children().each2(function(t,e){o(e,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==e&&i.length>0&&(s=this.getPlaceholderOption(),s&&(i=i.not(s))),i.each2(function(t,e){o(e,r.results)}),t.callback(r)}),i.id=function(t){return t.id}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=x.call(i.element,i.ajax)):"data"in i?i.query=k(i.data):"tags"in i&&(i.query=E(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),i.initSelection===e&&(i.initSelection=function(e,n){var s=[];t(a(e.val(),i.separator,i.transformVal)).each(function(){var e={id:this,text:this},n=i.tags;t.isFunction(n)&&(n=n()),t(n).each(function(){return r(this.id,e.id)?(e=this,!1):void 0}),s.push(e)}),n(s)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,s=this;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var t=n.prop("disabled");t===e&&(t=!1),this.enable(!t);var i=n.prop("readonly");i===e&&(i=!1),this.readonly(i),this.container&&(b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(S(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(S(this.opts.dropdownCssClass,this.opts.element)))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",s._sync)}),i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(e){t.each(e,s._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e,choice:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var e,i,n,s,o,r=this.dropdown,a=this.container,l=a.offset(),h=a.outerHeight(!1),d=a.outerWidth(!1),p=r.outerHeight(!1),c=t(window),u=c.width(),f=c.height(),m=c.scrollLeft()+u,g=c.scrollTop()+f,v=l.top+h,b=l.left,y=g>=v+p,w=l.top-p>=c.scrollTop(),x=r.outerWidth(!1),k=function(){return m>=b+x},E=function(){return l.left+m+a.outerWidth(!1)>x},$=r.hasClass("select2-drop-above");$?(i=!0,!w&&y&&(n=!0,i=!1)):(i=!1,!y&&w&&(n=!0,i=!0)),n&&(r.hide(),l=this.container.offset(),h=this.container.outerHeight(!1),d=this.container.outerWidth(!1),p=r.outerHeight(!1),m=c.scrollLeft()+u,g=c.scrollTop()+f,v=l.top+h,b=l.left,x=r.outerWidth(!1),r.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=t(".select2-results",r)[0],r.addClass("select2-drop-auto-width"),r.css("width",""),x=r.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:O.width),x>d?d=x:x=d,p=r.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(e=this.body.offset(),v-=e.top,b-=e.left),!k()&&E()&&(b=l.left+this.container.outerWidth(!1)-x),s={left:b,width:d},i?(s.top=l.top-p,s.bottom="auto",this.container.addClass("select2-drop-above"),r.addClass("select2-drop-above")):(s.top=v,s.bottom="auto",this.container.removeClass("select2-drop-above"),r.removeClass("select2-drop-above")),s=t.extend(s,S(this.opts.dropdownCss,this.opts.element)),r.css(s)},shouldOpen:function(){var e;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),R.on("mousemove.select2Event",function(t){B.x=t.pageX,B.y=t.pageY}),!0):!1},opening:function(){var e,n=this.containerEventName,s="scroll."+n,o="resize."+n,r="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),e=t("#select2-drop-mask"),0===e.length&&(e=t(document.createElement("div")),e.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body),e.on("mousedown touchstart click",function(n){i(e);var s,o=t("#select2-drop");o.length>0&&(s=o.data("select2"),s.opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){t(this).on(o+" "+s+" "+r,function(){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var e=this.containerEventName,i="scroll."+e,n="resize."+e,s="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).off(i).off(n).off(s)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),R.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return S(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var e,i,n,s,o,r,a,l,h=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return void h.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),n=t(e[i]),l=(n.offset()||{}).top||0,s=l+n.outerHeight(!0),i===e.length-1&&(a=h.find("li.select2-more-results"),a.length>0&&(s=a.offset().top+a.outerHeight(!0))),o=h.offset().top+h.outerHeight(!1),s>o&&h.scrollTop(h.scrollTop()+(s-o)),r=l-h.offset().top,0>r&&"none"!=n.css("display")&&h.scrollTop(h.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=e;var s=t(i[n]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(e){var i,n,o=this.findHighlightableChoices();return 0===arguments.length?s(o.filter(".select2-highlighted")[0],o.get()):(e>=o.length&&(e=o.length-1),0>e&&(e=0),this.removeHighlight(),i=t(o[e]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),n=i.data("select2-data"),void(n&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")
},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t,e=this.results,i=e.find("li.select2-more-results"),n=this.resultsPage+1,s=this,o=this.search.val(),r=this.context;0!==i.length&&(t=i.offset().top-e.offset().top-e.height(),t<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:n,context:r,matcher:this.opts.matcher,callback:this.bind(function(t){s.opened()&&(s.opts.populateResults.call(this,e,t.results,{term:o,page:n,context:r}),s.postprocessResults(t,!1,!1),t.more===!0?(i.detach().appendTo(e).html(s.opts.escapeMarkup(S(s.opts.formatLoadMore,s.opts.element,n+1))),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):i.remove(),s.positionDropdown(),s.resultsPage=n,s.context=t.context,this.opts.element.trigger({type:"select2-loaded",items:t}))})})))},tokenize:function(){},updateResults:function(i){function n(){h.removeClass("select2-active"),c.positionDropdown(),c.liveRegion.text(d.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?d.text():c.opts.formatMatches(d.find('.select2-result-selectable:not(".select2-selected")').length))}function s(t){d.html(t),n()}var o,a,l,h=this.search,d=this.results,p=this.opts,c=this,u=h.val(),f=t.data(this.container,"select2-last-term");if((i===!0||!f||!r(u,f))&&(t.data(this.container,"select2-last-term",u),i===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(o=this.data(),t.isArray(o)&&o.length>=m&&$(p.formatSelectionTooBig,"formatSelectionTooBig")))return void s("<li class='select2-selection-limit'>"+S(p.formatSelectionTooBig,p.element,m)+"</li>");if(h.val().length<p.minimumInputLength)return s($(p.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+S(p.formatInputTooShort,p.element,h.val(),p.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(p.maximumInputLength&&h.val().length>p.maximumInputLength)return void s($(p.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+S(p.formatInputTooLong,p.element,h.val(),p.maximumInputLength)+"</li>":"");p.formatSearching&&0===this.findHighlightableChoices().length&&s("<li class='select2-searching'>"+S(p.formatSearching,p.element)+"</li>"),h.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=e&&null!=a&&h.val(a),this.resultsPage=1,p.query({element:p.element,term:h.val(),page:this.resultsPage,context:null,matcher:p.matcher,callback:this.bind(function(o){var a;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(o.hasError!==e&&$(p.formatAjaxError,"formatAjaxError"))return void s("<li class='select2-ajax-error'>"+S(p.formatAjaxError,p.element,o.jqXHR,o.textStatus,o.errorThrown)+"</li>");if(this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&""!==h.val()&&(a=this.opts.createSearchChoice.call(c,h.val(),o.results),a!==e&&null!==a&&c.id(a)!==e&&null!==c.id(a)&&0===t(o.results).filter(function(){return r(c.id(this),c.id(a))}).length&&this.opts.createSearchChoicePosition(o.results,a)),0===o.results.length&&$(p.formatNoMatches,"formatNoMatches"))return void s("<li class='select2-no-results'>"+S(p.formatNoMatches,p.element,h.val())+"</li>");d.empty(),c.opts.populateResults.call(this,d,o.results,{term:h.val(),page:this.resultsPage,context:null}),o.more===!0&&$(p.formatLoadMore,"formatLoadMore")&&(d.append("<li class='select2-more-results'>"+p.escapeMarkup(S(p.formatLoadMore,p.element,this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(o,i),n(),this.opts.element.trigger({type:"select2-loaded",items:o})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){u(this.search)},selectHighlighted:function(t){if(this._touchMoved)return void this.clearTouchMoved();var e=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n?(this.highlight(e),this.onSelect(n,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function i(){var i,n,s,o,r,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==e)for(n=i.split(";"),o=0,r=n.length;r>o;o+=1)if(a=n[o].replace(/\s/g,""),s=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==s&&s.length>=1)return s[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),N=I(L,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return e},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,s;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(n=i.createTextRange(),n.collapse(!1),n.select()):i.setSelectionRange&&(s=this.search.val().length,i.setSelectionRange(s,s))),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),_.call(this,"selection","focusser")},initContainer:function(){var e,n,s=this.container,o=this.dropdown,r=D();this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=e=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),e.find(".select2-chosen").attr("id","select2-chosen-"+r),this.focusser.attr("aria-labelledby","select2-chosen-"+r),this.results.attr("id","select2-results-"+r),this.search.attr("aria-owns","select2-results-"+r),this.focusser.attr("id","s2id_autogen"+r),n=t("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(t("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&229!=t.keyCode){if(t.which===P.PAGE_UP||t.which===P.PAGE_DOWN)return void m(t);switch(t.which){case P.UP:case P.DOWN:return this.moveHighlight(t.which===P.UP?-1:1),void m(t);case P.ENTER:return this.selectHighlighted(),void m(t);case P.TAB:return void this.selectHighlighted({noFocus:!0});case P.ESC:return this.cancel(t),void m(t)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==P.TAB&&!P.isControl(t)&&!P.isFunctionKey(t)&&t.which!==P.ESC){if(this.opts.openOnEnter===!1&&t.which===P.ENTER)return void m(t);if(t.which==P.DOWN||t.which==P.UP||t.which==P.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void m(t)}return t.which==P.DELETE||t.which==P.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(t)):void 0}})),h(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),e.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),g(t),this.close(),this.selection&&this.selection.focus())})),e.on("mousedown touchstart",this.bind(function(n){i(e),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(n)})),o.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),e.on("focus",this.bind(function(t){m(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(e){var i=this.selection.data("select2-data");if(i){var n=t.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var s=this.getPlaceholderOption();this.opts.element.val(s?s.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder(),t.nextSearchTerm=t.opts.nextSearchTerm(i,t.search.val()))})}},isPlaceholderOptionSelected:function(){var t;return this.getPlaceholder()===e?!1:(t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val()},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=t.find("option").filter(function(){return this.selected&&!this.disabled});e(i.optionToData(n))}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var s=i.val(),o=null;e.query({matcher:function(t,i,n){var a=r(s,e.id(n));return a&&(o=n),a},callback:t.isFunction(n)?function(){n(o)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var n=0,s=this;if(this.findHighlightableChoices().each2(function(t,e){return r(s.id(e.data("select2-data")),s.opts.element.val())?(n=t,!1):void 0}),i!==!1&&this.highlight(e===!0&&n>=0?n:0),e===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(C(t.results)>=o)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),r(i,this.id(t))||this.triggerChange({added:t,removed:n})}},updateSelection:function(t){var i,n,s=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),s.empty(),null!==t&&(i=this.opts.formatSelection(t,s,this.opts.escapeMarkup)),i!==e&&s.append(i),n=this.opts.formatSelectionCssClass(t,s),n!==e&&s.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,n=null,s=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find("option").filter(function(){return this.selected}).each2(function(t,e){return n=s.optionToData(e),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:o});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){s.opts.element.val(t?s.id(t):""),s.updateSelection(t),s.setPlaceholder(),i&&s.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,n=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==e&&(i=null),i):(arguments.length>1&&(n=arguments[1]),void(t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),n&&this.triggerChange({added:t,removed:i})):this.clear(n)))}}),A=I(L,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,e){n.push(i.optionToData(e))}),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var s=a(i.val(),e.separator,e.transformVal),o=[];e.query({matcher:function(i,n,a){var l=t.grep(s,function(t){return r(t,e.id(a))}).length;return l&&o.push(a),l},callback:t.isFunction(n)?function(){for(var t=[],i=0;i<s.length;i++)for(var a=s[i],l=0;l<o.length;l++){var h=o[l];if(r(a,e.id(h))){t.push(h),o.splice(l,1);break}}n(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),_.call(this,"searchContainer","selection")},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var n=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){n.search[0].focus(),n.selectChoice(t(this))}),this.search.attr("id","s2id_autogen"+D()),this.search.prev().text(t("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var i=e.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),s=i.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(i.length&&(t.which==P.LEFT||t.which==P.RIGHT||t.which==P.BACKSPACE||t.which==P.DELETE||t.which==P.ENTER)){var r=i;return t.which==P.LEFT&&n.length?r=n:t.which==P.RIGHT?r=s.length?s:null:t.which===P.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),r=n.length?n:s):t.which==P.DELETE?this.unselect(i.first())&&(this.search.width(10),r=s.length?s:null):t.which==P.ENTER&&(r=null),this.selectChoice(r),m(t),void(r&&r.length||this.open())}if((t.which===P.BACKSPACE&&1==this.keydowns||t.which==P.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void m(t);if(this.selectChoice(null),this.opened())switch(t.which){case P.UP:case P.DOWN:return this.moveHighlight(t.which===P.UP?-1:1),void m(t);case P.ENTER:return this.selectHighlighted(),void m(t);case P.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case P.ESC:return this.cancel(t),void m(t)}if(t.which!==P.TAB&&!P.isControl(t)&&!P.isFunctionKey(t)&&t.which!==P.BACKSPACE&&t.which!==P.ESC){if(t.which===P.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===P.PAGE_UP||t.which===P.PAGE_DOWN)&&m(t),t.which===P.ENTER&&m(t)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],n=[],o=this;t(e).each(function(){s(o.id(this),i)<0&&(i.push(o.id(this)),n.push(this))}),e=n,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,i){this.triggerSelect(t)&&""!==t.text&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,s,o=!i.locked,r=t("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=o?r:a,h=this.id(i),d=this.getVal();n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),n!=e&&l.find("div").replaceWith(t("<div></div>").html(n)),s=this.opts.formatSelectionCssClass(i,l.find("div")),s!=e&&l.addClass(s),o&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),d.push(h),this.setVal(d)},unselect:function(e){var i,n,o=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){var r=t.Event("select2-removing");if(r.val=this.id(i),r.choice=i,this.opts.element.trigger(r),r.isDefaultPrevented())return!1;for(;(n=s(this.id(i),o))>=0;)o.splice(n,1),this.setVal(o),this.select&&this.postprocessResults();return e.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(t,e,i){var n=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;o.each2(function(t,e){var i=a.id(e.data("select2-data"));s(i,n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&this.opts.closeOnSelect===!0&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&$(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+S(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var t,e,i,n,s,o=l(this.search);t=v(this.search)+10,e=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,s=i-(e-n)-o,t>s&&(s=i-o),40>s&&(s=i-o),0>=s&&(s=t),this.search.width(Math.floor(s))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),a(t,this.opts.separator,this.opts.transformVal))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){s(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),i=0;i<e.length;i++)for(var n=0;n<t.length;n++)r(this.opts.id(e[i]),this.opts.id(t[n]))&&(e.splice(i,1),i>0&&i--,t.splice(n,1),n--);return{added:e,removed:t}},val:function(i,n){var s,o=this;if(0===arguments.length)return this.getVal();if(s=this.data(),s.length||(s=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:s}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(s,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t.map(e,o.id);o.setVal(i),o.updateSelection(e),o.clearSearch(),n&&o.triggerChange(o.buildChangeDetails(s,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e,i){var n,s,o=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(s=this.data(),e||(e=[]),n=t.map(e,function(t){return o.opts.id(t)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(s,this.data())),void 0)}}),t.fn.select2=function(){var i,n,o,r,a,l=Array.prototype.slice.call(arguments,0),h=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],d=["opened","isFocused","container","dropdown"],p=["val","data"],c={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:t.extend({},l[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.prop("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),n=a?new window.Select2["class"].multi:new window.Select2["class"].single,n.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(s(l[0],h)<0)throw"Unknown method: "+l[0];if(r=e,n=t(this).data("select2"),n===e)return;if(o=l[0],"container"===o?r=n.container:"dropdown"===o?r=n.dropdown:(c[o]&&(o=c[o]),r=n[o].apply(n,l.slice(1))),s(l[0],d)>=0||s(l[0],p)>=0&&1==l.length)return!1}}),r===e?this:r},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,n){var s=[];return y(this.text(t),i.term,s,n),s.join("")},transformVal:function(e){return t.trim(e)},formatSelection:function(t,i,n){return t?n(this.text(t)):e},sortResults:function(t){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(){return e},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t==e?null:t.id},text:function(e){return e&&this.data&&this.data.text?t.isFunction(this.data.text)?this.data.text(e):e[this.data.text]:e.text},matcher:function(t,e){return n(""+e).toUpperCase().indexOf(n(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return e},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){var e="ontouchstart"in window||navigator.msMaxTouchPoints>0;return e&&t.opts.minimumResultsForSearch<0?!1:!0}},t.fn.select2.locales=[],t.fn.select2.locales.en={formatMatches:function(t){return 1===t?"One result is available, press enter to select it.":t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},t.extend(t.fn.select2.defaults,t.fn.select2.locales.en),t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:x,local:k,tags:E},util:{debounce:p,markMatch:y,escapeMarkup:w,stripDiacritics:n},"class":{"abstract":L,single:N,multi:A}}}}(jQuery),window.UnobtrusiveFlash={},$(function(){function t(t){var e=new Date;e.setDate(e.getDate()-1);
var i=window.location.hostname.split(".").reverse(),n=i.shift();$.each(i,function(i,s){n=s+"."+n,document.cookie=t+"=; path=/;expires="+e+"; domain="+n}),document.cookie=t+"=; path=/",expires=+e+"; domain="}function e(){var e=null;if(document.cookie&&""!==document.cookie){for(var i=document.cookie.split(";"),n="flash",s=null,o=0;o<i.length;o++){var r=jQuery.trim(i[o]);if(r.substring(0,n.length+1)==n+"="&&(s=decodeURIComponent(r.substring(n.length+1).replace(/\+/g,"%20")),s.length>0))break}try{e=$.parseJSON(s)}catch(a){}t("flash")}return e}window.UnobtrusiveFlash.showFlashFromCookies=function(){var t=e();null!==t&&$.each(t,function(t,e){$(window).trigger("rails:flash",{type:e[0],message:e[1]})})},$(window).load(function(){UnobtrusiveFlash.showFlashFromCookies()}),$(document).on("page:change page:load",UnobtrusiveFlash.showFlashFromCookies),$(document).ajaxSuccess(function(){UnobtrusiveFlash.showFlashFromCookies()})}),window.UnobtrusiveFlash.flashOptions={type:"notice",timeout:0},$(function(){UnobtrusiveFlash.showFlashMessage=function(t,e){e=$.extend(UnobtrusiveFlash.flashOptions,e),"notice"==e.type?e.type="info":"alert"==e.type?e.type="warning":"error"==e.type&&(e.type="danger");var i=$('<div class="alert alert-'+e.type+'"><button type="button" class="close" data-dismiss="alert">&times;</button>'+t+"</div>"),n=$($(".unobtrusive-flash-container")[0]||$(".container")[0]||$(".container-fluid")[0]||$("body")[0]);n.prepend(i),i.hide().delay(300).slideDown(100),i.alert(),e.timeout>0&&setTimeout(function(){i.alert("close")},e.timeout)},flashHandler=function(t,e){UnobtrusiveFlash.showFlashMessage(e.message,{type:e.type})},$(window).bind("rails:flash",flashHandler)}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,s,o,r,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;o>i;i+=1)r[i]=str(i,l)||"null";return s=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+a+"]":"["+r.join(",")+"]",gap=a,s}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;o>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],s=str(n,l),s&&r.push(quote(n)+(gap?": ":":")+s));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(s=str(n,l),s&&r.push(quote(n)+(gap?": ":":")+s));return s=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+a+"}":"{"+r.join(",")+"}",gap=a,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,s=t[e];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(t,e,s)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/**
 * History.js Native Adapter
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(t,e){"use strict";var i=t.History=t.History||{};if("undefined"!=typeof i.Adapter)throw new Error("History.js Adapter has already been loaded...");i.Adapter={handlers:{},_uid:1,uid:function(t){return t._uid||(t._uid=i.Adapter._uid++)},bind:function(t,e,n){var s=i.Adapter.uid(t);i.Adapter.handlers[s]=i.Adapter.handlers[s]||{},i.Adapter.handlers[s][e]=i.Adapter.handlers[s][e]||[],i.Adapter.handlers[s][e].push(n),t["on"+e]=function(t,e){return function(n){i.Adapter.trigger(t,e,n)}}(t,e)},trigger:function(t,e,n){n=n||{};var s,o,r=i.Adapter.uid(t);for(i.Adapter.handlers[r]=i.Adapter.handlers[r]||{},i.Adapter.handlers[r][e]=i.Adapter.handlers[r][e]||[],s=0,o=i.Adapter.handlers[r][e].length;o>s;++s)i.Adapter.handlers[r][e][s].apply(this,[n])},extractEventData:function(t,i){var n=i&&i[t]||e;return n},onDomLoad:function(e){var i=t.setTimeout(function(){e()},2e3);t.onload=function(){clearTimeout(i),e()}}},"undefined"!=typeof i.init&&i.init()}(window),/**
 * History.js HTML4 Support
 * Depends on the HTML5 Support
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(t){"use strict";var e=t.document,i=t.setTimeout||i,n=t.clearTimeout||n,s=t.setInterval||s,o=t.History=t.History||{};if("undefined"!=typeof o.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){return"undefined"!=typeof o.initHtml4.initialized?!1:(o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(t){var e,i=o.getHashByIndex();return e=t===i},o.isHashEqual=function(t,e){return t=encodeURIComponent(t).replace(/%25/g,"%"),e=encodeURIComponent(e).replace(/%25/g,"%"),t===e},o.saveHash=function(t){return o.isLastHash(t)?!1:(o.savedHashes.push(t),!0)},o.getHashByIndex=function(t){var e=null;return e="undefined"==typeof t?o.savedHashes[o.savedHashes.length-1]:0>t?o.savedHashes[o.savedHashes.length+t]:o.savedHashes[t]},o.discardedHashes={},o.discardedStates={},o.discardState=function(t,e,i){var n,s=o.getHashByState(t);return n={discardedState:t,backState:i,forwardState:e},o.discardedStates[s]=n,!0},o.discardHash=function(t,e,i){var n={discardedHash:t,backState:i,forwardState:e};return o.discardedHashes[t]=n,!0},o.discardedState=function(t){var e,i=o.getHashByState(t);return e=o.discardedStates[i]||!1},o.discardedHash=function(t){var e=o.discardedHashes[t]||!1;return e},o.recycleState=function(t){var e=o.getHashByState(t);return o.discardedState(t)&&delete o.discardedStates[e],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var i,n,r,a,l="",h=Boolean(o.getHash());return o.isInternetExplorer()?(i="historyjs-iframe",n=e.createElement("iframe"),n.setAttribute("id",i),n.setAttribute("src","#"),n.style.display="none",e.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),r="",a=!1,o.checkerFunction=function(){if(a)return!1;a=!0;var e=o.getHash(),i=o.getHash(n.contentWindow.document);return e!==l?(l=e,i!==e&&(r=i=e,n.contentWindow.document.open(),n.contentWindow.document.close(),n.contentWindow.document.location.hash=o.escapeHash(e)),o.Adapter.trigger(t,"hashchange")):i!==r&&(r=i,h&&""===i?o.back():o.setHash(i,!1)),a=!1,!0}):o.checkerFunction=function(){var e=o.getHash()||"";return e!==l&&(l=e,o.Adapter.trigger(t,"hashchange")),!0},o.intervalList.push(s(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(e){var i,n=e&&e.newURL||o.getLocationHref(),s=o.getHashByUrl(n),r=null,a=null;return o.isLastHash(s)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(s),s&&o.isTraditionalAnchor(s)?(o.Adapter.trigger(t,"anchorchange"),o.busy(!1),!1):(r=o.extractState(o.getFullUrl(s||o.getLocationHref()),!0),o.isLastSavedState(r)?(o.busy(!1),!1):(a=o.getHashByState(r),(i=o.discardedState(r))?(o.getHashByIndex(-2)===o.getHashByState(i.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(r.data,r.title,encodeURI(r.url),!1),!0))))},o.Adapter.bind(t,"hashchange",o.onHashChange),o.pushState=function(e,i,n,s){if(n=encodeURI(n).replace(/%25/g,"%"),o.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(s!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:s}),!1;o.busy(!0);var r=o.createStateObject(e,i,n),a=o.getHashByState(r),l=o.getState(!1),h=o.getHashByState(l),d=o.getHash(),p=o.expectedStateId==r.id;return o.storeState(r),o.expectedStateId=r.id,o.recycleState(r),o.setTitle(r),a===h?(o.busy(!1),!1):(o.saveState(r),p||o.Adapter.trigger(t,"statechange"),o.isHashEqual(a,d)||o.isHashEqual(a,o.getShortUrl(o.getLocationHref()))||o.setHash(a,!1),o.busy(!1),!0)},o.replaceState=function(e,i,n,s){if(n=encodeURI(n).replace(/%25/g,"%"),o.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(s!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:s}),!1;o.busy(!0);var r=o.createStateObject(e,i,n),a=o.getHashByState(r),l=o.getState(!1),h=o.getHashByState(l),d=o.getStateByIndex(-2);return o.discardState(l,r,d),a===h?(o.storeState(r),o.expectedStateId=r.id,o.recycleState(r),o.setTitle(r),o.saveState(r),o.Adapter.trigger(t,"statechange"),o.busy(!1)):o.pushState(r.data,r.title,r.url,!1),!0}),void(o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(t,"hashchange")})))},"undefined"!=typeof o.init&&o.init()}(window),/**
 * History.js Core
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(t,e){"use strict";var i=t.console||e,n=t.document,s=t.navigator,o=t.sessionStorage||!1,r=t.setTimeout,a=t.clearTimeout,l=t.setInterval,h=t.clearInterval,d=t.JSON,p=t.alert,c=t.History=t.History||{},u=t.history;try{o.setItem("TEST","1"),o.removeItem("TEST")}catch(f){o=!1}if(d.stringify=d.stringify||d.encode,d.parse=d.parse||d.decode,"undefined"!=typeof c.init)throw new Error("History.js Core has already been loaded...");c.init=function(){return"undefined"==typeof c.Adapter?!1:("undefined"!=typeof c.initCore&&c.initCore(),"undefined"!=typeof c.initHtml4&&c.initHtml4(),!0)},c.initCore=function(){if("undefined"!=typeof c.initCore.initialized)return!1;if(c.initCore.initialized=!0,c.options=c.options||{},c.options.hashChangeInterval=c.options.hashChangeInterval||100,c.options.safariPollInterval=c.options.safariPollInterval||500,c.options.doubleCheckInterval=c.options.doubleCheckInterval||500,c.options.disableSuid=c.options.disableSuid||!1,c.options.storeInterval=c.options.storeInterval||1e3,c.options.busyDelay=c.options.busyDelay||250,c.options.debug=c.options.debug||!1,c.options.initialTitle=c.options.initialTitle||n.title,c.options.html4Mode=c.options.html4Mode||!1,c.options.delayInit=c.options.delayInit||!1,c.intervalList=[],c.clearAllIntervals=function(){var t,e=c.intervalList;if("undefined"!=typeof e&&null!==e){for(t=0;t<e.length;t++)h(e[t]);c.intervalList=null}},c.debug=function(){c.options.debug&&c.log.apply(c,arguments)},c.log=function(){var t,e,s,o,r,a=!("undefined"==typeof i||"undefined"==typeof i.log||"undefined"==typeof i.log.apply),l=n.getElementById("log");for(a?(o=Array.prototype.slice.call(arguments),t=o.shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[t,o]):i.log.apply(i,[t,o])):t="\n"+arguments[0]+"\n",e=1,s=arguments.length;s>e;++e){if(r=arguments[e],"object"==typeof r&&"undefined"!=typeof d)try{r=d.stringify(r)}catch(h){}t+="\n"+r+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):a||p(t),!0},c.getInternetExplorerMajorVersion=function(){var t=c.getInternetExplorerMajorVersion.cached="undefined"!=typeof c.getInternetExplorerMajorVersion.cached?c.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=n.createElement("div"),i=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i[0];);return t>4?t:!1}();return t},c.isInternetExplorer=function(){var t=c.isInternetExplorer.cached="undefined"!=typeof c.isInternetExplorer.cached?c.isInternetExplorer.cached:Boolean(c.getInternetExplorerMajorVersion());return t},c.emulated=c.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(s.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(s.userAgent))),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in n)||c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<8)},c.enabled=!c.emulated.pushState,c.bugs={setHash:Boolean(!c.emulated.pushState&&"Apple Computer, Inc."===s.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(s.userAgent)),safariPoll:Boolean(!c.emulated.pushState&&"Apple Computer, Inc."===s.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(s.userAgent)),ieDoubleCheck:Boolean(c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(c.isInternetExplorer()&&c.getInternetExplorerMajorVersion()<7)},c.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},c.cloneObject=function(t){var e,i;return t?(e=d.stringify(t),i=d.parse(e)):i={},i},c.getRootUrl=function(){var t=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(t+=":"+n.location.port),t+="/"},c.getBaseHref=function(){var t=n.getElementsByTagName("base"),e=null,i="";return 1===t.length&&(e=t[0],i=e.href.replace(/[^\/]+$/,"")),i=i.replace(/\/+$/,""),i&&(i+="/"),i},c.getBaseUrl=function(){var t=c.getBaseHref()||c.getBasePageUrl()||c.getRootUrl();return t},c.getPageUrl=function(){var t,e=c.getState(!1,!1),i=(e||{}).url||c.getLocationHref();return t=i.replace(/\/+$/,"").replace(/[^\/]+$/,function(t){return/\./.test(t)?t:t+"/"})},c.getBasePageUrl=function(){var t=c.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/";return t},c.getFullUrl=function(t,e){var i=t,n=t.substring(0,1);return e="undefined"==typeof e?!0:e,/[a-z]+\:\/\//.test(t)||(i="/"===n?c.getRootUrl()+t.replace(/^\/+/,""):"#"===n?c.getPageUrl().replace(/#.*/,"")+t:"?"===n?c.getPageUrl().replace(/[\?#].*/,"")+t:e?c.getBaseUrl()+t.replace(/^(\.\/)+/,""):c.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},c.getShortUrl=function(t){var e=t,i=c.getBaseUrl(),n=c.getRootUrl();return c.emulated.pushState&&(e=e.replace(i,"")),e=e.replace(n,"/"),e="./"+e,e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},c.getLocationHref=function(t){return t=t||n,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},c.store={},c.idToState=c.idToState||{},c.stateToId=c.stateToId||{},c.urlToId=c.urlToId||{},c.storedStates=c.storedStates||[],c.savedStates=c.savedStates||[],c.normalizeStore=function(){c.store.idToState=c.store.idToState||{},c.store.urlToId=c.store.urlToId||{},c.store.stateToId=c.store.stateToId||{}},c.getState=function(t,e){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=!0);var i=c.getLastSavedState();return!i&&e&&(i=c.createStateObject()),t&&(i=c.cloneObject(i),i.url=i.cleanUrl||i.url),i},c.getIdByState=function(t){var e,i=c.extractId(t.url);if(!i)if(e=c.getStateString(t),"undefined"!=typeof c.stateToId[e])i=c.stateToId[e];else if("undefined"!=typeof c.store.stateToId[e])i=c.store.stateToId[e];else{for(;;)if(i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof c.idToState[i]&&"undefined"==typeof c.store.idToState[i])break;c.stateToId[e]=i,c.idToState[i]=t}return i},c.normalizeState=function(t){var e,i;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=c.getFullUrl(t.url?t.url:c.getLocationHref()),e.hash=c.getShortUrl(e.url),e.data=c.cloneObject(t.data),e.id=c.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,i=!c.isEmptyObject(e.data),(e.title||i)&&c.options.disableSuid!==!0&&(e.hash=c.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=c.getFullUrl(e.hash),(c.emulated.pushState||c.bugs.safariPoll)&&c.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},c.createStateObject=function(t,e,i){var n={data:t,title:e,url:i};return n=c.normalizeState(n)},c.getStateById=function(t){t=String(t);var i=c.idToState[t]||c.store.idToState[t]||e;return i},c.getStateString=function(t){var e,i,n;return e=c.normalizeState(t),i={data:e.data,title:t.title,url:t.url},n=d.stringify(i)},c.getStateId=function(t){var e,i;return e=c.normalizeState(t),i=e.id},c.getHashByState=function(t){var e,i;return e=c.normalizeState(t),i=e.hash},c.extractId=function(t){var e,i,n,s;return s=-1!=t.indexOf("#")?t.split("#")[0]:t,i=/(.*)\&_suid=([0-9]+)$/.exec(s),n=i?i[1]||t:t,e=i?String(i[2]||""):"",e||!1},c.isTraditionalAnchor=function(t){var e=!/[\/\\.]/.test(t);return e},c.extractState=function(t,e){var i,n,s=null;return e=e||!1,i=c.extractId(t),i&&(s=c.getStateById(i)),s||(n=c.getFullUrl(t),i=c.getIdByUrl(n)||!1,i&&(s=c.getStateById(i)),s||!e||c.isTraditionalAnchor(t)||(s=c.createStateObject(null,null,n))),s},c.getIdByUrl=function(t){var i=c.urlToId[t]||c.store.urlToId[t]||e;return i},c.getLastSavedState=function(){return c.savedStates[c.savedStates.length-1]||e},c.getLastStoredState=function(){return c.storedStates[c.storedStates.length-1]||e},c.hasUrlDuplicate=function(t){var e,i=!1;return e=c.extractState(t.url),i=e&&e.id!==t.id},c.storeState=function(t){return c.urlToId[t.url]=t.id,c.storedStates.push(c.cloneObject(t)),t},c.isLastSavedState=function(t){var e,i,n,s=!1;return c.savedStates.length&&(e=t.id,i=c.getLastSavedState(),n=i.id,s=e===n),s},c.saveState=function(t){return c.isLastSavedState(t)?!1:(c.savedStates.push(c.cloneObject(t)),!0)},c.getStateByIndex=function(t){var e=null;return e="undefined"==typeof t?c.savedStates[c.savedStates.length-1]:0>t?c.savedStates[c.savedStates.length+t]:c.savedStates[t]},c.getCurrentIndex=function(){var t=null;return t=c.savedStates.length<1?0:c.savedStates.length-1},c.getHash=function(t){var e,i=c.getLocationHref(t);return e=c.getHashByUrl(i)},c.unescapeHash=function(t){var e=c.normalizeHash(t);return e=decodeURIComponent(e)},c.normalizeHash=function(t){var e=t.replace(/[^#]*#/,"").replace(/#.*/,"");return e},c.setHash=function(t,e){var i,s;return e!==!1&&c.busy()?(c.pushQueue({scope:c,callback:c.setHash,args:arguments,queue:e}),!1):(c.busy(!0),i=c.extractState(t,!0),i&&!c.emulated.pushState?c.pushState(i.data,i.title,i.url,!1):c.getHash()!==t&&(c.bugs.setHash?(s=c.getPageUrl(),c.pushState(null,null,s+"#"+t,!1)):n.location.hash=t),c)},c.escapeHash=function(e){var i=c.normalizeHash(e);return i=t.encodeURIComponent(i),c.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},c.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=c.unescapeHash(e)},c.setTitle=function(t){var e,i=t.title;i||(e=c.getStateByIndex(0),e&&e.url===t.url&&(i=e.title||c.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(s){}return n.title=i,c},c.queues=[],c.busy=function(t){if("undefined"!=typeof t?c.busy.flag=t:"undefined"==typeof c.busy.flag&&(c.busy.flag=!1),!c.busy.flag){a(c.busy.timeout);var e=function(){var t,i,n;if(!c.busy.flag)for(t=c.queues.length-1;t>=0;--t)i=c.queues[t],0!==i.length&&(n=i.shift(),c.fireQueueItem(n),c.busy.timeout=r(e,c.options.busyDelay))};c.busy.timeout=r(e,c.options.busyDelay)}return c.busy.flag},c.busy.flag=!1,c.fireQueueItem=function(t){return t.callback.apply(t.scope||c,t.args||[])},c.pushQueue=function(t){return c.queues[t.queue||0]=c.queues[t.queue||0]||[],c.queues[t.queue||0].push(t),c},c.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),"undefined"!=typeof e&&(t.queue=e),c.busy()?c.pushQueue(t):c.fireQueueItem(t),c},c.clearQueue=function(){return c.busy.flag=!1,c.queues=[],c},c.stateChanged=!1,c.doubleChecker=!1,c.doubleCheckComplete=function(){return c.stateChanged=!0,c.doubleCheckClear(),c},c.doubleCheckClear=function(){return c.doubleChecker&&(a(c.doubleChecker),c.doubleChecker=!1),c},c.doubleCheck=function(t){return c.stateChanged=!1,c.doubleCheckClear(),c.bugs.ieDoubleCheck&&(c.doubleChecker=r(function(){return c.doubleCheckClear(),c.stateChanged||t(),!0},c.options.doubleCheckInterval)),c},c.safariStatePoll=function(){var e,i=c.extractState(c.getLocationHref());if(!c.isLastSavedState(i))return e=i,e||(e=c.createStateObject()),c.Adapter.trigger(t,"popstate"),c},c.back=function(t){return t!==!1&&c.busy()?(c.pushQueue({scope:c,callback:c.back,args:arguments,queue:t}),!1):(c.busy(!0),c.doubleCheck(function(){c.back(!1)}),u.go(-1),!0)},c.forward=function(t){return t!==!1&&c.busy()?(c.pushQueue({scope:c,callback:c.forward,args:arguments,queue:t}),!1):(c.busy(!0),c.doubleCheck(function(){c.forward(!1)}),u.go(1),!0)},c.go=function(t,e){var i;if(t>0)for(i=1;t>=i;++i)c.forward(e);else{if(!(0>t))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=t;--i)c.back(e)}return c},c.emulated.pushState){var f=function(){};c.pushState=c.pushState||f,c.replaceState=c.replaceState||f}else c.onPopState=function(e,i){var n,s,o=!1,r=!1;return c.doubleCheckComplete(),(n=c.getHash())?(s=c.extractState(n||c.getLocationHref(),!0),s?c.replaceState(s.data,s.title,s.url,!1):(c.Adapter.trigger(t,"anchorchange"),c.busy(!1)),c.expectedStateId=!1,!1):(o=c.Adapter.extractEventData("state",e,i)||!1,r=o?c.getStateById(o):c.expectedStateId?c.getStateById(c.expectedStateId):c.extractState(c.getLocationHref()),r||(r=c.createStateObject(null,null,c.getLocationHref())),c.expectedStateId=!1,c.isLastSavedState(r)?(c.busy(!1),!1):(c.storeState(r),c.saveState(r),c.setTitle(r),c.Adapter.trigger(t,"statechange"),c.busy(!1),!0))},c.Adapter.bind(t,"popstate",c.onPopState),c.pushState=function(e,i,n,s){if(c.getHashByUrl(n)&&c.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(s!==!1&&c.busy())return c.pushQueue({scope:c,callback:c.pushState,args:arguments,queue:s}),!1;c.busy(!0);var o=c.createStateObject(e,i,n);return c.isLastSavedState(o)?c.busy(!1):(c.storeState(o),c.expectedStateId=o.id,u.pushState(o.id,o.title,o.url),c.Adapter.trigger(t,"popstate")),!0},c.replaceState=function(e,i,n,s){if(c.getHashByUrl(n)&&c.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(s!==!1&&c.busy())return c.pushQueue({scope:c,callback:c.replaceState,args:arguments,queue:s}),!1;c.busy(!0);var o=c.createStateObject(e,i,n);return c.isLastSavedState(o)?c.busy(!1):(c.storeState(o),c.expectedStateId=o.id,u.replaceState(o.id,o.title,o.url),c.Adapter.trigger(t,"popstate")),!0};if(o){try{c.store=d.parse(o.getItem("History.store"))||{}}catch(m){c.store={}}c.normalizeStore()}else c.store={},c.normalizeStore();c.Adapter.bind(t,"unload",c.clearAllIntervals),c.saveState(c.storeState(c.extractState(c.getLocationHref(),!0))),o&&(c.onUnload=function(){var t,e,i;try{t=d.parse(o.getItem("History.store"))||{}}catch(n){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in c.idToState)c.idToState.hasOwnProperty(e)&&(t.idToState[e]=c.idToState[e]);for(e in c.urlToId)c.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=c.urlToId[e]);for(e in c.stateToId)c.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=c.stateToId[e]);c.store=t,c.normalizeStore(),i=d.stringify(t);try{o.setItem("History.store",i)}catch(s){if(s.code!==DOMException.QUOTA_EXCEEDED_ERR)throw s;o.length&&(o.removeItem("History.store"),o.setItem("History.store",i))}},c.intervalList.push(l(c.onUnload,c.options.storeInterval)),c.Adapter.bind(t,"beforeunload",c.onUnload),c.Adapter.bind(t,"unload",c.onUnload)),c.emulated.pushState||(c.bugs.safariPoll&&c.intervalList.push(l(c.safariStatePoll,c.options.safariPollInterval)),("Apple Computer, Inc."===s.vendor||"Mozilla"===(s.appCodeName||""))&&(c.Adapter.bind(t,"hashchange",function(){c.Adapter.trigger(t,"popstate")}),c.getHash()&&c.Adapter.onDomLoad(function(){c.Adapter.trigger(t,"hashchange")})))},c.options&&c.options.delayInit||c.init()}(window),function(){var t;t=function(){function t(){}return t.prototype.parse=function(t){return this._get_parser()(t)},t.prototype._get_parser=function(){return null!=this._document_parser?this._document_parser:this._document_parser=this._parser_factory()},t.prototype._parser_factory=function(){var e,i,n,s,o,r;i=function(e){return(new t).parseFromString(e,"text/html")},e=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return r=i("<html><body><p>test"),i}catch(a){return s=a,r=e("<html><body><p>test"),e}finally{if(1!==(null!=r&&null!=(o=r.body)?o.childNodes.length:void 0))return n}},t}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.DOMParser=t}.call(this),function(){var t;t=function(){function t(t,e,i){this.html=t,this.xhr=e,this.$target=i}return t._document_parser=null,t._get_document_parser=function(){return null!=t._document_parser?t._document_parser:t._document_parser=new window._Wiselinks.DOMParser},t.prototype.url=function(){return this.xhr.getResponseHeader("X-Wiselinks-Url")},t.prototype.assets_digest=function(){return this._is_full_document_response()?$('meta[name="assets-digest"]',this._get_doc()).attr("content"):this.xhr.getResponseHeader("X-Wiselinks-Assets-Digest")},t.prototype.content=function(){return null!=this._content?this._content:this._content=this._extract_content()},t.prototype.title=function(){return null!=this._title?this._title:this._title=this._extract_title()},t.prototype._extract_title=function(){return this._is_full_document_response()?$("title",this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Title")},t.prototype.description=function(){return null!=this._description?this._description:this._description=this._extract_description()},t.prototype._extract_description=function(){return this._is_full_document_response()?$('meta[name="description"]',this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Description")},t.prototype._extract_content=function(){return this._is_full_document_response()?this._get_doc_target_node().html():this.html},t.prototype._is_full_document_response=function(){return 1===this._get_doc_target_node().length},t.prototype._get_doc_target_node=function(){return null!=this.$doc_target_node?this.$doc_target_node:this.$doc_target_node=$(this.$target.selector,this._get_doc())},t.prototype._get_doc=function(){return null!=this._doc?this._doc:this._doc=t._get_document_parser().parse(this.html)},t}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Response=t}.call(this),function(){var t;t=function(){function t(t){this.options=null!=t?t:{}}return t.prototype.call=function(t,e){var i;return i=this,null!=this.redirected?void(this.redirected=null):(i._loading(t,e),$.ajax({url:e.url,headers:{"X-Wiselinks":e.data.render,"X-Wiselinks-Referer":e.data.referer},dataType:"html"}).done(function(e,n,s){return i._html_loaded(t,e,n,s)}).fail(function(n,s,o){return i._fail(t,s,e,o,n.status)}).always(function(n,s){return i._always(t,s,e)}))},t.prototype._normalize=function(t){return null!=t?t=t.replace(/\/+$/,""):void 0},t.prototype._assets_changed=function(t){return null!=this.options.assets_digest&&this.options.assets_digest!==t},t.prototype._redirect_to=function(t,e,i,n){return n&&n.readyState<4&&(n.onreadystatechange=$.noop,n.abort()),this.redirected=!0,$(document).trigger("page:redirected",[e,i.data.render,t]),History.replaceState(i.data,document.title,t)},t.prototype._loading=function(t,e){return $(document).trigger("page:loading",[t,e.data.render,decodeURI(e.url)])},t.prototype._done=function(t,e,i,n){return $(document).trigger("page:done",[t,e,decodeURI(i.url),n])},t.prototype._html_loaded=function(t,e,i,n){var s,o,r,a;return o=new window._Wiselinks.Response(e,n,t),a=this._normalize(o.url()),s=o.assets_digest(),this._assets_changed(s)?window.location.reload(!0):(r=History.getState(),null!=a&&a!==this._normalize(r.url)&&this._redirect_to(a,t,r,n),t.html(o.content()).promise().done(function(e){return function(){return e._title(o.title()),e._description(o.description()),e._done(t,i,r,o.content())}}(this)))},t.prototype._fail=function(t,e,i,n,s){return $(document).trigger("page:fail",[t,e,decodeURI(i.url),n,s])},t.prototype._always=function(t,e,i){return $(document).trigger("page:always",[t,e,decodeURI(i.url)])},t.prototype._title=function(t){return null!=t?($(document).trigger("page:title",decodeURI(t)),document.title=decodeURI(t)):void 0},t.prototype._description=function(t){return null!=t?($(document).trigger("page:description",decodeURI(t)),$('meta[name="description"]').attr("content",decodeURI(t))):void 0},t}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.RequestManager=t}.call(this),function(){var t;t=function(){function t(t,e){var i;this.$target=t,this.options=e,i=this,this.template_id=(new Date).getTime(),this.request_manager=new _Wiselinks.RequestManager(this.options),this.$target=i._wrap(this.$target),i._try_target(this.$target),History.emulated.pushState&&this.options.html4===!0&&-1===window.location.href.indexOf("#.")&&this.options.html4_normalize_path===!0&&window.location.pathname!==this.options.html4_root_path&&(window.location.href=window.location.protocol+"//"+window.location.host+this.options.html4_root_path+"#."+window.location.pathname),History.Adapter.bind(window,"statechange",function(){var t;return t=History.getState(),i._call(i._template_id_changed(t)?i._reset_state(t):t)}),$(document).on("click","a[data-push], a[data-replace]",function(t){var e;return(e=new _Wiselinks.Link(i,$(this))).allows_process(t)?(t.preventDefault(),e.process(),!1):void 0}),$(document).on("submit","form[data-push], form[data-replace]",function(t){var e;return(e=new _Wiselinks.Form(i,$(this)))?(t.preventDefault(),e.process(),!1):void 0})}return t.prototype.load=function(t,e,i){var n,s;return null==i&&(i="template"),"partial"!==i&&(this.template_id=(new Date).getTime()),s=null!=e?(n=this._wrap(e),this._try_target(n),n.selector):void 0,History.pushState({timestamp:(new Date).getTime(),template_id:this.template_id,render:i,target:s,referer:window.location.href},document.title,t)},t.prototype.reload=function(){return History.replaceState({timestamp:(new Date).getTime(),template_id:this.template_id,render:"template",referer:window.location.href},document.title,History.getState().url)},t.prototype._call=function(t){var e;return e=null!=t.data.target?$(t.data.target):this.$target,this.request_manager.call(e,t)},t.prototype._template_id_changed=function(t){return null==t.data.template_id||t.data.template_id!==this.template_id},t.prototype._make_state=function(t,e,i,n){return null==i&&(i="template"),{url:t,data:{target:e,render:i,referer:n}}},t.prototype._reset_state=function(t){return null==t.data&&(t.data={}),t.data.target=null,t.data.render="template",t},t.prototype._try_target=function(t){if(0===t.length&&"exception"===this.options.target_missing)throw new Error("[Wiselinks] Target missing: `"+t.selector+"`")},t.prototype._wrap=function(t){return $(t)},t}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Page=t}.call(this),function(){var t;t=function(){function t(t,e){this.page=t,this.$link=e}return t.prototype.allows_process=function(t){return!(this._cross_origin_link(t.currentTarget)||this._non_standard_click(t))},t.prototype.process=function(){var t;return t="partial"===this.$link.data("push")?"partial":"template",this.page.load(this.$link.attr("href"),this.$link.data("target"),t)},t.prototype._cross_origin_link=function(t){return this._different_protocol(t)||this._different_host(t)||this._different_port(t)},t.prototype._different_protocol=function(t){return":"===t.protocol||""===t.protocol?!1:location.protocol!==t.protocol},t.prototype._different_host=function(t){return""===t.host?!1:location.host.split(":")[0]!==t.host.split(":")[0]},t.prototype._different_port=function(t){var e;return e=location.port===t.port||""===location.port&&("80"===t.port||"443"===t.port),!e},t.prototype._non_standard_click=function(t){return t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},t}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Link=t}.call(this),function(){var t;t=function(){function t(t,e){this.page=t,this.$form=e}return t.prototype.process=function(){var t;return t=this,t._include_blank_url_params()?t.page.load(t._url(),t._target(),t._type()):t._without_blank_url_params(function(){return t.page.load(t._url(),t._target(),t._type())})},t.prototype._without_blank_url_params=function(t){var e,i;return i="select:not(:disabled),input:not(:disabled)",e=this.$form.find(i).filter(function(){return!$(this).val()}),e.attr("disabled",!0),t(),e.attr("disabled",!1)},t.prototype._params=function(){var t,e,i,n,s,o;for(t={},o=this.$form.serializeArray(),e=0,n=o.length;n>e;e++)i=o[e],"utf8"!==i.name&&(s=-1!==i.name.indexOf("[]",i.name.length-"[]".length)?i.name.substr(0,i.name.length-2):i.name,t[s]=null!=t[s]?t[s]+(","+i.value):i.value);return t},t.prototype._include_blank_url_params=function(){return this.$form.data("include-blank-url-params")===!0},t.prototype._optimize_url_params=function(){return this.$form.data("optimize-url-params")!==!1},t.prototype._type=function(){return"partial"===this.$form.data("push")?"partial":"template"},t.prototype._target=function(){return this.$form.data("target")},t.prototype._url=function(){var t,e,i,n,s,o;return i=this,n=function(){var n;if(i._optimize_url_params()){e=[],n=this._params();for(t in n)o=n[t],e.push(t+"="+encodeURIComponent(o).replace(/%2C/g,","));return e.join("&")}return this.$form.serialize()}.call(this),s=this.$form.attr("action").replace(/\?.*$/,""),n.length>0&&(s+="?"+n),s},t}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Form=t}.call(this),function(){var t;t=function(){function t(t,e){null==t&&(t=$("body")),this.options=null!=e?e:{},this._try_jquery(),this.options=$.extend(this._defaults(),this.options),this.enabled()&&(this.options.disable_suid&&(History.options.disableSuid=!0),this.page=new _Wiselinks.Page(t,this.options))}return t.prototype.enabled=function(){return!History.emulated.pushState||this.options.html4===!0},t.prototype.load=function(t,e,i){return null==i&&(i="template"),this.page.load(t,e,i)},t.prototype.reload=function(){return this.page.reload()},t.prototype._defaults=function(){return{disable_suid:!0,html4:!0,html4_root_path:"/",html4_normalize_path:!0,target_missing:null,assets_digest:$("meta[name='assets-digest']").attr("content")}},t.prototype._try_jquery=function(){if(null==window.jQuery)throw new Error("[Wiselinks] jQuery is not loaded")},t}(),window.Wiselinks=t}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){$.fn.extend({initialize:function(){return $(".gallery",this).each(function(){return $(this).magnificPopup({delegate:".image-link",type:"image",gallery:{enabled:!0}})}),$('[data-toggle="tooltip"]',this).tooltip(),$('[data-toggle="popover"]',this).popover({html:!0,trigger:"hover"}),$(".select2",this).select2({width:"resolve",dropdownAutoWidth:!0})}}),jQuery(function(){return window.wiselinks=new Wiselinks,$(document).initialize(),$(document).on("change","form.immediate",function(t){return $(t.currentTarget).trigger("submit.rails")}),$(document).on("click","button.stateful",function(t){return $(t.currentTarget).prop("disabled",!0)})})}.call(this),!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.sortable=e(t.jQuery)}(this,function(t){"use strict";var e,i,n=t(),s=[],o=function(t){t.off("dragstart.h5s"),t.off("dragend.h5s"),t.off("selectstart.h5s"),t.off("dragover.h5s"),t.off("dragenter.h5s"),t.off("drop.h5s")},r=function(t){t.off("dragover.h5s"),t.off("dragenter.h5s"),t.off("drop.h5s")},a=function(t,e){t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text",""),t.dataTransfer.setDragImage&&t.dataTransfer.setDragImage(e.item,e.x,e.y)},l=function(t,e){return e.x||(e.x=parseInt(t.pageX-e.draggedItem.offset().left)),e.y||(e.y=parseInt(t.pageY-e.draggedItem.offset().top)),e},h=function(t){return{item:t[0],draggedItem:t}},d=function(t,e){var i=h(e);i=l(t,i),a(t,i)},p=function(t,e){return"undefined"==typeof t?e:t},c=function(t){t.removeData("opts"),t.removeData("connectWith"),t.removeData("items"),t.removeAttr("aria-dropeffect")},u=function(t){t.removeAttr("aria-grabbed"),t.removeAttr("draggable"),t.removeAttr("role")},f=function(t,e){return t[0]===e[0]?!0:void 0!==t.data("connectWith")?t.data("connectWith")===e.data("connectWith"):!1},m=function(t){var e=t.data("opts")||{},i=t.children(e.items),n=e.handle?i.find(e.handle):i;r(t),c(t),n.off("mousedown.h5s"),o(i),u(i)},g=function(e){var i=e.data("opts"),n=e.children(i.items),s=i.handle?n.find(i.handle):n;e.attr("aria-dropeffect","move"),s.attr("draggable","true"),"function"!=typeof document.createElement("span").dragDrop||i.disableIEFix||s.on("mousedown.h5s",function(){-1!==n.index(this)?this.dragDrop():t(this).parents(i.items)[0].dragDrop()})},v=function(t){var e=t.data("opts"),i=t.children(e.items),n=e.handle?i.find(e.handle):i;t.attr("aria-dropeffect","none"),n.attr("draggable",!1),n.off("mousedown.h5s")},b=function(t){var e=t.data("opts"),i=t.children(e.items),n=e.handle?i.find(e.handle):i;o(i),n.off("mousedown.h5s"),r(t)},y=function(o,r){var l=t(o),h=String(r);return r=t.extend({connectWith:!1,placeholder:null,dragImage:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging"},r),l.each(function(){var o=t(this);if(/enable|disable|destroy/.test(h))return void y[h](o);r=p(o.data("opts"),r),o.data("opts",r),b(o);var l,c,u,m=o.children(r.items),v=null===r.placeholder?t("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="'+r.placeholderClass+'"/>'):t(r.placeholder).addClass(r.placeholderClass);if(!o.attr("data-sortable-id")){var w=s.length;s[w]=o,o.attr("data-sortable-id",w),m.attr("data-item-sortable-id",w)}o.data("items",r.items),n=n.add(v),r.connectWith&&o.data("connectWith",r.connectWith),g(o),m.attr("role","option"),m.attr("aria-grabbed","false"),m.on("dragstart.h5s",function(n){n.stopImmediatePropagation(),r.dragImage?(a(n.originalEvent,{item:r.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):d(n.originalEvent,t(this),r.dragImage),e=t(this),e.addClass(r.draggingClass),e.attr("aria-grabbed","true"),l=e.index(),i=e.height(),c=t(this).parent(),e.parent().triggerHandler("sortstart",{item:e,startparent:c})}),m.on("dragend.h5s",function(){e&&(e.removeClass(r.draggingClass),e.attr("aria-grabbed","false"),e.show(),n.detach(),u=t(this).parent(),e.parent().triggerHandler("sortstop",{item:e,startparent:c}),(l!==e.index()||c.get(0)!==u.get(0))&&e.parent().triggerHandler("sortupdate",{item:e,index:u.children(u.data("items")).index(e),oldindex:m.index(e),elementIndex:e.index(),oldElementIndex:l,startparent:c,endparent:u}),e=null,i=null)}),t(this).add([v]).on("drop.h5s",function(i){return f(o,t(e).parent())?(i.stopPropagation(),n.filter(":visible").after(e),e.trigger("dragend.h5s"),!1):void 0}),m.add([this,v]).on("dragover.h5s dragenter.h5s",function(s){if(f(o,t(e).parent())){if(s.preventDefault(),s.originalEvent.dataTransfer.dropEffect="move",m.is(this)){var a=t(this).height();if(r.forcePlaceholderSize&&v.height(i),a>i){var l=a-i,h=t(this).offset().top;if(v.index()<t(this).index()&&s.originalEvent.pageY<h+l)return!1;if(v.index()>t(this).index()&&s.originalEvent.pageY>h+a-l)return!1}e.hide(),v.index()<t(this).index()?t(this).after(v):t(this).before(v),n.not(v).detach()}else n.is(this)||t(this).children(r.items).length||(n.detach(),t(this).append(v));return!1}})})};return y.destroy=function(t){m(t)},y.enable=function(t){g(t)},y.disable=function(t){v(t)},t.fn.sortable=function(t){return y(this,t)},y}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){UnobtrusiveFlash.flashOptions.timeout=5e3}.call(this);