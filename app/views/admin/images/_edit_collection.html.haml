- id = dom_id(imageable, :images)
- grid_columns ||= 3

.grid.thumbnail-grid.sortable{id: id, class: "grid-columns-#{grid_columns}"}
  = render partial: 'admin/images/edit', collection: imageable.images, as: :image

:coffee
  $('##{id}').sortable(
    items: '> .grid-item'
    handle: '.thumbnail'
    tolerance: 'pointer'
    placeholder: 'grid-placeholder'
    forcePlaceholderSize: true
    opacity: 0.5
    revert: 200
  ).bind 'sortupdate', (e, ui) ->
    $.post '#{admin_reorder_images_path}',
      {reorder: $(this).sortable('toArray')},
      (data, status, xhr) ->
        $('##{dom_id(imageable)}').trigger 'imageable:reordered'
