/*!
 * jQuery JavaScript Library v1.11.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-17T15:27Z
 */
/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=rt.type(e);return"function"===i||rt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,i){if(rt.isFunction(t))return rt.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return rt.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(pt.test(t))return rt.filter(t,e,i);t=rt.filter(t,e)}return rt.grep(e,function(e){return rt.inArray(e,t)>=0!==i})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t=wt[e]={};return rt.each(e.match(yt)||[],function(e,i){t[i]=!0}),t}function o(){ft.addEventListener?(ft.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(ft.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(ft.addEventListener||"load"===event.type||"complete"===ft.readyState)&&(o(),rt.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var n="data-"+t.replace(Et,"-$1").toLowerCase();if(i=e.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:St.test(i)?rt.parseJSON(i):i}catch(r){}rt.data(e,t,i)}else i=void 0}return i}function d(e){var t;for(t in e)if(("data"!==t||!rt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,i,n){if(rt.acceptData(e)){var r,s,o=rt.expando,a=e.nodeType,l=a?rt.cache:e,d=a?e[o]:e[o]&&o;if(d&&l[d]&&(n||l[d].data)||void 0!==i||"string"!=typeof t)return d||(d=a?e[o]=X.pop()||rt.guid++:o),l[d]||(l[d]=a?{}:{toJSON:rt.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[d]=rt.extend(l[d],t):l[d].data=rt.extend(l[d].data,t)),s=l[d],n||(s.data||(s.data={}),s=s.data),void 0!==i&&(s[rt.camelCase(t)]=i),"string"==typeof t?(r=s[t],null==r&&(r=s[rt.camelCase(t)])):r=s,r}}function h(e,t,i){if(rt.acceptData(e)){var n,r,s=e.nodeType,o=s?rt.cache:e,a=s?e[rt.expando]:rt.expando;if(o[a]){if(t&&(n=i?o[a]:o[a].data)){rt.isArray(t)?t=t.concat(rt.map(t,rt.camelCase)):t in n?t=[t]:(t=rt.camelCase(t),t=t in n?[t]:t.split(" ")),r=t.length;for(;r--;)delete n[t[r]];if(i?!d(n):!rt.isEmptyObject(n))return}(i||(delete o[a].data,d(o[a])))&&(s?rt.cleanData([e],!0):it.deleteExpando||o!=o.window?delete o[a]:o[a]=null)}}}function p(){return!0}function u(){return!1}function f(){try{return ft.activeElement}catch(e){}}function m(e){var t=Ot.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function g(e,t){var i,n,r=0,s=typeof e.getElementsByTagName!==kt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==kt?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],i=e.childNodes||e;null!=(n=i[r]);r++)!t||rt.nodeName(n,t)?s.push(n):rt.merge(s,g(n,t));return void 0===t||t&&rt.nodeName(e,t)?rt.merge([e],s):s}function v(e){Lt.test(e.type)&&(e.defaultChecked=e.checked)}function b(e,t){return rt.nodeName(e,"table")&&rt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==rt.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Qt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var i,n=0;null!=(i=e[n]);n++)rt._data(i,"globalEval",!t||rt._data(t[n],"globalEval"))}function C(e,t){if(1===t.nodeType&&rt.hasData(e)){var i,n,r,s=rt._data(e),o=rt._data(t,s),a=s.events;if(a){delete o.handle,o.events={};for(i in a)for(n=0,r=a[i].length;r>n;n++)rt.event.add(t,i,a[i][n])}o.data&&(o.data=rt.extend({},o.data))}}function k(e,t){var i,n,r;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[rt.expando]){r=rt._data(t);for(n in r.events)rt.removeEvent(t,n,r.handle);t.removeAttribute(rt.expando)}"script"===i&&t.text!==e.text?(y(t).text=e.text,w(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!rt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Lt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function S(t,i){var n,r=rt(i.createElement(t)).appendTo(i.body),s=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(r[0]))?n.display:rt.css(r[0],"display");return r.detach(),s}function E(e){var t=ft,i=Zt[e];return i||(i=S(e,t),"none"!==i&&i||(Jt=(Jt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Jt[0].contentWindow||Jt[0].contentDocument).document,t.write(),t.close(),i=S(e,t),Jt.detach()),Zt[e]=i),i}function T(e,t){return{get:function(){var i=e();if(null!=i)return i?void delete this.get:(this.get=t).apply(this,arguments)}}}function $(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=pi.length;r--;)if(t=pi[r]+i,t in e)return t;return n}function _(e,t){for(var i,n,r,s=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(s[o]=rt._data(n,"olddisplay"),i=n.style.display,t?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&_t(n)&&(s[o]=rt._data(n,"olddisplay",E(n.nodeName)))):(r=_t(n),(i&&"none"!==i||!r)&&rt._data(n,"olddisplay",r?i:rt.css(n,"display"))));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}function I(e,t,i){var n=li.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function L(e,t,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=rt.css(e,i+$t[s],!0,r)),n?("content"===i&&(o-=rt.css(e,"padding"+$t[s],!0,r)),"margin"!==i&&(o-=rt.css(e,"border"+$t[s]+"Width",!0,r))):(o+=rt.css(e,"padding"+$t[s],!0,r),"padding"!==i&&(o+=rt.css(e,"border"+$t[s]+"Width",!0,r)));return o}function A(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=ei(e),o=it.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=ti(e,t,s),(0>r||null==r)&&(r=e.style[t]),ni.test(r))return r;n=o&&(it.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+L(e,t,i||(o?"border":"content"),n,s)+"px"}function N(e,t,i,n,r){return new N.prototype.init(e,t,i,n,r)}function D(){return setTimeout(function(){ui=void 0}),ui=rt.now()}function R(e,t){var i,n={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)i=$t[r],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function M(e,t,i){for(var n,r=(yi[t]||[]).concat(yi["*"]),s=0,o=r.length;o>s;s++)if(n=r[s].call(i,t,e))return n}function O(e,t,i){var n,r,s,o,a,l,d,c,h=this,p={},u=e.style,f=e.nodeType&&_t(e),m=rt._data(e,"fxshow");i.queue||(a=rt._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,rt.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],d=rt.css(e,"display"),c="none"===d?rt._data(e,"olddisplay")||E(e.nodeName):d,"inline"===c&&"none"===rt.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",it.shrinkWrapBlocks()||h.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],mi.exec(r)){if(delete t[n],s=s||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;f=!0}p[n]=m&&m[n]||rt.style(e,n)}else d=void 0;if(rt.isEmptyObject(p))"inline"===("none"===d?E(e.nodeName):d)&&(u.display=d);else{m?"hidden"in m&&(f=m.hidden):m=rt._data(e,"fxshow",{}),s&&(m.hidden=!f),f?rt(e).show():h.done(function(){rt(e).hide()}),h.done(function(){var t;rt._removeData(e,"fxshow");for(t in p)rt.style(e,t,p[t])});for(n in p)o=M(f?m[n]:0,n,h),n in m||(m[n]=o.start,f&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function F(e,t){var i,n,r,s,o;for(i in e)if(n=rt.camelCase(i),r=t[n],s=e[i],rt.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),o=rt.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=r)}else t[n]=r}function H(e,t,i){var n,r,s=0,o=bi.length,a=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=ui||D(),i=Math.max(0,d.startTime+d.duration-t),n=i/d.duration||0,s=1-n,o=0,l=d.tweens.length;l>o;o++)d.tweens[o].run(s);return a.notifyWith(e,[d,s,i]),1>s&&l?i:(a.resolveWith(e,[d]),!1)},d=a.promise({elem:e,props:rt.extend({},t),opts:rt.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:ui||D(),duration:i.duration,tweens:[],createTween:function(t,i){var n=rt.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(n),n},stop:function(t){var i=0,n=t?d.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)d.tweens[i].run(1);return t?a.resolveWith(e,[d,t]):a.rejectWith(e,[d,t]),this}}),c=d.props;for(F(c,d.opts.specialEasing);o>s;s++)if(n=bi[s].call(d,e,c,d.opts))return n;return rt.map(c,M,d),rt.isFunction(d.opts.start)&&d.opts.start.call(e,d),rt.fx.timer(rt.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function P(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(yt)||[];if(rt.isFunction(i))for(;n=s[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function B(e,t,i,n){function r(a){var l;return s[a]=!0,rt.each(e[a]||[],function(e,a){var d=a(t,i,n);return"string"!=typeof d||o||s[d]?o?!(l=d):void 0:(t.dataTypes.unshift(d),r(d),!1)}),l}var s={},o=e===Wi;return r(t.dataTypes[0])||!s["*"]&&r("*")}function z(e,t){var i,n,r=rt.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&rt.extend(!0,e,i),e}function j(e,t,i){for(var n,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in a)if(a[o]&&a[o].test(r)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}n||(n=o)}s=s||n}return s?(s!==l[0]&&l.unshift(s),i[s]):void 0}function W(e,t,i,n){var r,s,o,a,l,d={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)d[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=d[l+" "+s]||d["* "+s],!o)for(r in d)if(a=r.split(" "),a[1]===s&&(o=d[l+" "+a[0]]||d["* "+a[0]])){o===!0?o=d[r]:d[r]!==!0&&(s=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function U(e,t,i,n){var r;if(rt.isArray(t))rt.each(t,function(t,r){i||Qi.test(e)?n(e,r):U(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==rt.type(t))n(e,t);else for(r in t)U(e+"["+r+"]",t[r],i,n)}function q(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Q(e){return rt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X=[],K=X.slice,G=X.concat,Y=X.push,J=X.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,it={},nt="1.11.2",rt=function(e,t){return new rt.fn.init(e,t)},st=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,at=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};rt.fn=rt.prototype={jquery:nt,constructor:rt,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=rt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return rt.each(this,e,t)},map:function(e){return this.pushStack(rt.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:X.sort,splice:X.splice},rt.extend=rt.fn.extend=function(){var e,t,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[a]||{},a++),"object"==typeof o||rt.isFunction(o)||(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(n in r)e=o[n],i=r[n],o!==i&&(d&&i&&(rt.isPlainObject(i)||(t=rt.isArray(i)))?(t?(t=!1,s=e&&rt.isArray(e)?e:[]):s=e&&rt.isPlainObject(e)?e:{},o[n]=rt.extend(d,s,i)):void 0!==i&&(o[n]=i));return o},rt.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rt.type(e)},isArray:Array.isArray||function(e){return"array"===rt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!rt.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==rt.type(e)||e.nodeType||rt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&rt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ot,"ms-").replace(at,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,s=0,o=e.length,a=i(e);if(n){if(a)for(;o>s&&(r=t.apply(e[s],n),r!==!1);s++);else for(s in e)if(r=t.apply(e[s],n),r===!1)break}else if(a)for(;o>s&&(r=t.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=t.call(e[s],s,e[s]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(st,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?rt.merge(n,"string"==typeof e?[e]:e):Y.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(J)return J.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;i>n;)e[r++]=t[n++];if(i!==i)for(;void 0!==t[n];)e[r++]=t[n++];return e.length=r,e},grep:function(e,t,i){for(var n,r=[],s=0,o=e.length,a=!i;o>s;s++)n=!t(e[s],s),n!==a&&r.push(e[s]);return r},map:function(e,t,n){var r,s=0,o=e.length,a=i(e),l=[];if(a)for(;o>s;s++)r=t(e[s],s,n),null!=r&&l.push(r);else for(s in e)r=t(e[s],s,n),null!=r&&l.push(r);return G.apply([],l)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(r=e[t],t=e,e=r),rt.isFunction(e)?(i=K.call(arguments,2),n=function(){return e.apply(t||this,i.concat(K.call(arguments)))},n.guid=e.guid=e.guid||rt.guid++,n):void 0},now:function(){return+new Date},support:it}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var dt=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,i,n){var r,s,o,a,l,d,h,u,f,m;if((t?t.ownerDocument||t:B)!==N&&A(t),t=t||N,i=i||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return i;if(!n&&R){if(11!==a&&(r=bt.exec(e)))if(o=r[1]){if(9===a){if(s=t.getElementById(o),!s||!s.parentNode)return i;if(s.id===o)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&H(t,s)&&s.id===o)return i.push(s),i}else{if(r[2])return J.apply(i,t.getElementsByTagName(e)),i;if((o=r[3])&&x.getElementsByClassName)return J.apply(i,t.getElementsByClassName(o)),i}if(x.qsa&&(!M||!M.test(e))){if(u=h=P,f=t,m=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(d=E(e),(h=t.getAttribute("id"))?u=h.replace(wt,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=d.length;l--;)d[l]=u+p(d[l]);f=yt.test(e)&&c(t.parentNode)||t,m=d.join(",")}if(m)try{return J.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{h||t.removeAttribute("id")}}}return $(e.replace(lt,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>C.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[P]=!0,e}function r(e){var t=N.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),n=e.length;n--;)C.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function d(e){return n(function(t){return t=+t,n(function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function u(e,t,i){var n=t.dir,r=i&&"parentNode"===n,s=j++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,s)}:function(t,i,o){var a,l,d=[z,s];if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(l=t[P]||(t[P]={}),(a=l[n])&&a[0]===z&&a[1]===s)return d[2]=a[2];if(l[n]=d,d[2]=e(t,i,o))return!0}}}function f(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var r=0,s=i.length;s>r;r++)t(e,i[r],n);return n}function g(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,d=null!=t;l>a;a++)(s=e[a])&&(!i||i(s,n,r))&&(o.push(s),d&&t.push(a));return o}function v(e,t,i,r,s,o){return r&&!r[P]&&(r=v(r)),s&&!s[P]&&(s=v(s,o)),n(function(n,o,a,l){var d,c,h,p=[],u=[],f=o.length,v=n||m(t||"*",a.nodeType?[a]:a,[]),b=!e||!n&&t?v:g(v,p,e,a,l),y=i?s||(n?e:f||r)?[]:o:b;if(i&&i(b,y,a,l),r)for(d=g(y,u),r(d,[],a,l),c=d.length;c--;)(h=d[c])&&(y[u[c]]=!(b[u[c]]=h));if(n){if(s||e){if(s){for(d=[],c=y.length;c--;)(h=y[c])&&d.push(b[c]=h);s(null,y=[],d,l)}for(c=y.length;c--;)(h=y[c])&&(d=s?et(n,h):p[c])>-1&&(n[d]=!(o[d]=h))}}else y=g(y===o?y.splice(f,y.length):y),s?s(null,o,y,l):J.apply(o,y)})}function b(e){for(var t,i,n,r=e.length,s=C.relative[e[0].type],o=s||C.relative[" "],a=s?1:0,l=u(function(e){return e===t},o,!0),d=u(function(e){return et(t,e)>-1},o,!0),c=[function(e,i,n){var r=!s&&(n||i!==_)||((t=i).nodeType?l(e,i,n):d(e,i,n));return t=null,r}];r>a;a++)if(i=C.relative[e[a].type])c=[u(f(c),i)];else{if(i=C.filter[e[a].type].apply(null,e[a].matches),i[P]){for(n=++a;r>n&&!C.relative[e[n].type];n++);return v(a>1&&f(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),i,n>a&&b(e.slice(a,n)),r>n&&b(e=e.slice(n)),r>n&&p(e))}c.push(i)}return f(c)}function y(e,i){var r=i.length>0,s=e.length>0,o=function(n,o,a,l,d){var c,h,p,u=0,f="0",m=n&&[],v=[],b=_,y=n||s&&C.find.TAG("*",d),w=z+=null==b?1:Math.random()||.1,x=y.length;for(d&&(_=o!==N&&o);f!==x&&null!=(c=y[f]);f++){if(s&&c){for(h=0;p=e[h++];)if(p(c,o,a)){l.push(c);break}d&&(z=w)}r&&((c=!p&&c)&&u--,n&&m.push(c))}if(u+=f,r&&f!==u){for(h=0;p=i[h++];)p(m,v,o,a);if(n){if(u>0)for(;f--;)m[f]||v[f]||(v[f]=G.call(l));v=g(v)}J.apply(l,v),d&&!n&&v.length>0&&u+i.length>1&&t.uniqueSort(l)}return d&&(z=w,_=b),m};return r?n(o):o}var w,x,C,k,S,E,T,$,_,I,L,A,N,D,R,M,O,F,H,P="sizzle"+1*new Date,B=e.document,z=0,j=0,W=i(),U=i(),q=i(),V=function(e,t){return e===t&&(L=!0),0},Q=1<<31,X={}.hasOwnProperty,K=[],G=K.pop,Y=K.push,J=K.push,Z=K.slice,et=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=nt.replace("w","w#"),st="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",at=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),dt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),pt=new RegExp(ot),ut=new RegExp("^"+rt+"$"),ft={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Ct=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},kt=function(){A()};try{J.apply(K=Z.call(B.childNodes),B.childNodes),K[B.childNodes.length].nodeType}catch(St){J={apply:K.length?function(e,t){Y.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:B;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,D=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",kt,!1):i.attachEvent&&i.attachEvent("onunload",kt)),R=!S(n),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(n.getElementsByClassName),x.getById=r(function(e){return D.appendChild(e).id=P,!n.getElementsByName||!n.getElementsByName(P).length}),x.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&R){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},C.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xt,Ct);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},C.find.CLASS=x.getElementsByClassName&&function(e,t){return R?t.getElementsByClassName(e):void 0},O=[],M=[],(x.qsa=vt.test(n.querySelectorAll))&&(r(function(e){D.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+it+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(x.matchesSelector=vt.test(F=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&r(function(e){x.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),O.push("!=",ot)}),M=M.length&&new RegExp(M.join("|")),O=O.length&&new RegExp(O.join("|")),t=vt.test(D.compareDocumentPosition),H=t||vt.test(D.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return L=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===B&&H(B,e)?-1:t===n||t.ownerDocument===B&&H(B,t)?1:I?et(I,e)-et(I,t):0:4&i?-1:1)}:function(e,t){if(e===t)return L=!0,0;var i,r=0,s=e.parentNode,a=t.parentNode,l=[e],d=[t];if(!s||!a)return e===n?-1:t===n?1:s?-1:a?1:I?et(I,e)-et(I,t):0;if(s===a)return o(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)d.unshift(i);for(;l[r]===d[r];)r++;return r?o(l[r],d[r]):l[r]===B?-1:d[r]===B?1:0},n):N},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==N&&A(e),i=i.replace(ht,"='$1']"),!(!x.matchesSelector||!R||O&&O.test(i)||M&&M.test(i)))try{var n=F.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return t(i,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&A(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&A(e);var i=C.attrHandle[t.toLowerCase()],n=i&&X.call(C.attrHandle,t.toLowerCase())?i(e,t,!R):void 0;return void 0!==n?n:x.attributes||!R?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(L=!x.detectDuplicates,I=!x.sortStable&&e.slice(0),e.sort(V),L){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return I=null,e},k=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},C=t.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,Ct),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,Ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return ft.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&pt.test(i)&&(t=E(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,Ct).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var s=t.attr(r,e);return null==s?"!="===i:i?(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(at," ")+" ").indexOf(n)>-1:"|="===i?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var d,c,h,p,u,f,m=s!==o?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(s){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&b){for(c=g[P]||(g[P]={}),d=c[e]||[],u=d[0]===z&&d[1],p=d[0]===z&&d[2],h=u&&g.childNodes[u];h=++u&&h&&h[m]||(p=u=0)||f.pop();)if(1===h.nodeType&&++p&&h===t){c[e]=[z,u,p];break}}else if(b&&(d=(t[P]||(t[P]={}))[e])&&d[0]===z)p=d[1];else for(;(h=++u&&h&&h[m]||(p=u=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++p||(b&&((h[P]||(h[P]={}))[e]=[z,p]),h!==t)););return p-=r,p===n||p%n===0&&p/n>=0}}},PSEUDO:function(e,i){var r,s=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[P]?s(i):s.length>1?(r=[e,e,"",i],C.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=s(e,i),o=r.length;o--;)n=et(e,r[o]),e[n]=!(t[n]=r[o])}):function(e){return s(e,0,r)}):s}},pseudos:{not:n(function(e){var t=[],i=[],r=T(e.replace(lt,"$1"));return r[P]?n(function(e,t,i,n){for(var s,o=r(e,null,n,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,n,s){return t[0]=e,r(t,null,s,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(xt,Ct),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:n(function(e){return ut.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,Ct).toLowerCase(),function(t){var i;do if(i=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,i){return[0>i?i+t:i]}),even:d(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:d(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:d(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:d(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,E=t.tokenize=function(e,i){var n,r,s,o,a,l,d,c=U[e+" "];if(c)return i?0:c.slice(0);for(a=e,l=[],d=C.preFilter;a;){(!n||(r=dt.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=ct.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(lt," ")}),a=a.slice(n.length));for(o in C.filter)!(r=ft[o].exec(a))||d[o]&&!(r=d[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):U(e,l).slice(0)},T=t.compile=function(e,t){var i,n=[],r=[],s=q[e+" "];if(!s){for(t||(t=E(e)),i=t.length;i--;)s=b(t[i]),s[P]?n.push(s):r.push(s);s=q(e,y(r,n)),s.selector=e}return s},$=t.select=function(e,t,i,n){var r,s,o,a,l,d="function"==typeof e&&e,h=!n&&E(e=d.selector||e);if(i=i||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&x.getById&&9===t.nodeType&&R&&C.relative[s[1].type]){if(t=(C.find.ID(o.matches[0].replace(xt,Ct),t)||[])[0],!t)return i;d&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=ft.needsContext.test(e)?0:s.length;r--&&(o=s[r],!C.relative[a=o.type]);)if((l=C.find[a])&&(n=l(o.matches[0].replace(xt,Ct),yt.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(r,1),e=n.length&&p(s),!e)return J.apply(i,n),i;break}}return(d||T(e,h))(n,t,!R,i,yt.test(e)&&c(t.parentNode)||t),i},x.sortStable=P.split("").sort(V).join("")===P,x.detectDuplicates=!!L,A(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(tt,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);rt.find=dt,rt.expr=dt.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=dt.uniqueSort,rt.text=dt.getText,rt.isXMLDoc=dt.isXML,rt.contains=dt.contains;var ct=rt.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;rt.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?rt.find.matchesSelector(n,e)?[n]:[]:rt.find.matches(e,rt.grep(t,function(e){return 1===e.nodeType}))},rt.fn.extend({find:function(e){var t,i=[],n=this,r=n.length;if("string"!=typeof e)return this.pushStack(rt(e).filter(function(){for(t=0;r>t;t++)if(rt.contains(n[t],this))return!0}));for(t=0;r>t;t++)rt.find(e,n[t],i);return i=this.pushStack(r>1?rt.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&ct.test(e)?rt(e):e||[],!1).length}});var ut,ft=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=rt.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||ut).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof rt?t[0]:t,rt.merge(this,rt.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ft,!0)),ht.test(i[1])&&rt.isPlainObject(t))for(i in t)rt.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(n=ft.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return ut.find(e);this.length=1,this[0]=n}return this.context=ft,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rt.isFunction(e)?"undefined"!=typeof ut.ready?ut.ready(e):e(rt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rt.makeArray(e,this))};gt.prototype=rt.fn,ut=rt(ft);var vt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(e,t,i){for(var n=[],r=e[t];r&&9!==r.nodeType&&(void 0===i||1!==r.nodeType||!rt(r).is(i));)1===r.nodeType&&n.push(r),r=r[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),rt.fn.extend({has:function(e){var t,i=rt(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(rt.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,s=[],o=ct.test(e)||"string"!=typeof e?rt(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&rt.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?rt.unique(s):s)},index:function(e){return e?"string"==typeof e?rt.inArray(this[0],rt(e)):rt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(rt.unique(rt.merge(this.get(),rt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rt.dir(e,"parentNode")},parentsUntil:function(e,t,i){return rt.dir(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return rt.dir(e,"nextSibling")},prevAll:function(e){return rt.dir(e,"previousSibling")},nextUntil:function(e,t,i){return rt.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return rt.dir(e,"previousSibling",i)},siblings:function(e){return rt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rt.sibling(e.firstChild)},contents:function(e){return rt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rt.merge([],e.childNodes)}},function(e,t){rt.fn[e]=function(i,n){var r=rt.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=rt.filter(n,r)),this.length>1&&(bt[e]||(r=rt.unique(r)),vt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var yt=/\S+/g,wt={};rt.Callbacks=function(e){e="string"==typeof e?wt[e]||s(e):rt.extend({},e);var t,i,n,r,o,a,l=[],d=!e.once&&[],c=function(s){for(i=e.memory&&s,n=!0,o=a||0,a=0,r=l.length,t=!0;l&&r>o;o++)if(l[o].apply(s[0],s[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(d?d.length&&c(d.shift()):i?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function s(t){rt.each(t,function(t,i){var n=rt.type(i);"function"===n?e.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==n&&s(i)})}(arguments),t?r=l.length:i&&(a=n,c(i))}return this},remove:function(){return l&&rt.each(arguments,function(e,i){for(var n;(n=rt.inArray(i,l,n))>-1;)l.splice(n,1),t&&(r>=n&&r--,o>=n&&o--)}),this},has:function(e){return e?rt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=d=i=void 0,this},disabled:function(){return!l},lock:function(){return d=void 0,i||h.disable(),this},locked:function(){return!d},fireWith:function(e,i){return!l||n&&!d||(i=i||[],i=[e,i.slice?i.slice():i],t?d.push(i):c(i)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},rt.extend({Deferred:function(e){var t=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rt.Deferred(function(i){rt.each(t,function(t,s){var o=rt.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&rt.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rt.extend(e,n):n}},r={};return n.pipe=n.then,rt.each(t,function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?n:this,arguments),this},r[s[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,s=K.call(arguments),o=s.length,a=1!==o||e&&rt.isFunction(e.promise)?o:0,l=1===a?e:rt.Deferred(),d=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?K.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>r;r++)s[r]&&rt.isFunction(s[r].promise)?s[r].promise().done(d(r,n,s)).fail(l.reject).progress(d(r,i,t)):--a;return a||l.resolveWith(n,s),l.promise()}});var xt;rt.fn.ready=function(e){return rt.ready.promise().done(e),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rt.readyWait++:rt.ready(!0)},ready:function(e){if(e===!0?!--rt.readyWait:!rt.isReady){if(!ft.body)return setTimeout(rt.ready);rt.isReady=!0,e!==!0&&--rt.readyWait>0||(xt.resolveWith(ft,[rt]),rt.fn.triggerHandler&&(rt(ft).triggerHandler("ready"),rt(ft).off("ready")))}}}),rt.ready.promise=function(t){if(!xt)if(xt=rt.Deferred(),"complete"===ft.readyState)setTimeout(rt.ready);else if(ft.addEventListener)ft.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{ft.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var i=!1;try{i=null==e.frameElement&&ft.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!rt.isReady){try{i.doScroll("left")}catch(e){return setTimeout(r,50)}o(),rt.ready()}}()}return xt.promise(t)};var Ct,kt="undefined";for(Ct in rt(it))break;it.ownLast="0"!==Ct,it.inlineBlockNeedsLayout=!1,rt(function(){var e,t,i,n;i=ft.getElementsByTagName("body")[0],i&&i.style&&(t=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",it.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(i.style.zoom=1)),i.removeChild(n))}),function(){var e=ft.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),rt.acceptData=function(e){var t=rt.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rt.cache[e[rt.expando]]:e[rt.expando],!!e&&!d(e)},data:function(e,t,i){return c(e,t,i)},removeData:function(e,t){return h(e,t)},_data:function(e,t,i){return c(e,t,i,!0)},_removeData:function(e,t){return h(e,t,!0)}}),rt.fn.extend({data:function(e,t){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=rt.data(s),1===s.nodeType&&!rt._data(s,"parsedAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=rt.camelCase(n.slice(5)),l(s,n,r[n])));rt._data(s,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){rt.data(this,e)}):arguments.length>1?this.each(function(){rt.data(this,e,t)}):s?l(s,e,rt.data(s,e)):void 0},removeData:function(e){return this.each(function(){rt.removeData(this,e)})}}),rt.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=rt._data(e,t),i&&(!n||rt.isArray(i)?n=rt._data(e,t,rt.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=rt.queue(e,t),n=i.length,r=i.shift(),s=rt._queueHooks(e,t),o=function(){rt.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return rt._data(e,i)||rt._data(e,i,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(e,t+"queue"),rt._removeData(e,i)})})}}),rt.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?rt.queue(this[0],e):void 0===t?this:this.each(function(){var i=rt.queue(this,e,t);rt._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&rt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=rt.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=rt._data(s[o],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$t=["Top","Right","Bottom","Left"],_t=function(e,t){return e=t||e,"none"===rt.css(e,"display")||!rt.contains(e.ownerDocument,e)},It=rt.access=function(e,t,i,n,r,s,o){var a=0,l=e.length,d=null==i;if("object"===rt.type(i)){r=!0;for(a in i)rt.access(e,t,a,i[a],!0,s,o)}else if(void 0!==n&&(r=!0,rt.isFunction(n)||(o=!0),d&&(o?(t.call(e,n),t=null):(d=t,t=function(e,t,i){return d.call(rt(e),i)})),t))for(;l>a;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:d?t.call(e):l?t(e[0],i):s},Lt=/^(?:checkbox|radio)$/i;!function(){var e=ft.createElement("input"),t=ft.createElement("div"),i=ft.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==ft.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,i.appendChild(e),it.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,i.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(n){it.deleteExpando=!1}}}(),function(){var t,i,n=ft.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(it[t+"Bubbles"]=i in e)||(n.setAttribute(i,"t"),it[t+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var At=/^(?:input|select|textarea)$/i,Nt=/^key/,Dt=/^(?:mouse|pointer|contextmenu)|click/,Rt=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(e,t,i,n,r){var s,o,a,l,d,c,h,p,u,f,m,g=rt._data(e);if(g){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=rt.guid++),(o=g.events)||(o=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof rt===kt||e&&rt.event.triggered===e.type?void 0:rt.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(yt)||[""],a=t.length;a--;)s=Mt.exec(t[a])||[],u=m=s[1],f=(s[2]||"").split(".").sort(),u&&(d=rt.event.special[u]||{},u=(r?d.delegateType:d.bindType)||u,d=rt.event.special[u]||{},h=rt.extend({type:u,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(p=o[u])||(p=o[u]=[],p.delegateCount=0,d.setup&&d.setup.call(e,n,f,c)!==!1||(e.addEventListener?e.addEventListener(u,c,!1):e.attachEvent&&e.attachEvent("on"+u,c))),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,h):p.push(h),rt.event.global[u]=!0);e=null}},remove:function(e,t,i,n,r){var s,o,a,l,d,c,h,p,u,f,m,g=rt.hasData(e)&&rt._data(e);if(g&&(c=g.events)){for(t=(t||"").match(yt)||[""],d=t.length;d--;)if(a=Mt.exec(t[d])||[],u=m=a[1],f=(a[2]||"").split(".").sort(),u){for(h=rt.event.special[u]||{},u=(n?h.delegateType:h.bindType)||u,p=c[u]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=p.length;s--;)o=p[s],!r&&m!==o.origType||i&&i.guid!==o.guid||a&&!a.test(o.namespace)||n&&n!==o.selector&&("**"!==n||!o.selector)||(p.splice(s,1),o.selector&&p.delegateCount--,h.remove&&h.remove.call(e,o));l&&!p.length&&(h.teardown&&h.teardown.call(e,f,g.handle)!==!1||rt.removeEvent(e,u,g.handle),delete c[u])}else for(u in c)rt.event.remove(e,u+t[d],i,n,!0);rt.isEmptyObject(c)&&(delete g.handle,rt._removeData(e,"events"))}},trigger:function(t,i,n,r){var s,o,a,l,d,c,h,p=[n||ft],u=tt.call(t,"type")?t.type:t,f=tt.call(t,"namespace")?t.namespace.split("."):[];if(a=c=n=n||ft,3!==n.nodeType&&8!==n.nodeType&&!Rt.test(u+rt.event.triggered)&&(u.indexOf(".")>=0&&(f=u.split("."),u=f.shift(),f.sort()),o=u.indexOf(":")<0&&"on"+u,t=t[rt.expando]?t:new rt.Event(u,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:rt.makeArray(i,[t]),d=rt.event.special[u]||{},r||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!r&&!d.noBubble&&!rt.isWindow(n)){for(l=d.delegateType||u,Rt.test(l+u)||(a=a.parentNode);a;a=a.parentNode)p.push(a),c=a;
c===(n.ownerDocument||ft)&&p.push(c.defaultView||c.parentWindow||e)}for(h=0;(a=p[h++])&&!t.isPropagationStopped();)t.type=h>1?l:d.bindType||u,s=(rt._data(a,"events")||{})[t.type]&&rt._data(a,"handle"),s&&s.apply(a,i),s=o&&a[o],s&&s.apply&&rt.acceptData(a)&&(t.result=s.apply(a,i),t.result===!1&&t.preventDefault());if(t.type=u,!r&&!t.isDefaultPrevented()&&(!d._default||d._default.apply(p.pop(),i)===!1)&&rt.acceptData(n)&&o&&n[u]&&!rt.isWindow(n)){c=n[o],c&&(n[o]=null),rt.event.triggered=u;try{n[u]()}catch(m){}rt.event.triggered=void 0,c&&(n[o]=c)}return t.result}},dispatch:function(e){e=rt.event.fix(e);var t,i,n,r,s,o=[],a=K.call(arguments),l=(rt._data(this,"events")||{})[e.type]||[],d=rt.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(o=rt.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,s=0;(n=r.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,i=((rt.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],s=0;a>s;s++)n=t[s],i=n.selector+" ",void 0===r[i]&&(r[i]=n.needsContext?rt(i,this).index(l)>=0:rt.find(i,this,null,[l]).length),r[i]&&r.push(n);r.length&&o.push({elem:l,handlers:r})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},fix:function(e){if(e[rt.expando])return e;var t,i,n,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Dt.test(r)?this.mouseHooks:Nt.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new rt.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=s.srcElement||ft),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,s=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||ft,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=rt.extend(new rt.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?rt.event.trigger(r,null,t):rt.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},rt.removeEvent=ft.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===kt&&(e[n]=null),e.detachEvent(n,i))},rt.Event=function(e,t){return this instanceof rt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?p:u):this.type=e,t&&rt.extend(this,t),this.timeStamp=e&&e.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(e,t)},rt.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=p,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){rt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==n&&!rt.contains(n,r))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),it.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=rt.nodeName(t,"input")||rt.nodeName(t,"button")?t.form:void 0;i&&!rt._data(i,"submitBubbles")&&(rt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),rt._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),it.changeBubbles||(rt.event.special.change={setup:function(){return At.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,e,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(e){var t=e.target;At.test(t.nodeName)&&!rt._data(t,"changeBubbles")&&(rt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rt.event.simulate("change",this.parentNode,e,!0)}),rt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!At.test(this.nodeName)}}),it.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){rt.event.simulate(t,e.target,rt.event.fix(e),!0)};rt.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=rt._data(n,t);r||n.addEventListener(e,i,!0),rt._data(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=rt._data(n,t)-1;r?rt._data(n,t,r):(n.removeEventListener(e,i,!0),rt._removeData(n,t))}}}),rt.fn.extend({on:function(e,t,i,n,r){var s,o;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(s in e)this.on(s,t,i,e[s],r);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=u;else if(!n)return this;return 1===r&&(o=n,n=function(e){return rt().off(e),o.apply(this,arguments)},n.guid=o.guid||(o.guid=rt.guid++)),this.each(function(){rt.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,rt(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=u),this.each(function(){rt.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){rt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?rt.event.trigger(e,t,i,!0):void 0}});var Ot="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ft=/ jQuery\d+="(?:null|\d+)"/g,Ht=new RegExp("<(?:"+Ot+")[\\s/>]","i"),Pt=/^\s+/,Bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,jt=/<tbody/i,Wt=/<|&#?\w+;/,Ut=/<(?:script|style|link)/i,qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Qt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gt=m(ft),Yt=Gt.appendChild(ft.createElement("div"));Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td,rt.extend({clone:function(e,t,i){var n,r,s,o,a,l=rt.contains(e.ownerDocument,e);if(it.html5Clone||rt.isXMLDoc(e)||!Ht.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Yt.innerHTML=e.outerHTML,Yt.removeChild(s=Yt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rt.isXMLDoc(e)))for(n=g(s),a=g(e),o=0;null!=(r=a[o]);++o)n[o]&&k(r,n[o]);if(t)if(i)for(a=a||g(e),n=n||g(s),o=0;null!=(r=a[o]);o++)C(r,n[o]);else C(e,s);return n=g(s,"script"),n.length>0&&x(n,!l&&g(e,"script")),n=a=r=null,s},buildFragment:function(e,t,i,n){for(var r,s,o,a,l,d,c,h=e.length,p=m(t),u=[],f=0;h>f;f++)if(s=e[f],s||0===s)if("object"===rt.type(s))rt.merge(u,s.nodeType?[s]:s);else if(Wt.test(s)){for(a=a||p.appendChild(t.createElement("div")),l=(zt.exec(s)||["",""])[1].toLowerCase(),c=Kt[l]||Kt._default,a.innerHTML=c[1]+s.replace(Bt,"<$1></$2>")+c[2],r=c[0];r--;)a=a.lastChild;if(!it.leadingWhitespace&&Pt.test(s)&&u.push(t.createTextNode(Pt.exec(s)[0])),!it.tbody)for(s="table"!==l||jt.test(s)?"<table>"!==c[1]||jt.test(s)?0:a:a.firstChild,r=s&&s.childNodes.length;r--;)rt.nodeName(d=s.childNodes[r],"tbody")&&!d.childNodes.length&&s.removeChild(d);for(rt.merge(u,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else u.push(t.createTextNode(s));for(a&&p.removeChild(a),it.appendChecked||rt.grep(g(u,"input"),v),f=0;s=u[f++];)if((!n||-1===rt.inArray(s,n))&&(o=rt.contains(s.ownerDocument,s),a=g(p.appendChild(s),"script"),o&&x(a),i))for(r=0;s=a[r++];)Vt.test(s.type||"")&&i.push(s);return a=null,p},cleanData:function(e,t){for(var i,n,r,s,o=0,a=rt.expando,l=rt.cache,d=it.deleteExpando,c=rt.event.special;null!=(i=e[o]);o++)if((t||rt.acceptData(i))&&(r=i[a],s=r&&l[r])){if(s.events)for(n in s.events)c[n]?rt.event.remove(i,n):rt.removeEvent(i,n,s.handle);l[r]&&(delete l[r],d?delete i[a]:typeof i.removeAttribute!==kt?i.removeAttribute(a):i[a]=null,X.push(r))}}}),rt.fn.extend({text:function(e){return It(this,function(e){return void 0===e?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ft).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=b(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?rt.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||rt.cleanData(g(i)),i.parentNode&&(t&&rt.contains(i.ownerDocument,i)&&x(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&rt.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return rt.clone(this,e,t)})},html:function(e){return It(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ft,""):void 0;if(!("string"!=typeof e||Ut.test(e)||!it.htmlSerialize&&Ht.test(e)||!it.leadingWhitespace&&Pt.test(e)||Kt[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Bt,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(rt.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,rt.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var i,n,r,s,o,a,l=0,d=this.length,c=this,h=d-1,p=e[0],u=rt.isFunction(p);if(u||d>1&&"string"==typeof p&&!it.checkClone&&qt.test(p))return this.each(function(i){var n=c.eq(i);u&&(e[0]=p.call(this,i,n.html())),n.domManip(e,t)});if(d&&(a=rt.buildFragment(e,this[0].ownerDocument,!1,this),i=a.firstChild,1===a.childNodes.length&&(a=i),i)){for(s=rt.map(g(a,"script"),y),r=s.length;d>l;l++)n=a,l!==h&&(n=rt.clone(n,!0,!0),r&&rt.merge(s,g(n,"script"))),t.call(this[l],n,l);if(r)for(o=s[s.length-1].ownerDocument,rt.map(s,w),l=0;r>l;l++)n=s[l],Vt.test(n.type||"")&&!rt._data(n,"globalEval")&&rt.contains(o,n)&&(n.src?rt._evalUrl&&rt._evalUrl(n.src):rt.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Xt,"")));a=i=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){rt.fn[e]=function(e){for(var i,n=0,r=[],s=rt(e),o=s.length-1;o>=n;n++)i=n===o?this:this.clone(!0),rt(s[n])[t](i),Y.apply(r,i.get());return this.pushStack(r)}});var Jt,Zt={};!function(){var e;it.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,i,n;return i=ft.getElementsByTagName("body")[0],i&&i.style?(t=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),typeof t.style.zoom!==kt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ft.createElement("div")).style.width="5px",e=3!==t.offsetWidth),i.removeChild(n),e):void 0}}();var ei,ti,ii=/^margin/,ni=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),ri=/^(top|right|bottom|left)$/;e.getComputedStyle?(ei=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},ti=function(e,t,i){var n,r,s,o,a=e.style;return i=i||ei(e),o=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==o||rt.contains(e.ownerDocument,e)||(o=rt.style(e,t)),ni.test(o)&&ii.test(t)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0===o?o:o+""}):ft.documentElement.currentStyle&&(ei=function(e){return e.currentStyle},ti=function(e,t,i){var n,r,s,o,a=e.style;return i=i||ei(e),o=i?i[t]:void 0,null==o&&a&&a[t]&&(o=a[t]),ni.test(o)&&!ri.test(t)&&(n=a.left,r=e.runtimeStyle,s=r&&r.left,s&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":o,o=a.pixelLeft+"px",a.left=n,s&&(r.left=s)),void 0===o?o:o+""||"auto"}),function(){function t(){var t,i,n,r;i=ft.getElementsByTagName("body")[0],i&&i.style&&(t=ft.createElement("div"),n=ft.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s=o=!1,l=!0,e.getComputedStyle&&(s="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(ft.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(r)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===r[0].offsetHeight,a&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),i.removeChild(n))}var i,n,r,s,o,a,l;i=ft.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=i.getElementsByTagName("a")[0],n=r&&r.style,n&&(n.cssText="float:left;opacity:.5",it.opacity="0.5"===n.opacity,it.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===i.style.backgroundClip,it.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,rt.extend(it,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==s&&t(),s},reliableMarginRight:function(){return null==l&&t(),l}}))}(),rt.swap=function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];r=i.apply(e,n||[]);for(s in t)e.style[s]=o[s];return r};var si=/alpha\([^)]*\)/i,oi=/opacity\s*=\s*([^)]*)/,ai=/^(none|table(?!-c[ea]).+)/,li=new RegExp("^("+Tt+")(.*)$","i"),di=new RegExp("^([+-])=("+Tt+")","i"),ci={position:"absolute",visibility:"hidden",display:"block"},hi={letterSpacing:"0",fontWeight:"400"},pi=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ti(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=rt.camelCase(t),l=e.style;if(t=rt.cssProps[a]||(rt.cssProps[a]=$(l,a)),o=rt.cssHooks[t]||rt.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:l[t];if(s=typeof i,"string"===s&&(r=di.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(rt.css(e,t)),s="number"),null!=i&&i===i&&("number"!==s||rt.cssNumber[a]||(i+="px"),it.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(i=o.set(e,i,n)))))try{l[t]=i}catch(d){}}},css:function(e,t,i,n){var r,s,o,a=rt.camelCase(t);return t=rt.cssProps[a]||(rt.cssProps[a]=$(e.style,a)),o=rt.cssHooks[t]||rt.cssHooks[a],o&&"get"in o&&(s=o.get(e,!0,i)),void 0===s&&(s=ti(e,t,n)),"normal"===s&&t in hi&&(s=hi[t]),""===i||i?(r=parseFloat(s),i===!0||rt.isNumeric(r)?r||0:s):s}}),rt.each(["height","width"],function(e,t){rt.cssHooks[t]={get:function(e,i,n){return i?ai.test(rt.css(e,"display"))&&0===e.offsetWidth?rt.swap(e,ci,function(){return A(e,t,n)}):A(e,t,n):void 0},set:function(e,i,n){var r=n&&ei(e);return I(e,i,n?L(e,t,n,it.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,r),r):0)}}}),it.opacity||(rt.cssHooks.opacity={get:function(e,t){return oi.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=rt.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===rt.trim(s.replace(si,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=si.test(s)?s.replace(si,r):s+" "+r)}}),rt.cssHooks.marginRight=T(it.reliableMarginRight,function(e,t){return t?rt.swap(e,{display:"inline-block"},ti,[e,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(e,t){rt.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+$t[n]+t]=s[n]||s[n-2]||s[0];return r}},ii.test(e)||(rt.cssHooks[e+t].set=I)}),rt.fn.extend({css:function(e,t){return It(this,function(e,t,i){var n,r,s={},o=0;if(rt.isArray(t)){for(n=ei(e),r=t.length;r>o;o++)s[t[o]]=rt.css(e,t[o],!1,n);return s}return void 0!==i?rt.style(e,t,i):rt.css(e,t)},e,t,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_t(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=N,N.prototype={constructor:N,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(rt.cssNumber[i]?"":"px")},cur:function(){var e=N.propHooks[this.prop];return e&&e.get?e.get(this):N.propHooks._default.get(this)},run:function(e){var t,i=N.propHooks[this.prop];return this.pos=t=this.options.duration?rt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=rt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){rt.fx.step[e.prop]?rt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rt.cssProps[e.prop]]||rt.cssHooks[e.prop])?rt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rt.fx=N.prototype.init,rt.fx.step={};var ui,fi,mi=/^(?:toggle|show|hide)$/,gi=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),vi=/queueHooks$/,bi=[O],yi={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=gi.exec(t),s=r&&r[3]||(rt.cssNumber[e]?"":"px"),o=(rt.cssNumber[e]||"px"!==s&&+n)&&gi.exec(rt.css(i.elem,e)),a=1,l=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+n||1;do a=a||".5",o/=a,rt.style(i.elem,e,o+s);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(o=i.start=+o||+n||0,i.unit=s,i.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),i}]};rt.Animation=rt.extend(H,{tweener:function(e,t){rt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],yi[i]=yi[i]||[],yi[i].unshift(t)},prefilter:function(e,t){t?bi.unshift(e):bi.push(e)}}),rt.speed=function(e,t,i){var n=e&&"object"==typeof e?rt.extend({},e):{complete:i||!i&&t||rt.isFunction(e)&&e,duration:e,easing:i&&t||t&&!rt.isFunction(t)&&t};return n.duration=rt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in rt.fx.speeds?rt.fx.speeds[n.duration]:rt.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){rt.isFunction(n.old)&&n.old.call(this),n.queue&&rt.dequeue(this,n.queue)},n},rt.fn.extend({fadeTo:function(e,t,i,n){return this.filter(_t).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=rt.isEmptyObject(e),s=rt.speed(t,i,n),o=function(){var t=H(this,rt.extend({},e),s);(r||rt._data(this,"finish"))&&t.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=rt.timers,o=rt._data(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&vi.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));(t||!i)&&rt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=rt._data(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=rt.timers,o=n?n.length:0;for(i.finish=!0,rt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),rt.each(["toggle","show","hide"],function(e,t){var i=rt.fn[t];rt.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(R(t,!0),e,n,r)}}),rt.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){rt.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),rt.timers=[],rt.fx.tick=function(){var e,t=rt.timers,i=0;for(ui=rt.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||rt.fx.stop(),ui=void 0},rt.fx.timer=function(e){rt.timers.push(e),e()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){fi||(fi=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(fi),fi=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,t){return e=rt.fx?rt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e,t,i,n,r;t=ft.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],i=ft.createElement("select"),r=i.appendChild(ft.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",it.getSetAttribute="t"!==t.className,it.style=/top/.test(n.getAttribute("style")),it.hrefNormalized="/a"===n.getAttribute("href"),it.checkOn=!!e.value,it.optSelected=r.selected,it.enctype=!!ft.createElement("form").enctype,i.disabled=!0,it.optDisabled=!r.disabled,e=ft.createElement("input"),e.setAttribute("value",""),it.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),it.radioValue="t"===e.value}();var wi=/\r/g;rt.fn.extend({val:function(e){var t,i,n,r=this[0];{if(arguments.length)return n=rt.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,rt(this).val()):e,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(e){return null==e?"":e+""})),t=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(wi,""):null==i?"":i)}}}),rt.extend({valHooks:{option:{get:function(e){var t=rt.find.attr(e,"value");return null!=t?t:rt.trim(rt.text(e))}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,o=s?null:[],a=s?r+1:n.length,l=0>r?a:s?r:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==r||(it.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&rt.nodeName(i.parentNode,"optgroup"))){if(t=rt(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=rt.makeArray(t),o=r.length;o--;)if(n=r[o],rt.inArray(rt.valHooks.option.get(n),s)>=0)try{n.selected=i=!0}catch(a){n.scrollHeight}else n.selected=!1;return i||(e.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(e,t){return rt.isArray(t)?e.checked=rt.inArray(rt(e).val(),t)>=0:void 0}},it.checkOn||(rt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xi,Ci,ki=rt.expr.attrHandle,Si=/^(?:checked|selected)$/i,Ei=it.getSetAttribute,Ti=it.input;rt.fn.extend({attr:function(e,t){return It(this,rt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){rt.removeAttr(this,e)})}}),rt.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===kt?rt.prop(e,t,i):(1===s&&rt.isXMLDoc(e)||(t=t.toLowerCase(),n=rt.attrHooks[t]||(rt.expr.match.bool.test(t)?Ci:xi)),void 0===i?n&&"get"in n&&null!==(r=n.get(e,t))?r:(r=rt.find.attr(e,t),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void rt.removeAttr(e,t))},removeAttr:function(e,t){var i,n,r=0,s=t&&t.match(yt);if(s&&1===e.nodeType)for(;i=s[r++];)n=rt.propFix[i]||i,rt.expr.match.bool.test(i)?Ti&&Ei||!Si.test(i)?e[n]=!1:e[rt.camelCase("default-"+i)]=e[n]=!1:rt.attr(e,i,""),e.removeAttribute(Ei?i:n)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&rt.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ci={set:function(e,t,i){return t===!1?rt.removeAttr(e,i):Ti&&Ei||!Si.test(i)?e.setAttribute(!Ei&&rt.propFix[i]||i,i):e[rt.camelCase("default-"+i)]=e[i]=!0,i}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ki[t]||rt.find.attr;ki[t]=Ti&&Ei||!Si.test(t)?function(e,t,n){var r,s;return n||(s=ki[t],ki[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,ki[t]=s),r}:function(e,t,i){return i?void 0:e[rt.camelCase("default-"+t)]?t.toLowerCase():null}}),Ti&&Ei||(rt.attrHooks.value={set:function(e,t,i){return rt.nodeName(e,"input")?void(e.defaultValue=t):xi&&xi.set(e,t,i)}}),Ei||(xi={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},ki.id=ki.name=ki.coords=function(e,t,i){var n;return i?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},rt.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:xi.set},rt.attrHooks.contenteditable={set:function(e,t,i){xi.set(e,""===t?!1:t,i)}},rt.each(["width","height"],function(e,t){rt.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),it.style||(rt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var $i=/^(?:input|select|textarea|button|object)$/i,_i=/^(?:a|area)$/i;rt.fn.extend({prop:function(e,t){return It(this,rt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=rt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,r,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!rt.isXMLDoc(e),s&&(t=rt.propFix[t]||t,r=rt.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=rt.find.attr(e,"tabindex");return t?parseInt(t,10):$i.test(e.nodeName)||_i.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||rt.each(["href","src"],function(e,t){rt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(rt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),it.enctype||(rt.propFix.enctype="encoding");var Ii=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(e){var t,i,n,r,s,o,a=0,l=this.length,d="string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).addClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(yt)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ii," "):" ")){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o=rt.trim(n),i.className!==o&&(i.className=o)}return this},removeClass:function(e){var t,i,n,r,s,o,a=0,l=this.length,d=0===arguments.length||"string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).removeClass(e.call(this,t,this.className))});if(d)for(t=(e||"").match(yt)||[];l>a;a++)if(i=this[a],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ii," "):"")){for(s=0;r=t[s++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");o=e?rt.trim(n):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(rt.isFunction(e)?function(i){rt(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,r=rt(this),s=e.match(yt)||[];t=s[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);
else(i===kt||"boolean"===i)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ii," ").indexOf(t)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){rt.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),rt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Li=rt.now(),Ai=/\?/,Ni=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,n=null,r=rt.trim(t+"");return r&&!rt.trim(r.replace(Ni,function(e,t,r,s){return i&&t&&(n=0),0===n?e:(i=r||t,n+=!s-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+t)},rt.parseXML=function(t){var i,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,i=n.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(r){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+t),i};var Di,Ri,Mi=/#.*$/,Oi=/([?&])_=[^&]*/,Fi=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Hi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pi=/^(?:GET|HEAD)$/,Bi=/^\/\//,zi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ji={},Wi={},Ui="*/".concat("*");try{Ri=location.href}catch(qi){Ri=ft.createElement("a"),Ri.href="",Ri=Ri.href}Di=zi.exec(Ri.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ri,type:"GET",isLocal:Hi.test(Di[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ui,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,rt.ajaxSettings),t):z(rt.ajaxSettings,e)},ajaxPrefilter:P(ji),ajaxTransport:P(Wi),ajax:function(e,t){function i(e,t,i,n){var r,c,v,b,w,C=t;2!==y&&(y=2,a&&clearTimeout(a),d=void 0,o=n||"",x.readyState=e>0?4:0,r=e>=200&&300>e||304===e,i&&(b=j(h,x,i)),b=W(h,b,x,r),r?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(rt.lastModified[s]=w),w=x.getResponseHeader("etag"),w&&(rt.etag[s]=w)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=b.state,c=b.data,v=b.error,r=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(t||C)+"",r?f.resolveWith(p,[c,C,x]):f.rejectWith(p,[x,C,v]),x.statusCode(g),g=void 0,l&&u.trigger(r?"ajaxSuccess":"ajaxError",[x,h,r?c:v]),m.fireWith(p,[x,C]),l&&(u.trigger("ajaxComplete",[x,h]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,s,o,a,l,d,c,h=rt.ajaxSetup({},t),p=h.context||h,u=h.context&&(p.nodeType||p.jquery)?rt(p):rt.event,f=rt.Deferred(),m=rt.Callbacks("once memory"),g=h.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=Fi.exec(o);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return y||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return d&&d.abort(t),i(0,t),this}};if(f.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||Ri)+"").replace(Mi,"").replace(Bi,Di[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=rt.trim(h.dataType||"*").toLowerCase().match(yt)||[""],null==h.crossDomain&&(n=zi.exec(h.url.toLowerCase()),h.crossDomain=!(!n||n[1]===Di[1]&&n[2]===Di[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Di[3]||("http:"===Di[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=rt.param(h.data,h.traditional)),B(ji,h,t,x),2===y)return x;l=rt.event&&h.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Pi.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(Ai.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Oi.test(s)?s.replace(Oi,"$1_="+Li++):s+(Ai.test(s)?"&":"?")+"_="+Li++)),h.ifModified&&(rt.lastModified[s]&&x.setRequestHeader("If-Modified-Since",rt.lastModified[s]),rt.etag[s]&&x.setRequestHeader("If-None-Match",rt.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ui+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)x.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===y))return x.abort();w="abort";for(r in{success:1,error:1,complete:1})x[r](h[r]);if(d=B(Wi,h,t,x)){x.readyState=1,l&&u.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},h.timeout));try{y=1,d.send(v,i)}catch(C){if(!(2>y))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return rt.get(e,t,i,"json")},getScript:function(e,t){return rt.get(e,void 0,t,"script")}}),rt.each(["get","post"],function(e,t){rt[t]=function(e,i,n,r){return rt.isFunction(i)&&(r=r||n,n=i,i=void 0),rt.ajax({url:e,type:t,dataType:r,data:i,success:n})}}),rt._evalUrl=function(e){return rt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(e){if(rt.isFunction(e))return this.each(function(t){rt(this).wrapAll(e.call(this,t))});if(this[0]){var t=rt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rt.isFunction(e)?function(t){rt(this).wrapInner(e.call(this,t))}:function(){var t=rt(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=rt.isFunction(e);return this.each(function(i){rt(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rt.css(e,"display"))},rt.expr.filters.visible=function(e){return!rt.expr.filters.hidden(e)};var Vi=/%20/g,Qi=/\[\]$/,Xi=/\r?\n/g,Ki=/^(?:submit|button|image|reset|file)$/i,Gi=/^(?:input|select|textarea|keygen)/i;rt.param=function(e,t){var i,n=[],r=function(e,t){t=rt.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(e)||e.jquery&&!rt.isPlainObject(e))rt.each(e,function(){r(this.name,this.value)});else for(i in e)U(i,e[i],t,r);return n.join("&").replace(Vi,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rt.prop(this,"elements");return e?rt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rt(this).is(":disabled")&&Gi.test(this.nodeName)&&!Ki.test(e)&&(this.checked||!Lt.test(e))}).map(function(e,t){var i=rt(this).val();return null==i?null:rt.isArray(i)?rt.map(i,function(e){return{name:t.name,value:e.replace(Xi,"\r\n")}}):{name:t.name,value:i.replace(Xi,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||V()}:q;var Yi=0,Ji={},Zi=rt.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Ji)Ji[e](void 0,!0)}),it.cors=!!Zi&&"withCredentials"in Zi,Zi=it.ajax=!!Zi,Zi&&rt.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(i,n){var r,s=e.xhr(),o=++Yi;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)void 0!==i[r]&&s.setRequestHeader(r,i[r]+"");s.send(e.hasContent&&e.data||null),t=function(i,r){var a,l,d;if(t&&(r||4===s.readyState))if(delete Ji[o],t=void 0,s.onreadystatechange=rt.noop,r)4!==s.readyState&&s.abort();else{d={},a=s.status,"string"==typeof s.responseText&&(d.text=s.responseText);try{l=s.statusText}catch(c){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=d.text?200:404}d&&n(a,l,d,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=Ji[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rt.globalEval(e),e}}}),rt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rt.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=ft.head||rt("head")[0]||ft.documentElement;return{send:function(n,r){t=ft.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||rt.expando+"_"+Li++;return this[e]=!0,e}}),rt.ajaxPrefilter("json jsonp",function(t,i,n){var r,s,o,a=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(tn,"$1"+r):t.jsonp!==!1&&(t.url+=(Ai.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||rt.error(r+" was not called"),o[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},n.always(function(){e[r]=s,t[r]&&(t.jsonpCallback=i.jsonpCallback,en.push(r)),o&&rt.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),rt.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||ft;var n=ht.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=rt.buildFragment([e],t,r),r&&r.length&&rt(r).remove(),rt.merge([],n.childNodes))};var nn=rt.fn.load;rt.fn.load=function(e,t,i){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var n,r,s,o=this,a=e.indexOf(" ");return a>=0&&(n=rt.trim(e.slice(a,e.length)),e=e.slice(0,a)),rt.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&rt.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){r=arguments,o.html(n?rt("<div>").append(rt.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){o.each(i,r||[e.responseText,t,e])}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){rt.fn[t]=function(e){return this.on(t,e)}}),rt.expr.filters.animated=function(e){return rt.grep(rt.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;rt.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,d,c=rt.css(e,"position"),h=rt(e),p={};"static"===c&&(e.style.position="relative"),a=h.offset(),s=rt.css(e,"top"),l=rt.css(e,"left"),d=("absolute"===c||"fixed"===c)&&rt.inArray("auto",[s,l])>-1,d?(n=h.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),rt.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(p.top=t.top-a.top+o),null!=t.left&&(p.left=t.left-a.left+r),"using"in t?t.using.call(e,p):h.css(p)}},rt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){rt.offset.setOffset(this,e,t)});var t,i,n={top:0,left:0},r=this[0],s=r&&r.ownerDocument;if(s)return t=s.documentElement,rt.contains(t,r)?(typeof r.getBoundingClientRect!==kt&&(n=r.getBoundingClientRect()),i=Q(s),{top:n.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===rt.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),rt.nodeName(e[0],"html")||(i=e.offset()),i.top+=rt.css(e[0],"borderTopWidth",!0),i.left+=rt.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-rt.css(n,"marginTop",!0),left:t.left-i.left-rt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!rt.nodeName(e,"html")&&"static"===rt.css(e,"position");)e=e.offsetParent;return e||rn})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);rt.fn[e]=function(n){return It(this,function(e,n,r){var s=Q(e);return void 0===r?s?t in s?s[t]:s.document.documentElement[n]:e[n]:void(s?s.scrollTo(i?rt(s).scrollLeft():r,i?r:rt(s).scrollTop()):e[n]=r)},e,n,arguments.length,null)}}),rt.each(["top","left"],function(e,t){rt.cssHooks[t]=T(it.pixelPosition,function(e,i){return i?(i=ti(e,t),ni.test(i)?rt(e).position()[t]+"px":i):void 0})}),rt.each({Height:"height",Width:"width"},function(e,t){rt.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){rt.fn[n]=function(n,r){var s=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||r===!0?"margin":"border");return It(this,function(t,i,n){var r;return rt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?rt.css(t,i,o):rt.style(t,i,n,o)},t,s?n:void 0,s,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var sn=e.jQuery,on=e.$;return rt.noConflict=function(t){return e.$===rt&&(e.$=on),t&&e.jQuery===rt&&(e.jQuery=sn),rt},typeof t===kt&&(e.jQuery=e.$=rt),rt}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i,n=e(document);e.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var i=e('meta[name="csrf-token"]').attr("content");i&&t.setRequestHeader("X-CSRF-Token",i)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),i=e("meta[name=csrf-param]").attr("content");e('form input[name="'+i+'"]').val(t)},fire:function(t,i,n){var r=e.Event(i);return t.trigger(r,n),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var r,s,o,a,l,d,c,h;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===t?null:a,d=n.data("with-credentials")||null,c=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var p=n.data("ujs:submit-button");p&&(o.push(p),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(r=n.data("method")||"get",s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(r=n.data("method"),s=i.href(n),o=n.data("params")||null);return h={type:r||"GET",data:o,dataType:c,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[e,r])?void n.trigger("ajax:send",e):!1},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:l},d&&(h.xhrFields={withCredentials:d}),s&&(h.url=s),i.ajax(h)}return!1},handleMethod:function(n){var r=i.href(n),s=n.data("method"),o=n.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),d=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+s+'" type="hidden" />';l!==t&&a!==t&&(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),o&&d.attr("target",o),d.hide().append(c).appendTo("body"),d.submit()},formElements:function(t,i){return t.is("form")?e(t[0].elements).filter(i):t.find(i)},disableFormElements:function(t){i.formElements(t,i.disableSelector).each(function(){i.disableFormElement(e(this))})},disableFormElement:function(e){var i,n;i=e.is("button")?"html":"val",n=e.data("disable-with"),e.data("ujs:enable-with",e[i]()),n!==t&&e[i](n),e.prop("disabled",!0)},enableFormElements:function(t){i.formElements(t,i.enableSelector).each(function(){i.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,n=e.data("confirm"),r=!1;return n?(i.fire(e,"confirm")&&(r=i.confirm(n),t=i.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,i,n){var r,s,o=e(),a=i||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),s=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!s==!n){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;o=o.add(r)}}),o.length?o:!1},nonBlankInputs:function(e,t){return i.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var n=e.data("disable-with");e.data("ujs:enable-with",e.html()),n!==t&&e.html(n),e.bind("click.railsDisable",function(e){return i.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||i.CSRFProtection(n)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableElement(t)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(e(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(e(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var r=e(this),s=r.data("method"),o=r.data("params"),a=n.metaKey||n.ctrlKey;if(!i.allowAction(r))return i.stopEverything(n);if(!a&&r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==t){if(a&&(!s||"GET"===s)&&!o)return!0;var l=i.handleRemote(r);return l===!1?i.enableElement(r):l.fail(function(){i.enableElement(r)}),!1}return s?(i.handleMethod(r),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var r=i.handleRemote(n);return r===!1?i.enableFormElement(n):r.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(t){var n=e(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(t)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var r,s,o=e(this),a=o.data("remote")!==t;if(!i.allowAction(o))return i.stopEverything(n);if(o.attr("novalidate")==t&&(r=i.blankInputs(o,i.requiredInputSelector),r&&i.fire(o,"ajax:aborted:required",[r])))return i.stopEverything(n);if(a){if(s=i.nonBlankInputs(o,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[s]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!i.allowAction(n))return i.stopEverything(t);var r=n.attr("name"),s=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&i.disableFormElements(e(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&i.enableFormElements(e(this))}),e(function(){i.refreshCSRFTokens()}))}(jQuery),/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t="ui-effects-",i=e;/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
return e.effects={effect:{}},function(e,t){function i(e,t,i){var n=h[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var i=d(),n=i._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var s,o=r.re.exec(t),a=o&&r.parse(o),l=r.space||"rgba";return a?(s=i[l](a),i[c[l].cache]=s[c[l].cache],n=i._rgba=s._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,s.transparent),i):s[t]}function r(e,t,i){return i=(i+1)%1,1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}var s,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],d=e.Color=function(t,i,n,r){return new e.Color.fn.parse(t,i,n,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},p=d.support={},u=e("<p>")[0],f=e.each;u.style.cssText="background-color:rgba(1,1,1,.5)",p.rgba=u.style.backgroundColor.indexOf("rgba")>-1,f(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),d.fn=e.extend(d.prototype,{parse:function(r,o,a,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(o),o=t);var h=this,p=e.type(r),u=this._rgba=[];return o!==t&&(r=[r,o,a,l],p="array"),"string"===p?this.parse(n(r)||s._default):"array"===p?(f(c.rgba.props,function(e,t){u[t.idx]=i(r[t.idx],t)}),this):"object"===p?(r instanceof d?f(c,function(e,t){r[t.cache]&&(h[t.cache]=r[t.cache].slice())}):f(c,function(t,n){var s=n.cache;f(n.props,function(e,t){if(!h[s]&&n.to){if("alpha"===e||null==r[e])return;h[s]=n.to(h._rgba)}h[s][t.idx]=i(r[e],t,!0)}),h[s]&&e.inArray(null,h[s].slice(0,3))<0&&(h[s][3]=1,n.from&&(h._rgba=n.from(h[s])))}),this):void 0},is:function(e){var t=d(e),i=!0,n=this;return f(c,function(e,r){var s,o=t[r.cache];return o&&(s=n[r.cache]||r.to&&r.to(n._rgba)||[],f(r.props,function(e,t){return null!=o[t.idx]?i=o[t.idx]===s[t.idx]:void 0})),i}),i},_space:function(){var e=[],t=this;return f(c,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=d(e),r=n._space(),s=c[r],o=0===this.alpha()?d("transparent"):this,a=o[s.cache]||s.to(o._rgba),l=a.slice();return n=n[s.cache],f(s.props,function(e,r){var s=r.idx,o=a[s],d=n[s],c=h[r.type]||{};null!==d&&(null===o?l[s]=d:(c.mod&&(d-o>c.mod/2?o+=c.mod:o-d>c.mod/2&&(o-=c.mod)),l[s]=i((d-o)*t+o,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=d(t)._rgba;return d(e.map(i,function(e,t){return(1-n)*r[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,s=e[2]/255,o=e[3],a=Math.max(n,r,s),l=Math.min(n,r,s),d=a-l,c=a+l,h=.5*c;return t=l===a?0:n===a?60*(r-s)/d+360:r===a?60*(s-n)/d+120:60*(n-r)/d+240,i=0===d?0:.5>=h?d/c:d/(2-c),[Math.round(t)%360,i,h,null==o?1:o]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],o=.5>=n?n*(1+i):n+i-n*i,a=2*n-o;return[Math.round(255*r(a,o,t+1/3)),Math.round(255*r(a,o,t)),Math.round(255*r(a,o,t-1/3)),s]},f(c,function(n,r){var s=r.props,o=r.cache,l=r.to,c=r.from;d.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===t)return this[o].slice();var r,a=e.type(n),h="array"===a||"object"===a?n:arguments,p=this[o].slice();return f(s,function(e,t){var n=h["object"===a?e:t.idx];null==n&&(n=p[t.idx]),p[t.idx]=i(n,t)}),c?(r=d(c(p)),r[o]=p,r):d(p)},f(s,function(t,i){d.fn[t]||(d.fn[t]=function(r){var s,o=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":n,d=this[l](),c=d[i.idx];return"undefined"===o?c:("function"===o&&(r=r.call(this,c),o=e.type(r)),null==r&&i.empty?this:("string"===o&&(s=a.exec(r),s&&(r=c+parseFloat(s[2])*("+"===s[1]?1:-1))),d[i.idx]=r,this[l](d)))})})}),d.hook=function(t){var i=t.split(" ");f(i,function(t,i){e.cssHooks[i]={set:function(t,r){var s,o,a="";if("transparent"!==r&&("string"!==e.type(r)||(s=n(r)))){if(r=d(s||r),!p.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&o&&o.style;)try{a=e.css(o,"backgroundColor"),o=o.parentNode}catch(l){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{t.style[i]=r}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=d(t.elem,i),t.end=d(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},d.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function t(t){var i,n,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(s[e.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(s[i]=r[i]);return s}function n(t,i){var n,r,o={};for(n in i)r=i[n],t[n]!==r&&(s[n]||(e.fx.step[n]||!isNaN(parseFloat(r)))&&(o[n]=r));return o}var r=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(i.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,s,o,a){var l=e.speed(s,o,a);return this.queue(function(){var s,o=e(this),a=o.attr("class")||"",d=l.children?o.find("*").addBack():o;d=d.map(function(){var i=e(this);return{el:i,start:t(this)}}),s=function(){e.each(r,function(e,t){i[t]&&o[t+"Class"](i[t])})},s(),d=d.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",a),d=d.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,d.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(i,n,r,s){return n?e.effects.animateClass.call(this,{add:i},n,r,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,r,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,r,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,r,s,o){return"boolean"==typeof n||void 0===n?r?e.effects.animateClass.call(this,n?{add:i}:{remove:i},r,s,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,r,s)}}(e.fn.toggleClass),switchClass:function(t,i,n,r,s){return e.effects.animateClass.call(this,{add:i,remove:t},n,r,s)}})}(),function(){function i(t,i,n,r){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(r=n,n=i,i={}),e.isFunction(n)&&(r=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=r||i.complete,t}function n(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,i){for(var n=0;n<i.length;n++)null!==i[n]&&e.data(t+i[n],e[0].style[i[n]])},restore:function(e,i){var n,r;for(r=0;r<i.length;r++)null!==i[r]&&(n=e.data(t+i[r]),void 0===n&&(n=""),e.css(i[r],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,r){return r=r||{},e.each(i,function(e,i){var s=t.cssUnit(i);s[0]>0&&(r[i]=s[0]*n+s[1])}),r}}),e.fn.extend({effect:function(){function t(t){function i(){e.isFunction(s)&&s.call(r[0]),e.isFunction(t)&&t()}var r=e(this),s=n.complete,a=n.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),i()):o.call(r[0],n,i)}var n=i.apply(this,arguments),r=n.mode,s=n.queue,o=e.effects.effect[n.effect];return e.fx.off||!o?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):s===!1?this.each(t):this.queue(s||"fx",t)},show:function(e){return function(t){if(n(t))return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(t){if(n(t))return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(t){if(n(t)||"boolean"==typeof t)return e.apply(this,arguments);var r=i.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects}),/*!
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.blind=function(t,i){var n,r,s,o=e(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,d=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(o,t.mode||"hide"),h=t.direction||"up",p=a.test(h),u=p?"height":"width",f=p?"top":"left",m=l.test(h),g={},v="show"===c;o.parent().is(".ui-effects-wrapper")?e.effects.save(o.parent(),d):e.effects.save(o,d),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r=n[u](),s=parseFloat(n.css(f))||0,g[u]=v?r:0,m||(o.css(p?"bottom":"right",0).css(p?"top":"left","auto").css({position:"absolute"}),g[f]=v?s:r+s),v&&(n.css(u,0),m||n.css(f,s+r)),n.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===c&&o.hide(),e.effects.restore(o,d),e.effects.removeWrapper(o),i()}})}}),/*!
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.bounce=function(t,i){var n,r,s,o=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"effect"),d="hide"===l,c="show"===l,h=t.direction||"up",p=t.distance,u=t.times||5,f=2*u+(c||d?1:0),m=t.duration/f,g=t.easing,v="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,y=o.queue(),w=y.length;for((c||d)&&a.push("opacity"),e.effects.save(o,a),o.show(),e.effects.createWrapper(o),p||(p=o["top"===v?"outerHeight":"outerWidth"]()/3),c&&(s={opacity:1},s[v]=0,o.css("opacity",0).css(v,b?2*-p:2*p).animate(s,m,g)),d&&(p/=Math.pow(2,u-1)),s={},s[v]=0,n=0;u>n;n++)r={},r[v]=(b?"-=":"+=")+p,o.animate(r,m,g).animate(s,m,g),p=d?2*p:p/2;d&&(r={opacity:0},r[v]=(b?"-=":"+=")+p,o.animate(r,m,g)),o.queue(function(){d&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,f+1))),o.dequeue()}}),/*!
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.clip=function(t,i){var n,r,s,o=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(o,t.mode||"hide"),d="show"===l,c=t.direction||"vertical",h="vertical"===c,p=h?"height":"width",u=h?"top":"left",f={};e.effects.save(o,a),o.show(),n=e.effects.createWrapper(o).css({overflow:"hidden"}),r="IMG"===o[0].tagName?n:o,s=r[p](),d&&(r.css(p,0),r.css(u,s/2)),f[p]=d?s:0,f[u]=d?0:s/2,r.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){d||o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),i()}})}}),/*!
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.drop=function(t,i){var n,r=e(this),s=["position","top","bottom","left","right","opacity","height","width"],o=e.effects.setMode(r,t.mode||"hide"),a="show"===o,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};e.effects.save(r,s),r.show(),e.effects.createWrapper(r),n=t.distance||r["top"===d?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(d,"pos"===c?-n:n),h[d]=(a?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),i()}})}}),/*!
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.explode=function(t,i){function n(){y.push(this),y.length===h*p&&r()}function r(){u.css({visibility:"visible"}),e(y).remove(),m||u.hide(),i()}var s,o,a,l,d,c,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,p=h,u=e(this),f=e.effects.setMode(u,t.mode||"hide"),m="show"===f,g=u.show().css("visibility","hidden").offset(),v=Math.ceil(u.outerWidth()/p),b=Math.ceil(u.outerHeight()/h),y=[];for(s=0;h>s;s++)for(l=g.top+s*b,c=s-(h-1)/2,o=0;p>o;o++)a=g.left+o*v,d=o-(p-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-s*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(m?d*v:0),top:l+(m?c*b:0),opacity:m?0:1}).animate({left:a+(m?0:d*v),top:l+(m?0:c*b),opacity:m?1:0},t.duration||500,t.easing,n)}}),/*!
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fade=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:i})}}),/*!
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.fold=function(t,i){var n,r,s=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(s,t.mode||"hide"),l="show"===a,d="hide"===a,c=t.size||15,h=/([0-9]+)%/.exec(c),p=!!t.horizFirst,u=l!==p,f=u?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(s,o),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),r=u?[n.width(),n.height()]:[n.height(),n.width()],h&&(c=parseInt(h[1],10)/100*r[d?0:1]),l&&n.css(p?{height:0,width:c}:{height:c,width:0}),g[f[0]]=l?r[0]:c,v[f[1]]=l?r[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){d&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()})}}),/*!
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.highlight=function(t,i){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(n,t.mode||"show"),o={backgroundColor:n.css("backgroundColor")};"hide"===s&&(o.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,r),i()}})}}),/*!
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.size=function(t,i){var n,r,s,o=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],d=["width","height","overflow"],c=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],p=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.effects.setMode(o,t.mode||"effect"),f=t.restore||"effect"!==u,m=t.scale||"both",g=t.origin||["middle","center"],v=o.css("position"),b=f?a:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===u&&o.show(),n={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===t.mode&&"show"===u?(o.from=t.to||y,o.to=t.from||n):(o.from=t.from||("show"===u?y:n),o.to=t.to||("hide"===u?y:n)),s={from:{y:o.from.height/n.height,x:o.from.width/n.width},to:{y:o.to.height/n.height,x:o.to.width/n.width}},("box"===m||"both"===m)&&(s.from.y!==s.to.y&&(b=b.concat(h),o.from=e.effects.setTransition(o,h,s.from.y,o.from),o.to=e.effects.setTransition(o,h,s.to.y,o.to)),s.from.x!==s.to.x&&(b=b.concat(p),o.from=e.effects.setTransition(o,p,s.from.x,o.from),o.to=e.effects.setTransition(o,p,s.to.x,o.to))),("content"===m||"both"===m)&&s.from.y!==s.to.y&&(b=b.concat(c).concat(d),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),e.effects.save(o,b),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),g&&(r=e.effects.getBaseline(g,n),o.from.top=(n.outerHeight-o.outerHeight())*r.y,o.from.left=(n.outerWidth-o.outerWidth())*r.x,o.to.top=(n.outerHeight-o.to.outerHeight)*r.y,o.to.left=(n.outerWidth-o.to.outerWidth)*r.x),o.css(o.from),("content"===m||"both"===m)&&(h=h.concat(["marginTop","marginBottom"]).concat(c),p=p.concat(["marginLeft","marginRight"]),d=a.concat(h).concat(p),o.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&e.effects.save(i,d),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=e.effects.setTransition(i,h,s.from.y,i.from),i.to=e.effects.setTransition(i,h,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=e.effects.setTransition(i,p,s.from.x,i.from),i.to=e.effects.setTransition(i,p,s.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){f&&e.effects.restore(i,d)})})),o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===u&&o.hide(),e.effects.restore(o,b),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,i){var n=parseInt(i,10),r=e?o.to.left:o.to.top;return"auto"===i?r+"px":n+r+"px"})})),e.effects.removeWrapper(o),i()}})}}),/*!
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],e):e(jQuery)}(function(e){return e.effects.effect.scale=function(t,i){var n=e(this),r=e.extend(!0,{},t),s=e.effects.setMode(n,t.mode||"effect"),o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),a=t.direction||"both",l=t.origin,d={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c={y:"horizontal"!==a?o/100:1,x:"vertical"!==a?o/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==s&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:d),r.to={height:d.height*c.y,width:d.width*c.x,outerHeight:d.outerHeight*c.y,outerWidth:d.outerWidth*c.x},r.fade&&("show"===s&&(r.from.opacity=0,r.to.opacity=1),"hide"===s&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)}}),/*!
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],e):e(jQuery)}(function(e){return e.effects.effect.puff=function(t,i){var n=e(this),r=e.effects.setMode(n,t.mode||"hide"),s="hide"===r,o=parseInt(t.percent,10)||150,a=o/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:s?o:100,from:s?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)}}),/*!
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.pulsate=function(t,i){var n,r=e(this),s=e.effects.setMode(r,t.mode||"show"),o="show"===s,a="hide"===s,l=o||"hide"===s,d=2*(t.times||5)+(l?1:0),c=t.duration/d,h=0,p=r.queue(),u=p.length;for((o||!r.is(":visible"))&&(r.css("opacity",0).show(),h=1),n=1;d>n;n++)r.animate({opacity:h},c,t.easing),h=1-h;r.animate({opacity:h},c,t.easing),r.queue(function(){a&&r.hide(),i()}),u>1&&p.splice.apply(p,[1,0].concat(p.splice(u,d+1))),r.dequeue()}}),/*!
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.shake=function(t,i){var n,r=e(this),s=["position","top","bottom","left","right","height","width"],o=e.effects.setMode(r,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,d=t.times||3,c=2*d+1,h=Math.round(t.duration/c),p="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a,f={},m={},g={},v=r.queue(),b=v.length;for(e.effects.save(r,s),r.show(),e.effects.createWrapper(r),f[p]=(u?"-=":"+=")+l,m[p]=(u?"+=":"-=")+2*l,g[p]=(u?"-=":"+=")+2*l,r.animate(f,h,t.easing),n=1;d>n;n++)r.animate(m,h,t.easing).animate(g,h,t.easing);r.animate(m,h,t.easing).animate(f,h/2,t.easing).queue(function(){"hide"===o&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,c+1))),r.dequeue()}}),/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.slide=function(t,i){var n,r=e(this),s=["position","top","bottom","left","right","width","height"],o=e.effects.setMode(r,t.mode||"show"),a="show"===o,l=t.direction||"left",d="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h={};e.effects.save(r,s),r.show(),n=t.distance||r["top"===d?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(d,c?isNaN(n)?"-"+n:-n:n),h[d]=(a?c?"+=":"-=":c?"-=":"+=")+n,r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&r.hide(),e.effects.restore(r,s),e.effects.removeWrapper(r),i()}})}}),/*!
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.transfer=function(t,i){var n=e(this),r=e(t.to),s="fixed"===r.css("position"),o=e("body"),a=s?o.scrollTop():0,l=s?o.scrollLeft():0,d=r.offset(),c={top:d.top-a,left:d.left-l,height:r.innerHeight(),width:r.innerWidth()},h=n.offset(),p=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){p.remove(),i()})}}),/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(n)}function i(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),s=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&s.toggle&&/show|hide/.test(t)&&(s.toggle=!1),r||i.data("bs.collapse",r=new n(this,s)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.4",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var s=e.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),t||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return a.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[o](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var r=e(n);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=e(this);r.attr("data-target")||n.preventDefault();var s=t(r),o=s.data("bs.collapse"),a=o?"toggle":r.data();i.call(s,a)})}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t,n){return this.each(function(){var r=e(this),s=r.data("bs.modal"),o=e.extend({},i.DEFAULTS,r.data(),"object"==typeof t&&t);s||r.data("bs.modal",s=new i(this,o)),"string"==typeof t?s[t](n):o.show&&s.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.4",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),r=n.attr("href"),s=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(s,o,this)})}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.button"),s="object"==typeof t&&t;r||n.data("bs.button",r=new i(this,s)),"toggle"==t?r.toggle():t&&r.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.4",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,r=n.is("input")?"val":"html",s=n.data();t+="Text",null==s.resetText&&n.data("resetText",n[r]()),setTimeout(e.proxy(function(){n[r](null==s[t]?this.options[t]:s[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target);n.hasClass("btn")||(n=n.closest(".btn")),t.call(n,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.affix"),s="object"==typeof t&&t;r||n.data("bs.affix",r=new i(this,s)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.4",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var r=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(null!=i&&"top"==this.affixed)return i>r?"top":!1;if("bottom"==this.affixed)return null!=i?r+this.unpin<=s.top?!1:"bottom":e-n>=r+o?!1:"bottom";var a=null==this.affixed,l=a?r:s.top,d=a?o:t;return null!=i&&i>=r?"top":null!=n&&l+d>=e-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,r=n.top,s=n.bottom,o=e(document.body).height();"object"!=typeof n&&(s=r=n),"function"==typeof r&&(r=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var a=this.getState(o,t,r,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),d=e.Event(l+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:o-t-s})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tab");r||n.data("bs.tab",r=new i(this)),"string"==typeof t&&r[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=i.find(".active:last a"),s=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(s),t.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=e(n);this.activate(t.closest("li"),i),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},i.prototype.activate=function(t,n,r){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=n.find("> .active"),a=r&&e.support.transition&&(o.length&&o.hasClass("fade")||!!n.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),o.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var r=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})}var i='[data-dismiss="alert"]',n=function(t){e(t).on("click",i,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(t){function i(){o.detach().trigger("closed.bs.alert").remove()}var r=e(this),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=e(s);t&&t.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one("bsTransitionEnd",function(){i=!0});var r=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.tooltip"),s="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.tooltip",r=new i(this,s)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},i.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},i.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?void(i.hoverState="in"):(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var r=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(a);d&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var c=this.getPosition(),h=s[0].offsetWidth,p=s[0].offsetHeight;if(d){var u=a,f=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(f);a="bottom"==a&&c.bottom+p>m.bottom?"top":"top"==a&&c.top-p<m.top?"bottom":"right"==a&&c.right+h>m.width?"left":"left"==a&&c.left-h<m.left?"right":a,s.removeClass(u).addClass(a)}var g=this.getCalculatedOffset(a,c,h,p);this.applyPlacement(g,a);var v=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(t,i){var n=this.tip(),r=n[0].offsetWidth,s=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top=t.top+o,t.left=t.left+a,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,d=n[0].offsetHeight;"top"==i&&d!=s&&(t.top=t.top+s-d);var c=this.getViewportAdjustedDelta(i,t,l,d);c.left?t.left+=c.left:t.top+=c.top;var h=/top|bottom/.test(i),p=h?2*c.left-r+l:2*c.top-s+d,u=h?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][u],h)},i.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},i.prototype.hide=function(t){function n(){"in"!=r.hoverState&&s.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,s=e(this.$tip),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(t){t=t||this.$element;var i=t[0],n="BODY"==i.tagName,r=i.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var s=n?{top:0,left:0}:t.offset(),o={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,o,a,s)},i.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},i.prototype.getViewportAdjustedDelta=function(e,t,i,n){var r={top:0,left:0};if(!this.$viewport)return r;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-s-o.scroll,l=t.top+s-o.scroll+n;a<o.top?r.top=o.top-a:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var d=t.left-s,c=t.left+s+i;d<o.left?r.left=o.left-d:c>o.width&&(r.left=o.left+o.width-c)}return r},i.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},i.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},i.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(t){var i=this;t&&(i=e(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var n=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=i,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.popover"),s="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||n.data("bs.popover",r=new i(this,s)),"string"==typeof t&&r[t]())})}var i=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.4",i.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=i,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(s).each(function(){var n=e(this),r=i(n),s={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",s)),t.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",s)))}))}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}function n(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof t&&n[t].call(i)})}var r=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.4",o.prototype.toggle=function(n){var r=e(this);if(!r.is(".disabled, :disabled")){var s=i(r),o=s.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(s.trigger(n=e.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var r=i(n),o=r.hasClass("open");if(!o&&27!=t.which||o&&27==t.which)return 27==t.which&&r.find(s).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var d=l.index(t.target);38==t.which&&d>0&&d--,40==t.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=n,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),"undefined"==typeof jQuery)throw new Error("Froala requires jQuery");!function(e){"use strict";var t=function(i,n){return this.options=e.extend({},t.DEFAULTS,e(i).data(),"object"==typeof n&&n),this.options.unsupportedAgents.test(navigator.userAgent)?!1:(this.valid_nodes=e.merge([],t.VALID_NODES),this.valid_nodes=e.merge(this.valid_nodes,e.map(Object.keys(this.options.blockTags),function(e){return e.toUpperCase()})),this.browser=t.browser(),this.disabledList=[],this._id=++t.count,this._events={},this.blurred=!0,this.$original_element=e(i),this.document=i.ownerDocument,this.window="defaultView"in this.document?this.document.defaultView:this.document.parentWindow,this.$document=e(this.document),this.$window=e(this.window),this.br=this.browser.msie&&e.Editable.getIEversion()<=10?"":"<br/>",this.init(i),void e(i).on("editable.focus",e.proxy(function(){for(var t=1;t<=e.Editable.count;t++)t!=this._id&&this.$window.trigger("blur."+t)},this)))};t.initializers=[],t.count=0,t.VALID_NODES=["P","DIV","LI","TD","TH"],t.LANGS=[],t.INVISIBLE_SPACE="&#x200b;",t.DEFAULTS={allowComments:!0,allowScript:!1,allowStyle:!1,allowedAttrs:["accept","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","background","bgcolor","border","charset","cellpadding","cellspacing","checked","cite","class","color","cols","colspan","content","contenteditable","contextmenu","controls","coords","data","data-.*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","height","hidden","high","href","hreflang","http-equiv","icon","id","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","max","maxlength","media","method","min","multiple","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","scrolling","seamless","selected","shape","size","sizes","span","src","srcdoc","srclang","srcset","start","step","summary","spellcheck","style","tabindex","target","title","type","translate","usemap","value","valign","width","wrap"],allowedTags:["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","queue","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],alwaysBlank:!1,alwaysVisible:!1,autosave:!1,autosaveInterval:1e4,beautifyCode:!0,blockTags:{n:"Normal",blockquote:"Quote",pre:"Code",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},buttons:["bold","italic","underline","strikeThrough","fontSize","fontFamily","color","sep","formatBlock","blockStyle","align","insertOrderedList","insertUnorderedList","outdent","indent","sep","createLink","insertImage","insertVideo","insertHorizontalRule","undo","redo","html"],crossDomain:!0,convertMailAddresses:!0,customButtons:{},customDropdowns:{},customText:!1,defaultTag:"P",direction:"ltr",disableRightClick:!1,editInPopup:!1,editorClass:"",formatTags:["p","pre","blockquote","h1","h2","h3","h4","h5","h6","div","ul","ol","li","table","tbody","thead","tfoot","tr","th","td","body","head","html","title","meta","link","base","script","style"],headers:{},height:"auto",icons:{},inlineMode:!0,initOnClick:!1,fullPage:!1,language:"en_us",linkList:[],linkText:!1,linkClasses:{},linkAttributes:{},linkAutoPrefix:"",maxHeight:"auto",minHeight:"auto",multiLine:!0,noFollow:!0,paragraphy:!0,placeholder:"Type something",plainPaste:!1,preloaderSrc:"",saveURL:null,saveParam:"body",saveParams:{},saveRequestType:"POST",scrollableContainer:"body",simpleAmpersand:!1,shortcuts:!0,shortcutsAvailable:["show","bold","italic","underline","createLink","insertImage","indent","outdent","html","formatBlock n","formatBlock h1","formatBlock h2","formatBlock h3","formatBlock h4","formatBlock h5","formatBlock h6","formatBlock blockquote","formatBlock pre","strikeThrough"],showNextToCursor:!1,spellcheck:!1,theme:null,toolbarFixed:!0,trackScroll:!1,unlinkButton:!0,useClasses:!0,tabSpaces:!0,typingTimer:500,pastedImagesUploadRequestType:"POST",pastedImagesUploadURL:"http://i.froala.com/upload_base64",unsupportedAgents:/Opera Mini/i,useFrTag:!1,width:"auto",withCredentials:!1,zIndex:2e3},t.prototype.destroy=function(){this.sync(),this.options.useFrTag&&this.addFrTag(),this.hide(),this.isHTML&&this.html(),this.$bttn_wrapper&&this.$bttn_wrapper.html("").removeData().remove(),this.$editor&&this.$editor.html("").removeData().remove(),this.raiseEvent("destroy"),this.$popup_editor&&this.$popup_editor.html("").removeData().remove(),this.$placeholder&&this.$placeholder.html("").removeData().remove(),clearTimeout(this.ajaxInterval),clearTimeout(this.typingTimer),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop"),this.$element.off("mousedown mouseup click keydown keyup cut copy paste focus keypress touchstart touchend touch drop","**"),this.$window.off("mouseup."+this._id),this.$window.off("keydown."+this._id),this.$window.off("keyup."+this._id),this.$window.off("blur."+this._id),this.$window.off("hide."+this._id),this.$window.off("scroll."+this._id),this.$window.off("resize."+this._id),this.$window.off("orientationchange."+this._id),this.$document.off("selectionchange."+this._id),this.$original_element.off("editable"),void 0!==this.$upload_frame&&this.$upload_frame.remove(),this.$textarea&&(this.$box.remove(),this.$textarea.removeData("fa.editable"),this.$textarea.show());for(var e in this._events)delete this._events[e];this.$placeholder&&this.$placeholder.remove(),this.isLink?this.$element.removeData("fa.editable"):(this.$wrapper?this.$wrapper.replaceWith(this.getHTML(!1,!1)):this.$element.replaceWith(this.getHTML(!1,!1)),this.$box&&!this.editableDisabled&&(this.$box.removeClass("froala-box f-rtl"),this.$box.find(".html-switch").remove(),this.$box.removeData("fa.editable"),clearTimeout(this.typingTimer))),this.$lb&&this.$lb.remove()},t.prototype.triggerEvent=function(t,i,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1),n===!0&&(this.isResizing()||this.editableDisabled||this.imageMode||!r||this.cleanify(),this.sync());var s=!0;return i||(i=[]),s=this.$original_element.triggerHandler("editable."+t,e.merge([this],i)),void 0===s?!0:s},t.prototype.syncStyle=function(){if(this.options.fullPage){var e=this.$element.html().match(/\[style[^\]]*\].*\[\/style\]/gi);if(this.$document.find("head style[data-id]").remove(),e)for(var t=0;t<e.length;t++)this.$document.find("head").append(e[t].replace(/\[/gi,"<").replace(/\]/gi,">"))}},t.prototype.sync=function(){if(!this.isHTML){this.raiseEvent("sync"),this.disableImageResize(),this.isLink||this.isImage||this.checkPlaceholder();var e=this.getHTML();this.trackHTML!==e&&null!=this.trackHTML?(this.refreshImageList(),this.refreshButtons(),this.trackHTML=e,this.$textarea&&this.$textarea.val(e),this.doingRedo||this.saveUndoStep(),this.triggerEvent("contentChanged",[],!1)):null==this.trackHTML&&(this.trackHTML=e),this.syncStyle()}},t.prototype.emptyElement=function(t){if("IMG"==t.tagName||e(t).find("img").length>0)return!1;if(e(t).find("input, iframe, object").length>0)return!1;for(var i=e(t).text(),n=0;n<i.length;n++)if("\n"!==i[n]&&"\r"!==i[n]&&"	"!==i[n]&&8203!=i[n].charCodeAt(0))return!1;return!0},t.prototype.initEvents=function(){this.mobile()?(this.mousedown="touchstart",this.mouseup="touchend",this.move="touchmove"):(this.mousedown="mousedown",this.mouseup="mouseup",this.move="")},t.prototype.initDisable=function(){this.$element.on("keypress keydown keyup",e.proxy(function(e){return this.isDisabled?(e.stopPropagation(),e.preventDefault(),!1):void 0},this))},t.prototype.continueInit=function(){this.initDisable(),this.initEvents(),this.browserFixes(),this.handleEnter(),this.editableDisabled||(this.initUndoRedo(),this.enableTyping(),this.initShortcuts()),this.initTabs(),this.initEditor();for(var t=0;t<e.Editable.initializers.length;t++)e.Editable.initializers[t].call(this);this.initOptions(),this.initEditorSelection(),this.initAjaxSaver(),this.setLanguage(),this.setCustomText(),this.editableDisabled||this.registerPaste(),this.refreshDisabledState(),this.refreshUndo(),this.refreshRedo(),this.initPopupSubmit(),this.initialized=!0,this.triggerEvent("initialized",[],!1,!1)},t.prototype.initPopupSubmit=function(){this.$popup_editor.find(".froala-popup input").keydown(function(t){var i=t.which;13==i&&(t.preventDefault(),t.stopPropagation(),e(this).blur(),e(this).parents(".froala-popup").find("button.f-submit").click())})},t.prototype.lateInit=function(){this.saveSelectionByMarkers(),this.continueInit(),this.restoreSelectionByMarkers(),this.$element.focus(),this.hideOtherEditors()},t.prototype.init=function(t){this.options.paragraphy||(this.options.defaultTag="DIV"),this.options.allowStyle&&this.setAllowStyle(),this.options.allowScript&&this.setAllowScript(),this.initElement(t),this.initElementStyle(),(!this.isLink||this.isImage)&&(this.initImageEvents(),this.buildImageMove()),this.options.initOnClick?(this.editableDisabled||(this.$element.attr("contenteditable",!0),this.$element.attr("spellcheck",!1)),this.$element.bind("mousedown.element focus.element",e.proxy(function(e){return this.isLink||e.stopPropagation(),this.isDisabled?!1:(this.$element.unbind("mousedown.element focus.element"),this.browser.webkit&&(this.initMouseUp=!1),void this.lateInit())},this))):this.continueInit()},t.prototype.phone=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},t.prototype.mobile=function(){return this.phone()||this.android()||this.iOS()||this.blackberry()},t.prototype.iOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},t.prototype.iOSVersion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),t=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)];if(t&&t[0])return t[0]}return 0},t.prototype.iPad=function(){return/(iPad)/g.test(navigator.userAgent)},t.prototype.iPhone=function(){return/(iPhone)/g.test(navigator.userAgent)},t.prototype.iPod=function(){return/(iPod)/g.test(navigator.userAgent)},t.prototype.android=function(){return/(Android)/g.test(navigator.userAgent)},t.prototype.blackberry=function(){return/(Blackberry)/g.test(navigator.userAgent)},t.prototype.initOnTextarea=function(t){this.$textarea=e(t),void 0!==this.$textarea.attr("placeholder")&&"Type something"==this.options.placeholder&&(this.options.placeholder=this.$textarea.attr("placeholder")),this.$element=e("<div>").html(this.clean(this.$textarea.val(),!0,!1)),this.$element.find("pre br").replaceWith("\n"),this.$textarea.before(this.$element).hide(),this.$textarea.parents("form").bind("submit",e.proxy(function(){this.isHTML?this.html():this.sync()},this)),this.addListener("destroy",e.proxy(function(){this.$textarea.parents("form").unbind("submit")},this))},t.prototype.initOnLink=function(t){this.isLink=!0,this.options.linkText=!0,this.selectionDisabled=!0,this.editableDisabled=!0,this.options.buttons=[],this.$element=e(t),this.options.paragraphy=!1,this.options.countCharacters=!1,this.$box=this.$element},t.prototype.initOnImage=function(t){var i=e(t).css("float");"A"==e(t).parent().get(0).tagName&&(t=e(t).parent()),this.isImage=!0,this.editableDisabled=!0,this.imageList=[],this.options.buttons=[],this.options.paragraphy=!1,this.options.imageMargin="auto",e(t).wrap("<div>"),this.$element=e(t).parent(),this.$element.css("display","inline-block"),this.$element.css("max-width","100%"),this.$element.css("margin-left","auto"),this.$element.css("margin-right","auto"),this.$element.css("float",i),this.$element.addClass("f-image"),this.$box=e(t)},t.prototype.initForPopup=function(t){this.$element=e(t),this.$box=this.$element,this.editableDisabled=!0,this.options.countCharacters=!1,this.options.buttons=[],this.$element.on("click",e.proxy(function(e){e.preventDefault()},this))},t.prototype.initOnDefault=function(t){"DIV"!=t.tagName&&this.options.buttons.indexOf("formatBlock")>=0&&this.disabledList.push("formatBlock"),this.$element=e(t)},t.prototype.initElement=function(t){if("TEXTAREA"==t.tagName?this.initOnTextarea(t):"A"==t.tagName?this.initOnLink(t):"IMG"==t.tagName?this.initOnImage(t):this.options.editInPopup?this.initForPopup(t):this.initOnDefault(t),!this.editableDisabled){this.$box=this.$element.addClass("froala-box"),this.$wrapper=e('<div class="froala-wrapper">'),this.$element=e("<div>");var i=this.$box.html();this.$box.html(this.$wrapper.html(this.$element)),this.$element.on("keyup",e.proxy(function(){this.$element.find("ul, ol").length>1&&this.cleanupLists()},this)),this.setHTML(i,!0)}this.$element.on("drop",e.proxy(function(){setTimeout(e.proxy(function(){e("html").click(),this.$element.find(".f-img-wrap").each(function(t,i){0===e(i).find("img").length&&e(i).remove()}),this.$element.find(this.options.defaultTag+":empty").remove()},this),1)},this))},t.prototype.trim=function(e){return e=String(e).replace(/^\s+|\s+$/g,""),e=e.replace(/\u200B/gi,"")},t.prototype.unwrapText=function(){this.options.paragraphy||this.$element.find(this.options.defaultTag).each(e.proxy(function(t,i){if(0===i.attributes.length){var n=e(i).find("br:last");e(i).replaceWith(n.length&&this.isLastSibling(n.get(0))?e(i).html():e(i).html()+"<br/>")}},this))},t.prototype.wrapTextInElement=function(t,i){void 0===i&&(i=!1);var n=[],r=["SPAN","A","B","I","EM","U","S","STRONG","STRIKE","FONT","IMG","SUB","SUP","BUTTON","INPUT"],s=this;this.no_verify=!0;var o=function(){if(0===n.length)return!1;var t=e("<"+s.options.defaultTag+">"),i=e(n[0]);if(1==n.length&&"f-marker"==i.attr("class"))return void(n=[]);for(var r=0;r<n.length;r++){var o=e(n[r]);t.append(o.clone()),r==n.length-1?o.replaceWith(t):o.remove()}n=[]},a=!1,l=!1,d=!1;t.contents().filter(function(){var t=e(this);if(t.hasClass("f-marker")||t.find(".f-marker").length){var c=t;if(1==t.find(".f-marker").length||t.hasClass("f-marker")){c=t.find(".f-marker").length?e(t.find(".f-marker")[0]):t;var h=c.prev();"true"===c.attr("data-type")?h.length&&e(h[0]).hasClass("f-marker")?d=!0:(a=!0,l=!1):l=!0}else d=!0}this.nodeType==Node.TEXT_NODE&&t.text().length>0||r.indexOf(this.tagName)>=0?n.push(this):this.nodeType==Node.TEXT_NODE&&0===t.text().length&&s.options.beautifyCode?t.remove():a||i||d?("BR"===this.tagName&&(n.length>0?t.remove():n.push(this)),o(),l&&(a=!1),d=!1):n=[]}),(a||i||d)&&o(),t.find("> "+this.options.defaultTag).each(function(t,i){0===e(i).text().trim().length&&0===e(i).find("img").length&&0===e(i).find("br").length&&e(i).append(this.br)}),t.find("div:empty:not([class])").remove(),t.is(":empty")&&t.append(s.options.paragraphy===!0?"<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">":this.br),this.no_verify=!1},t.prototype.wrapText=function(t){if(this.isImage||this.isLink)return!1;this.allow_div=!0,this.removeBlankSpans();for(var i=this.getSelectionElements(),n=0;n<i.length;n++){var r=e(i[n]);["LI","TH","TD"].indexOf(r.get(0).tagName)>=0?this.wrapTextInElement(r,!0):this.parents(r,"li").length?this.wrapTextInElement(e(this.parents(r,"li")[0]),t):this.wrapTextInElement(this.$element,t)}this.allow_div=!1},t.prototype.convertNewLines=function(){this.$element.find("pre").each(function(t,i){var n=e(i),r=e(i).html();r.indexOf("\n")>=0&&n.html(r.replace(/\n/g,"<br>"))})},t.prototype.setHTML=function(t,i){this.no_verify=!0,this.allow_div=!0,void 0===i&&(i=!0),t=this.clean(t,!0,!1),t=t.replace(/>\s+</g,"><"),this.$element.html(t),this.cleanAttrs(this.$element.get(0)),this.convertNewLines(),this.imageList=[],this.refreshImageList(),this.options.paragraphy&&this.wrapText(!0),this.$element.find("li:empty").append(e.Editable.INVISIBLE_SPACE),this.cleanupLists(),this.cleanify(!1,!0,!1),i&&(this.restoreSelectionByMarkers(),this.sync()),this.$element.find("span").attr("data-fr-verified",!0),this.initialized&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.no_verify=!1,this.allow_div=!1},t.prototype.beforePaste=function(){this.saveSelectionByMarkers(),this.clipboardHTML=null,this.scrollPosition=this.$window.scrollTop(),this.$pasteDiv?this.$pasteDiv.html(""):(this.$pasteDiv=e('<div contenteditable="true" style="position: fixed; top: 0; left: -9999px; height: 100%; width: 0; z-index: 4000; line-height: 140%;" tabindex="-1"></div>'),this.$box.after(this.$pasteDiv)),this.$pasteDiv.focus(),this.window.setTimeout(e.proxy(this.processPaste,this),1)},t.prototype.processPaste=function(){var i=this.clipboardHTML;null===this.clipboardHTML&&(i=this.$pasteDiv.html(),this.restoreSelectionByMarkers(),this.$window.scrollTop(this.scrollPosition));var n,r=this.triggerEvent("onPaste",[i],!1);"string"==typeof r&&(i=r),i=i.replace(/<img /gi,'<img data-fr-image-pasted="true" '),i.match(/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/gi)?(n=this.wordClean(i),n=this.clean(e("<div>").append(n).html(),!1,!0),n=this.removeEmptyTags(n)):(n=this.clean(i,!1,!0),n=this.removeEmptyTags(n),t.copiedText&&e("<div>").html(n).text().replace(/\u00A0/gi," ")==t.copiedText.replace(/(\u00A0|\r|\n)/gi," ")&&(n=t.copiedHTML)),this.options.plainPaste&&(n=this.plainPasteClean(n)),r=this.triggerEvent("afterPasteCleanup",[n],!1),"string"==typeof r&&(n=r),""!==n&&(this.insertHTML(n,!0,!0),this.saveSelectionByMarkers(),this.removeBlankSpans(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove(),this.restoreSelectionByMarkers(),this.$element.find("li[data-indent]").each(e.proxy(function(t,i){this.indentLi?(e(i).removeAttr("data-indent"),this.indentLi(e(i))):e(i).removeAttr("data-indent")},this)),this.$element.find("li").each(e.proxy(function(t,i){this.wrapTextInElement(e(i),!0)},this)),this.options.paragraphy&&this.wrapText(!0),this.cleanupLists()),this.afterPaste()},t.prototype.afterPaste=function(){this.uploadPastedImages(),this.checkPlaceholder(),this.pasting=!1,this.triggerEvent("afterPaste",[],!0,!1)},t.prototype.getSelectedHTML=function(){function t(t,n){for(;3==n.nodeType||i.valid_nodes.indexOf(n.tagName)<0;)3!=n.nodeType&&e(t).wrapInner("<"+n.tagName+i.attrs(n)+"></"+n.tagName+">"),n=n.parentNode}var i=this,n="";if("undefined"!=typeof window.getSelection)for(var r=this.getRanges(),s=0;s<r.length;s++){var o=document.createElement("div");o.appendChild(r[s].cloneContents()),t(o,this.getSelectionParent()),n+=o.innerHTML}else"undefined"!=typeof document.selection&&"Text"==document.selection.type&&(n=document.selection.createRange().htmlText);return n},t.prototype.registerPaste=function(){this.$element.on("copy cut",e.proxy(function(){this.isHTML||(t.copiedHTML=this.getSelectedHTML(),t.copiedText=e("<div>").html(t.copiedHTML).text())},this)),this.$element.on("paste",e.proxy(function(t){if(!this.isHTML){if(t.originalEvent&&(t=t.originalEvent),!this.triggerEvent("beforePaste",[],!1))return!1;if(this.clipboardPaste(t))return!1;this.clipboardHTML="",this.pasting=!0,this.scrollPosition=this.$window.scrollTop();var i=!1;if(t&&t.clipboardData&&t.clipboardData.getData){var n="",r=t.clipboardData.types;if(e.Editable.isArray(r))for(var s=0;s<r.length;s++)n+=r[s]+";";else n=r;if(/text\/html/.test(n)?this.clipboardHTML=t.clipboardData.getData("text/html"):/text\/rtf/.test(n)&&this.browser.safari?this.clipboardHTML=t.clipboardData.getData("text/rtf"):/text\/plain/.test(n)&&!this.browser.mozilla&&(this.clipboardHTML=this.escapeEntities(t.clipboardData.getData("text/plain")).replace(/\n/g,"<br/>")),""!==this.clipboardHTML?i=!0:this.clipboardHTML=null,i)return this.processPaste(),t.preventDefault&&(t.stopPropagation(),t.preventDefault()),!1}this.beforePaste()}},this))},t.prototype.clipboardPaste=function(t){if(t&&t.clipboardData&&t.clipboardData.items&&t.clipboardData.items[0]){var i=t.clipboardData.items[0].getAsFile();if(i){var n=new FileReader;return n.onload=e.proxy(function(e){var t=e.target.result;this.insertHTML('<img data-fr-image-pasted="true" src="'+t+'" />'),this.afterPaste()},this),n.readAsDataURL(i),!0}}return!1},t.prototype.uploadPastedImages=function(){this.options.pasteImage?this.options.imageUpload&&this.$element.find("img[data-fr-image-pasted]").each(e.proxy(function(t,i){if(0===i.src.indexOf("data:")){if(this.options.defaultImageWidth&&e(i).attr("width",this.options.defaultImageWidth),this.options.pastedImagesUploadURL){if(!this.triggerEvent("beforeUploadPastedImage",[i],!1))return!1;setTimeout(e.proxy(function(){this.showImageLoader(),this.$progress_bar.find("span").css("width","100%").text("Please wait!"),this.showByCoordinates(e(i).offset().left+e(i).width()/2,e(i).offset().top+e(i).height()+10),this.isDisabled=!0},this),10),e.ajax({type:this.options.pastedImagesUploadRequestType,url:this.options.pastedImagesUploadURL,data:e.extend({image:decodeURIComponent(i.src)},this.options.imageUploadParams),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers,dataType:"json"}).done(e.proxy(function(t){try{if(t.link){var n=new Image;n.onerror=e.proxy(function(){e(i).remove(),this.hide(),this.throwImageError(1)},this),n.onload=e.proxy(function(){i.src=t.link,this.hideImageLoader(),this.hide(),this.enable(),setTimeout(function(){e(i).trigger("touchend")},50),this.triggerEvent("afterUploadPastedImage",[e(i)])},this),n.src=t.link}else t.error?(e(i).remove(),this.hide(),this.throwImageErrorWithMessage(t.error)):(e(i).remove(),this.hide(),this.throwImageError(2))}catch(r){e(i).remove(),this.hide(),this.throwImageError(4)}},this)).fail(e.proxy(function(){e(i).remove(),this.hide(),this.throwImageError(3)},this))}}else 0!==i.src.indexOf("http")&&e(i).remove();e(i).removeAttr("data-fr-image-pasted")},this)):this.$element.find("img[data-fr-image-pasted]").remove()},t.prototype.disable=function(){this.isDisabled=!0,this.$element.blur(),this.$box.addClass("fr-disabled"),this.$element.attr("contenteditable",!1)},t.prototype.enable=function(){this.isDisabled=!1,this.$box.removeClass("fr-disabled"),this.$element.attr("contenteditable",!0)},t.prototype.wordClean=function(e){e.indexOf("<body")>=0&&(e=e.replace(/[.\s\S\w\W<>]*<body[^>]*>([.\s\S\w\W<>]*)<\/body>[.\s\S\w\W<>]*/g,"$1")),e=e.replace(/<p(.*?)class="?'?MsoListParagraph"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li>$3</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedText"?'? ([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li>$3</li></ol>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ul><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpFirst"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<ol><li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpMiddle"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li>"),e=e.replace(/<p(.*?)class="?'?MsoListParagraphCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ul>"),e=e.replace(/<p(.*?)class="?'?NumberedTextCxSpLast"?'?([\s\S]*?)(level\d)?([\s\S]*?)>([\s\S]*?)<\/p>/gi,"<li$3>$5</li></ol>"),e=e.replace(/<span([^<]*?)style="?'?mso-list:Ignore"?'?([\s\S]*?)>([\s\S]*?)<span/gi,"<span><span"),e=e.replace(/<!--\[if \!supportLists\]-->([\s\S]*?)<!--\[endif\]-->/gi,""),e=e.replace(/<!\[if \!supportLists\]>([\s\S]*?)<!\[endif\]>/gi,""),e=e.replace(/(\n|\r| class=(")?Mso[a-zA-Z0-9]+(")?)/gi," "),e=e.replace(/<!--[\s\S]*?-->/gi,""),e=e.replace(/<(\/)*(meta|link|span|\\?xml:|st1:|o:|font)(.*?)>/gi,"");for(var t=["style","script","applet","embed","noframes","noscript"],i=0;i<t.length;i++){var n=new RegExp("<"+t[i]+".*?"+t[i]+"(.*?)>","gi");e=e.replace(n,"")}e=e.replace(/&nbsp;/gi," ");var r;do r=e,e=e.replace(/<[^\/>][^>]*><\/[^>]+>/gi,"");while(e!=r);return e=e.replace(/<lilevel([^1])([^>]*)>/gi,'<li data-indent="true"$2>'),e=e.replace(/<lilevel1([^>]*)>/gi,"<li$1>"),e=this.clean(e),e=e.replace(/<a>(.[^<]+)<\/a>/gi,"$1")},t.prototype.tabs=function(e){for(var t="",i=0;e>i;i++)t+="  ";return t},t.prototype.cleanTags=function(e,t){void 0===t&&(t=!1);var i,n,r,s,o=[],a=[],l=!1,d=!1,c=this.options.formatTags;for(n=0;n<e.length;n++)if(i=e.charAt(n),"<"==i){var h=e.indexOf(">",n+1);if(-1!==h){var p=e.substring(n,h+1),u=this.tagName(p);if(0===u.indexOf("!--")&&(h=e.indexOf("-->",n+1),-1!==h)){p=e.substring(n,h+3),a.push(p),n=h+2;continue}if(0===u.indexOf("!")&&a.length&&a[a.length-1]!=p){a.push(p),n=h;continue}if("head"==u&&this.options.fullPage&&(d=!0),d){a.push(p),n=h,"head"==u&&this.isClosingTag(p)&&(d=!1);continue}if(this.options.allowedTags.indexOf(u)<0&&(!this.options.fullPage||["html","head","body","!doctype"].indexOf(u)<0)){n=h;continue}var f=this.isClosingTag(p);if("pre"===u&&(l=f?!1:!0),this.isSelfClosingTag(p))a.push("br"===u&&l?"\n":p);else if(f)for(r=!1,s=!0;r===!1&&void 0!==s;)s=o.pop(),void 0!==s&&s.tag_name!==u?a.splice(s.i,1):(r=!0,void 0!==s&&a.push(p));else a.push(p),o.push({tag_name:u,i:a.length-1});n=h}}else"\n"===i&&this.options.beautifyCode?t&&l?a.push("<br/>"):l?a.push(i):o.length>0&&a.push(" "):9!=i.charCodeAt(0)&&a.push(i);for(;o.length>0;)s=o.pop(),a.splice(s.i,1);var m="\n";this.options.beautifyCode||(m=""),e="",o=0;var g=!0;for(n=0;n<a.length;n++)1==a[n].length?g&&" "===a[n]||(e+=a[n],g=!1):c.indexOf(this.tagName(a[n]).toLowerCase())<0?(e+=a[n],"br"==this.tagName(a[n])&&(e+=m)):this.isSelfClosingTag(a[n])?c.indexOf(this.tagName(a[n]).toLowerCase())>=0?(e+=this.tabs(o)+a[n]+m,g=!1):e+=a[n]:this.isClosingTag(a[n])?(o-=1,0===o&&(g=!0),e.length>0&&e[e.length-1]==m&&(e+=this.tabs(o)),e+=a[n]+m):(e+=m+this.tabs(o)+a[n],o+=1,g=!1);return e[0]==m&&(e=e.substring(1,e.length)),e[e.length-1]==m&&(e=e.substring(0,e.length-1)),e},t.prototype.cleanupLists=function(){this.$element.find("ul, ol").each(e.proxy(function(t,i){var n=e(i);if(this.parents(e(i),"ul, ol").length>0)return!0;if(n.find(".close-ul, .open-ul, .close-ol, .open-ol, .open-li, .close-li").length>0){var r="<"+i.tagName.toLowerCase()+">"+n.html()+"</"+i.tagName.toLowerCase()+">";r=r.replace(new RegExp('<span class="close-ul" data-fr-verified="true"></span>',"g"),"</ul>"),r=r.replace(new RegExp('<span class="open-ul" data-fr-verified="true"></span>',"g"),"<ul>"),r=r.replace(new RegExp('<span class="close-ol" data-fr-verified="true"></span>',"g"),"</ol>"),r=r.replace(new RegExp('<span class="open-ol" data-fr-verified="true"></span>',"g"),"<ol>"),r=r.replace(new RegExp('<span class="close-li" data-fr-verified="true"></span>',"g"),"</li>"),r=r.replace(new RegExp('<span class="open-li" data-fr-verified="true"></span>',"g"),"<li>"),r=r.replace(new RegExp("<li></li>","g"),""),n.replaceWith(r)}},this)),this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(e.Editable.INVISIBLE_SPACE),this.$element.find(" > li").wrap("<ul>"),this.$element.find("ul, ol").each(e.proxy(function(t,i){var n=e(i);0===n.find(this.valid_nodes.join(",")).length&&n.remove()},this)),this.$element.find("li > ul, li > ol").each(e.proxy(function(t,i){var n=e(i).parent().get(0).previousSibling;this.isFirstSibling(i)&&(n&&"LI"==n.tagName?e(n).append(e(i)):e(i).before("<br/>"))},this)),this.$element.find("li:empty").remove();for(var t=this.$element.find("ol + ol, ul + ul"),i=0;i<t.length;i++){var n=e(t[i]);this.attrs(t[i])==this.attrs(n.prev().get(0))&&(n.prev().append(n.html()),n.remove())}this.$element.find("li > td").remove(),this.$element.find("li td:empty").append(e.Editable.INVISIBLE_SPACE),this.$element.find("li > "+this.options.defaultTag).each(function(t,i){0===i.attributes.length&&e(i).replaceWith(e(i).html())})},t.prototype.escapeEntities=function(e){return e.replace(/</gi,"&lt;").replace(/>/gi,"&gt;").replace(/"/gi,"&quot;").replace(/'/gi,"&apos;")},t.prototype.cleanNodeAttrs=function(e,t){var i=e.attributes;if(i)for(var n=new RegExp("^"+t.join("$|^")+"$","i"),r=0;r<i.length;r++){var s=i[r];
n.test(s.nodeName)?e.setAttribute(s.nodeName,s.nodeValue.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")):e.removeAttribute(s.nodeName)}},t.prototype.cleanAttrs=function(e){1==e.nodeType&&e.className.indexOf("f-marker")<0&&e!==this.$element.get(0)&&"IFRAME"!=e.tagName&&this.cleanNodeAttrs(e,this.options.allowedAttrs,!0);for(var t=e.childNodes,i=0;i<t.length;i++)this.cleanAttrs(t[i])},t.prototype.clean=function(i,n,r,s,o){this.pasting&&t.copiedText===e("<div>").html(i).text()&&(r=!1,n=!0),o||(o=e.merge([],this.options.allowedAttrs)),s||(s=e.merge([],this.options.allowedTags)),n||o.indexOf("id")>-1&&o.splice(o.indexOf("id"),1),this.options.fullPage&&(i=i.replace(/<!DOCTYPE([^>]*?)>/i,"<!-- DOCTYPE$1 -->"),i=i.replace(/<html([^>]*?)>/i,"<!-- html$1 -->"),i=i.replace(/<\/html([^>]*?)>/i,"<!-- /html$1 -->"),i=i.replace(/<body([^>]*?)>/i,"<!-- body$1 -->"),i=i.replace(/<\/body([^>]*?)>/i,"<!-- /body$1 -->"),i=i.replace(/<head>([\w\W]*)<\/head>/i,function(e,t){var i=1;return t=t.replace(/(<style)/gi,function(e,t){return t+" data-id="+i++}),"<!-- head "+t.replace(/(>)([\s|\t]*)(<)/gi,"$1$3").replace(/</gi,"[").replace(/>/gi,"]")+" -->"})),this.options.allowComments?(this.options.allowedTags.push("!--"),this.options.allowedTags.push("!")):i=i.replace(/(<!--[.\s\w\W]*?-->)/gi,""),this.options.allowScript||(i=i.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")),this.options.allowStyle||(i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(e,t){return"<!--"+t.replace(/</g,"[[").replace(/>/g,"]]")+"-->"});var a=new RegExp("<\\/?((?!(?:"+s.join(" |")+" |"+s.join(">|")+">|"+s.join("/>|")+"/>))\\w+)[^>]*?>","gi");if(i=i.replace(a,""),i=i.replace(/<!--([.\s\w\W]*?)-->/gi,function(e,t){return"<!--"+t.replace(/\[\[/g,"<").replace(/\]\]/g,">")+"-->"}),r){var l=new RegExp("style=(\"[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/'%]*\"|'[a-zA-Z0-9:;\\.\\s\\(\\)\\-\\,!\\/\"%]*')","gi");i=i.replace(l,""),i=i.replace(/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,"")}i=this.cleanTags(i,!0),i=i.replace(/(\r|\n)/gi,"");var d=new RegExp("<([^>]*)( src| href)=('[^']*'|\"[^\"]*\"|[^\\s>]+)([^>]*)>","gi");if(i=i.replace(d,e.proxy(function(e,t,i,n,r){return"<"+t+i+'="'+this.sanitizeURL(n.replace(/^["'](.*)["']\/?$/gi,"$1"))+'"'+r+">"},this)),!n){var c=e("<div>").append(i);c.find('[class]:not([class^="fr-"])').each(function(t,i){e(i).removeAttr("class")}),i=c.html()}return i},t.prototype.removeBlankSpans=function(){this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),this.$element.find("span").each(e.proxy(function(t,i){0===this.attrs(i).length&&e(i).replaceWith(e(i).html())},this)),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1},t.prototype.plainPasteClean=function(t){var i=e("<div>").html(t);i.find("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote").each(e.proxy(function(t,i){e(i).replaceWith("<"+this.options.defaultTag+">"+e(i).html()+"</"+this.options.defaultTag+">")},this)),e(i.find("*").not("p, div, h1, h2, h3, h4, h5, h6, pre, blockquote, ul, ol, li, table, tbody, thead, tr, td, br").get().reverse()).each(function(){e(this).replaceWith(e(this).html())});var n=function(t){for(var i=t.contents(),r=0;r<i.length;r++)3!=i[r].nodeType&&1!=i[r].nodeType?e(i[r]).remove():n(e(i[r]))};return n(i),i.html()},t.prototype.removeEmptyTags=function(t){for(var i,n=e("<div>").html(t),r=n.find("*:empty:not(br, img, td, th)");r.length;){for(i=0;i<r.length;i++)e(r[i]).remove();r=n.find("*:empty:not(br, img, td, th)")}for(var s=n.find("> div, td > div, th > div, li > div");s.length;){var o=e(s[s.length-1]);o.replaceWith(o.html()+"<br/>"),s=n.find("> div, td > div, th > div, li > div")}for(s=n.find("div");s.length;){for(i=0;i<s.length;i++){var a=e(s[i]),l=a.html().replace(/\u0009/gi,"").trim();a.replaceWith(l)}s=n.find("div")}return n.html()},t.prototype.initElementStyle=function(){this.editableDisabled||this.$element.attr("contenteditable",!0);var e="froala-view froala-element "+this.options.editorClass;this.browser.msie&&t.getIEversion()<9&&(e+=" ie8"),this.$element.css("outline",0),this.browser.msie||(e+=" not-msie"),this.$element.addClass(e)},t.prototype.CJKclean=function(e){var t=/[\u3041-\u3096\u30A0-\u30FF\u4E00-\u9FFF\u3130-\u318F\uAC00-\uD7AF]/gi;return e.replace(t,"")},t.prototype.enableTyping=function(){this.typingTimer=null,this.$element.on("keydown","textarea, input",function(e){e.stopPropagation()}),this.$element.on("keydown cut",e.proxy(function(t){if(!this.isHTML){if(!this.options.multiLine&&13==t.which)return t.preventDefault(),t.stopPropagation(),!1;if("keydown"===t.type&&!this.triggerEvent("keydown",[t],!1))return!1;clearTimeout(this.typingTimer),this.ajaxSave=!1,this.oldHTML=this.getHTML(!0,!1),this.typingTimer=setTimeout(e.proxy(function(){var e=this.getHTML(!0,!1);this.ime||this.CJKclean(e)===this.CJKclean(this.oldHTML)||this.CJKclean(e)!==e||this.sync()},this),Math.max(this.options.typingTimer,500))}},this))},t.prototype.removeMarkersByRegex=function(e){return e.replace(/<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>([\S\s][^\/])*<\/span>/gi,"")},t.prototype.getImageHTML=function(){return JSON.stringify({src:this.$element.find("img").attr("src"),style:this.$element.find("img").attr("style"),alt:this.$element.find("img").attr("alt"),width:this.$element.find("img").attr("width"),link:this.$element.find("a").attr("href"),link_title:this.$element.find("a").attr("title"),link_target:this.$element.find("a").attr("target")})},t.prototype.getLinkHTML=function(){return JSON.stringify({body:this.$element.html(),href:this.$element.attr("href"),title:this.$element.attr("title"),popout:this.$element.hasClass("popout"),nofollow:"nofollow"==this.$element.attr("ref"),blank:"_blank"==this.$element.attr("target"),cls:this.$element.attr("class")?this.$element.attr("class").replace(/froala-element ?|not-msie ?|froala-view ?/gi,"").trim():""})},t.prototype.addFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").addClass("fr-tag")},t.prototype.removeFrTag=function(){this.$element.find(this.valid_nodes.join(",")+", table, ul, ol, img").removeClass("fr-tag")},t.prototype.getHTML=function(t,i,n){if(void 0===t&&(t=!1),void 0===i&&(i=this.options.useFrTag),void 0===n&&(n=!0),this.$element.hasClass("f-placeholder")&&!t)return"";if(this.isHTML)return this.$html_area.val();if(this.isImage)return this.getImageHTML();if(this.isLink)return this.getLinkHTML();this.$element.find("a").data("fr-link",!0),i&&this.addFrTag(),this.$element.find(".f-img-editor > img").each(e.proxy(function(t,i){e(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(e(i).parent().attr("class")))},this)),this.options.useClasses||this.$element.find("img").each(e.proxy(function(t,i){var n=e(i);n.attr("data-style",this.getImageStyle(n))},this)),this.$element.find("pre").each(e.proxy(function(t,i){var n=e(i),r=n.html(),s=r.replace(/\&nbsp;/gi," ").replace(/\n/gi,"<br>");r!=s&&(this.saveSelectionByMarkers(),n.html(s),this.restoreSelectionByMarkers())},this)),this.$element.find("pre br").addClass("fr-br"),this.$element.find('[class=""]').removeAttr("class"),this.cleanAttrs(this.$element.get(0));var r=this.$element.html();this.removeFrTag(),this.$element.find("pre br").removeAttr("class"),r=r.replace(/<a[^>]*?><\/a>/g,""),t||(r=this.removeMarkersByRegex(r)),r=r.replace(/<span[^>]*? class\s*=\s*["']?f-img-handle[^>]+><\/span>/gi,""),r=r.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-editor[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),r=r.replace(/^([\S\s]*)<span[^>]*? class\s*=\s*["']?f-img-wrap[^>]+>([\S\s]*)<\/span>([\S\s]*)$/gi,"$1$2$3"),this.options.useClasses||(r=r.replace(/data-style/gi,"style"),r=r.replace(/(<img[^>]*)( class\s*=['"]?[a-zA-Z0-9- ]+['"]?)([^>]*\/?>)/gi,"$1$3")),this.options.simpleAmpersand&&(r=r.replace(/\&amp;/gi,"&")),n&&(r=r.replace(/ data-fr-verified="true"/gi,"")),this.options.beautifyCode&&(r=r.replace(/\n/gi,"")),r=r.replace(/<br class="fr-br">/gi,"\n"),r=r.replace(/\u200B/gi,""),this.options.fullPage&&(r=r.replace(/<!-- DOCTYPE([^>]*?) -->/i,"<!DOCTYPE$1>"),r=r.replace(/<!-- html([^>]*?) -->/i,"<html$1>"),r=r.replace(/<!-- \/html([^>]*?) -->/i,"</html$1>"),r=r.replace(/<!-- body([^>]*?) -->/i,"<body$1>"),r=r.replace(/<!-- \/body([^>]*?) -->/i,"</body$1>"),r=r.replace(/<!-- head ([\w\W]*?) -->/i,function(e,t){return"<head>"+t.replace(/\[/gi,"<").replace(/\]/gi,">")+"</head>"}));var s=this.triggerEvent("getHTML",[r],!1);return"string"==typeof s?s:r},t.prototype.getText=function(){return this.$element.text()},t.prototype.setDirty=function(e){this.dirty=e,e||(clearTimeout(this.ajaxInterval),this.ajaxHTML=this.getHTML(!1,!1))},t.prototype.initAjaxSaver=function(){this.ajaxHTML=this.getHTML(!1,!1),this.ajaxSave=!0,this.ajaxInterval=setInterval(e.proxy(function(){var e=this.getHTML(!1,!1);(this.ajaxHTML!=e||this.dirty)&&this.ajaxSave&&(this.options.autosave&&this.save(),this.dirty=!1,this.ajaxHTML=e),this.ajaxSave=!0},this),Math.max(this.options.autosaveInterval,100))},t.prototype.disableBrowserUndo=function(){this.$element.keydown(e.proxy(function(e){var t=e.which,i=(e.ctrlKey||e.metaKey)&&!e.altKey;if(!this.isHTML&&i){if(90==t&&e.shiftKey)return e.preventDefault(),!1;if(90==t)return e.preventDefault(),!1}},this))},t.prototype.shortcutEnabled=function(e){return this.options.shortcutsAvailable.indexOf(e)>=0},t.prototype.shortcuts_map={69:{cmd:"show",params:[null],id:"show"},66:{cmd:"exec",params:["bold"],id:"bold"},73:{cmd:"exec",params:["italic"],id:"italic"},85:{cmd:"exec",params:["underline"],id:"underline"},83:{cmd:"exec",params:["strikeThrough"],id:"strikeThrough"},75:{cmd:"exec",params:["createLink"],id:"createLink"},80:{cmd:"exec",params:["insertImage"],id:"insertImage"},221:{cmd:"exec",params:["indent"],id:"indent"},219:{cmd:"exec",params:["outdent"],id:"outdent"},72:{cmd:"exec",params:["html"],id:"html"},48:{cmd:"exec",params:["formatBlock","n"],id:"formatBlock n"},49:{cmd:"exec",params:["formatBlock","h1"],id:"formatBlock h1"},50:{cmd:"exec",params:["formatBlock","h2"],id:"formatBlock h2"},51:{cmd:"exec",params:["formatBlock","h3"],id:"formatBlock h3"},52:{cmd:"exec",params:["formatBlock","h4"],id:"formatBlock h4"},53:{cmd:"exec",params:["formatBlock","h5"],id:"formatBlock h5"},54:{cmd:"exec",params:["formatBlock","h6"],id:"formatBlock h6"},222:{cmd:"exec",params:["formatBlock","blockquote"],id:"formatBlock blockquote"},220:{cmd:"exec",params:["formatBlock","pre"],id:"formatBlock pre"}},t.prototype.ctrlKey=function(e){if(-1!=navigator.userAgent.indexOf("Mac OS X")){if(e.metaKey&&!e.altKey)return!0}else if(e.ctrlKey&&!e.altKey)return!0;return!1},t.prototype.initShortcuts=function(){this.options.shortcuts&&this.$element.on("keydown",e.proxy(function(e){var t=e.which,i=this.ctrlKey(e);if(!this.isHTML&&i){if(this.shortcuts_map[t]&&this.shortcutEnabled(this.shortcuts_map[t].id))return this.execDefaultShortcut(this.shortcuts_map[t].cmd,this.shortcuts_map[t].params);if(90==t&&e.shiftKey)return e.preventDefault(),e.stopPropagation(),this.redo(),!1;if(90==t)return e.preventDefault(),e.stopPropagation(),this.undo(),!1}},this))},t.prototype.initTabs=function(){this.$element.on("keydown",e.proxy(function(e){var t=e.which;if(9!=t||e.shiftKey)9==t&&e.shiftKey&&(this.raiseEvent("shift+tab")?this.options.tabSpaces?e.preventDefault():this.blur():e.preventDefault());else if(this.raiseEvent("tab"))if(this.options.tabSpaces){e.preventDefault();var i="&nbsp;&nbsp;&nbsp;&nbsp;",n=this.getSelectionElements()[0];"PRE"===n.tagName&&(i="    "),this.insertHTML(i,!1)}else this.blur();else e.preventDefault()},this))},t.prototype.textEmpty=function(t){var i=e(t).text().replace(/(\r\n|\n|\r|\t)/gm,"");return(""===i||t===this.$element.get(0))&&0===e(t).find("br").length},t.prototype.inEditor=function(e){for(;e&&"BODY"!==e.tagName;){if(e===this.$element.get(0))return!0;e=e.parentNode}return!1},t.prototype.focus=function(t){if(this.isDisabled)return!1;if(void 0===t&&(t=!0),""!==this.text()&&!this.$element.is(":focus"))return void(this.browser.msie||(this.clearSelection(),this.$element.focus()));if(!this.isHTML){if(t&&!this.pasting&&this.$element.focus(),this.pasting&&!this.$element.is(":focus")&&this.$element.focus(),this.$element.hasClass("f-placeholder"))return void this.setSelection(this.$element.find(this.options.defaultTag).length>0?this.$element.find(this.options.defaultTag)[0]:this.$element.get(0));var i=this.getRange();if(""===this.text()&&i&&(0===i.startOffset||i.startContainer===this.$element.get(0)||!this.inEditor(i.startContainer))){var n,r,s=this.getSelectionElements();if(e.merge(["IMG","BR"],this.valid_nodes).indexOf(this.getSelectionElement().tagName)<0)return!1;if(i.startOffset>0&&this.valid_nodes.indexOf(this.getSelectionElement().tagName)>=0&&"BODY"!=i.startContainer.tagName||i.startContainer&&3===i.startContainer.nodeType)return;if(!this.options.paragraphy&&s.length>=1&&s[0]===this.$element.get(0)){var o=function(t){if(!t)return null;if(3==t.nodeType&&t.textContent.length>0)return t;if(1==t.nodeType&&"BR"==t.tagName)return t;for(var i=e(t).contents(),n=0;n<i.length;n++){var r=o(i[n]);if(null!=r)return r}return null};if(0===i.startOffset&&this.$element.contents().length>0&&3!=this.$element.contents()[0].nodeType){var a=o(this.$element.get(0));null!=a&&("BR"==a.tagName?this.$element.is(":focus")&&(e(a).before(this.markers_html),this.restoreSelectionByMarkers()):this.setSelection(a))}return!1}if(s.length>=1&&s[0]!==this.$element.get(0))for(n=0;n<s.length;n++){if(r=s[n],!this.textEmpty(r)||this.browser.msie)return void this.setSelection(r);if(this.textEmpty(r)&&["LI","TD"].indexOf(r.tagName)>=0)return}if(i.startContainer===this.$element.get(0)&&i.startOffset>0&&!this.options.paragraphy)return void this.setSelection(this.$element.get(0),i.startOffset);for(s=this.$element.find(this.valid_nodes.join(",")),n=0;n<s.length;n++)if(r=s[n],!this.textEmpty(r)&&0===e(r).find(this.valid_nodes.join(",")).length)return void this.setSelection(r);this.setSelection(this.$element.get(0))}}},t.prototype.addMarkersAtEnd=function(t){if(t.find(".fr-marker").length>0)return!1;for(var i=t.get(0),n=e(i).contents();n.length&&this.valid_nodes.indexOf(n[n.length-1].tagName)>=0;)i=n[n.length-1],n=e(n[n.length-1]).contents();e(i).append(this.markers_html)},t.prototype.setFocusAtEnd=function(e){void 0===e&&(e=this.$element),this.addMarkersAtEnd(e),this.restoreSelectionByMarkers()},t.prototype.breakHTML=function(t,i){"undefined"==typeof i&&(i=!0),this.removeMarkers(),0===this.$element.find("break").length&&this.insertSimpleHTML("<break></break>");var n=this.parents(this.$element.find("break"),e.merge(["UL","OL"],this.valid_nodes).join(","))[0];if(this.parents(e(n),"ul, ol").length&&(n=this.parents(e(n),"ul, ol")[0]),void 0===n&&(n=this.$element.get(0)),["UL","OL"].indexOf(n.tagName)>=0){var r=e("<div>").html(t);r.find("> li").wrap("<"+n.tagName+">"),t=r.html()}if(n==this.$element.get(0)){if(this.$element.find("break").next().length){this.insertSimpleHTML('<div id="inserted-div">'+t+"</div>");var s=this.$element.find("div#inserted-div");this.setFocusAtEnd(s),this.saveSelectionByMarkers(),s.replaceWith(s.contents()),this.restoreSelectionByMarkers()}else this.insertSimpleHTML(t),this.setFocusAtEnd();return this.$element.find("break").remove(),this.checkPlaceholder(),!0}if("TD"===n.tagName)return this.$element.find("break").remove(),this.insertSimpleHTML(t),!0;var o=e("<div>").html(t);if(this.addMarkersAtEnd(o),t=o.html(),this.emptyElement(e(n)))return e(n).replaceWith(t),this.restoreSelectionByMarkers(),this.checkPlaceholder(),!0;this.$element.find("li").each(e.proxy(function(t,i){this.emptyElement(i)&&e(i).addClass("empty-li")},this));for(var a,l,d=e("<div></div>").append(e(n).clone()).html(),c=[],h={},p=[],u=0,f=0;f<d.length;f++)if(l=d.charAt(f),"<"==l){var m=d.indexOf(">",f+1);if(-1!==m){a=d.substring(f,m+1);var g=this.tagName(a);if(f=m,"break"==g){if(!this.isClosingTag(a)){for(var v=!0,b=[],y=c.length-1;y>=0;y--){var w=this.tagName(c[y]);if(!i&&"LI"==w.toUpperCase()){v=!1;break}p.push("</"+w+">"),b.push(c[y])}p.push(t),v||p.push("</li><li>");for(var x=0;x<b.length;x++)p.push(b[x])}}else if(p.push(a),!this.isSelfClosingTag(a))if(this.isClosingTag(a)){var C=h[g].pop();c.splice(C,1)}else c.push(a),void 0===h[g]&&(h[g]=[]),h[g].push(c.length-1)}}else u++,p.push(l);e(n).replaceWith(p.join("")),this.$element.find("li").each(e.proxy(function(t,i){var n=e(i);n.hasClass("empty-li")?n.removeClass("empty-li"):this.emptyElement(i)&&n.remove()},this)),this.cleanupLists(),this.restoreSelectionByMarkers()},t.prototype.insertSimpleHTML=function(e){var t,i;if(this.no_verify=!0,this.window.getSelection){if(t=this.window.getSelection(),t.getRangeAt&&t.rangeCount){i=t.getRangeAt(0),this.browser.webkit?i.collapsed||this.document.execCommand("delete"):i.deleteContents(),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").remove();var n=this.document.createElement("div");n.innerHTML=e;for(var r,s,o=this.document.createDocumentFragment();r=n.firstChild;)s=o.appendChild(r);i.insertNode(o),s&&(i=i.cloneRange(),i.setStartAfter(s),i.collapse(!0),t.removeAllRanges(),t.addRange(i))}}else if((t=this.document.selection)&&"Control"!=t.type){var a=t.createRange();a.collapse(!0),t.createRange().pasteHTML(e)}this.no_verify=!1},t.prototype.insertHTML=function(t,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!1),!this.isHTML&&i&&this.focus(),this.removeMarkers(),this.insertSimpleHTML("<break></break>"),this.checkPlaceholder(!0),this.$element.hasClass("f-placeholder"))return this.$element.html(t),this.options.paragraphy&&this.wrapText(!0),this.$element.find("p > br").each(function(){var t=this.parentNode;1==e(t).contents().length&&e(t).remove()}),this.$element.find("break").remove(),this.setFocusAtEnd(),this.checkPlaceholder(),this.convertNewLines(),!1;for(var r=e("<div>").append(t).find("*"),s=0;s<r.length;s++)if(this.valid_nodes.indexOf(r[s].tagName)>=0)return this.breakHTML(t),this.$element.find("break").remove(),this.convertNewLines(),!1;this.$element.find("break").remove(),this.insertSimpleHTML(t),this.convertNewLines()},t.prototype.execDefaultShortcut=function(e,t){return this[e].apply(this,t),!1},t.prototype.initEditor=function(){var i="froala-editor";this.mobile()&&(i+=" touch"),this.browser.msie&&t.getIEversion()<9&&(i+=" ie8"),this.$editor=e('<div class="'+i+'" style="display: none;">');var n=this.$document.find(this.options.scrollableContainer);n.append(this.$editor),this.options.inlineMode?this.initInlineEditor():this.initBasicEditor()},t.prototype.refreshToolbarPosition=function(){this.$window.scrollTop()>this.$box.offset().top&&this.$window.scrollTop()<this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.iOS()&&(this.$element.is(":focus")?this.$editor.css("top",this.$window.scrollTop()):this.$editor.css("top",""))):this.$window.scrollTop()<this.$box.offset().top?this.iOS()&&this.$element.is(":focus")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.addClass("f-scroll").removeClass("f-scroll-abs").css("bottom","").css("left",this.$box.offset().left+parseFloat(this.$box.css("padding-left"),10)-this.$window.scrollLeft()).width(this.$box.width()-parseFloat(this.$editor.css("border-left-width"),10)-parseFloat(this.$editor.css("border-right-width"),10)),this.$editor.css("top",this.$box.offset().top)):(this.$editor.removeClass("f-scroll f-scroll-abs").css("bottom","").css("top","").width(""),this.$element.css("padding-top",""),this.$placeholder.css("margin-top","")):this.$window.scrollTop()>this.$box.offset().top+this.$box.outerHeight()-this.$editor.outerHeight()&&!this.$editor.hasClass("f-scroll-abs")?(this.$element.css("padding-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$placeholder.css("margin-top",this.$editor.outerHeight()+this.$element.data("padding-top")),this.$editor.removeClass("f-scroll").addClass("f-scroll-abs"),this.$editor.css("bottom",0).css("top","").css("left","")):this.$editor.removeClass("f-scroll").css("bottom","").css("top","").css("left","").width("")},t.prototype.toolbarTop=function(){this.options.toolbarFixed||this.options.inlineMode||(this.$element.data("padding-top",parseInt(this.$element.css("padding-top"),10)),this.$window.on("scroll resize load",e.proxy(function(){this.refreshToolbarPosition()},this)),this.iOS()&&this.$element.on("focus blur",e.proxy(function(){this.refreshToolbarPosition()},this)))},t.prototype.initBasicEditor=function(){this.$element.addClass("f-basic"),this.$wrapper.addClass("f-basic"),this.$popup_editor=this.$editor.clone();var e=this.$document.find(this.options.scrollableContainer);this.$popup_editor.appendTo(e).addClass("f-inline"),this.$editor.addClass("f-basic").show(),this.$editor.insertBefore(this.$wrapper),this.toolbarTop()},t.prototype.initInlineEditor=function(){this.$editor.addClass("f-inline"),this.$element.addClass("f-inline"),this.$popup_editor=this.$editor},t.prototype.initDrag=function(){this.drag_support={filereader:"undefined"!=typeof FileReader,formdata:!!this.window.FormData,progress:"upload"in new XMLHttpRequest}},t.prototype.initOptions=function(){this.setDimensions(),this.setSpellcheck(),this.setImageUploadURL(),this.setButtons(),this.setDirection(),this.setZIndex(),this.setTheme(),this.options.editInPopup&&this.buildEditPopup(),this.editableDisabled||(this.setPlaceholder(),this.setPlaceholderEvents())},t.prototype.setAllowStyle=function(e){"undefined"==typeof e&&(e=this.options.allowStyle),e?this.options.allowedTags.push("style"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("style"),1)},t.prototype.setAllowScript=function(e){"undefined"==typeof e&&(e=this.options.allowScript),e?this.options.allowedTags.push("script"):this.options.allowedTags.splice(this.options.allowedTags.indexOf("script"),1)},t.prototype.isTouch=function(){return WYSIWYGModernizr.touch&&void 0!==this.window.Touch},t.prototype.initEditorSelection=function(){this.$element.on("keyup",e.proxy(function(e){return this.triggerEvent("keyup",[e],!1)},this)),this.$element.on("focus",e.proxy(function(){this.blurred&&(this.blurred=!1,this.pasting||""!==this.text()||this.focus(!1),this.triggerEvent("focus",[],!1))},this)),this.$element.on("mousedown touchstart",e.proxy(function(){return this.isDisabled?!1:void(this.isResizing()||(this.closeImageMode(),this.hide()))},this)),this.options.disableRightClick&&this.$element.contextmenu(e.proxy(function(e){return e.preventDefault(),this.options.inlineMode&&this.$element.focus(),!1},this)),this.$element.on(this.mouseup,e.proxy(function(t){if(this.isDisabled)return!1;if(!this.isResizing()){var i=this.text();t.stopPropagation(),this.imageMode=!1,!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==t.which||2==t.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode?this.options.inlineMode||this.refreshButtons():setTimeout(e.proxy(function(){i=this.text(),!(""!==i||this.options.alwaysVisible||this.options.editInPopup||(3==t.which||2==t.button)&&this.options.inlineMode&&!this.isImage&&this.options.disableRightClick)||this.link||this.imageMode||(this.show(t),this.options.editInPopup&&this.showEditPopup())},this),0)}this.hideDropdowns(),this.hideOtherEditors()},this)),this.$editor.on(this.mouseup,e.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||(e.stopPropagation(),this.options.inlineMode===!1&&this.hide()))},this)),this.$editor.on("mousedown",".fr-dropdown-menu",e.proxy(function(e){return this.isDisabled?!1:(e.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mousedown",".fr-dropdown-menu",e.proxy(function(e){return this.isDisabled?!1:(e.stopPropagation(),void(this.noHide=!0))},this)),this.$popup_editor.on("mouseup",e.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||e.stopPropagation())},this)),this.$edit_popup_wrapper&&this.$edit_popup_wrapper.on("mouseup",e.proxy(function(e){return this.isDisabled?!1:void(this.isResizing()||e.stopPropagation())},this)),this.setDocumentSelectionChangeEvent(),this.setWindowMouseUpEvent(),this.setWindowKeyDownEvent(),this.setWindowKeyUpEvent(),this.setWindowOrientationChangeEvent(),this.setWindowHideEvent(),this.setWindowBlurEvent(),this.options.trackScroll&&this.setWindowScrollEvent(),this.setWindowResize()},t.prototype.setWindowResize=function(){this.$window.on("resize."+this._id,e.proxy(function(){this.hide(),this.closeImageMode(),this.imageMode=!1},this))},t.prototype.blur=function(t){this.blurred||this.pasting||(this.selectionDisabled=!0,this.triggerEvent("blur",[]),t&&0===e("*:focus").length&&this.clearSelection(),this.isLink||this.isImage||(this.selectionDisabled=!1),this.blurred=!0)},t.prototype.setWindowBlurEvent=function(){this.$window.on("blur."+this._id,e.proxy(function(e,t){this.blur(t)},this))},t.prototype.setWindowHideEvent=function(){this.$window.on("hide."+this._id,e.proxy(function(){this.isResizing()?this.$element.find(".f-img-handle").trigger("moveend"):this.hide(!1)},this))},t.prototype.setWindowOrientationChangeEvent=function(){this.$window.on("orientationchange."+this._id,e.proxy(function(){setTimeout(e.proxy(function(){this.hide()},this),10)},this))},t.prototype.setDocumentSelectionChangeEvent=function(){this.$document.on("selectionchange."+this._id,e.proxy(function(t){return this.isDisabled?!1:void(this.isResizing()||this.isScrolling||(clearTimeout(this.selectionChangedTimeout),this.selectionChangedTimeout=setTimeout(e.proxy(function(){if(this.options.inlineMode&&this.selectionInEditor()&&this.link!==!0&&this.isTouch()){var e=this.text();""!==e?(this.iPod()?this.options.alwaysVisible&&this.hide():this.show(null),t.stopPropagation()):this.options.alwaysVisible?this.show(null):(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this),75)))},this))},t.prototype.setWindowMouseUpEvent=function(){this.$window.on(this.mouseup+"."+this._id,e.proxy(function(){return this.browser.webkit&&!this.initMouseUp?(this.initMouseUp=!0,!1):(this.isResizing()||this.isScrolling||this.isDisabled||(this.$bttn_wrapper.find("button.fr-trigger").removeClass("active"),this.selectionInEditor()&&""!==this.text()&&!this.isTouch()?this.show(null):this.$popup_editor.is(":visible")&&(this.hide(),this.closeImageMode(),this.imageMode=!1),this.blur(!0)),void e("[data-down]").removeAttr("data-down"))},this))},t.prototype.setWindowKeyDownEvent=function(){this.$window.on("keydown."+this._id,e.proxy(function(t){var i=t.which;if(27==i&&(this.focus(),this.restoreSelection(),this.hide(),this.closeImageMode(),this.imageMode=!1),this.imageMode){if(13==i)return this.$element.find(".f-img-editor").parents(".f-img-wrap").before("<br/>"),this.sync(),this.$element.find(".f-img-editor img").click(),!1;if(46==i||8==i)return t.stopPropagation(),t.preventDefault(),setTimeout(e.proxy(function(){this.removeImage(this.$element.find(".f-img-editor img"))},this),0),!1}else if(this.selectionInEditor()){if(this.isDisabled)return!0;var n=(t.ctrlKey||t.metaKey)&&!t.altKey;!n&&this.$popup_editor.is(":visible")&&this.$bttn_wrapper.is(":visible")&&this.options.inlineMode&&(this.hide(),this.closeImageMode(),this.imageMode=!1)}},this))},t.prototype.setWindowKeyUpEvent=function(){this.$window.on("keyup."+this._id,e.proxy(function(){return this.isDisabled?!1:void(this.selectionInEditor()&&""!==this.text()&&!this.$popup_editor.is(":visible")&&this.repositionEditor())},this))},t.prototype.setWindowScrollEvent=function(){e.merge(this.$window,e(this.options.scrollableContainer)).on("scroll."+this._id,e.proxy(function(){return this.isDisabled?!1:(clearTimeout(this.scrollTimer),this.isScrolling=!0,void(this.scrollTimer=setTimeout(e.proxy(function(){this.isScrolling=!1},this),2500)))},this))},t.prototype.setPlaceholder=function(t){t&&(this.options.placeholder=t),this.$textarea&&this.$textarea.attr("placeholder",this.options.placeholder),this.$placeholder||(this.$placeholder=e('<span class="fr-placeholder" unselectable="on"></span>').bind("click",e.proxy(function(){this.focus()},this)),this.$element.after(this.$placeholder)),this.$placeholder.text(this.options.placeholder)},t.prototype.isEmpty=function(){var t=this.$element.text().replace(/(\r\n|\n|\r|\t|\u200B|\u0020)/gm,"");return""===t&&0===this.$element.find("img, table, iframe, input, textarea, hr, li, object").length&&0===this.$element.find(this.options.defaultTag+" > br, br").length&&0===this.$element.find(e.map(this.valid_nodes,e.proxy(function(e){return this.options.defaultTag==e?null:e},this)).join(", ")).length},t.prototype.checkPlaceholder=function(i){if(this.isDisabled&&!i)return!1;if(this.pasting&&!i)return!1;if(this.$element.find("td:empty, th:empty").append(e.Editable.INVISIBLE_SPACE),this.$element.find(this.valid_nodes.join(":empty, ")+":empty").append(this.br),!this.isHTML)if(this.isEmpty()&&!this.fakeEmpty()){var n,r=this.selectionInEditor()||this.$element.is(":focus");this.options.paragraphy?(n=e("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"),this.$element.html(n),r&&this.setSelection(n.get(0)),this.$element.addClass("f-placeholder")):(0!==this.$element.find("br").length||this.browser.msie&&t.getIEversion()<=10||(this.$element.append(this.br),r&&this.browser.msie&&this.focus()),this.$element.addClass("f-placeholder"))}else!this.$element.find(this.options.defaultTag+", li, td, th").length&&this.options.paragraphy?(this.wrapText(!0),this.$element.find(this.options.defaultTag).length&&""===this.text()?this.setSelection(this.$element.find(this.options.defaultTag)[0],this.$element.find(this.options.defaultTag).text().length,null,this.$element.find(this.options.defaultTag).text().length):this.$element.removeClass("f-placeholder")):this.fakeEmpty()===!1&&(!this.options.paragraphy||this.$element.find(this.valid_nodes.join(",")).length>=1)?this.$element.removeClass("f-placeholder"):!this.options.paragraphy&&this.$element.find(this.valid_nodes.join(",")).length>=1?this.$element.removeClass("f-placeholder"):this.$element.addClass("f-placeholder");return!0},t.prototype.fakeEmpty=function(e){void 0===e&&(e=this.$element);var t=!0;this.options.paragraphy&&(t=1==e.find(this.options.defaultTag).length?!0:!1);var i=e.text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return""===i&&t&&1==e.find("br, li").length&&0===e.find("img, table, iframe, input, textarea, hr, li").length},t.prototype.setPlaceholderEvents=function(){this.browser.msie&&t.getIEversion()<9||(this.$element.on("focus click",e.proxy(function(e){return this.isDisabled?!1:void(""!==this.$element.text()||this.pasting||(this.$element.data("focused")||"click"!==e.type?"focus"==e.type&&this.focus(!1):this.$element.focus(),this.$element.data("focused",!0)))},this)),this.$element.on("keyup keydown input focus placeholderCheck",e.proxy(function(){return this.checkPlaceholder()},this)),this.$element.trigger("placeholderCheck"))},t.prototype.setDimensions=function(e,t,i,n){e&&(this.options.height=e),t&&(this.options.width=t),i&&(this.options.minHeight=i),n&&(this.options.maxHeight=n),"auto"!=this.options.height&&(this.$wrapper.css("height",this.options.height),this.$element.css("minHeight",this.options.height-parseInt(this.$element.css("padding-top"),10)-parseInt(this.$element.css("padding-bottom"),10))),"auto"!=this.options.minHeight&&(this.$wrapper.css("minHeight",this.options.minHeight),this.$element.css("minHeight",this.options.minHeight)),"auto"!=this.options.maxHeight&&this.$wrapper.css("maxHeight",this.options.maxHeight),"auto"!=this.options.width&&this.$box.css("width",this.options.width)},t.prototype.setDirection=function(e){e&&(this.options.direction=e),"ltr"!=this.options.direction&&"rtl"!=this.options.direction&&(this.options.direction="ltr"),"rtl"==this.options.direction?(this.$element.removeAttr("dir"),this.$box.addClass("f-rtl"),this.$element.addClass("f-rtl"),this.$editor.addClass("f-rtl"),this.$popup_editor.addClass("f-rtl"),this.$image_modal&&this.$image_modal.addClass("f-rtl")):(this.$element.attr("dir","auto"),this.$box.removeClass("f-rtl"),this.$element.removeClass("f-rtl"),this.$editor.removeClass("f-rtl"),this.$popup_editor.removeClass("f-rtl"),this.$image_modal&&this.$image_modal.removeClass("f-rtl"))
},t.prototype.setZIndex=function(e){e&&(this.options.zIndex=e),this.$editor.css("z-index",this.options.zIndex),this.$popup_editor.css("z-index",this.options.zIndex+1),this.$overlay&&this.$overlay.css("z-index",this.options.zIndex+1002),this.$image_modal&&this.$image_modal.css("z-index",this.options.zIndex+1003)},t.prototype.setTheme=function(e){e&&(this.options.theme=e),null!=this.options.theme&&(this.$editor.addClass(this.options.theme+"-theme"),this.$popup_editor.addClass(this.options.theme+"-theme"),this.$box&&this.$box.addClass(this.options.theme+"-theme"),this.$image_modal&&this.$image_modal.addClass(this.options.theme+"-theme"))},t.prototype.setSpellcheck=function(e){void 0!==e&&(this.options.spellcheck=e),this.$element.attr("spellcheck",this.options.spellcheck)},t.prototype.customizeText=function(t){if(t){var i=this.$editor.find("[title]").add(this.$popup_editor.find("[title]"));this.$image_modal&&(i=i.add(this.$image_modal.find("[title]"))),i.each(e.proxy(function(i,n){for(var r in t)e(n).attr("title").toLowerCase()==r.toLowerCase()&&e(n).attr("title",t[r])},this)),i=this.$editor.find('[data-text="true"]').add(this.$popup_editor.find('[data-text="true"]')),this.$image_modal&&(i=i.add(this.$image_modal.find('[data-text="true"]'))),i.each(e.proxy(function(i,n){for(var r in t)e(n).text().toLowerCase()==r.toLowerCase()&&e(n).text(t[r])},this))}},t.prototype.setLanguage=function(t){void 0!==t&&(this.options.language=t),e.Editable.LANGS[this.options.language]&&(this.customizeText(e.Editable.LANGS[this.options.language].translation),e.Editable.LANGS[this.options.language].direction&&e.Editable.LANGS[this.options.language].direction!=e.Editable.DEFAULTS.direction&&this.setDirection(e.Editable.LANGS[this.options.language].direction),e.Editable.LANGS[this.options.language].translation[this.options.placeholder]&&this.setPlaceholder(e.Editable.LANGS[this.options.language].translation[this.options.placeholder]))},t.prototype.setCustomText=function(e){e&&(this.options.customText=e),this.options.customText&&this.customizeText(this.options.customText)},t.prototype.execHTML=function(){this.html()},t.prototype.initHTMLArea=function(){this.$html_area=e('<textarea wrap="hard">').keydown(function(t){var i=t.keyCode||t.which;if(9==i){t.preventDefault();var n=e(this).get(0).selectionStart,r=e(this).get(0).selectionEnd;e(this).val(e(this).val().substring(0,n)+"	"+e(this).val().substring(r)),e(this).get(0).selectionStart=e(this).get(0).selectionEnd=n+1}}).focus(e.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this)).mouseup(e.proxy(function(){this.blurred&&(this.blurred=!1,this.triggerEvent("focus",[],!1))},this))},t.prototype.command_dispatcher={align:function(e){var t=this.buildDropdownAlign(e),i=this.buildDropdownButton(e,t);return i},formatBlock:function(e){var t=this.buildDropdownFormatBlock(e),i=this.buildDropdownButton(e,t);return i},html:function(t){var i=this.buildDefaultButton(t);return this.options.inlineMode&&this.$box.append(e(i).clone(!0).addClass("html-switch").attr("title","Hide HTML").click(e.proxy(this.execHTML,this))),this.initHTMLArea(),i}},t.prototype.setButtons=function(e){e&&(this.options.buttons=e),this.$editor.append('<div class="bttn-wrapper" id="bttn-wrapper-'+this._id+'">'),this.$bttn_wrapper=this.$editor.find("#bttn-wrapper-"+this._id),this.mobile()&&this.$bttn_wrapper.addClass("touch");for(var i,n,r="",s=0;s<this.options.buttons.length;s++){var o=this.options.buttons[s];if("sep"!=o){var a=t.commands[o];if(void 0!==a){a.cmd=o;var l=this.command_dispatcher[a.cmd];l?r+=l.apply(this,[a]):a.seed?(i=this.buildDefaultDropdown(a),n=this.buildDropdownButton(a,i),r+=n):(n=this.buildDefaultButton(a),r+=n,this.bindRefreshListener(a))}else{if(a=this.options.customButtons[o],void 0===a){if(a=this.options.customDropdowns[o],void 0===a)continue;n=this.buildCustomDropdown(a,o),r+=n,this.bindRefreshListener(a);continue}n=this.buildCustomButton(a,o),r+=n,this.bindRefreshListener(a)}}else r+=this.options.inlineMode?'<div class="f-clear"></div><hr/>':'<span class="f-sep"></span>'}this.$bttn_wrapper.html(r),this.$bttn_wrapper.find('button[data-cmd="undo"], button[data-cmd="redo"]').prop("disabled",!0),this.bindButtonEvents()},t.prototype.bindRefreshListener=function(t){t.refresh&&this.addListener("refresh",e.proxy(function(){t.refresh.apply(this,[t.cmd])},this))},t.prototype.buildDefaultButton=function(e){var t='<button tabIndex="-1" type="button" class="fr-bttn" title="'+e.title+'" data-cmd="'+e.cmd+'">';return t+=void 0===this.options.icons[e.cmd]?this.addButtonIcon(e):this.prepareIcon(this.options.icons[e.cmd],e.title),t+="</button>"},t.prototype.prepareIcon=function(e,t){switch(e.type){case"font":return this.addButtonIcon({icon:e.value});case"img":return this.addButtonIcon({icon_img:e.value,title:t});case"txt":return this.addButtonIcon({icon_txt:e.value})}},t.prototype.addButtonIcon=function(e){return e.icon?'<i class="'+e.icon+'"></i>':e.icon_alt?'<i class="for-text">'+e.icon_alt+"</i>":e.icon_img?'<img src="'+e.icon_img+'" alt="'+e.title+'"/>':e.icon_txt?"<i>"+e.icon_txt+"</i>":e.title},t.prototype.buildCustomButton=function(e,t){this["call_"+t]=e.callback;var i='<button tabIndex="-1" type="button" class="fr-bttn" data-callback="call_'+t+'" data-cmd="button_name" data-name="'+t+'" title="'+e.title+'">'+this.prepareIcon(e.icon,e.title)+"</button>";return i},t.prototype.callDropdown=function(t,i){this.$bttn_wrapper.on("click touch",'[data-name="'+t+'"]',e.proxy(function(e){e.preventDefault(),e.stopPropagation(),i.apply(this)},this))},t.prototype.buildCustomDropdown=function(e,t){var i='<div class="fr-bttn fr-dropdown">';i+='<button tabIndex="-1" type="button" class="fr-trigger" title="'+e.title+'" data-name="'+t+'">'+this.prepareIcon(e.icon,e.title)+"</button>",i+='<ul class="fr-dropdown-menu">';var n=0;for(var r in e.options){this["call_"+t+n]=e.options[r];var s='<li data-callback="call_'+t+n+'" data-cmd="'+t+n+'" data-name="'+t+n+'"><a href="#">'+r+"</a></li>";i+=s,n++}return i+="</ul></div>"},t.prototype.buildDropdownButton=function(e,t,i){i=i||"";var n='<div class="fr-bttn fr-dropdown '+i+'">',r="";r+=void 0===this.options.icons[e.cmd]?this.addButtonIcon(e):this.prepareIcon(this.options.icons[e.cmd],e.title);var s='<button tabIndex="-1" type="button" data-name="'+e.cmd+'" class="fr-trigger" title="'+e.title+'">'+r+"</button>";return n+=s,n+=t,n+="</div>"},t.prototype.buildDropdownAlign=function(e){this.bindRefreshListener(e);for(var t='<ul class="fr-dropdown-menu f-align">',i=0;i<e.seed.length;i++){var n=e.seed[i];t+='<li data-cmd="align" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return t+="</ul>"},t.prototype.buildDropdownFormatBlock=function(e){var t='<ul class="fr-dropdown-menu">';for(var i in this.options.blockTags){var n='<li data-cmd="'+e.cmd+'" data-val="'+i+'">';n+='<a href="#" data-text="true" class="format-'+i+'" title="'+this.options.blockTags[i]+'">'+this.options.blockTags[i]+"</a></li>",t+=n}return t+="</ul>"},t.prototype.buildDefaultDropdown=function(e){for(var t='<ul class="fr-dropdown-menu">',i=0;i<e.seed.length;i++){var n=e.seed[i],r='<li data-namespace="'+e.namespace+'" data-cmd="'+(n.cmd||e.cmd)+'" data-val="'+n.value+'" data-param="'+(n.param||e.param)+'">';r+='<a href="#" data-text="true" class="'+n.value+'" title="'+n.title+'">'+n.title+"</a></li>",t+=r}return t+="</ul>"},t.prototype.createEditPopupHTML=function(){var e='<div class="froala-popup froala-text-popup" style="display:none;">';return e+='<h4><span data-text="true">Edit text</span><i title="Cancel" class="fa fa-times" id="f-text-close-'+this._id+'"></i></h4></h4>',e+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu" id="f-ti-'+this._id+'">',e+='<button data-text="true" type="button" class="f-ok" id="f-edit-popup-ok-'+this._id+'">OK</button>',e+="</div>",e+="</div>"},t.prototype.buildEditPopup=function(){this.$edit_popup_wrapper=e(this.createEditPopupHTML()),this.$popup_editor.append(this.$edit_popup_wrapper),this.$edit_popup_wrapper.find("#f-ti-"+this._id).on("mouseup keydown",function(e){e.stopPropagation()}),this.addListener("hidePopups",e.proxy(function(){this.$edit_popup_wrapper.hide()},this)),this.$edit_popup_wrapper.on("click","#f-edit-popup-ok-"+this._id,e.proxy(function(){this.$element.text(this.$edit_popup_wrapper.find("#f-ti-"+this._id).val()),this.sync(),this.hide()},this)),this.$edit_popup_wrapper.on("click","i#f-text-close-"+this._id,e.proxy(function(){this.hide()},this))},t.prototype.createCORSRequest=function(e,t){var i=new XMLHttpRequest;if("withCredentials"in i){i.open(e,t,!0),this.options.withCredentials&&(i.withCredentials=!0);for(var n in this.options.headers)i.setRequestHeader(n,this.options.headers[n])}else"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(e,t)):i=null;return i},t.prototype.isEnabled=function(t){return e.inArray(t,this.options.buttons)>=0},t.prototype.bindButtonEvents=function(){this.bindDropdownEvents(this.$bttn_wrapper),this.bindCommandEvents(this.$bttn_wrapper)},t.prototype.bindDropdownEvents=function(i){var n=this;i.on(this.mousedown,".fr-dropdown .fr-trigger:not([disabled])",function(t){return"mousedown"===t.type&&1!==t.which?!0:("LI"===this.tagName&&"touchstart"===t.type&&n.android()||n.iOS()||t.preventDefault(),void e(this).attr("data-down",!0))}),i.on(this.mouseup,".fr-dropdown .fr-trigger:not([disabled])",function(r){if(n.isDisabled)return!1;if(r.stopPropagation(),r.preventDefault(),!e(this).attr("data-down"))return e("[data-down]").removeAttr("data-down"),!1;e("[data-down]").removeAttr("data-down"),n.options.inlineMode===!1&&0===e(this).parents(".froala-popup").length&&(n.hide(),n.closeImageMode(),n.imageMode=!1),e(this).toggleClass("active").trigger("blur");var s,o=e(this).attr("data-name");return t.commands[o]?s=t.commands[o].refreshOnShow:n.options.customDropdowns[o]?s=n.options.customDropdowns[o].refreshOnShow:t.image_commands[o]&&(s=t.image_commands[o].refreshOnShow),s&&s.call(n),i.find("button.fr-trigger").not(this).removeClass("active"),!1}),i.on(this.mouseup,".fr-dropdown",function(e){e.stopPropagation(),e.preventDefault()}),this.$element.on("mouseup","img, a",e.proxy(function(){return this.isDisabled?!1:void i.find(".fr-dropdown .fr-trigger").removeClass("active")},this)),i.on("click","li[data-cmd] > a",function(e){e.preventDefault()})},t.prototype.bindCommandEvents=function(t){var i=this;t.on(this.mousedown,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",function(t){return"mousedown"===t.type&&1!==t.which?!0:("LI"===this.tagName&&"touchstart"===t.type&&i.android()||i.iOS()||t.preventDefault(),void e(this).attr("data-down",!0))}),t.on(this.mouseup+" "+this.move,"button[data-cmd], li[data-cmd], span[data-cmd], a[data-cmd]",e.proxy(function(t){if(i.isDisabled)return!1;if("mouseup"===t.type&&1!==t.which)return!0;var n=t.currentTarget;if("touchmove"!=t.type){if(t.stopPropagation(),t.preventDefault(),!e(n).attr("data-down"))return e("[data-down]").removeAttr("data-down"),!1;if(e("[data-down]").removeAttr("data-down"),e(n).data("dragging")||e(n).attr("disabled"))return e(n).removeData("dragging"),!1;var r=e(n).data("timeout");r&&(clearTimeout(r),e(n).removeData("timeout"));var s=e(n).attr("data-callback");if(i.options.inlineMode===!1&&0===e(n).parents(".froala-popup").length&&(i.hide(),i.closeImageMode(),i.imageMode=!1),s)e(n).parents(".fr-dropdown").find(".fr-trigger.active").removeClass("active"),i[s]();else{var o=e(n).attr("data-namespace"),a=e(n).attr("data-cmd"),l=e(n).attr("data-val"),d=e(n).attr("data-param");o?i["exec"+o](a,l,d):(i.exec(a,l,d),i.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"))}return!1}e(n).data("timeout")||e(n).data("timeout",setTimeout(function(){e(n).data("dragging",!0)},200))},this))},t.prototype.save=function(){if(!this.triggerEvent("beforeSave",[],!1))return!1;if(this.options.saveURL){var t={};for(var i in this.options.saveParams){var n=this.options.saveParams[i];t[i]="function"==typeof n?n.call(this):n}var r={};r[this.options.saveParam]=this.getHTML(),e.ajax({type:this.options.saveRequestType,url:this.options.saveURL,data:e.extend(r,t),crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(e.proxy(function(e){this.triggerEvent("afterSave",[e])},this)).fail(e.proxy(function(){this.triggerEvent("saveError",["Save request failed on the server."])},this))}else this.triggerEvent("saveError",["Missing save URL."])},t.prototype.isURL=function(e){if(!/^(https?:|ftps?:|)\/\//.test(e))return!1;e=String(e).replace(/</g,"%3C").replace(/>/g,"%3E").replace(/"/g,"%22").replace(/ /g,"%20");var t=/\(?(?:(https?:|ftps?:|)\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|(?:www.)?(?:[^\W\s]|\.|-)|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/gi;return t.test(e)},t.prototype.sanitizeURL=function(e){if(/^(https?:|ftps?:|)\/\//.test(e)){if(!this.isURL(e))return""}else e=encodeURIComponent(e).replace(/%23/g,"#").replace(/%2F/g,"/").replace(/%25/g,"%").replace(/mailto%3A/g,"mailto:").replace(/tel%3A/g,"tel:").replace(/data%3Aimage/g,"data:image").replace(/webkit-fake-url%3A/g,"webkit-fake-url:").replace(/%3F/g,"?").replace(/%3D/g,"=").replace(/%26/g,"&").replace(/&amp;/g,"&").replace(/%2C/g,",").replace(/%3B/g,";").replace(/%2B/g,"+").replace(/%40/g,"@");return e},t.prototype.parents=function(e,t){return e.get(0)!=this.$element.get(0)?e.parentsUntil(this.$element,t):[]},t.prototype.option=function(t,i){if(void 0===t)return this.options;if(t instanceof Object)this.options=e.extend({},this.options,t),this.initOptions(),this.setCustomText(),this.setLanguage(),this.setAllowScript(),this.setAllowStyle();else{if(void 0===i)return this.options[t];switch(this.options[t]=i,t){case"direction":this.setDirection();break;case"height":case"width":case"minHeight":case"maxHeight":this.setDimensions();break;case"spellcheck":this.setSpellcheck();break;case"placeholder":this.setPlaceholder();break;case"customText":this.setCustomText();break;case"language":this.setLanguage();break;case"textNearImage":this.setTextNearImage();break;case"zIndex":this.setZIndex();break;case"theme":this.setTheme();break;case"allowScript":this.setAllowScript();break;case"allowStyle":this.setAllowStyle()}}};var i=e.fn.editable;e.fn.editable=function(i){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);if("string"==typeof i){var s=[];return this.each(function(){var t=e(this),r=t.data("fa.editable");if(!r[i])return e.error("Method "+i+" does not exist in Froala Editor.");var o=r[i].apply(r,n.slice(1));void 0===o?s.push(this):0===s.length&&s.push(o)}),1==s.length?s[0]:s}return"object"!=typeof i&&i?void 0:this.each(function(){var n=this,r=e(n),s=r.data("fa.editable");s||r.data("fa.editable",s=new t(n,i))})},e.fn.editable.Constructor=t,e.Editable=t,e.fn.editable.noConflict=function(){return e.fn.editable=i,this}}(window.jQuery),function(e){e.Editable.prototype.initUndoRedo=function(){this.undoStack=[],this.undoIndex=0,this.saveUndoStep(),this.disableBrowserUndo()},e.Editable.prototype.undo=function(){if(this.no_verify=!0,this.undoIndex>1){clearTimeout(this.typingTimer),this.triggerEvent("beforeUndo",[],!1);var e=this.undoStack[--this.undoIndex-1];this.restoreSnapshot(e),this.doingRedo=!0,this.triggerEvent("afterUndo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},e.Editable.prototype.redo=function(){if(this.no_verify=!0,this.undoIndex<this.undoStack.length){clearTimeout(this.typingTimer),this.triggerEvent("beforeRedo",[],!1);var e=this.undoStack[this.undoIndex++];this.restoreSnapshot(e),this.doingRedo=!0,this.triggerEvent("afterRedo",[]),this.doingRedo=!1,""!==this.text()?this.repositionEditor():this.hide(),this.$element.trigger("placeholderCheck"),this.focus(),this.refreshButtons()}this.no_verify=!1},e.Editable.prototype.saveUndoStep=function(){if(!this.undoStack)return!1;for(;this.undoStack.length>this.undoIndex;)this.undoStack.pop();var e=this.getSnapshot();this.undoStack[this.undoIndex-1]&&this.identicSnapshots(this.undoStack[this.undoIndex-1],e)||(this.undoStack.push(e),this.undoIndex++),this.refreshUndo(),this.refreshRedo()},e.Editable.prototype.refreshUndo=function(){if(this.isEnabled("undo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="undo"]').removeAttr("disabled"),(0===this.undoStack.length||this.undoIndex<=1||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="undo"]').attr("disabled",!0)}},e.Editable.prototype.refreshRedo=function(){if(this.isEnabled("redo")){if(void 0===this.$editor)return;this.$bttn_wrapper.find('[data-cmd="redo"]').removeAttr("disabled"),(this.undoIndex==this.undoStack.length||this.isHTML)&&this.$bttn_wrapper.find('[data-cmd="redo"]').prop("disabled",!0)}},e.Editable.prototype.getNodeIndex=function(e){for(var t=e.parentNode.childNodes,i=0,n=null,r=0;r<t.length;r++){if(n){var s=3===t[r].nodeType&&""===t[r].textContent,o=3===n.nodeType&&3===t[r].nodeType;s||o||i++}if(t[r]==e)return i;n=t[r]}},e.Editable.prototype.getNodeLocation=function(e){var t=[];if(!e.parentNode)return[];for(;e!=this.$element.get(0);)t.push(this.getNodeIndex(e)),e=e.parentNode;return t.reverse()},e.Editable.prototype.getNodeByLocation=function(e){for(var t=this.$element.get(0),i=0;i<e.length;i++)t=t.childNodes[e[i]];return t},e.Editable.prototype.getRealNodeOffset=function(e,t){for(;e&&3===e.nodeType;){var i=e.previousSibling;i&&3==i.nodeType&&(t+=i.textContent.length),e=i}return t},e.Editable.prototype.getRangeSnapshot=function(e){return{scLoc:this.getNodeLocation(e.startContainer),scOffset:this.getRealNodeOffset(e.startContainer,e.startOffset),ecLoc:this.getNodeLocation(e.endContainer),ecOffset:this.getRealNodeOffset(e.endContainer,e.endOffset)}},e.Editable.prototype.getSnapshot=function(){var e={};if(e.html=this.$element.html(),e.ranges=[],this.selectionInEditor()&&this.$element.is(":focus"))for(var t=this.getRanges(),i=0;i<t.length;i++)e.ranges.push(this.getRangeSnapshot(t[i]));return e},e.Editable.prototype.identicSnapshots=function(e,t){return e.html!=t.html?!1:JSON.stringify(e.ranges)!=JSON.stringify(t.ranges)?!1:!0},e.Editable.prototype.restoreRangeSnapshot=function(e,t){try{var i=this.getNodeByLocation(e.scLoc),n=e.scOffset,r=this.getNodeByLocation(e.ecLoc),s=e.ecOffset,o=this.document.createRange();o.setStart(i,n),o.setEnd(r,s),t.addRange(o)}catch(a){}},e.Editable.prototype.restoreSnapshot=function(t){this.$element.html()!=t.html&&this.$element.html(t.html);var i=this.getSelection();this.clearSelection(),this.$element.focus();for(var n=0;n<t.ranges.length;n++)this.restoreRangeSnapshot(t.ranges[n],i);setTimeout(e.proxy(function(){this.$element.find(".f-img-wrap img").click()},this),0)}}(jQuery),function(e){e.Editable.prototype.refreshButtons=function(t){return this.initialized&&(this.selectionInEditor()&&!this.isHTML||this.browser.msie&&e.Editable.getIEversion()<9||t)?(this.$editor.find("button[data-cmd]").removeClass("active"),this.refreshDisabledState(),void this.raiseEvent("refresh")):!1},e.Editable.prototype.refreshDisabledState=function(){if(this.isHTML)return!1;if(this.$editor){for(var t=0;t<this.options.buttons.length;t++){var i=this.options.buttons[t];if(void 0!==e.Editable.commands[i]){var n=!1;e.isFunction(e.Editable.commands[i].disabled)?n=e.Editable.commands[i].disabled.apply(this):void 0!==e.Editable.commands[i].disabled&&(n=!0),n?(this.$editor.find('button[data-cmd="'+i+'"]').prop("disabled",!0),this.$editor.find('button[data-name="'+i+'"]').prop("disabled",!0)):(this.$editor.find('button[data-cmd="'+i+'"]').removeAttr("disabled"),this.$editor.find('button[data-name="'+i+'"]').removeAttr("disabled"))}}this.refreshUndo(),this.refreshRedo()}},e.Editable.prototype.refreshFormatBlocks=function(){var e=this.getSelectionElements()[0],t=e.tagName.toLowerCase();this.options.paragraphy&&t===this.options.defaultTag.toLowerCase()&&(t="n"),this.$editor.find('.fr-bttn > button[data-name="formatBlock"] + ul li').removeClass("active"),this.$bttn_wrapper.find('.fr-bttn > button[data-name="formatBlock"] + ul li[data-val="'+t+'"]').addClass("active")},e.Editable.prototype.refreshDefault=function(e){try{this.document.queryCommandState(e)===!0&&this.$editor.find('[data-cmd="'+e+'"]').addClass("active")}catch(t){}},e.Editable.prototype.refreshAlign=function(){var t=e(this.getSelectionElements()[0]);this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var i,n=t.css("text-align");["left","right","justify","center"].indexOf(n)<0&&(n="left"),"left"==n?i="justifyLeft":"right"==n?i="justifyRight":"justify"==n?i="justifyFull":"center"==n&&(i="justifyCenter"),this.$editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+n),this.$editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+i+'"]').addClass("active")},e.Editable.prototype.refreshHTML=function(){this.isActive("html")?this.$editor.find('[data-cmd="html"]').addClass("active"):this.$editor.find('[data-cmd="html"]').removeClass("active")}}(jQuery),function(e){e.Editable.commands={bold:{title:"Bold",icon:"fa fa-bold",shortcut:"(Ctrl + B)",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},italic:{title:"Italic",icon:"fa fa-italic",shortcut:"(Ctrl + I)",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},underline:{cmd:"underline",title:"Underline",icon:"fa fa-underline",shortcut:"(Ctrl + U)",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},strikeThrough:{title:"Strikethrough",icon:"fa fa-strikethrough",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},subscript:{title:"Subscript",icon:"fa fa-subscript",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},superscript:{title:"Superscript",icon:"fa fa-superscript",refresh:e.Editable.prototype.refreshDefault,undo:!0,callbackWithoutSelection:function(e){this._startInDefault(e)}},formatBlock:{title:"Format Block",icon:"fa fa-paragraph",refreshOnShow:e.Editable.prototype.refreshFormatBlocks,callback:function(e,t){this.formatBlock(t)},undo:!0},align:{title:"Alignment",icon:"fa fa-align-left",refresh:e.Editable.prototype.refreshAlign,refreshOnShow:e.Editable.prototype.refreshAlign,seed:[{cmd:"justifyLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"justifyCenter",title:"Align Center",icon:"fa fa-align-center"},{cmd:"justifyRight",title:"Align Right",icon:"fa fa-align-right"},{cmd:"justifyFull",title:"Justify",icon:"fa fa-align-justify"}],callback:function(e,t){this.align(t)},undo:!0},outdent:{title:"Indent Less",icon:"fa fa-dedent",activeless:!0,shortcut:"(Ctrl + <)",callback:function(){this.outdent(!0)},undo:!0},indent:{title:"Indent More",icon:"fa fa-indent",activeless:!0,shortcut:"(Ctrl + >)",callback:function(){this.indent()},undo:!0},selectAll:{title:"Select All",icon:"fa fa-file-text",shortcut:"(Ctrl + A)",callback:function(e,t){this.$element.focus(),this.execDefault(e,t)},undo:!1},createLink:{title:"Insert Link",icon:"fa fa-link",shortcut:"(Ctrl + K)",callback:function(){this.insertLink()},undo:!1},insertImage:{title:"Insert Image",icon:"fa fa-picture-o",activeless:!0,shortcut:"(Ctrl + P)",callback:function(){this.insertImage()},undo:!1},undo:{title:"Undo",icon:"fa fa-undo",activeless:!0,shortcut:"(Ctrl+Z)",refresh:e.Editable.prototype.refreshUndo,callback:function(){this.undo()},undo:!1},redo:{title:"Redo",icon:"fa fa-repeat",activeless:!0,shortcut:"(Shift+Ctrl+Z)",refresh:e.Editable.prototype.refreshRedo,callback:function(){this.redo()},undo:!1},html:{title:"Show HTML",icon:"fa fa-code",refresh:e.Editable.prototype.refreshHTML,callback:function(){this.html()},undo:!1},save:{title:"Save",icon:"fa fa-floppy-o",callback:function(){this.save()},undo:!1},insertHorizontalRule:{title:"Insert Horizontal Line",icon:"fa fa-minus",callback:function(e){this.insertHR(e)},undo:!0},removeFormat:{title:"Clear formatting",icon:"fa fa-eraser",activeless:!0,callback:function(){this.removeFormat()},undo:!0}},e.Editable.prototype.exec=function(t,i,n){return!this.selectionInEditor()&&e.Editable.commands[t].undo&&this.focus(),this.selectionInEditor()&&""===this.text()&&e.Editable.commands[t].callbackWithoutSelection?(e.Editable.commands[t].callbackWithoutSelection.apply(this,[t,i,n]),!1):void(e.Editable.commands[t].callback?e.Editable.commands[t].callback.apply(this,[t,i,n]):this.execDefault(t,i))},e.Editable.prototype.html=function(){var e;this.isHTML?(this.isHTML=!1,e=this.$html_area.val(),this.$box.removeClass("f-html"),this.$element.attr("contenteditable",!0),this.setHTML(e,!1),this.$editor.find('.fr-bttn:not([data-cmd="html"]), .fr-trigger').removeAttr("disabled"),this.$editor.find('.fr-bttn[data-cmd="html"]').removeClass("active"),this.$element.blur(),this.focus(),this.refreshButtons(),this.triggerEvent("htmlHide",[e],!0,!1)):(this.$box.removeClass("f-placeholder"),this.clearSelection(),this.cleanify(!1,!0,!1),e=this.cleanTags(this.getHTML(!1,!1)),this.$html_area.val(e).trigger("resize"),this.$html_area.css("height",this.$element.height()-1),this.$element.html("").append(this.$html_area).removeAttr("contenteditable"),this.$box.addClass("f-html"),this.$editor.find('button.fr-bttn:not([data-cmd="html"]), button.fr-trigger').attr("disabled",!0),this.$editor.find('.fr-bttn[data-cmd="html"]').addClass("active"),this.isHTML=!0,this.hide(),this.imageMode=!1,this.$element.blur(),this.$element.removeAttr("contenteditable"),this.triggerEvent("htmlShow",[e],!0,!1))},e.Editable.prototype.insertHR=function(t){this.$element.find("hr").addClass("fr-tag"),this.$element.hasClass("f-placeholder")?e(this.$element.find("> "+this.valid_nodes.join(", >"))[0]).before("<hr/>"):this.document.execCommand(t),this.hide();var i=this.$element.find("hr:not(.fr-tag)").next(this.valid_nodes.join(","));i.length>0?e(i[0]).prepend(this.markers_html):this.$element.find("hr:not(.fr-tag)").after(this.options.paragraphy?"<p>"+this.markers_html+"<br/></p>":this.markers_html),this.restoreSelectionByMarkers(),this.triggerEvent(t,[],!0,!1)},e.Editable.prototype.formatBlock=function(t){if(this.disabledList.indexOf("formatBlock")>=0)return!1;if(this.browser.msie&&e.Editable.getIEversion()<9)return"n"==t&&(t=this.options.defaultTag),this.document.execCommand("formatBlock",!1,"<"+t+">"),this.triggerEvent("formatBlock"),!1;if(this.$element.hasClass("f-placeholder")){if(this.options.paragraphy||"n"!=t){"n"==t&&(t=this.options.defaultTag);var i=e("<"+t+"><br/></"+t+">");this.$element.html(i),this.setSelection(i.get(0),0),this.$element.removeClass("f-placeholder")}}else{this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var n=this.getSelectionElements();n[0]==this.$element.get(0)&&(n=this.$element.find("> "+this.valid_nodes.join(", >"))),this.saveSelectionByMarkers();for(var r,s=function(t){if("PRE"==t.get(0).tagName)for(;t.find("br + br").length>0;){var i=e(t.find("br + br")[0]);i.prev().remove(),i.replaceWith("\n\n")}},o=0;o<n.length;o++){var a=e(n[o]);if(!this.fakeEmpty(a)){if(s(a),!this.options.paragraphy&&this.emptyElement(a.get(0))&&a.append("<br/>"),"n"==t)if(this.options.paragraphy){var l="<"+this.options.defaultTag+this.attrs(a.get(0))+">"+a.html()+"</"+this.options.defaultTag+">";r=e(l)}else r=a.html()+"<br/>";else r=e("<"+t+this.attrs(a.get(0))+">").html(a.html());a.get(0)!=this.$element.get(0)?a.replaceWith(r):a.html(r)}}this.unwrapText(),this.$element.find("pre + pre").each(function(){e(this).prepend(e(this).prev().html()+"<br/><br/>"),e(this).prev().remove()});var d=this;this.$element.find(this.valid_nodes.join(",")).each(function(){"PRE"!=this.tagName&&e(this).replaceWith("<"+this.tagName+d.attrs(this)+">"+e(this).html().replace(/\n\n/gi,"</"+this.tagName+"><"+this.tagName+">")+"</"+this.tagName+">")}),this.$element.find(this.valid_nodes.join(":empty ,")+":empty").append("<br/>"),this.cleanupLists(),this.restoreSelectionByMarkers()}this.triggerEvent("formatBlock"),this.repositionEditor()},e.Editable.prototype.align=function(t){if(this.browser.msie&&e.Editable.getIEversion()<9)return this.document.execCommand(t,!1,!1),this.triggerEvent("align",[t]),!1;this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers(),this.saveSelectionByMarkers();var i=this.getSelectionElements();"justifyLeft"==t?t="left":"justifyRight"==t?t="right":"justifyCenter"==t?t="center":"justifyFull"==t&&(t="justify");for(var n=0;n<i.length;n++)this.parents(e(i[n]),"LI").length>0&&(i[n]=e(i[n]).parents("LI").get(0)),e(i[n]).css("text-align",t);this.cleanupLists(),this.unwrapText(),this.restoreSelectionByMarkers(),this.repositionEditor(),this.triggerEvent("align",[t])},e.Editable.prototype.indent=function(t,i){if(void 0===i&&(i=!0),this.browser.msie&&e.Editable.getIEversion()<9)return t?this.document.execCommand("outdent",!1,!1):this.document.execCommand("indent",!1,!1),!1;var n=20;t&&(n=-20),this.saveSelectionByMarkers(),this.wrapText(),this.restoreSelectionByMarkers();var r=this.getSelectionElements();this.saveSelectionByMarkers();for(var s=0;s<r.length;s++)e(r[s]).parentsUntil(this.$element,"li").length>0&&(r[s]=e(r[s]).closest("li").get(0));for(var o=0;o<r.length;o++){var a=e(r[o]);if(this.raiseEvent("indent",[a,t]))if(a.get(0)!=this.$element.get(0)){var l=parseInt(a.css("margin-left"),10),d=Math.max(0,l+n);a.css("marginLeft",d),0===d&&(a.css("marginLeft",""),void 0===a.css("style")&&a.removeAttr("style"))}else{var c=e("<div>").html(a.html());a.html(c),c.css("marginLeft",Math.max(0,n)),0===Math.max(0,n)&&(c.css("marginLeft",""),void 0===c.css("style")&&c.removeAttr("style"))}}this.unwrapText(),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),t||this.triggerEvent("indent")},e.Editable.prototype.outdent=function(e){this.indent(!0,e),this.triggerEvent("outdent")},e.Editable.prototype.execDefault=function(e,t){this.saveUndoStep(),this.document.execCommand(e,!1,t),this.triggerEvent(e,[],!0,!0)},e.Editable.prototype._startInDefault=function(e){this.focus(),this.document.execCommand(e,!1,!1),this.refreshButtons()},e.Editable.prototype._startInFontExec=function(t,i,n){this.focus();try{var r=this.getRange(),s=r.cloneRange();s.collapse(!1);var o=e('<span data-inserted="true" data-fr-verified="true" style="'+t+": "+n+';">'+e.Editable.INVISIBLE_SPACE+"</span>",this.document);s.insertNode(o[0]),o=this.$element.find("[data-inserted]"),o.removeAttr("data-inserted"),this.setSelection(o.get(0),1),null!=i&&this.triggerEvent(i,[n],!0,!0)}catch(a){}},e.Editable.prototype.removeFormat=function(){this.document.execCommand("removeFormat",!1,!1),this.document.execCommand("unlink",!1,!1),this.refreshButtons()},e.Editable.prototype.inlineStyle=function(t,i,n){if(this.browser.webkit){var r=function(e){return e.attr("style").indexOf("font-size")>=0};this.$element.find("[style]").each(function(t,i){var n=e(i);r(n)&&(n.attr("data-font-size",n.css("font-size")),n.css("font-size",""))})}this.document.execCommand("fontSize",!1,4),this.saveSelectionByMarkers(),this.browser.webkit&&this.$element.find("[data-font-size]").each(function(t,i){var n=e(i);n.css("font-size",n.attr("data-font-size")),n.removeAttr("data-font-size")});var s=function(i){var r=e(i);r.css(t)!=n&&r.css(t,""),""===r.attr("style")&&r.replaceWith(r.html())};this.$element.find("font").each(function(i,r){var o=e('<span data-fr-verified="true" style="'+t+": "+n+';">'+e(r).html()+"</span>");e(r).replaceWith(o);for(var a=o.find("span"),l=a.length-1;l>=0;l--)s(a[l])}),this.removeBlankSpans(),this.restoreSelectionByMarkers(),this.repositionEditor(),null!=i&&this.triggerEvent(i,[n],!0,!0)}}(jQuery),function(e){e.Editable.prototype.addListener=function(e,t){var i=this._events,n=i[e]=i[e]||[];n.push(t)},e.Editable.prototype.raiseEvent=function(e,t){void 0===t&&(t=[]);var i=!0,n=this._events[e];if(n)for(var r=0,s=n.length;s>r;r++){var o=n[r].apply(this,t);void 0!==o&&i!==!1&&(i=o)}return void 0===i&&(i=!0),i}}(jQuery),function(e){e.Editable.prototype.start_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',e.Editable.prototype.end_marker='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span>',e.Editable.prototype.markers_html='<span class="f-marker" data-id="0" data-fr-verified="true" data-type="false"></span><span class="f-marker" data-id="0" data-fr-verified="true" data-type="true"></span>',e.Editable.prototype.text=function(){var e="";
return this.window.getSelection?e=this.window.getSelection():this.document.getSelection?e=this.document.getSelection():this.document.selection&&(e=this.document.selection.createRange().text),e.toString()},e.Editable.prototype.selectionInEditor=function(){var t=this.getSelectionParent(),i=!1;return t==this.$element.get(0)&&(i=!0),i===!1&&e(t).parents().each(e.proxy(function(e,t){t==this.$element.get(0)&&(i=!0)},this)),i},e.Editable.prototype.getSelection=function(){var e="";return e=this.window.getSelection?this.window.getSelection():this.document.getSelection?this.document.getSelection():this.document.selection.createRange()},e.Editable.prototype.getRange=function(){var e=this.getRanges();return e.length>0?e[0]:null},e.Editable.prototype.getRanges=function(){var e=this.getSelection();if(e.getRangeAt&&e.rangeCount){for(var t=[],i=0;i<e.rangeCount;i++)t.push(e.getRangeAt(i));return t}return this.document.createRange?[this.document.createRange()]:[]},e.Editable.prototype.clearSelection=function(){var e=this.getSelection();try{e.removeAllRanges?e.removeAllRanges():e.empty?e.empty():e.clear&&e.clear()}catch(t){}},e.Editable.prototype.getSelectionElement=function(){var t=this.getSelection();if(t&&t.rangeCount){var i=this.getRange(),n=i.startContainer;if(1==n.nodeType){var r=!1;n.childNodes.length>0&&n.childNodes[i.startOffset]&&e(n.childNodes[i.startOffset]).text()===this.text()&&(n=n.childNodes[i.startOffset],r=!0),!r&&n.childNodes.length>0&&e(n.childNodes[0]).text()===this.text()&&["BR","IMG","HR"].indexOf(n.childNodes[0].tagName)<0&&(n=n.childNodes[0])}for(;1!=n.nodeType&&n.parentNode;)n=n.parentNode;for(var s=n;s&&"BODY"!=s.tagName;){if(s==this.$element.get(0))return n;s=e(s).parent()[0]}}return this.$element.get(0)},e.Editable.prototype.getSelectionParent=function(){var t,i=null;return this.window.getSelection?(t=this.window.getSelection(),t&&t.rangeCount&&(i=t.getRangeAt(0).commonAncestorContainer,1!=i.nodeType&&(i=i.parentNode))):(t=this.document.selection)&&"Control"!=t.type&&(i=t.createRange().parentElement()),null!=i&&(e.inArray(this.$element.get(0),e(i).parents())>=0||i==this.$element.get(0))?i:null},e.Editable.prototype.nodeInRange=function(e,t){var i;if(e.intersectsNode)return e.intersectsNode(t);i=t.ownerthis.document.createRange();try{i.selectNode(t)}catch(n){i.selectNodeContents(t)}return-1==e.compareBoundaryPoints(Range.END_TO_START,i)&&1==e.compareBoundaryPoints(Range.START_TO_END,i)},e.Editable.prototype.getElementFromNode=function(t){for(1!=t.nodeType&&(t=t.parentNode);null!==t&&this.valid_nodes.indexOf(t.tagName)<0;)t=t.parentNode;return null!=t&&"LI"==t.tagName&&e(t).find(this.valid_nodes.join(",")).not("li").length>0?null:e.makeArray(e(t).parents()).indexOf(this.$element.get(0))>=0?t:null},e.Editable.prototype.nextNode=function(e,t){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling&&e!=t;)e=e.parentNode;return e&&e!=t?e.nextSibling:null},e.Editable.prototype.getRangeSelectedNodes=function(e){var t=[],i=e.startContainer,n=e.endContainer;if(i==n&&"TR"!=i.tagName){if(i.hasChildNodes()&&0!==i.childNodes.length){for(var r=i.childNodes,s=e.startOffset;s<e.endOffset;s++)r[s]&&t.push(r[s]);return 0===t.length&&t.push(i),t}return[i]}if(i==n&&"TR"==i.tagName){var o=i.childNodes,a=e.startOffset;if(o.length>a&&a>=0){var l=o[a];if("TD"==l.tagName||"TH"==l.tagName)return[l]}}for(;i&&i!=n;)i=this.nextNode(i,n),(i!=n||e.endOffset>0)&&t.push(i);for(i=e.startContainer;i&&i!=e.commonAncestorContainer;)t.unshift(i),i=i.parentNode;return t},e.Editable.prototype.getSelectedNodes=function(){if(this.window.getSelection){var t=this.window.getSelection();if(!t.isCollapsed){for(var i=this.getRanges(),n=[],r=0;r<i.length;r++)n=e.merge(n,this.getRangeSelectedNodes(i[r]));return n}if(this.selectionInEditor()){var s=t.getRangeAt(0).startContainer;return 3==s.nodeType?[s.parentNode]:[s]}}return[]},e.Editable.prototype.getSelectionElements=function(){var t=this.getSelectedNodes(),i=[];return e.each(t,e.proxy(function(e,t){if(null!==t){var n=this.getElementFromNode(t);i.indexOf(n)<0&&n!=this.$element.get(0)&&null!==n&&i.push(n)}},this)),0===i.length&&i.push(this.$element.get(0)),i},e.Editable.prototype.getSelectionLink=function(){var t=this.getSelectionLinks();return t.length>0?e(t[0]).attr("href"):null},e.Editable.prototype.saveSelection=function(){if(!this.selectionDisabled){this.savedRanges=[];for(var e=this.getRanges(),t=0;t<e.length;t++)this.savedRanges.push(e[t].cloneRange())}},e.Editable.prototype.restoreSelection=function(){if(!this.selectionDisabled){var e,t,i=this.getSelection();if(this.savedRanges&&this.savedRanges.length)for(i.removeAllRanges(),e=0,t=this.savedRanges.length;t>e;e+=1)i.addRange(this.savedRanges[e]);this.savedRanges=null}},e.Editable.prototype.insertMarkersAtPoint=function(e){var t=e.clientX,i=e.clientY;this.removeMarkers();var n,r=null;if("undefined"!=typeof this.document.caretPositionFromPoint?(n=this.document.caretPositionFromPoint(t,i),r=this.document.createRange(),r.setStart(n.offsetNode,n.offset),r.setEnd(n.offsetNode,n.offset)):"undefined"!=typeof this.document.caretRangeFromPoint&&(n=this.document.caretRangeFromPoint(t,i),r=this.document.createRange(),r.setStart(n.startContainer,n.startOffset),r.setEnd(n.startContainer,n.startOffset)),null!==r&&"undefined"!=typeof this.window.getSelection){var s=this.window.getSelection();s.removeAllRanges(),s.addRange(r)}else if("undefined"!=typeof this.document.body.createTextRange)try{r=this.document.body.createTextRange(),r.moveToPoint(t,i);var o=r.duplicate();o.moveToPoint(t,i),r.setEndPoint("EndToEnd",o),r.select()}catch(a){}this.placeMarker(r,!0,0),this.placeMarker(r,!1,0)},e.Editable.prototype.saveSelectionByMarkers=function(){if(!this.selectionDisabled){this.selectionInEditor()||this.focus(),this.removeMarkers();for(var e=this.getRanges(),t=0;t<e.length;t++)if(e[t].startContainer!==this.document){var i=e[t];this.placeMarker(i,!0,t),this.placeMarker(i,!1,t)}}},e.Editable.prototype.hasSelectionByMarkers=function(){var e=this.$element.find('.f-marker[data-type="true"]');return e.length>0?!0:!1},e.Editable.prototype.restoreSelectionByMarkers=function(t){if(void 0===t&&(t=!0),!this.selectionDisabled){var i=this.$element.find('.f-marker[data-type="true"]');if(0===i.length)return!1;this.$element.is(":focus")||this.browser.msie||this.$element.focus();var n=this.getSelection();(t||this.getRange()&&!this.getRange().collapsed||!e(i[0]).attr("data-collapsed"))&&(this.browser.msie&&e.Editable.getIEversion()<9||(this.clearSelection(),t=!0));for(var r=0;r<i.length;r++){var s=e(i[r]).data("id"),o=i[r],a=this.$element.find('.f-marker[data-type="false"][data-id="'+s+'"]');if(this.browser.msie&&e.Editable.getIEversion()<9)return this.setSelection(o,0,a,0),this.removeMarkers(),!1;var l;if(l=t?this.document.createRange():this.getRange(),a.length>0){a=a[0];try{l.setStartAfter(o),l.setEndBefore(a)}catch(d){}}t&&n.addRange(l)}this.removeMarkers()}},e.Editable.prototype.setSelection=function(e,t,i,n){var r=this.getSelection();if(r){this.clearSelection();try{i||(i=e),void 0===t&&(t=0),void 0===n&&(n=t);var s=this.getRange();s.setStart(e,t),s.setEnd(i,n),r.addRange(s)}catch(o){}}},e.Editable.prototype.buildMarker=function(t,i,n){return void 0===n&&(n=""),e('<span class="f-marker"'+n+' style="display:none; line-height: 0;" data-fr-verified="true" data-id="'+i+'" data-type="'+t+'">',this.document)[0]},e.Editable.prototype.placeMarker=function(t,i,n){var r="";t.collapsed&&(r=' data-collapsed="true"');try{var s=t.cloneRange();s.collapse(i);var o,a,l;if(s.insertNode(this.buildMarker(i,n,r)),i===!0&&r)for(o=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;3===o.nodeType&&0===o.data.length;)e(o).remove(),o=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0).nextSibling;if(i===!0&&""===r&&(l=this.$element.find('span.f-marker[data-type="true"][data-id="'+n+'"]').get(0),o=l.nextSibling,o&&o.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(o.tagName)>=0)){a=[o];do o=a[0],a=e(o).contents();while(a[0]&&this.valid_nodes.indexOf(a[0].tagName)>=0);e(o).prepend(e(l))}if(i===!1&&""===r&&(l=this.$element.find('span.f-marker[data-type="false"][data-id="'+n+'"]').get(0),o=l.previousSibling,o&&o.nodeType===Node.ELEMENT_NODE&&this.valid_nodes.indexOf(o.tagName)>=0)){a=[o];do o=a[a.length-1],a=e(o).contents();while(a[a.length-1]&&this.valid_nodes.indexOf(a[a.length-1].tagName)>=0);e(o).append(e(l))}}catch(d){}},e.Editable.prototype.removeMarkers=function(){this.$element.find(".f-marker").remove()},e.Editable.prototype.getSelectionTextInfo=function(e){var t,i,n=!1,r=!1;if(this.window.getSelection){var s=this.window.getSelection();s&&s.rangeCount&&(t=s.getRangeAt(0),i=t.cloneRange(),i.selectNodeContents(e),i.setEnd(t.startContainer,t.startOffset),n=""===i.toString(),i.selectNodeContents(e),i.setStart(t.endContainer,t.endOffset),r=""===i.toString())}else this.document.selection&&"Control"!=this.document.selection.type&&(t=this.document.selection.createRange(),i=t.duplicate(),i.moveToElementText(e),i.setEndPoint("EndToStart",t),n=""===i.text,i.moveToElementText(e),i.setEndPoint("StartToEnd",t),r=""===i.text);return{atStart:n,atEnd:r}},e.Editable.prototype.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)}}(jQuery),function(e){e.Editable.hexToRGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,i,n){return t+t+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.Editable.hexToRGBString=function(e){var t=this.hexToRGB(e);return t?"rgb("+t.r+", "+t.g+", "+t.b+")":""},e.Editable.RGBToHex=function(e){function t(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}try{return e&&"transparent"!==e?/^#[0-9A-F]{6}$/i.test(e)?e:(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),("#"+t(e[1])+t(e[2])+t(e[3])).toUpperCase()):""}catch(i){return null}},e.Editable.getIEversion=function(){var e,t,i=-1;return"Microsoft Internet Explorer"==navigator.appName?(e=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(i=parseFloat(RegExp.$1))):"Netscape"==navigator.appName&&(e=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})"),null!==t.exec(e)&&(i=parseFloat(RegExp.$1))),i},e.Editable.browser=function(){var e={};if(this.getIEversion()>0)e.msie=!0;else{var t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],n={browser:i[1]||"",version:i[2]||"0"};i[1]&&(e[n.browser]=!0),parseInt(n.version,10)<9&&e.msie&&(e.oldMsie=!0),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0)}return e},e.Editable.isArray=function(e){return e&&!e.propertyIsEnumerable("length")&&"object"==typeof e&&"number"==typeof e.length},e.Editable.uniq=function(t){return e.grep(t,function(i,n){return n==e.inArray(i,t)})},e.Editable.cleanWhitespace=function(t){t.contents().filter(function(){return 1==this.nodeType&&e.Editable.cleanWhitespace(e(this)),3==this.nodeType&&!/\S/.test(this.nodeValue)}).remove()}}(jQuery),function(e){e.Editable.prototype.show=function(t){if(this.hideDropdowns(),void 0!==t){if(this.options.inlineMode||this.options.editInPopup)if(null!==t&&"touchend"!==t.type){if(this.options.showNextToCursor){var i=t.pageX,n=t.pageY;i<this.$element.offset().left&&(i=this.$element.offset().left),i>this.$element.offset().left+this.$element.width()&&(i=this.$element.offset().left+this.$element.width()),n<this.$element.offset.top&&(n=this.$element.offset().top),n>this.$element.offset().top+this.$element.height()&&(n=this.$element.offset().top+this.$element.height()),20>i&&(i=20),0>n&&(n=0),this.showByCoordinates(i,n)}else this.repositionEditor();e(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),0!==this.options.buttons.length||this.options.editInPopup||this.$editor.hide()}else e(".froala-editor:not(.f-basic)").hide(),this.$editor.show(),this.repositionEditor();this.hidePopups(),this.options.editInPopup||this.showEditPopupWrapper(),this.$bttn_wrapper.show(),this.refreshButtons(),this.imageMode=!1}},e.Editable.prototype.hideDropdowns=function(){this.$bttn_wrapper.find(".fr-dropdown .fr-trigger").removeClass("active"),this.$bttn_wrapper.find(".fr-dropdown .fr-trigger")},e.Editable.prototype.hide=function(e){return this.initialized?(void 0===e&&(e=!0),e?this.hideOtherEditors():(this.closeImageMode(),this.imageMode=!1),this.$popup_editor.hide(),this.hidePopups(!1),void(this.link=!1)):!1},e.Editable.prototype.hideOtherEditors=function(){for(var t=1;t<=e.Editable.count;t++)t!=this._id&&this.$window.trigger("hide."+t)},e.Editable.prototype.hideBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.hide()},e.Editable.prototype.showBttnWrapper=function(){this.options.inlineMode&&this.$bttn_wrapper.show()},e.Editable.prototype.showEditPopupWrapper=function(){this.$edit_popup_wrapper&&(this.$edit_popup_wrapper.show(),setTimeout(e.proxy(function(){this.$edit_popup_wrapper.find("input").val(this.$element.text()).focus().select()},this),1))},e.Editable.prototype.hidePopups=function(e){void 0===e&&(e=!0),e&&this.hideBttnWrapper(),this.raiseEvent("hidePopups")},e.Editable.prototype.showEditPopup=function(){this.showEditPopupWrapper()}}(jQuery),function(e){e.Editable.prototype.getBoundingRect=function(){var t;if(this.isLink){t={};var i=this.$element;t.left=i.offset().left-this.$window.scrollLeft(),t.top=i.offset().top-this.$window.scrollTop(),t.width=i.outerWidth(),t.height=parseInt(i.css("padding-top").replace("px",""),10)+i.height(),t.right=1,t.bottom=1,t.ok=!0}else if(this.getRange()&&this.getRange().collapsed){var n=e(this.getSelectionElement());this.saveSelectionByMarkers();var r=this.$element.find(".f-marker:first");r.css("display","inline");var s=r.offset();r.css("display","none"),t={},t.left=s.left-this.$window.scrollLeft(),t.width=0,t.height=(parseInt(n.css("line-height").replace("px",""),10)||10)-10-this.$window.scrollTop(),t.top=s.top,t.right=1,t.bottom=1,t.ok=!0,this.removeMarkers()}else this.getRange()&&(t=this.getRange().getBoundingClientRect());return t},e.Editable.prototype.repositionEditor=function(e){var t,i,n;if(this.options.inlineMode||e){if(t=this.getBoundingRect(),this.showBttnWrapper(),t.ok||t.left>=0&&t.top>=0&&t.right>0&&t.bottom>0)i=t.left+t.width/2,n=t.top+t.height,this.iOS()&&this.iOSVersion()<8||(i+=this.$window.scrollLeft(),n+=this.$window.scrollTop()),this.showByCoordinates(i,n);else if(this.options.alwaysVisible)this.hide();else{var r=this.$element.offset();this.showByCoordinates(r.left,r.top+10)}0===this.options.buttons.length&&this.hide()}},e.Editable.prototype.showByCoordinates=function(e,t){e-=22,t+=8;var i=this.$document.find(this.options.scrollableContainer);"body"!=this.options.scrollableContainer&&(e-=i.offset().left,t-=i.offset().top,this.iPad()||(e+=i.scrollLeft(),t+=i.scrollTop()));var n=Math.max(this.$popup_editor.outerWidth(),250);e+n>=i.outerWidth()-50&&e+44-n>0?(this.$popup_editor.addClass("right-side"),e=i.outerWidth()-(e+44),"static"==i.css("position")&&(e=e+parseFloat(i.css("margin-left"),10)+parseFloat(i.css("margin-right"),10)),this.$popup_editor.css("top",t),this.$popup_editor.css("right",e),this.$popup_editor.css("left","auto")):e+n<i.outerWidth()-50?(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",t),this.$popup_editor.css("left",e),this.$popup_editor.css("right","auto")):(this.$popup_editor.removeClass("right-side"),this.$popup_editor.css("top",t),this.$popup_editor.css("left",Math.max(i.outerWidth()-n,10)/2),this.$popup_editor.css("right","auto")),this.$popup_editor.show()},e.Editable.prototype.positionPopup=function(t){if(e(this.$editor.find('button.fr-bttn[data-cmd="'+t+'"]')).length){var i=this.$editor.find('button.fr-bttn[data-cmd="'+t+'"]'),n=i.width(),r=i.height(),s=i.offset().left+n/2,o=i.offset().top+r;this.showByCoordinates(s,o)}}}(jQuery),function(e){e.Editable.prototype.refreshImageAlign=function(e){this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li').removeClass("active");var t="floatImageNone",i="center";e.hasClass("fr-fil")?(i="left",t="floatImageLeft"):e.hasClass("fr-fir")&&(i="right",t="floatImageRight"),this.$image_editor.find('.fr-dropdown > button[data-name="align"].fr-trigger i').attr("class","fa fa-align-"+i),this.$image_editor.find('.fr-dropdown > button[data-name="align"] + ul li[data-val="'+t+'"]').addClass("active")},e.Editable.prototype.refreshImageDisplay=function(){var e=this.$element.find(".f-img-editor");this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li').removeClass("active"),e.hasClass("fr-dib")?this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dib"]').addClass("active"):this.$image_editor.find('.fr-dropdown > button[data-name="display"] + ul li[data-val="fr-dii"]').addClass("active")},e.Editable.image_commands={align:{title:"Alignment",icon:"fa fa-align-center",refresh:e.Editable.prototype.refreshImageAlign,refreshOnShow:e.Editable.prototype.refreshImageAlign,seed:[{cmd:"floatImageLeft",title:"Align Left",icon:"fa fa-align-left"},{cmd:"floatImageNone",title:"Align Center",icon:"fa fa-align-center"},{cmd:"floatImageRight",title:"Align Right",icon:"fa fa-align-right"}],callback:function(e,t,i){this[i](e)},undo:!0},display:{title:"Text Wrap",icon:"fa fa-star",refreshOnShow:e.Editable.prototype.refreshImageDisplay,namespace:"Image",seed:[{title:"Inline",value:"fr-dii"},{title:"Break Text",value:"fr-dib"}],callback:function(e,t,i){this.displayImage(e,i)},undo:!0},linkImage:{title:"Insert Link",icon:{type:"font",value:"fa fa-link"},callback:function(e){this.linkImage(e)}},replaceImage:{title:"Replace Image",icon:{type:"font",value:"fa fa-exchange"},callback:function(e){this.replaceImage(e)}},removeImage:{title:"Remove Image",icon:{type:"font",value:"fa fa-trash-o"},callback:function(e){this.removeImage(e)}}},e.Editable.DEFAULTS=e.extend(e.Editable.DEFAULTS,{allowedImageTypes:["jpeg","jpg","png","gif"],customImageButtons:{},defaultImageTitle:"Image title",defaultImageWidth:300,defaultImageDisplay:"block",defaultImageAlignment:"center",imageButtons:["display","align","linkImage","replaceImage","removeImage"],imageDeleteConfirmation:!0,imageDeleteURL:null,imageDeleteParams:{},imageMove:!0,imageResize:!0,imageLink:!0,imageTitle:!0,imageUpload:!0,imageUploadParams:{},imageUploadParam:"file",imageUploadToS3:!1,imageUploadURL:"http://i.froala.com/upload",maxImageSize:10485760,pasteImage:!0,textNearImage:!0}),e.Editable.prototype.hideImageEditorPopup=function(){this.$image_editor&&this.$image_editor.hide()},e.Editable.prototype.showImageEditorPopup=function(){this.$image_editor&&this.$image_editor.show(),this.options.imageMove||this.$element.attr("contenteditable",!1)},e.Editable.prototype.showImageWrapper=function(){this.$image_wrapper&&this.$image_wrapper.show()},e.Editable.prototype.hideImageWrapper=function(e){this.$image_wrapper&&(this.$element.attr("data-resize")||e||(this.closeImageMode(),this.imageMode=!1),this.$image_wrapper.hide(),this.$image_wrapper.find("input").blur())},e.Editable.prototype.showInsertImage=function(){this.hidePopups(),this.showImageWrapper()},e.Editable.prototype.showImageEditor=function(){this.hidePopups(),this.showImageEditorPopup()},e.Editable.prototype.insertImageHTML=function(){var t='<div class="froala-popup froala-image-popup" style="display: none;"><h4><span data-text="true">Insert Image</span><span data-text="true">Uploading image</span><i title="Cancel" class="fa fa-times" id="f-image-close-'+this._id+'"></i></h4>';return t+='<div id="f-image-list-'+this._id+'">',this.options.imageUpload&&(t+='<div class="f-popup-line drop-upload">',t+='<div class="f-upload" id="f-upload-div-'+this._id+'"><strong data-text="true">Drop Image</strong><br>(<span data-text="true">or click</span>)<form target="frame-'+this._id+'" enctype="multipart/form-data" encoding="multipart/form-data" action="'+this.options.imageUploadURL+'" method="post" id="f-upload-form-'+this._id+'"><input id="f-file-upload-'+this._id+'" type="file" name="'+this.options.imageUploadParam+'" accept="image/*"></form></div>',this.browser.msie&&e.Editable.getIEversion()<=9&&(t+='<iframe id="frame-'+this._id+'" name="frame-'+this._id+'" src="javascript:false;" style="width:0; height:0; border:0px solid #FFF; position: fixed; z-index: -1;"></iframe>'),t+="</div>"),this.options.imageLink&&(t+='<div class="f-popup-line"><label><span data-text="true">Enter URL</span>: </label><input id="f-image-url-'+this._id+'" type="text" placeholder="http://example.com"><button class="f-browse fr-p-bttn" id="f-browser-'+this._id+'"><i class="fa fa-search"></i></button><button data-text="true" class="f-ok fr-p-bttn f-submit" id="f-image-ok-'+this._id+'">OK</button></div>'),t+="</div>",t+='<p class="f-progress" id="f-progress-'+this._id+'"><span></span></p>',t+="</div>"},e.Editable.prototype.iFrameLoad=function(){var e=this.$image_wrapper.find("iframe#frame-"+this._id);if(!e.attr("data-loaded"))return e.attr("data-loaded",!0),!1;try{var t=this.$image_wrapper.find("#f-upload-form-"+this._id);if(this.options.imageUploadToS3){var i=t.attr("action"),n=t.find('input[name="key"]').val(),r=i+n;this.writeImage(r),this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,r,n)}else{var s=e.contents().text();this.parseImageResponse(s)}}catch(o){this.throwImageError(7)}},e.Editable.prototype.initImage=function(){this.buildInsertImage(),(!this.isLink||this.isImage)&&this.initImagePopup(),this.addListener("destroy",this.destroyImage)},e.Editable.initializers.push(e.Editable.prototype.initImage),e.Editable.prototype.destroyImage=function(){this.$image_editor&&this.$image_editor.html("").removeData().remove(),this.$image_wrapper&&this.$image_wrapper.html("").removeData().remove()},e.Editable.prototype.buildInsertImage=function(){this.$image_wrapper=e(this.insertImageHTML()),this.$popup_editor.append(this.$image_wrapper);var t=this;if(this.$image_wrapper.on("mouseup touchend",e.proxy(function(e){this.isResizing()||e.stopPropagation()},this)),this.addListener("hidePopups",e.proxy(function(){this.hideImageWrapper(!0)},this)),this.$progress_bar=this.$image_wrapper.find("p#f-progress-"+this._id),this.options.imageUpload){if(this.browser.msie&&e.Editable.getIEversion()<=9){var i=this.$image_wrapper.find("iframe").get(0);i.attachEvent?i.attachEvent("onload",function(){t.iFrameLoad()}):i.onload=function(){t.iFrameLoad()}}this.$image_wrapper.on("change",'input[type="file"]',function(){if(void 0!==this.files)t.uploadImage(this.files);else{if(!t.triggerEvent("beforeImageUpload",[],!1))return!1;var i=e(this).parents("form");i.find('input[type="hidden"]').remove();var n;for(n in t.options.imageUploadParams)i.prepend('<input type="hidden" name="'+n+'" value="'+t.options.imageUploadParams[n]+'" />');if(t.options.imageUploadToS3!==!1){for(n in t.options.imageUploadToS3.params)i.prepend('<input type="hidden" name="'+n+'" value="'+t.options.imageUploadToS3.params[n]+'" />');i.prepend('<input type="hidden" name="success_action_status" value="201" />'),i.prepend('<input type="hidden" name="X-Requested-With" value="xhr" />'),i.prepend('<input type="hidden" name="Content-Type" value="" />'),i.prepend('<input type="hidden" name="key" value="'+t.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+e(this).val().match(/[^\/\\]+$/)+'" />')}else i.prepend('<input type="hidden" name="XHR_CORS_TRARGETORIGIN" value="'+t.window.location.href+'" />');t.showInsertImage(),t.showImageLoader(!0),t.disable(),i.submit()}e(this).val("")})}this.buildDragUpload(),this.$image_wrapper.on("mouseup keydown","#f-image-url-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation()},this)),this.$image_wrapper.on("click","#f-image-ok-"+this._id,e.proxy(function(){this.writeImage(this.$image_wrapper.find("#f-image-url-"+this._id).val(),!0)},this)),this.$image_wrapper.on(this.mouseup,"#f-image-close-"+this._id,e.proxy(function(e){return this.isDisabled?!1:(e.stopPropagation(),this.$bttn_wrapper.show(),this.hideImageWrapper(!0),this.options.inlineMode&&0===this.options.buttons.length&&(this.imageMode?this.showImageEditor():this.hide()),this.imageMode||(this.restoreSelection(),this.focus()),void(this.options.inlineMode||this.imageMode?this.imageMode&&this.showImageEditor():this.hide()))},this)),this.$image_wrapper.on("click",function(e){e.stopPropagation()}),this.$image_wrapper.on("click","*",function(e){e.stopPropagation()})},e.Editable.prototype.deleteImage=function(t){if(this.options.imageDeleteURL){var i=this.options.imageDeleteParams;i.info=t.data("info"),i.src=t.attr("src"),e.ajax({type:"POST",url:this.options.imageDeleteURL,data:i,crossDomain:this.options.crossDomain,xhrFields:{withCredentials:this.options.withCredentials},headers:this.options.headers}).done(e.proxy(function(e){t.parent().parent().hasClass("f-image-list")?t.parent().remove():t.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteSuccess",[e],!1)},this)).fail(e.proxy(function(){t.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Error during image delete."],!1)},this))}else t.parent().removeClass("f-img-deleting"),this.triggerEvent("imageDeleteError",["Missing imageDeleteURL option."],!1)},e.Editable.prototype.imageHandle=function(){var t=this,i=e('<span data-fr-verified="true">').addClass("f-img-handle").on({movestart:function(i){t.hide(),t.$element.addClass("f-non-selectable").attr("contenteditable",!1),t.$element.attr("data-resize",!0),e(this).attr("data-start-x",i.startX),e(this).attr("data-start-y",i.startY)},move:function(i){var n=e(this),r=i.pageX-parseInt(n.attr("data-start-x"),10);n.attr("data-start-x",i.pageX),n.attr("data-start-y",i.pageY);var s=n.prevAll("img"),o=s.width();n.hasClass("f-h-ne")||n.hasClass("f-h-se")?s.attr("width",o+r):s.attr("width",o-r),t.triggerEvent("imageResize",[s],!1)},moveend:function(){e(this).removeAttr("data-start-x"),e(this).removeAttr("data-start-y");var i=e(this),n=i.prevAll("img");t.$element.removeClass("f-non-selectable"),t.isImage||t.$element.attr("contenteditable",!0),t.triggerEvent("imageResizeEnd",[n]),e(this).trigger("mouseup")},touchend:function(){e(this).trigger("moveend")}});return i},e.Editable.prototype.disableImageResize=function(){if(this.browser.mozilla)try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}},e.Editable.prototype.isResizing=function(){return this.$element.attr("data-resize")},e.Editable.prototype.getImageStyle=function(e){var t="z-index: 1; position: relative; overflow: auto;",i=e,n="padding";return e.parent().hasClass("f-img-editor")&&(i=e.parent(),n="margin"),t+=" padding-left:"+i.css(n+"-left")+";",t+=" padding-right:"+i.css(n+"-right")+";",t+=" padding-bottom:"+i.css(n+"-bottom")+";",t+=" padding-top:"+i.css(n+"-top")+";",e.hasClass("fr-dib")?(t+=" vertical-align: top; display: block;",t+=e.hasClass("fr-fir")?" float: none; margin-right: 0; margin-left: auto;":e.hasClass("fr-fil")?" float: none; margin-left: 0; margin-right: auto;":" float: none; margin: auto;"):(t+=" display: inline-block;",t+=e.hasClass("fr-fir")?" float: right;":e.hasClass("fr-fil")?" float: left;":" float: none;"),t},e.Editable.prototype.getImageClass=function(e){var t=e.split(" ");return e="fr-fin",t.indexOf("fr-fir")>=0&&(e="fr-fir"),t.indexOf("fr-fil")>=0&&(e="fr-fil"),t.indexOf("fr-dib")>=0&&(e+=" fr-dib"),t.indexOf("fr-dii")>=0&&(e+=" fr-dii"),e},e.Editable.prototype.refreshImageButtons=function(e){this.$image_editor.find("button").removeClass("active");var t=e.css("float");t=e.hasClass("fr-fil")?"Left":e.hasClass("fr-fir")?"Right":"None",this.$image_editor.find('button[data-cmd="floatImage'+t+'"]').addClass("active"),this.raiseEvent("refreshImage",[e])},e.Editable.prototype.initImageEvents=function(){document.addEventListener&&!document.dropAssigned&&(document.dropAssigned=!0,document.addEventListener("drop",e.proxy(function(t){return e(".froala-element img.fr-image-move").length?(t.preventDefault(),t.stopPropagation(),e(".froala-element img.fr-image-move").removeClass("fr-image-move"),!1):void 0},this))),this.disableImageResize();var t=this;this.$element.on("mousedown",'img:not([contenteditable="false"])',function(i){return t.isDisabled?!1:void(t.isResizing()||(t.initialized&&i.stopPropagation(),t.$element.attr("contenteditable",!1),e(this).addClass("fr-image-move")))}),this.$element.on("mouseup",'img:not([contenteditable="false"])',function(){return t.isDisabled?!1:void(t.isResizing()||(t.options.imageMove||t.isImage||t.isHTML||t.$element.attr("contenteditable",!0),e(this).removeClass("fr-image-move")))}),this.$element.on("click touchend",'img:not([contenteditable="false"])',function(i){if(t.isDisabled)return!1;if(!t.isResizing()&&t.initialized){if(i.preventDefault(),i.stopPropagation(),t.closeImageMode(),t.$element.blur(),t.refreshImageButtons(e(this)),t.$image_editor.find('.f-image-alt input[type="text"]').val(e(this).attr("alt")||e(this).attr("title")),t.showImageEditor(),!e(this).parent().hasClass("f-img-editor")||"SPAN"!=e(this).parent().get(0).tagName){var n=t.getImageClass(e(this).attr("class"));e(this).wrap('<span data-fr-verified="true" class="f-img-editor '+n+'"></span>'),0!==e(this).parents(".f-img-wrap").length||t.isImage?e(this).parents(".f-img-wrap").attr("class",n+" f-img-wrap"):e(this).parents("a").length>0?e(this).parents("a:first").wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>'):e(this).parent().wrap('<span data-fr-verified="true" class="f-img-wrap '+n+'"></span>')}if(e(this).parent().find(".f-img-handle").remove(),t.options.imageResize){var r=t.imageHandle();e(this).parent().append(r.clone(!0).addClass("f-h-ne")),e(this).parent().append(r.clone(!0).addClass("f-h-se")),e(this).parent().append(r.clone(!0).addClass("f-h-sw")),e(this).parent().append(r.clone(!0).addClass("f-h-nw"))}t.showByCoordinates(e(this).offset().left+e(this).width()/2,e(this).offset().top+e(this).height()),t.imageMode=!0,t.$bttn_wrapper.find(".fr-bttn").removeClass("active"),t.clearSelection()}}),this.$element.on("mousedown touchstart",".f-img-handle",e.proxy(function(){return t.isDisabled?!1:void this.$element.attr("data-resize",!0)},this)),this.$element.on("mouseup",".f-img-handle",e.proxy(function(i){if(t.isDisabled)return!1;var n=e(i.target).prevAll("img");setTimeout(e.proxy(function(){this.$element.removeAttr("data-resize"),n.click()},this),0)},this))},e.Editable.prototype.execImage=function(t,i,n){var r=this.$element.find("span.f-img-editor"),s=r.find("img"),o=e.Editable.image_commands[t]||this.options.customImageButtons[t];o&&o.callback&&o.callback.apply(this,[s,t,i,n])},e.Editable.prototype.bindImageRefreshListener=function(t){t.refresh&&this.addListener("refreshImage",e.proxy(function(e){t.refresh.apply(this,[e])},this))},e.Editable.prototype.buildImageButton=function(e,t){var i='<button class="fr-bttn" data-namespace="Image" data-cmd="'+t+'" title="'+e.title+'">';return i+=void 0!==this.options.icons[t]?this.prepareIcon(this.options.icons[t],e.title):this.prepareIcon(e.icon,e.title),i+="</button>",this.bindImageRefreshListener(e),i},e.Editable.prototype.buildImageAlignDropdown=function(e){this.bindImageRefreshListener(e);for(var t='<ul class="fr-dropdown-menu f-align">',i=0;i<e.seed.length;i++){var n=e.seed[i];t+='<li data-cmd="align" data-namespace="Image" data-val="'+n.cmd+'" title="'+n.title+'"><a href="#"><i class="'+n.icon+'"></i></a></li>'}return t+="</ul>"},e.Editable.prototype.buildImageDropdown=function(e){return dropdown=this.buildDefaultDropdown(e),btn=this.buildDropdownButton(e,dropdown),btn},e.Editable.prototype.image_command_dispatcher={align:function(e){var t=this.buildImageAlignDropdown(e),i=this.buildDropdownButton(e,t);return i}},e.Editable.prototype.buildImageButtons=function(){for(var t="",i=0;i<this.options.imageButtons.length;i++){var n=this.options.imageButtons[i];if(void 0!==e.Editable.image_commands[n]||void 0!==this.options.customImageButtons[n]){var r=e.Editable.image_commands[n]||this.options.customImageButtons[n];r.cmd=n;var s=this.image_command_dispatcher[n];t+=s?s.apply(this,[r]):r.seed?this.buildImageDropdown(r,n):this.buildImageButton(r,n)}}return t},e.Editable.prototype.initImagePopup=function(){this.$image_editor=e('<div class="froala-popup froala-image-editor-popup" style="display: none">');var t=e('<div class="f-popup-line f-popup-toolbar">').appendTo(this.$image_editor);t.append(this.buildImageButtons()),this.addListener("hidePopups",this.hideImageEditorPopup),this.options.imageTitle&&e('<div class="f-popup-line f-image-alt">').append('<label><span data-text="true">Title</span>: </label>').append(e('<input type="text">').on("mouseup keydown touchend",function(e){var t=e.which;
t&&27===t||e.stopPropagation()})).append('<button class="fr-p-bttn f-ok" data-text="true" data-callback="setImageAlt" data-cmd="setImageAlt" title="OK">OK</button>').appendTo(this.$image_editor),this.$popup_editor.append(this.$image_editor),this.bindCommandEvents(this.$image_editor),this.bindDropdownEvents(this.$image_editor)},e.Editable.prototype.displayImage=function(e,t){var i=e.parents("span.f-img-editor");i.removeClass("fr-dii fr-dib").addClass(t),this.triggerEvent("imageDisplayed",[e,t]),e.click()},e.Editable.prototype.floatImageLeft=function(e){var t=e.parents("span.f-img-editor");t.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fil"),this.isImage&&this.$element.css("float","left"),this.triggerEvent("imageFloatedLeft",[e]),e.click()},e.Editable.prototype.floatImageNone=function(e){var t=e.parents("span.f-img-editor");t.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fin"),this.isImage||(t.parent().get(0)==this.$element.get(0)?t.wrap('<div style="text-align: center;"></div>'):t.parents(".f-img-wrap:first").css("text-align","center")),this.isImage&&this.$element.css("float","none"),this.triggerEvent("imageFloatedNone",[e]),e.click()},e.Editable.prototype.floatImageRight=function(e){var t=e.parents("span.f-img-editor");t.removeClass("fr-fin fr-fil fr-fir").addClass("fr-fir"),this.isImage&&this.$element.css("float","right"),this.triggerEvent("imageFloatedRight",[e]),e.click()},e.Editable.prototype.linkImage=function(e){this.imageMode=!0,this.showInsertLink();var t=e.parents("span.f-img-editor");"A"==t.parent().get(0).tagName?this.updateLinkValues(t.parent()):this.resetLinkValues()},e.Editable.prototype.replaceImage=function(e){this.showInsertImage(),this.imageMode=!0,this.$image_wrapper.find('input[type="text"]').val(e.attr("src")),this.showByCoordinates(e.offset().left+e.width()/2,e.offset().top+e.height())},e.Editable.prototype.removeImage=function(t){var i=t.parents("span.f-img-editor");if(0===i.length)return!1;var n=t.get(0),r="Are you sure? Image will be deleted.";if(e.Editable.LANGS[this.options.language]&&(r=e.Editable.LANGS[this.options.language].translation[r]),!this.options.imageDeleteConfirmation||confirm(r)){if(this.triggerEvent("beforeRemoveImage",[e(n)],!1)){var s=i.parents(this.valid_nodes.join(","));i.parents(".f-img-wrap").length?i.parents(".f-img-wrap").remove():i.remove(),this.refreshImageList(!0),this.hide(),s.length&&s[0]!=this.$element.get(0)&&""===e(s[0]).text()&&1==s[0].childNodes.length&&e(s[0]).remove(),this.wrapText(),this.triggerEvent("afterRemoveImage",[t]),this.focus(),this.imageMode=!1}}else t.click()},e.Editable.prototype.setImageAlt=function(){var e=this.$element.find("span.f-img-editor"),t=e.find("img");t.attr("alt",this.$image_editor.find('.f-image-alt input[type="text"]').val()),t.attr("title",this.$image_editor.find('.f-image-alt input[type="text"]').val()),this.hide(),this.closeImageMode(),this.triggerEvent("imageAltSet",[t])},e.Editable.prototype.buildImageMove=function(){var t=this;this.isLink||this.initDrag(),t.$element.on("dragover dragenter dragend",function(e){e.preventDefault()}),t.$element.on("drop",function(i){if(t.isDisabled)return!1;if(t.closeImageMode(),t.hide(),t.imageMode=!1,t.initialized||(t.$element.unbind("mousedown.element"),t.lateInit()),!t.options.imageUpload||0!==e(".froala-element img.fr-image-move").length){if(e(".froala-element .fr-image-move").length>0&&t.options.imageMove){i.preventDefault(),i.stopPropagation(),t.insertMarkersAtPoint(i.originalEvent),t.restoreSelectionByMarkers();var n=e("<div>").append(e(".froala-element img.fr-image-move").clone().removeClass("fr-image-move").addClass("fr-image-dropped")).html();t.insertHTML(n);var r=e(".froala-element img.fr-image-move").parent();e(".froala-element img.fr-image-move").remove(),r.get(0)!=t.$element.get(0)&&r.is(":empty")&&r.remove(),t.clearSelection(),t.initialized?setTimeout(function(){t.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped").click()},0):t.$element.find(".fr-image-dropped").removeClass(".fr-image-dropped"),t.sync(),t.hideOtherEditors()}else i.preventDefault(),i.stopPropagation(),e(".froala-element img.fr-image-move").removeClass("fr-image-move");return!1}if(i.originalEvent.dataTransfer&&i.originalEvent.dataTransfer.files&&i.originalEvent.dataTransfer.files.length){if(t.isDisabled)return!1;var s=i.originalEvent.dataTransfer.files;t.options.allowedImageTypes.indexOf(s[0].type.replace(/image\//g,""))>=0&&(t.insertMarkersAtPoint(i.originalEvent),t.showByCoordinates(i.originalEvent.pageX,i.originalEvent.pageY),t.uploadImage(s),i.preventDefault(),i.stopPropagation())}})},e.Editable.prototype.buildDragUpload=function(){var t=this;t.$image_wrapper.on("dragover","#f-upload-div-"+this._id,function(){return e(this).addClass("f-hover"),!1}),t.$image_wrapper.on("dragend","#f-upload-div-"+this._id,function(){return e(this).removeClass("f-hover"),!1}),t.$image_wrapper.on("drop","#f-upload-div-"+this._id,function(i){return i.preventDefault(),i.stopPropagation(),t.options.imageUpload?(e(this).removeClass("f-hover"),void t.uploadImage(i.originalEvent.dataTransfer.files)):!1})},e.Editable.prototype.showImageLoader=function(t){if(void 0===t&&(t=!1),t){var i="Please wait!";e.Editable.LANGS[this.options.language]&&(i=e.Editable.LANGS[this.options.language].translation[i]),this.$progress_bar.find("span").css("width","100%").text(i)}else this.$image_wrapper.find("h4").addClass("uploading");this.$image_wrapper.find("#f-image-list-"+this._id).hide(),this.$progress_bar.show(),this.showInsertImage()},e.Editable.prototype.hideImageLoader=function(){this.$progress_bar.hide(),this.$progress_bar.find("span").css("width","0%").text(""),this.$image_wrapper.find("#f-image-list-"+this._id).show(),this.$image_wrapper.find("h4").removeClass("uploading")},e.Editable.prototype.writeImage=function(t,i,n){if(i&&(t=this.sanitizeURL(t),""===t))return!1;var r=new Image;r.onerror=e.proxy(function(){this.hideImageLoader(),this.throwImageError(1)},this),r.onload=this.imageMode?e.proxy(function(){var e=this.$element.find(".f-img-editor > img");e.attr("src",t),this.hide(),this.hideImageLoader(),this.$image_editor.show(),this.enable(),this.triggerEvent("imageReplaced",[e,n]),setTimeout(function(){e.trigger("click")},0)},this):e.proxy(function(){this.insertLoadedImage(t,n)},this),this.showImageLoader(!0),r.src=t},e.Editable.prototype.processInsertImage=function(t,i){void 0===i&&(i=!0),this.enable(),this.focus(),this.restoreSelection();var n="";parseInt(this.options.defaultImageWidth,10)&&(n=' width="'+this.options.defaultImageWidth+'"');var r="fr-fin";"left"==this.options.defaultImageAlignment&&(r="fr-fil"),"right"==this.options.defaultImageAlignment&&(r="fr-fir"),r+=" fr-di"+this.options.defaultImageDisplay[0];var s='<img class="'+r+' fr-just-inserted" alt="'+this.options.defaultImageTitle+'" src="'+t+'"'+n+">",o=this.getSelectionElements()[0],a=this.getRange(),l=!this.browser.msie&&e.Editable.getIEversion()>8?e(a.startContainer):null;l&&l.hasClass("f-img-wrap")?(1===a.startOffset?(l.after("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()):0===a.startOffset&&(l.before("<"+this.options.defaultTag+'><span class="f-marker" data-type="true" data-id="0"></span><br/><span class="f-marker" data-type="false" data-id="0"></span></'+this.options.defaultTag+">"),this.restoreSelectionByMarkers(),this.getSelection().collapseToStart()),this.insertHTML(s)):this.getSelectionTextInfo(o).atStart&&o!=this.$element.get(0)&&"TD"!=o.tagName&&"TH"!=o.tagName&&"LI"!=o.tagName?e(o).before("<"+this.options.defaultTag+">"+s+"</"+this.options.defaultTag+">"):this.insertHTML(s),this.disable()},e.Editable.prototype.insertLoadedImage=function(t,i){this.triggerEvent("imageLoaded",[t],!1),this.processInsertImage(t,!1),this.browser.msie&&this.$element.find("img").each(function(e,t){t.oncontrolselect=function(){return!1}}),this.enable(),this.hide(),this.hideImageLoader(),this.wrapText(),this.cleanupLists();var n,r=this.$element.find("img.fr-just-inserted").get(0);r&&(n=r.previousSibling),n&&3==n.nodeType&&/\u200B/gi.test(n.textContent)&&e(n).remove(),this.triggerEvent("imageInserted",[this.$element.find("img.fr-just-inserted"),i]),setTimeout(e.proxy(function(){this.$element.find("img.fr-just-inserted").removeClass("fr-just-inserted").trigger("touchend")},this),50)},e.Editable.prototype.throwImageErrorWithMessage=function(e){this.enable(),this.triggerEvent("imageError",[{message:e,code:0}],!1),this.hideImageLoader()},e.Editable.prototype.throwImageError=function(e){this.enable();var t="Unknown image upload error.";1==e?t="Bad link.":2==e?t="No link in upload response.":3==e?t="Error during file upload.":4==e?t="Parsing response failed.":5==e?t="Image too large.":6==e?t="Invalid image type.":7==e&&(t="Image can be uploaded only to same domain in IE 8 and IE 9."),this.triggerEvent("imageError",[{code:e,message:t}],!1),this.hideImageLoader()},e.Editable.prototype.uploadImage=function(t){if(!this.triggerEvent("beforeImageUpload",[t],!1))return!1;if(void 0!==t&&t.length>0){var i;if(this.drag_support.formdata&&(i=this.drag_support.formdata?new FormData:null),i){var n;for(n in this.options.imageUploadParams)i.append(n,this.options.imageUploadParams[n]);if(this.options.imageUploadToS3!==!1){for(n in this.options.imageUploadToS3.params)i.append(n,this.options.imageUploadToS3.params[n]);i.append("success_action_status","201"),i.append("X-Requested-With","xhr"),i.append("Content-Type",t[0].type),i.append("key",this.options.imageUploadToS3.keyStart+(new Date).getTime()+"-"+t[0].name)}if(i.append(this.options.imageUploadParam,t[0]),t[0].size>this.options.maxImageSize)return this.throwImageError(5),!1;if(this.options.allowedImageTypes.indexOf(t[0].type.replace(/image\//g,""))<0)return this.throwImageError(6),!1}if(i){var r;if(this.options.crossDomain)r=this.createCORSRequest("POST",this.options.imageUploadURL);else{r=new XMLHttpRequest,r.open("POST",this.options.imageUploadURL);for(var s in this.options.headers)r.setRequestHeader(s,this.options.headers[s])}r.onload=e.proxy(function(){var t="Please wait!";e.Editable.LANGS[this.options.language]&&(t=e.Editable.LANGS[this.options.language].translation[t]),this.$progress_bar.find("span").css("width","100%").text(t);try{if(this.options.imageUploadToS3)201==r.status?this.parseImageResponseXML(r.responseXML):this.throwImageError(3);else if(r.status>=200&&r.status<300)this.parseImageResponse(r.responseText);else try{var i=e.parseJSON(r.responseText);i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(3)}catch(n){this.throwImageError(3)}}catch(n){this.throwImageError(4)}},this),r.onerror=e.proxy(function(){this.throwImageError(3)},this),r.upload.onprogress=e.proxy(function(e){if(e.lengthComputable){var t=e.loaded/e.total*100|0;this.$progress_bar.find("span").css("width",t+"%")}},this),this.disable(),r.send(i),this.showImageLoader()}}},e.Editable.prototype.parseImageResponse=function(t){try{if(!this.triggerEvent("afterImageUpload",[t],!1))return!1;var i=e.parseJSON(t);i.link?this.writeImage(i.link,!1,t):i.error?this.throwImageErrorWithMessage(i.error):this.throwImageError(2)}catch(n){this.throwImageError(4)}},e.Editable.prototype.parseImageResponseXML=function(t){try{var i=e(t).find("Location").text(),n=e(t).find("Key").text();this.options.imageUploadToS3.callback&&this.options.imageUploadToS3.callback.call(this,i,n),i?this.writeImage(i):this.throwImageError(2)}catch(r){this.throwImageError(4)}},e.Editable.prototype.setImageUploadURL=function(e){e&&(this.options.imageUploadURL=e),this.options.imageUploadToS3&&(this.options.imageUploadURL="https://"+this.options.imageUploadToS3.bucket+"."+this.options.imageUploadToS3.region+".amazonaws.com/")},e.Editable.prototype.closeImageMode=function(){this.$element.find("span.f-img-editor > img").each(e.proxy(function(t,i){e(i).removeClass("fr-fin fr-fil fr-fir fr-dib fr-dii").addClass(this.getImageClass(e(i).parent().attr("class"))),e(i).parents(".f-img-wrap").length>0?"A"==e(i).parent().parent().get(0).tagName?e(i).siblings("span.f-img-handle").remove().end().unwrap().parent().unwrap():e(i).siblings("span.f-img-handle").remove().end().unwrap().unwrap():e(i).siblings("span.f-img-handle").remove().end().unwrap()},this)),this.$element.find("span.f-img-editor").length&&(this.$element.find("span.f-img-editor").remove(),this.$element.parents("span.f-img-editor").remove()),this.$element.removeClass("f-non-selectable"),this.editableDisabled||this.isHTML||this.$element.attr("contenteditable",!0),this.$image_editor&&this.$image_editor.hide(),this.$link_wrapper&&this.options.linkText&&this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden")},e.Editable.prototype.refreshImageList=function(t){if(!this.isLink&&!this.options.editInPopup){var i=[],n=[],r=this;if(this.$element.find("img").each(function(t,s){var o=e(s);if(i.push(o.attr("src")),n.push(o),"false"==o.attr("contenteditable"))return!0;if(0!==o.parents(".f-img-editor").length||o.hasClass("fr-dii")||o.hasClass("fr-dib")||(r.options.textNearImage?o.addClass(o.hasClass("fr-fin")?"fr-dib":o.hasClass("fr-fil")||o.hasClass("fr-fir")?"fr-dii":"block"==o.css("display")&&"none"==o.css("float")?"fr-dib":"fr-dii"):(o.addClass("fr-dib"),r.options.imageButtons.splice(r.options.imageButtons.indexOf("display"),1))),r.options.textNearImage||o.removeClass("fr-dii").addClass("fr-dib"),0===o.parents(".f-img-editor").length&&!o.hasClass("fr-fil")&&!o.hasClass("fr-fir")&&!o.hasClass("fr-fin"))if(o.hasClass("fr-dii"))o.addClass("right"==o.css("float")?"fr-fir":"left"==o.css("float")?"fr-fil":"fr-fin");else{var a=o.attr("style");o.hide(),o.addClass(0===parseInt(o.css("margin-right"),10)&&a?"fr-fir":0===parseInt(o.css("margin-left"),10)&&a?"fr-fil":"fr-fin"),o.show()}o.css("margin",""),o.css("float",""),o.css("display",""),o.removeAttr("data-style")}),void 0===t)for(var s=0;s<this.imageList.length;s++)i.indexOf(this.imageList[s].attr("src"))<0&&this.triggerEvent("afterRemoveImage",[this.imageList[s]],!1);this.imageList=n}},e.Editable.prototype.insertImage=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("insertImage")),this.selectionInEditor()&&this.saveSelection(),this.showInsertImage(),this.imageMode=!1,this.$image_wrapper.find('input[type="text"]').val("")}}(jQuery),function(e){e.Editable.prototype.showLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.show(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList"),this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode||!this.options.linkText?this.$link_wrapper.find('input[type="text"].f-lt').parent().addClass("fr-hidden"):this.$link_wrapper.find('input[type="text"].f-lt').parent().removeClass("fr-hidden"),this.imageMode&&this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.phone()?this.$document.scrollTop(this.$link_wrapper.offset().top+30):setTimeout(e.proxy(function(){this.imageMode&&this.iPad()||this.$link_wrapper.find('input[type="text"].f-lu').focus().select()},this),0),this.link=!0),this.refreshDisabledState()},e.Editable.prototype.hideLinkWrapper=function(){this.$link_wrapper&&(this.$link_wrapper.hide(),this.$link_wrapper.find("input").blur()),this.refreshDisabledState()},e.Editable.prototype.showInsertLink=function(){this.hidePopups(),this.showLinkWrapper()},e.Editable.prototype.updateLinkValues=function(t){var i=t.attr("href")||"http://";this.$link_wrapper.find("input.f-lt").val(t.text()),this.isLink?("#"==i&&(i=""),this.$link_wrapper.find("input#f-lu-"+this._id).val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i||"#")):(this.$link_wrapper.find("input.f-lu").val(i.replace(/\&amp;/g,"&")),this.$link_wrapper.find(".f-external-link").attr("href",i)),this.$link_wrapper.find("input.f-target").prop("checked","_blank"==t.attr("target")),this.$link_wrapper.find("li.f-choose-link-class").each(e.proxy(function(i,n){t.hasClass(e(n).data("class"))&&e(n).click()},this));for(var n in this.options.linkAttributes){var r=t.attr(n);this.$link_wrapper.find("input.fl-"+n).val(r?r:"")}this.$link_wrapper.find("a.f-external-link, button.f-unlink").show()},e.Editable.prototype.initLinkEvents=function(){var t=this,i=function(e){e.stopPropagation(),e.preventDefault()},n=function(i){return i.stopPropagation(),i.preventDefault(),t.isDisabled?!1:""!==t.text()?(t.hide(),!1):(t.link=!0,t.clearSelection(),t.removeMarkers(),t.selectionDisabled||(e(this).before('<span class="f-marker" data-type="true" data-id="0" data-fr-verified="true"></span>'),e(this).after('<span class="f-marker" data-type="false" data-id="0" data-fr-verified="true"></span>'),t.restoreSelectionByMarkers()),t.exec("createLink"),t.updateLinkValues(e(this)),t.showByCoordinates(e(this).offset().left+e(this).outerWidth()/2,e(this).offset().top+(parseInt(e(this).css("padding-top"),10)||0)+e(this).height()),t.showInsertLink(),e(this).hasClass("fr-file")?t.$link_wrapper.find("input.f-lu").attr("disabled","disabled"):t.$link_wrapper.find("input.f-lu").removeAttr("disabled"),void t.closeImageMode())};this.$element.on("mousedown","a",e.proxy(function(e){this.isResizing()||e.stopPropagation()},this)),this.isLink?this.iOS()?(this.$element.on("touchstart",i),this.$element.on("touchend",n)):this.$element.on("click",n):this.iOS()?(this.$element.on("touchstart",'a:not([contenteditable="false"])',i),this.$element.on("touchend",'a:not([contenteditable="false"])',n),this.$element.on("touchstart",'a[contenteditable="false"]',i),this.$element.on("touchend",'a[contenteditable="false"]',i)):(this.$element.on("click",'a:not([contenteditable="false"])',n),this.$element.on("click",'a[contenteditable="false"]',i))},e.Editable.prototype.destroyLink=function(){this.$link_wrapper.html("").removeData().remove()},e.Editable.prototype.initLink=function(){this.buildCreateLink(),this.initLinkEvents(),this.addListener("destroy",this.destroyLink)},e.Editable.initializers.push(e.Editable.prototype.initLink),e.Editable.prototype.removeLink=function(){this.imageMode?("A"==this.$element.find(".f-img-editor").parent().get(0).tagName&&e(this.$element.find(".f-img-editor").get(0)).unwrap(),this.triggerEvent("imageLinkRemoved"),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1):(this.restoreSelection(),this.document.execCommand("unlink",!1,null),this.isLink||this.$element.find("a:empty").remove(),this.triggerEvent("linkRemoved"),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1)},e.Editable.prototype.writeLink=function(t,i,n,r,s){var o,a=this.options.noFollow;this.options.alwaysBlank&&(r=!0);var l,d="",c="",h="";a===!0&&/^https?:\/\//.test(t)&&(d='rel="nofollow"'),r===!0&&(c='target="_blank"');for(l in s)h+=" "+l+'="'+s[l]+'"';var p=t;if(t=this.sanitizeURL(t),this.options.convertMailAddresses){var u=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/i;u.test(t)&&0!==t.indexOf("mailto:")&&(t="mailto:"+t)}if(0===t.indexOf("mailto:")||""===this.options.linkAutoPrefix||/^(https?:|ftps?:|)\/\//.test(t)||(t=this.options.linkAutoPrefix+t),""===t)return this.$link_wrapper.find("input.f-lu").addClass("fr-error").focus(),this.triggerEvent("badLink",[p],!1),!1;if(this.$link_wrapper.find("input.f-lu").removeClass("fr-error"),this.imageMode){if("A"!=this.$element.find(".f-img-editor").parent().get(0).tagName)this.$element.find(".f-img-editor").wrap('<a data-fr-link="true" href="'+t+'" '+c+" "+d+h+"></a>");else{var f=this.$element.find(".f-img-editor").parent();r===!0?f.attr("target","_blank"):f.removeAttr("target"),a===!0?f.attr("rel","nofollow"):f.removeAttr("rel");for(l in s)s[l]?f.attr(l,s[l]):f.removeAttr(l);f.removeClass(Object.keys(this.options.linkClasses).join(" ")),f.attr("href",t).addClass(n)}this.triggerEvent("imageLinkInserted",[t]),this.showImageEditor(),this.$element.find(".f-img-editor").find("img").click(),this.link=!1}else{var m=null;this.isLink?""===i&&(i=this.$element.text()):(this.restoreSelection(),o=this.getSelectionLinks(),o.length>0&&(m=o[0].attributes,is_file=e(o[0]).hasClass("fr-file")),this.saveSelectionByMarkers(),this.document.execCommand("unlink",!1,t),this.$element.find('span[data-fr-link="true"]').each(function(t,i){e(i).replaceWith(e(i).html())}),this.restoreSelectionByMarkers()),this.isLink?(this.$element.text(i),o=[this.$element.attr("href",t).get(0)]):(this.removeMarkers(),(this.options.linkText||""===this.text())&&(this.insertHTML('<span class="f-marker" data-fr-verified="true" data-id="0" data-type="true"></span>'+(i||this.clean(p))+'<span class="f-marker" data-fr-verified="true" data-id="0" data-type="false"></span>'),this.restoreSelectionByMarkers()),this.document.execCommand("createLink",!1,t),o=this.getSelectionLinks());for(var g=0;g<o.length;g++){if(m)for(var v=0;v<m.length;v++)"href"!=m[v].nodeName&&e(o[g]).attr(m[v].nodeName,m[v].value);r===!0?e(o[g]).attr("target","_blank"):e(o[g]).removeAttr("target"),a===!0&&/^https?:\/\//.test(t)?e(o[g]).attr("rel","nofollow"):e(o[g]).removeAttr("rel"),e(o[g]).data("fr-link",!0),e(o[g]).removeClass(Object.keys(this.options.linkClasses).join(" ")),e(o[g]).addClass(n);for(l in s)s[l]?e(o[g]).attr(l,s[l]):e(o[g]).removeAttr(l)}this.$element.find("a:empty").remove(),this.triggerEvent("linkInserted",[t]),this.hideLinkWrapper(),this.$bttn_wrapper.show(),(!this.options.inlineMode||this.isLink)&&this.hide(),this.link=!1}},e.Editable.prototype.createLinkHTML=function(){var e='<div class="froala-popup froala-link-popup" style="display: none;">';e+='<h4><span data-text="true">Insert Link</span><a target="_blank" title="Open Link" class="f-external-link" href="#"><i class="fa fa-external-link"></i></a><i title="Cancel" class="fa fa-times" id="f-link-close-'+this._id+'"></i></h4>',e+='<div class="f-popup-line fr-hidden"><input type="text" placeholder="Text" class="f-lt" id="f-lt-'+this._id+'"></div>';var t="";if(this.options.linkList.length&&(t="f-bi"),e+='<div class="f-popup-line"><input type="text" placeholder="http://www.example.com" class="f-lu '+t+'" id="f-lu-'+this._id+'"/>',this.options.linkList.length){e+='<button class="fr-p-bttn f-browse-links" id="f-browse-links-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',e+='<ul id="f-link-list-'+this._id+'">';for(var i=0;i<this.options.linkList.length;i++){var n=this.options.linkList[i],r="";for(var s in n)r+=" data-"+s+'="'+n[s]+'"';e+='<li class="f-choose-link"'+r+">"+n.body+"</li>"}e+="</ul>"}if(e+="</div>",Object.keys(this.options.linkClasses).length){e+='<div class="f-popup-line"><input type="text" placeholder="Choose link type" class="f-bi" id="f-luc-'+this._id+'" disabled="disabled"/>',e+='<button class="fr-p-bttn f-browse-links" id="f-links-class-'+this._id+'"><i class="fa fa-chevron-down"></i></button>',e+='<ul id="f-link-class-list-'+this._id+'">';for(var o in this.options.linkClasses){var a=this.options.linkClasses[o];e+='<li class="f-choose-link-class" data-class="'+o+'">'+a+"</li>"}e+="</ul>",e+="</div>"}for(var l in this.options.linkAttributes){var d=this.options.linkAttributes[l];e+='<div class="f-popup-line"><input class="fl-'+l+'" type="text" placeholder="'+d+'" id="fl-'+l+"-"+this._id+'"/></div>'}return e+='<div class="f-popup-line"><input type="checkbox" class="f-target" id="f-target-'+this._id+'"> <label data-text="true" for="f-target-'+this._id+'">Open in new tab</label><button data-text="true" type="button" class="fr-p-bttn f-ok f-submit" id="f-ok-'+this._id+'">OK</button>',this.options.unlinkButton&&(e+='<button type="button" data-text="true" class="fr-p-bttn f-ok f-unlink" id="f-unlink-'+this._id+'">UNLINK</button>'),e+="</div></div>"},e.Editable.prototype.buildCreateLink=function(){this.$link_wrapper=e(this.createLinkHTML()),this.$popup_editor.append(this.$link_wrapper);var t=this;this.addListener("hidePopups",this.hideLinkWrapper),this.$link_wrapper.on("mouseup touchend",e.proxy(function(e){this.isResizing()||(e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"))},this)),this.$link_wrapper.on("click",function(e){e.stopPropagation()}),this.$link_wrapper.on("click","*",function(e){e.stopPropagation()}),this.options.linkText&&this.$link_wrapper.on("mouseup keydown","input#f-lt-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("mouseup keydown touchend touchstart","input#f-lu-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click keydown","input#f-target-"+this._id,function(e){var t=e.which;t&&27===t||e.stopPropagation()}),this.$link_wrapper.on("touchend","button#f-ok-"+this._id,function(e){e.stopPropagation()}).on("click","button#f-ok-"+this._id,e.proxy(function(){var e,t=this.$link_wrapper.find("input#f-lt-"+this._id),i=this.$link_wrapper.find("input#f-lu-"+this._id),n=this.$link_wrapper.find("input#f-luc-"+this._id),r=this.$link_wrapper.find("input#f-target-"+this._id);e=t?t.val():"";var s=i.val();this.isLink&&""===s&&(s="#");var o="";n&&(o=n.data("class"));var a={};for(var l in this.options.linkAttributes)a[l]=this.$link_wrapper.find("input#fl-"+l+"-"+this._id).val();this.writeLink(s,e,o,r.prop("checked"),a)},this)),this.$link_wrapper.on("click touch","button#f-unlink-"+this._id,e.proxy(function(){this.link=!0,this.removeLink()},this)),this.options.linkList.length&&(this.$link_wrapper.on("click touch","li.f-choose-link",function(){t.resetLinkValues();var i=t.$link_wrapper.find("button#f-browse-links-"+t._id),n=t.$link_wrapper.find("input#f-lt-"+t._id),r=t.$link_wrapper.find("input#f-lu-"+t._id),s=t.$link_wrapper.find("input#f-target-"+t._id);n&&n.val(e(this).data("body")),r.val(e(this).data("href")),s.prop("checked",e(this).data("blank"));for(var o in t.options.linkAttributes)e(this).data(o)&&t.$link_wrapper.find("input#fl-"+o+"-"+t._id).val(e(this).data(o));i.click()}).on("mouseup","li.f-choose-link",function(e){e.stopPropagation()}),this.$link_wrapper.on("click","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(i){i.stopPropagation();var n=t.$link_wrapper.find("ul#f-link-list-"+t._id);t.$link_wrapper.trigger("hideLinkClassList"),e(this).find("i").toggleClass("fa-chevron-down"),e(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-browse-links-"+this._id+", button#f-browse-links-"+this._id+" > i",function(e){e.stopPropagation()}),this.$link_wrapper.bind("hideLinkList",function(){var e=t.$link_wrapper.find("ul#f-link-list-"+t._id),i=t.$link_wrapper.find("button#f-browse-links-"+t._id);e&&e.is(":visible")&&i.click()})),Object.keys(this.options.linkClasses).length&&(this.$link_wrapper.on("mouseup keydown","input#f-luc-"+this._id,e.proxy(function(e){var t=e.which;t&&27===t||e.stopPropagation(),this.$link_wrapper.trigger("hideLinkList"),this.$link_wrapper.trigger("hideLinkClassList")},this)),this.$link_wrapper.on("click touch","li.f-choose-link-class",function(){var i=t.$link_wrapper.find("input#f-luc-"+t._id);i.val(e(this).text()),i.data("class",e(this).data("class")),t.$link_wrapper.trigger("hideLinkClassList")}).on("mouseup","li.f-choose-link-class",function(e){e.stopPropagation()}),this.$link_wrapper.on("click","button#f-links-class-"+this._id,function(i){i.stopPropagation(),t.$link_wrapper.trigger("hideLinkList");var n=t.$link_wrapper.find("ul#f-link-class-list-"+t._id);e(this).find("i").toggleClass("fa-chevron-down"),e(this).find("i").toggleClass("fa-chevron-up"),n.toggle()}).on("mouseup","button#f-links-class-"+this._id,function(e){e.stopPropagation()}),this.$link_wrapper.bind("hideLinkClassList",function(){var e=t.$link_wrapper.find("ul#f-link-class-list-"+t._id),i=t.$link_wrapper.find("button#f-links-class-"+t._id);e&&e.is(":visible")&&i.click()})),this.$link_wrapper.on(this.mouseup,"i#f-link-close-"+this._id,e.proxy(function(){this.$bttn_wrapper.show(),this.hideLinkWrapper(),(!this.options.inlineMode&&!this.imageMode||this.isLink||0===this.options.buttons.length)&&this.hide(),this.imageMode?this.showImageEditor():(this.restoreSelection(),this.focus())},this))},e.Editable.prototype.getSelectionLinks=function(){var e,t,i,n,r=[];if(this.window.getSelection){var s=this.window.getSelection();if(s.getRangeAt&&s.rangeCount){n=this.document.createRange();for(var o=0;o<s.rangeCount;++o)if(e=s.getRangeAt(o),t=e.commonAncestorContainer,t&&1!=t.nodeType&&(t=t.parentNode),t&&"a"==t.nodeName.toLowerCase())r.push(t);else{i=t.getElementsByTagName("a");for(var a=0;a<i.length;++a)n.selectNodeContents(i[a]),n.compareBoundaryPoints(e.END_TO_START,e)<1&&n.compareBoundaryPoints(e.START_TO_END,e)>-1&&r.push(i[a])}}}else if(this.document.selection&&"Control"!=this.document.selection.type)if(e=this.document.selection.createRange(),t=e.parentElement(),"a"==t.nodeName.toLowerCase())r.push(t);else{i=t.getElementsByTagName("a"),n=this.document.body.createTextRange();for(var l=0;l<i.length;++l)n.moveToElementText(i[l]),n.compareEndPoints("StartToEnd",e)>-1&&n.compareEndPoints("EndToStart",e)<1&&r.push(i[l])}return r},e.Editable.prototype.resetLinkValues=function(){this.$link_wrapper.find("input").val(""),this.$link_wrapper.find('input[type="checkbox"].f-target').prop("checked",this.options.alwaysBlank),this.$link_wrapper.find('input[type="text"].f-lt').val(this.text()),this.$link_wrapper.find('input[type="text"].f-lu').val("http://"),this.$link_wrapper.find('input[type="text"].f-lu').removeAttr("disabled"),this.$link_wrapper.find("a.f-external-link, button.f-unlink").hide();for(var e in this.options.linkAttributes)this.$link_wrapper.find('input[type="text"].fl-'+e).val("")},e.Editable.prototype.insertLink=function(){this.options.inlineMode||(this.closeImageMode(),this.imageMode=!1,this.positionPopup("createLink")),this.selectionInEditor()&&this.saveSelection(),this.showInsertLink();var t=this.getSelectionLinks();t.length>0?this.updateLinkValues(e(t[0])):this.resetLinkValues()}}(jQuery),function(e){e.Editable.prototype.browserFixes=function(){this.backspaceEmpty(),this.backspaceInEmptyBlock(),this.fixHR(),this.domInsert(),this.fixIME(),this.cleanInvisibleSpace(),this.cleanBR(),this.insertSpace()},e.Editable.prototype.backspaceInEmptyBlock=function(){this.$element.on("keyup",e.proxy(function(t){var i=t.which;if(this.browser.mozilla&&!this.isHTML&&8==i){var n=e(this.getSelectionElement());this.valid_nodes.indexOf(n.get(0).tagName)>=0&&1==n.find("*").length&&""===n.text()&&1==n.find("br").length&&this.setSelection(n.get(0))}},this))},e.Editable.prototype.insertSpace=function(){this.browser.mozilla&&this.$element.on("keypress",e.proxy(function(e){var t=e.which,i=this.getSelectionElements()[0];this.isHTML||32!=t||"PRE"==i.tagName||(e.preventDefault(),this.insertSimpleHTML("&nbsp;"))},this))},e.Editable.prototype.cleanBR=function(){this.$element.on("keyup",e.proxy(function(){this.$element.find(this.valid_nodes.join(",")).each(e.proxy(function(t,i){if(["TH","TD","LI"].indexOf(i.tagName)>=0)return!0;var n=i.childNodes,r=null;if(!n.length||"BR"!=n[n.length-1].tagName)return!0;r=n[n.length-1];var s=r.previousSibling;s&&"BR"!=s.tagName&&e(r).parent().text().length>0&&this.valid_nodes.indexOf(s.tagName)<0&&e(r).remove()},this))},this))},e.Editable.prototype.replaceU200B=function(t){for(var i=0;i<t.length;i++)3==t[i].nodeType&&/\u200B/gi.test(t[i].textContent)?t[i].textContent=t[i].textContent.replace(/\u200B/gi,""):1==t[i].nodeType&&this.replaceU200B(e(t[i]).contents())},e.Editable.prototype.cleanInvisibleSpace=function(){var t=function(t){var i=e(t).text();return t&&/\u200B/.test(e(t).text())&&i.replace(/\u200B/gi,"").length>0?!0:!1};this.$element.on("keyup",e.proxy(function(){var i=this.getSelectionElement();t(i)&&0===e(i).find("li").length&&(this.saveSelectionByMarkers(),this.replaceU200B(e(i).contents()),this.restoreSelectionByMarkers())},this))},e.Editable.prototype.fixHR=function(){this.$element.on("keypress",e.proxy(function(t){var i=e(this.getSelectionElement());if(i.is("hr")||i.parents("hr").length)return!1;var n=t.which;if(8==n){var r=e(this.getSelectionElements()[0]);r.prev().is("hr")&&this.getSelectionTextInfo(r.get(0)).atStart&&(this.saveSelectionByMarkers(),r.prev().remove(),this.restoreSelectionByMarkers(),t.preventDefault())}},this))},e.Editable.prototype.backspaceEmpty=function(){this.$element.on("keydown",e.proxy(function(e){var t=e.which;!this.isHTML&&8==t&&this.$element.hasClass("f-placeholder")&&e.preventDefault()},this))},e.Editable.prototype.domInsert=function(){this.$element.on("keydown",e.proxy(function(e){var t=e.which;
13===t&&(this.add_br=!0)},this)),this.$element.on("DOMNodeInserted",e.proxy(function(t){if("SPAN"!==t.target.tagName||e(t.target).attr("data-fr-verified")||this.no_verify||this.textEmpty(t.target)||e(t.target).replaceWith(e(t.target).contents()),"BR"===t.target.tagName&&setTimeout(function(){e(t.target).removeAttr("type")},0),"A"===t.target.tagName&&setTimeout(function(){e(t.target).removeAttr("_moz_dirty")},0),this.options.paragraphy&&this.add_br&&"BR"===t.target.tagName&&(e(t.target).prev().length&&"TABLE"===e(t.target).prev().get(0).tagName||e(t.target).next().length&&"TABLE"===e(t.target).next().get(0).tagName)){e(t.target).wrap('<p class="fr-p-wrap">');var i=this.$element.find("p.fr-p-wrap").removeAttr("class");this.setSelection(i.get(0))}"BR"===t.target.tagName&&this.isLastSibling(t.target)&&"LI"==t.target.parentNode.tagName&&this.textEmpty(t.target.parentNode)&&e(t.target).remove()},this)),this.$element.on("keyup",e.proxy(function(e){var t=e.which;8===t&&this.$element.find("span:not([data-fr-verified])").attr("data-fr-verified",!0),13===t&&(this.add_br=!1)},this))},e.Editable.prototype.fixIME=function(){try{this.$element.get(0).msGetInputContext&&(this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowShow",e.proxy(function(){this.ime=!0},this)),this.$element.get(0).msGetInputContext().addEventListener("MSCandidateWindowHide",e.proxy(function(){this.ime=!1,this.$element.trigger("keydown"),this.oldHTML=""},this)))}catch(t){}}}(jQuery),function(e){e.Editable.prototype.handleEnter=function(){var t=e.proxy(function(){var t=this.getSelectionElement();return"LI"==t.tagName||this.parents(e(t),"li").length>0?!0:!1},this);this.$element.on("keypress",e.proxy(function(e){if(!this.isHTML&&!t()){var i=e.which;if(13==i&&!e.shiftKey){e.preventDefault(),this.saveUndoStep(),this.insertSimpleHTML("<break></break>");var n=this.getSelectionElements();if(n[0]==this.$element.get(0)?this.enterInMainElement(n[0]):this.enterInElement(n[0]),this.getSelectionTextInfo(this.$element.get(0)).atEnd)this.$wrapper.scrollTop(this.$element.height());else{var r=this.getBoundingRect();this.$wrapper.offset().top+this.$wrapper.height()<r.top+r.height&&this.$wrapper.scrollTop(r.top+this.$wrapper.scrollTop()-(this.$wrapper.height()+this.$wrapper.offset().top)+r.height+10)}}}},this))},e.Editable.prototype.enterInMainElement=function(t){var i=e(t).find("break").get(0);if(e(i).parent().get(0)==t)this.isLastSibling(i)?this.insertSimpleHTML("</br>"+this.markers_html+this.br):e(t).hasClass("f-placeholder")?e(t).html("</br>"+this.markers_html+this.br):this.insertSimpleHTML("</br>"+this.markers_html),e(t).find("break").remove(),this.restoreSelectionByMarkers();else if(e(i).parents(this.$element).length){for(t=this.getSelectionElement();"BREAK"==t.tagName||0===e(t).text().length&&t.parentNode!=this.$element.get(0);)t=t.parentNode;if(this.getSelectionTextInfo(t).atEnd)e(t).after(this.breakEnd(this.getDeepParent(t),!0)),this.$element.find("break").remove(),this.restoreSelectionByMarkers();else if(this.getSelectionTextInfo(t).atStart){for(;i.parentNode!=this.$element.get(0);)i=i.parentNode;e(i).before("<br/>"),this.$element.find("break").remove(),this.$element.find("a:empty").replaceWith(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()}else this.breakMiddle(this.getDeepParent(t),!0),this.restoreSelectionByMarkers()}else e(i).remove()},e.Editable.prototype.enterInElement=function(t){if(["TD","TH"].indexOf(t.tagName)<0){var i=!1;if(this.emptyElement(t)&&t.parentNode&&"BLOCKQUOTE"==t.parentNode.tagName){e(t).before(this.$element.find("break"));var n=t;t=t.parentNode,e(n).remove(),i=!0}this.getSelectionTextInfo(t).atEnd?(e(t).after(this.breakEnd(t),!1),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):this.getSelectionTextInfo(t).atStart?(this.options.paragraphy?i?(e(t).before("<"+this.options.defaultTag+">"+this.markers_html+this.br+"</"+this.options.defaultTag+">"),this.restoreSelectionByMarkers()):e(t).before("<"+this.options.defaultTag+">"+this.br+"</"+this.options.defaultTag+">"):i?(e(t).before(this.markers_html+"<br/>"),this.restoreSelectionByMarkers()):e(t).before("<br/>"),this.$element.find("break").remove()):"PRE"==t.tagName?(this.$element.find("break").after("<br/>"+this.markers_html),this.$element.find("break").remove(),this.restoreSelectionByMarkers()):(this.breakMiddle(t,!1,i),this.restoreSelectionByMarkers())}else this.enterInMainElement(t)},e.Editable.prototype.breakEnd=function(t,i){if(void 0===i&&(i=!1),"BLOCKQUOTE"==t.tagName){var n=e(t).contents();n.length&&"BR"==n[n.length-1].tagName&&e(n[n.length-1]).remove()}var r=e(t).find("break").get(0),s=this.br;this.options.paragraphy||(s="<br/>");var o=this.markers_html+s;for(i&&(o=this.markers_html+e.Editable.INVISIBLE_SPACE);r!=t;)"A"!=r.tagName&&"BREAK"!=r.tagName&&(o="<"+r.tagName+this.attrs(r)+">"+o+"</"+r.tagName+">"),r=r.parentNode;return i&&"A"!=r.tagName&&"BREAK"!=r.tagName&&(o="<"+r.tagName+this.attrs(r)+">"+o+"</"+r.tagName+">"),this.options.paragraphy&&(o="<"+this.options.defaultTag+">"+o+"</"+this.options.defaultTag+">"),i&&(o=s+o),o},e.Editable.prototype.breakMiddle=function(t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=e(t).find("break").get(0),s=this.markers_html;n&&(s="");for(var o="";r!=t;)r=r.parentNode,o=o+"</"+r.tagName+">",s="<"+r.tagName+this.attrs(r)+">"+s;var a="";n&&(a=this.options.paragraphy?"<"+this.options.defaultTag+">"+this.markers_html+"<br/></"+this.options.defaultTag+">":this.markers_html+"<br/>");var l="<"+t.tagName+this.attrs(t)+">"+e(t).html()+"</"+t.tagName+">";l=l.replace(/<break><\/break>/,o+(i?this.br:"")+a+s),e(t).replaceWith(l)}}(jQuery),function(e){e.Editable.prototype.isFirstSibling=function(e){var t=e.previousSibling;return t?3==t.nodeType&&""===t.textContent?this.isFirstSibling(t):!1:!0},e.Editable.prototype.isLastSibling=function(e){var t=e.nextSibling;return t?3==t.nodeType&&""===t.textContent?this.isLastSibling(t):!1:!0},e.Editable.prototype.getDeepParent=function(e){return e.parentNode==this.$element.get(0)?e:this.getDeepParent(e.parentNode)},e.Editable.prototype.attrs=function(e){for(var t="",i=e.attributes,n=0;n<i.length;n++){var r=i[n];t+=" "+r.nodeName+'="'+r.value+'"'}return t}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){function i(e){function t(){n?(i(),H(t),r=!0,n=!1):r=!1}var i=e,n=!1,r=!1;this.kick=function(){n=!0,r||t()},this.end=function(e){var t=i;e&&(r?(i=n?function(){t(),e()}:e,n=!0):e())}}function n(){return!0}function r(){return!1}function s(e){e.preventDefault()}function o(e){P[e.target.tagName.toLowerCase()]||e.preventDefault()}function a(e){return 1===e.which&&!e.ctrlKey&&!e.altKey}function l(e,t){var i,n;if(e.identifiedTouch)return e.identifiedTouch(t);for(i=-1,n=e.length;++i<n;)if(e[i].identifier===t)return e[i]}function d(e,t){var i=l(e.changedTouches,t.identifier);return!i||i.pageX===t.pageX&&i.pageY===t.pageY?void 0:i}function c(e){var t;a(e)&&(t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp},M(document,B.move,h,t),M(document,B.cancel,p,t))}function h(e){var t=e.data;b(e,t,e,u)}function p(){u()}function u(){O(document,B.move,h),O(document,B.cancel,p)}function f(e){var t,i;P[e.target.tagName.toLowerCase()]||(t=e.changedTouches[0],i={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier},M(document,z.move+"."+t.identifier,m,i),M(document,z.cancel+"."+t.identifier,g,i))}function m(e){var t=e.data,i=d(e,t);i&&b(e,t,i,v)}function g(e){var t=e.data,i=l(e.changedTouches,t.identifier);i&&v(t.identifier)}function v(e){O(document,"."+e,m),O(document,"."+e,g)}function b(e,t,i,n){var r=i.pageX-t.startX,s=i.pageY-t.startY;R*R>r*r+s*s||x(e,t,i,r,s,n)}function y(){return this._handled=n,!1}function w(e){try{e._handled()}catch(t){return!1}}function x(e,t,i,n,r,s){var o,a;t.target,o=e.targetTouches,a=e.timeStamp-t.timeStamp,t.type="movestart",t.distX=n,t.distY=r,t.deltaX=n,t.deltaY=r,t.pageX=i.pageX,t.pageY=i.pageY,t.velocityX=n/a,t.velocityY=r/a,t.targetTouches=o,t.finger=o?o.length:1,t._handled=y,t._preventTouchmoveDefault=function(){e.preventDefault()},F(t.target,t),s(t.identifier)}function C(e){var t=e.data.timer;e.data.touch=e,e.data.timeStamp=e.timeStamp,t.kick()}function k(e){var t=e.data.event,i=e.data.timer;S(),I(t,i,function(){setTimeout(function(){O(t.target,"click",r)},0)})}function S(){O(document,B.move,C),O(document,B.end,k)}function E(e){var t=e.data.event,i=e.data.timer,n=d(e,t);n&&(e.preventDefault(),t.targetTouches=e.targetTouches,e.data.touch=n,e.data.timeStamp=e.timeStamp,i.kick())}function T(e){var t=e.data.event,i=e.data.timer,n=l(e.changedTouches,t.identifier);n&&($(t),I(t,i))}function $(e){O(document,"."+e.identifier,E),O(document,"."+e.identifier,T)}function _(e,t,i){var n=i-e.timeStamp;e.type="move",e.distX=t.pageX-e.startX,e.distY=t.pageY-e.startY,e.deltaX=t.pageX-e.pageX,e.deltaY=t.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/n,e.velocityY=.3*e.velocityY+.7*e.deltaY/n,e.pageX=t.pageX,e.pageY=t.pageY}function I(e,t,i){t.end(function(){return e.type="moveend",F(e.target,e),i&&i()})}function L(){return M(this,"movestart.move",w),!0}function A(){return O(this,"dragstart drag",s),O(this,"mousedown touchstart",o),O(this,"movestart",w),!0}function N(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(M(this,"dragstart."+e.guid+" drag."+e.guid,s,t,e.selector),M(this,"mousedown."+e.guid,o,t,e.selector))}function D(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(O(this,"dragstart."+e.guid+" drag."+e.guid),O(this,"mousedown."+e.guid))}var R=6,M=e.event.add,O=e.event.remove,F=function(t,i,n){e.event.trigger(i,n,t)},H=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(function(){e()},25)}}(),P={textarea:!0,input:!0,select:!0,button:!0},B={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},z={move:"touchmove",cancel:"touchend",end:"touchend"};e.event.special.movestart={setup:L,teardown:A,add:N,remove:D,_default:function(e){function n(){_(s,o.touch,o.timeStamp),F(e.target,s)}var s,o;e._handled()&&(s={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},o={event:s,timer:new i(n),touch:t,timeStamp:t},e.identifier===t?(M(e.target,"click",r),M(document,B.move,C,o),M(document,B.end,k,o)):(e._preventTouchmoveDefault(),M(document,z.move+"."+e.identifier,E,o),M(document,z.end+"."+e.identifier,T,o)))}},e.event.special.move={setup:function(){M(this,"movestart.move",e.noop)},teardown:function(){O(this,"movestart.move",e.noop)}},e.event.special.moveend={setup:function(){M(this,"movestart.moveend",e.noop)},teardown:function(){O(this,"movestart.moveend",e.noop)}},M(document,"mousedown.move",c),M(document,"touchstart.move",f),"function"==typeof Array.prototype.indexOf&&!function(e){for(var t=["changedTouches","targetTouches"],i=t.length;i--;)-1===e.event.props.indexOf(t[i])&&e.event.props.push(t[i])}(e)}),window.WYSIWYGModernizr=function(e,t,i){function n(e){u.cssText=e}function r(e,t){return typeof e===t}var s,o,a,l="2.7.1",d={},c=t.documentElement,h="modernizr",p=t.createElement(h),u=p.style,f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),m={},g=[],v=g.slice,b=function(e,i,n,r){var s,o,a,l,d=t.createElement("div"),p=t.body,u=p||t.createElement("body");if(parseInt(n,10))for(;n--;)a=t.createElement("div"),a.id=r?r[n]:h+(n+1),d.appendChild(a);return s=["&#173;",'<style id="s',h,'">',e,"</style>"].join(""),d.id=h,(p?d:u).innerHTML+=s,u.appendChild(d),p||(u.style.background="",u.style.overflow="hidden",l=c.style.overflow,c.style.overflow="hidden",c.appendChild(u)),o=i(d,e),p?d.parentNode.removeChild(d):(u.parentNode.removeChild(u),c.style.overflow=l),!!o},y=function(t){var i=e.matchMedia||e.msMatchMedia;if(i)return i(t).matches;var n;return b("@media "+t+" { #"+h+" { position: absolute; } }",function(t){n="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),n},w={}.hasOwnProperty;a=r(w,"undefined")||r(w.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var i=v.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=t.prototype;var s=new r,o=t.apply(s,i.concat(v.call(arguments)));return Object(o)===o?o:s}return t.apply(e,i.concat(v.call(arguments)))};return n}),m.touch=function(){var i;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?i=!0:b(["@media (",f.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){i=9===e.offsetTop}),i};for(var x in m)a(m,x)&&(o=x.toLowerCase(),d[o]=m[x](),g.push((d[o]?"":"no-")+o));return d.addTest=function(e,t){if("object"==typeof e)for(var n in e)a(e,n)&&d.addTest(n,e[n]);else{if(e=e.toLowerCase(),d[e]!==i)return d;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(c.className+=" "+(t?"":"no-")+e),d[e]=t}return d},n(""),p=s=null,d._version=l,d._prefixes=f,d.mq=y,d.testStyles=b,d}(this,document),!function(e){e.Editable.prototype.coreInit=function(){var e=this,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=function(e){for(var t=e.toString(),i=0,n=0;n<t.length;n++)i+=parseInt(t.charAt(n),10);return i>10?i%9+1:i};if(e.options.key!==!1){var n=function(e,t,i){for(var n=Math.abs(i);n-->0;)e-=t;return 0>i&&(e+=123),e},r=function(e){return e},s=function(e){if(!e)return e;for(var s="",o=r("charCodeAt"),a=r("fromCharCode"),l=t.indexOf(e[0]),d=1;d<e.length-2;d++){for(var c=i(++l),h=e[o](d),p="";/[0-9-]/.test(e[d+1]);)p+=e[++d];p=parseInt(p,10)||0,h=n(h,c,p),h^=l-1&31,s+=String[a](h)}return s},o=r(s),a=function(e){return"none"==e.css("display")?(e.attr("style",e.attr("style")+o("zD4D2qJ-7dhuB-11bB4E1wqlhlfE4gjhkbB6C5eg1C-8h1besB-16e1==")),!0):!1},l=function(){for(var e=0,t=document.domain,i=t.split("."),n="_gd"+(new Date).getTime();e<i.length-1&&-1==document.cookie.indexOf(n+"="+n);)t=i.slice(-1-++e).join("."),document.cookie=n+"="+n+";domain="+t+";";return document.cookie=n+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}(),d=function(){var t=o(e.options.key)||"";return t!==o("eQZMe1NJGC1HTMVANU==")&&t.indexOf(l,t.length-l.length)<0&&[o("9qqG-7amjlwq=="),o("KA3B3C2A6D1D5H5H1A3==")].indexOf(l)<0?(e.$box.append(o("uA5kygD3g1h1lzrA7E2jtotjvooB2A5eguhdC-22C-16nC2B3lh1deA-21C-16B4A2B4gi1F4D1wyA-13jA4H5C2rA-65A1C10dhzmoyJ2A10A-21d1B-13xvC2I4enC4C2B5B4G4G4H1H4A10aA8jqacD1C3c1B-16D-13A-13B2E5A4jtxfB-13fA1pewxvzA3E-11qrB4E4qwB-16icA1B3ykohde1hF4A2E4clA4C7E6haA4D1xtmolf1F-10A1H4lhkagoD5naalB-22B8B4quvB-8pjvouxB3A-9plnpA2B6D6BD2D1C2H1C3C3A4mf1G-10C-8i1G3C5B3pqB-9E5B1oyejA3ddalvdrnggE3C3bbj1jC6B3D3gugqrlD8B2DB-9qC-7qkA10D2VjiodmgynhA4HA-9D-8pI-7rD4PrE-11lvhE3B5A-16C7A6A3ekuD1==")),e.$lb=e.$box.find("> div:last"),e.$ab=e.$lb.find("> a"),a(e.$lb)||a(e.$ab)):void 0};d()}},e.Editable.initializers.push(e.Editable.prototype.coreInit)}(jQuery),function(e){e.Editable.DEFAULTS=e.extend(e.Editable.DEFAULTS,{allowedBlankTags:["TEXTAREA"],selfClosingTags:["br","input","img","hr","param","!--","source","embed","!","meta","link","base"],doNotJoinTags:["a"],iconClasses:["fa-"]}),e.Editable.prototype.isClosingTag=function(e){return e?null!==e.match(/^<\/([a-zA-Z0-9]+)([^<]+)*>$/gi):!1},e.Editable.prototype.tagName=function(e){return e.replace(/^<\/?([a-zA-Z0-9-!]+)([^>]+)*>$/gi,"$1").toLowerCase()},e.Editable.SELF_CLOSING_AFTER=["source"],e.Editable.prototype.isSelfClosingTag=function(e){var t=this.tagName(e);return this.options.selfClosingTags.indexOf(t.toLowerCase())>=0},e.Editable.prototype.tagKey=function(e){return e.type+(e.attrs||[]).sort().join("|")},e.Editable.prototype.extendedKey=function(e){return this.tagKey(e)+JSON.stringify(e.style)},e.Editable.prototype.mapDOM=function(t){var i=[],n={},r={},s=0,o=this;e(t).find(".f-marker").html(e.Editable.INVISIBLE_SPACE);var a=function(t,i){if(3===t.nodeType)return[];if(8===t.nodeType)return[{comment:!0,attrs:{},styles:{},idx:s++,sp:i,ep:i,text:t.textContent}];var n=t.tagName;"B"==n&&(n="STRONG"),"I"!=n||t.className&&null!=t.className.match(new RegExp(o.options.iconClasses.join("|"),"gi"))||(n="EM");var r={},a={},l=null;if(t.attributes)for(var d=0;d<t.attributes.length;d++){var c=t.attributes[d];"style"==c.nodeName?l=c.value:r[c.nodeName]=c.value}if(l){var h=l.match(/([^:]*):([^:;]*(;|$))/gi);if(h)for(var p=0;p<h.length;p++){var u=h[p].split(":"),f=u.slice(1).join(":").trim();";"==f[f.length-1]&&(f=f.substr(0,f.length-1)),a[u[0].trim()]=f}}var m=[];if(e.isEmptyObject(r)&&"SPAN"==t.tagName&&!e.isEmptyObject(a)){for(var g in a){var v={};v[g]=a[g],m.push({selfClosing:!1,attrs:r,styles:v,idx:s++,sp:i,ep:i+t.textContent.length,tagName:n,noJoin:t.nextSibling&&"BR"===t.nextSibling.tagName})}return m}return[{selfClosing:o.options.selfClosingTags.indexOf(n.toLowerCase())>=0,attrs:r,styles:a,idx:s++,sp:i,ep:i+t.textContent.length,tagName:n,noJoin:t.nextSibling&&"BR"===t.nextSibling.tagName}]},l=function(e,o){var d,c,h;if(e!=t)for(c=a(e,o),d=0;d<c.length;d++)h=c[d],i.push(h),n[h.sp]||(n[h.sp]={}),r[h.ep]||(r[h.ep]={}),n[h.sp][h.tagName]||(n[h.sp][h.tagName]=[]),r[h.ep][h.tagName]||(r[h.ep][h.tagName]=[]),n[h.sp][h.tagName].push(h),r[h.ep][h.tagName].push(h);var p=e.childNodes;if(p){for(d=0;d<p.length;d++)d>0&&8!=p[d-1].nodeType&&(o+=p[d-1].textContent.length),l(p[d],o);if(c)for(d=0;d<c.length;d++)h=c[d],h.ci=s++,n[h.ep]||(n[h.ep]={}),n[h.ep][h.tagName]||(n[h.ep][h.tagName]=[]),n[h.ep][h.tagName].push({shadow:!0,ci:s-1})}},d=function(){var t,r,s,a;for(t in n)for(var l in n[t])for(s=0;s<n[t][l].length;s++)if(r=n[t][l][s],!r.selfClosing&&!(r.dirty||r.shadow||r.comment||r.noJoin))for(var d=s+1;d<n[t][l].length;d++)if(a=n[t][l][d],!a.selfClosing&&!(a.dirty||a.shadow||a.comment||a.noJoin||1!=Object.keys(r.styles).length||1!=Object.keys(a.styles).length||a.sp==a.ep)){var c=Object.keys(r.styles)[0];if(a.styles[c]){r.sp=a.ep;for(var h=0;h<n[r.sp][r.tagName].length;h++){var p=n[r.sp][r.tagName][h];if(p.shadow&&p.ci==a.ci){n[r.sp][r.tagName].splice(h,0,r);break}}n[t][l].splice(s,1),s--;break}}for(t=0;t<i.length;t++)if(r=i[t],!(r.dirty||r.selfClosing||r.comment||r.noJoin||r.shadow||o.options.doNotJoinTags.indexOf(r.tagName.toLowerCase())>=0||!e.isEmptyObject(r.attrs)))if(r.sp==r.ep&&e.isEmptyObject(r.attrs)&&e.isEmptyObject(r.styles)&&o.options.allowedBlankTags.indexOf(r.tagName)<0)r.dirty=!0;else if(n[r.ep]&&n[r.ep][r.tagName])for(s=0;s<n[r.ep][r.tagName].length;s++)if(a=n[r.ep][r.tagName][s],r!=a&&!(a.dirty||a.selfClosing||a.shadow||a.comment||a.noJoin||!e.isEmptyObject(a.attrs)||JSON.stringify(a.styles)!=JSON.stringify(r.styles))){r.ep<a.ep&&(r.ep=a.ep),r.sp>a.sp&&(r.sp=a.sp),a.dirty=!0,t--;break}for(t=0;t<i.length;t++)if(r=i[t],!(r.dirty||r.selfClosing||r.comment||r.noJoin||r.shadow||!e.isEmptyObject(r.attrs)))if(r.sp==r.ep&&e.isEmptyObject(r.attrs)&&e.isEmptyObject(r.style)&&o.options.allowedBlankTags.indexOf(r.tagName)<0)r.dirty=!0;else if(n[r.sp]&&n[r.sp][r.tagName])for(s=n[r.sp][r.tagName].length-1;s>=0;s--)a=n[r.sp][r.tagName][s],r!=a&&(a.dirty||a.selfClosing||a.shadow||a.comment||a.noJoin||r.ep==a.ep&&e.isEmptyObject(a.attrs)&&(r.styles=e.extend(r.styles,a.styles),a.dirty=!0))};l(t,0),d();for(var c=i.length-1;c>=0;c--)i.dirty&&i.splice(c,1);return i},e.Editable.prototype.sortNodes=function(e,t){if(e.comment)return 1;if(e.selfClosing||t.selfClosing)return e.idx-t.idx;var i=e.ep-e.sp,n=t.ep-t.sp;return 0===i&&0===n?e.idx-t.idx:i===n?t.ci-e.ci:n-i},e.Editable.prototype.openTag=function(e){var t,i="<"+e.tagName.toLowerCase(),n=Object.keys(e.attrs).sort();for(t=0;t<n.length;t++){var r=n[t];i+=" "+r+'="'+e.attrs[r]+'"'}var s="",o=Object.keys(e.styles).sort();for(t=0;t<o.length;t++){var a=o[t];null!=e.styles[a]&&(s+=a.replace("_","-")+": "+e.styles[a]+"; ")}return""!==s&&(i+=' style="'+s.trim()+'"'),i+=">"},e.Editable.prototype.commentTag=function(e){var t="";if(e.selfClosing){var i;t="<"+e.tagName.toLowerCase();var n=Object.keys(e.attrs).sort();for(i=0;i<n.length;i++){var r=n[i];t+=" "+r+'="'+e.attrs[r]+'"'}var s="",o=Object.keys(e.styles).sort();for(i=0;i<o.length;i++){var a=o[i];null!=e.styles[a]&&(s+=a.replace("_","-")+": "+e.styles[a]+"; ")}""!==s&&(t+=' style="'+s.trim()+'"'),t+="/>"}else e.comment&&(t="<!--"+e.text+"-->");return t},e.Editable.prototype.closeTag=function(e){return"</"+e.tagName.toLowerCase()+">"},e.Editable.prototype.nodesOpenedAt=function(e,t){for(var i=[],n=e.length-1;n>=0&&e[n].sp==t;)i.push(e.pop()),n--;return i},e.Editable.prototype.entity=function(e){return ch_map={">":"&gt;","<":"&lt;","&":"&amp;"},ch_map[e]?ch_map[e]:e},e.Editable.prototype.removeInvisibleWhitespace=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];i.childNodes.length?this.removeInvisibleWhitespace(i):i.textContent=i.textContent.replace(/\u200B/gi,"")}},e.Editable.prototype.cleanOutput=function(t,i){var n,r,s,o;i&&this.removeInvisibleWhitespace(t);var a=this.mapDOM(t,i).sort(function(e,t){return t.sp-e.sp}),l=t.textContent;html="";var d=[],c=-1,h=e.proxy(function(){var t="";for(simple_nodes_to_close=[],d=d.sort(function(e,t){return e.idx-t.idx}).reverse();d.length;){for(var i=d.pop();simple_nodes_to_close.length&&simple_nodes_to_close[simple_nodes_to_close.length-1].ci<i.ci;)t+=this.closeTag(simple_nodes_to_close.pop());i.selfClosing||i.comment?t+=this.commentTag(i):(!e.isEmptyObject(i.attrs)||this.options.allowedBlankTags.indexOf(i.tagName)>=0)&&(t+=this.openTag(i),simple_nodes_to_close.push(i))}for(;simple_nodes_to_close.length;)t+=this.closeTag(simple_nodes_to_close.pop());html+=t},this),p={},u=[];for(n=0;n<=l.length;n++){if(p[n])for(r=p[n].length-1;r>=0;r--)if(u.length&&u[u.length-1].tagName==p[n][r].tagName&&JSON.stringify(u[u.length-1].styles)==JSON.stringify(p[n][r].styles))html+=this.closeTag(p[n][r]),u.pop();else{for(var f=[];u.length&&(u[u.length-1].tagName!==p[n][r].tagName||JSON.stringify(u[u.length-1].styles)!==JSON.stringify(p[n][r].styles));)o=u.pop(),html+=this.closeTag(o),f.push(o);for(html+=this.closeTag(p[n][r]),u.pop();f.length;){var m=f.pop();html+=this.openTag(m),u.push(m)}}for(var g=this.nodesOpenedAt(a,n).sort(this.sortNodes).reverse();g.length;){var v=g.pop();if(!v.dirty)if(v.selfClosing||v.comment)v.ci>c||"BR"==v.tagName?(h(),html+=this.commentTag(v),c=v.ci):d.length?(d.push(v),c<v.ci&&(c=v.ci)):(html+=this.commentTag(v),c<v.ci&&(c=v.ci));else if(v.ep>v.sp){v.ci>c&&h();var b=[];if("A"==v.tagName)for(var y=v.sp+1;y<v.ep;y++)if(p[y]&&p[y].length)for(s=0;s<p[y].length;s++)b.push(p[y][s]),html+=this.closeTag(p[y][s]),u.pop();var w=[];if("SPAN"==v.tagName&&("#123456"==v.styles["background-color"]||"#123456"===e.Editable.RGBToHex(v.styles["background-color"])||"#123456"==v.styles.color||"#123456"===e.Editable.RGBToHex(v.styles.color)))for(;u.length;){var x=u.pop();html+=this.closeTag(x),w.push(x)}for(html+=this.openTag(v),c<v.ci&&(c=v.ci),u.push(v),p[v.ep]||(p[v.ep]=[]),p[v.ep].push(v);b.length;)v=b.pop(),html+=this.openTag(v),u.push(v);for(;w.length;)v=w.pop(),html+=this.openTag(v),u.push(v)}else v.sp==v.ep&&(d.push(v),c<v.ci&&(c=v.ci))}h(),n!=l.length&&(html+=this.entity(l[n]))}return html=html.replace(/(<span[^>]*? class\s*=\s*["']?f-marker["']?[^>]+>)\u200B(<\/span>)/gi,"$1$2"),html},e.Editable.prototype.wrapDirectContent=function(){var t=e.merge(["UL","OL","TABLE"],this.valid_nodes);if(!this.options.paragraphy)for(var i=null,n=this.$element.contents(),r=0;r<n.length;r++)1!=n[r].nodeType||t.indexOf(n[r].tagName)<0?(i||(i=e('<div class="fr-wrap">'),e(n[r]).before(i)),i.append(n[r])):i=null},e.Editable.prototype.cleanify=function(t,i,n){if(this.browser.msie&&e.Editable.getIEversion()<9)return!1;var r;if(this.isHTML)return!1;void 0===t&&(t=!0),void 0===n&&(n=!0),this.no_verify=!0,this.$element.find("span").removeAttr("data-fr-verified"),n&&this.saveSelectionByMarkers(),t?r=this.getSelectionElements():(this.wrapDirectContent(),r=this.$element.find(this.valid_nodes.join(",")),0===r.length&&(r=[this.$element.get(0)]));var s,o;if(r[0]!=this.$element.get(0))for(var a=0;a<r.length;a++){var l=e(r[a]);0===l.find(this.valid_nodes.join(",")).length&&(s=l.html(),o=this.cleanOutput(l.get(0),i),o!==s&&l.html(o))}else 0===this.$element.find(this.valid_nodes.join(",")).length&&(s=this.$element.html(),o=this.cleanOutput(this.$element.get(0),i),o!==s&&this.$element.html(o));this.$element.find("[data-fr-idx]").removeAttr("data-fr-idx"),this.$element.find(".fr-wrap").each(function(){e(this).replaceWith(e(this).html())}),this.$element.find(".f-marker").html(""),n&&this.restoreSelectionByMarkers(),this.$element.find("span").attr("data-fr-verified",!0),this.no_verify=!1}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){e.Editable.commands=e.extend(e.Editable.commands,{insertOrderedList:{title:"Numbered List",icon:"fa fa-list-ol",refresh:function(){},callback:function(e){this.formatList(e)},undo:!0},insertUnorderedList:{title:"Bulleted List",icon:"fa fa-list-ul",refresh:function(){},callback:function(e){this.formatList(e)},undo:!0}}),e.Editable.prototype.refreshLists=function(){var t=e(this.getSelectionElement()),i=this.parents(t,"ul, ol");if(i.length>0){var n="insertUnorderedList";"OL"==i[0].tagName&&(n="insertOrderedList"),this.$editor.find('button[data-cmd="'+n+'"]').addClass("active")}},e.Editable.prototype.processBackspace=function(t){var i=t.prev();if(i.length){for(this.removeMarkers(),("UL"==i.get(0).tagName||"OL"==i.get(0).tagName)&&(i=i.find("li:last"));i.find("> ul, > ol").length;)i=i.find("> ul li:last, > ol li:last");var n=i.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote");if(0===i.text().length&&0===i.find("img, table, input, iframe, video").length)i.remove();else{if(this.emptyElement(i.get(0))||(this.keep_enter=!0,t.find("> p, > h1, > h3, > h4, > h5, > h6, > div, > pre, > blockquote").each(function(t,i){e(i).replaceWith(e(i).html())}),this.keep_enter=!1),n.length)if(e(n[n.length-1]).append(this.markers_html),0===t.find("ul, ol").length)e(n[n.length-1]).append(t.html());else{for(var r=!1,s=t.contents(),o=0;o<s.length;o++){var a=s[o];["OL","UL"].indexOf(s[o].tagName)>=0&&(r=!0),r?e(n[n.length-1]).after(a):e(n[n.length-1]).append(a)}this.$element.find("breakli").remove();var l=n[n.length-1].nextSibling;l&&"BR"==l.tagName&&e(l).remove()}else this.emptyElement(i.get(0))?(this.$element.find("breakli").replaceWith(this.markers_html),i.html(t.html())):(i.append(this.markers_html),i.append(t.html()));t.remove(),this.cleanupLists(),this.restoreSelectionByMarkers()}this.$element.find("breakli").remove()}else this.$element.find("breakli").remove(),this.parents(t,"ul").length?this.formatList("insertUnorderedList",!1):this.formatList("insertOrderedList",!1);this.sync()},e.Editable.prototype.liBackspace=function(){if(""!==this.text())return!0;var t,i=this.getSelectionElement(),n=this.parents(e(i),"table, li");if(n.length>0&&"TABLE"===n[0].tagName)return!0;if(t="LI"==i.tagName?e(i):this.parents(e(i),"li:first"),this.removeMarkers(),this.emptyElement(t.get(0))?(t.prepend("<breakli></breakli>"),1==t.find("br").length&&t.find("br").remove()):this.insertHTML("<breakli></breakli>"),t.find("breakli").prev().length&&"TABLE"===t.find("breakli").prev().get(0).tagName&&t.find("breakli").next().length&&"BR"===t.find("breakli").next().get(0).tagName)return this.setSelection(t.find("breakli").prev().find("td:first").get(0)),t.find("breakli").next().remove(),this.$element.find("breakli").remove(),!1;for(var r,s=t.html(),o=[],a=0;a<s.length;a++){if(chr=s.charAt(a),"<"!=chr)return this.$element.find("breakli").remove(),!0;var l=s.indexOf(">",a+1);if(-1!==l){r=s.substring(a,l+1);var d=this.tagName(r);if(a=l,"breakli"==d){if(!this.isClosingTag(r)&&!this.isClosingTag(o[o.length-1]))return this.processBackspace(t),!1}else o.push(r)}}return this.$element.find("breakli").remove(),!0},e.Editable.prototype.textLiEnter=function(t){this.removeMarkers(),this.insertSimpleHTML("<breakli></breakli>",!1);var i,n,r=t.html(),s=[],o={},a=[],l=0,d=t.prop("attributes"),c="";for(n=0;n<d.length;n++)c+=" "+d[n].name+'="'+d[n].value+'"';var h=!1;for(n=0;n<r.length;n++)if(chr=r.charAt(n),"<"==chr){var p=r.indexOf(">",n+1);if(-1!==p){i=r.substring(n,p+1);var u=this.tagName(i);if(n=p,"breakli"==u){if(!this.isClosingTag(i)){for(var f=s.length-1;f>=0;f--){var m=this.tagName(s[f]);a.push("</"+m+">")}a.push("</li>"),a.push("<li"+c+">");for(var g=0;g<s.length;g++)a.push(s[g]);a.push('<span class="f-marker" data-type="false" data-collapsed="true" data-id="0" data-fr-verified="true"></span><span class="f-marker" data-type="true" data-collapsed="true" data-id="0" data-fr-verified="true"></span>'),h=!1}}else if(a.push(i),h=!1,!this.isSelfClosingTag(i))if(this.isClosingTag(i)){var v=o[u].pop();s.splice(v,1)}else s.push(i),void 0===o[u]&&(o[u]=[]),o[u].push(s.length-1)}}else l++,32!=chr.charCodeAt(0)||h?(a.push(chr),h=!0):a.push("&nbsp;");var b=e(t.parents("ul, ol")[0]);t.replaceWith("<li"+c+">"+a.join("")+"</li>"),b.find("p:empty + table").prev().remove(),b.find("p + table").each(function(t,i){var n=e(i);n.prev().append(n.clone()),n.remove()}),b.find("table + p").each(function(t,i){var n=e(i);n.append(n.prev().clone()),n.prev().remove()}),this.keep_enter=!0,b.find(this.valid_nodes.join(",")).each(e.proxy(function(t,i){""===e(i).text().trim()&&0===e(i).find(this.valid_nodes.join(",")).length&&e(i).prepend(e.Editable.INVISIBLE_SPACE)},this)),this.keep_enter=!1},e.Editable.prototype.liEnter=function(){var t,i=this.getSelectionElement(),n=this.parents(e(i),"table, li");if(n.length>0&&"TABLE"==n[0].tagName)return!0;if(t="LI"==i.tagName?e(i):this.parents(e(i),"li:first"),this.getSelectionTextInfo(t.get(0)).atStart&&""===this.text())t.before("<li>"+e.Editable.INVISIBLE_SPACE+"</li>");else{if(0===this.trim(t.text()).length&&0===t.find("img, table, iframe, input, object").length)return this.outdent(!1),!1;this.textLiEnter(t),this.$element.find("breakli").remove(),this.restoreSelectionByMarkers()}return this.sync(),!1},e.Editable.prototype.listTab=function(){var t=e(this.getSelectionElement());return this.parents(t,"ul, ol").length>0&&0===this.parents(t,"table").length?(this.indent(),!1):void 0},e.Editable.prototype.listShiftTab=function(){var t=e(this.getSelectionElement());return this.parents(t,"ul, ol").length>0&&0===this.parents(t,"table").length?(this.outdent(),!1):void 0},e.Editable.prototype.indentList=function(e,t){return"LI"===e.get(0).tagName?(t?this.outdentLi(e):this.indentLi(e),this.cleanupLists(),!1):!0},e.Editable.prototype.initList=function(){this.addListener("tab",this.listTab),this.addListener("shift+tab",this.listShiftTab),this.addListener("refresh",this.refreshLists),this.addListener("indent",this.indentList),this.isImage||this.isLink||this.options.editInPopup||this.$element.on("keypress",e.proxy(function(t){if(["TEXTAREA","INPUT"].indexOf(t.target.tagName)<0&&!this.isHTML){var i=t.which,n=this.getSelectionElement();if("LI"==n.tagName||this.parents(e(n),"li").length>0){if(13==i&&!t.shiftKey&&this.options.multiLine)return this.liEnter();if(8==i)return this.liBackspace()}}},this))},e.Editable.initializers.push(e.Editable.prototype.initList),e.Editable.prototype.formatList=function(t,i){if(this.browser.msie&&e.Editable.getIEversion()<9)return document.execCommand(t,!1,!1),!1;void 0===i&&(i=!0);var n,r,s=!1,o=!0,a=!1,l=this.getSelectionElements(),d=this.parents(e(l[0]),"ul, ol");if(d.length&&("UL"===d[0].tagName?"insertUnorderedList"!=t&&(s=!0):"insertOrderedList"!=t&&(s=!0)),this.saveSelectionByMarkers(),s){n="ol","insertUnorderedList"===t&&(n="ul");var c=e(d[0]);c.replaceWith("<"+n+">"+c.html()+"</"+n+">")}else{for(var h=0;h<l.length;h++)if(r=e(l[h]),("TD"==r.get(0).tagName||"TH"==r.get(0).tagName)&&this.wrapTextInElement(r),this.parents(r,"li").length>0||"LI"==r.get(0).tagName){var p;p="LI"==r.get(0).tagName?r:e(r.parents("li")[0]);var u=this.parents(r,"ul, ol");if(u.length>0&&(n=u[0].tagName.toLowerCase(),p.before('<span class="close-'+n+'" data-fr-verified="true"></span>'),p.after('<span class="open-'+n+'" data-fr-verified="true"></span>')),0===this.parents(e(u[0]),"ol, ul").length||s)if(0===p.find(this.valid_nodes.join(",")).length){var f=p.html().replace(/\u200B/gi,"");this.options.paragraphy?(0===p.text().replace(/\u200B/gi,"").length&&(f+=p.find("br").length>0?"":this.br),f="<"+this.options.defaultTag+this.attrs(p.get(0))+">"+f,f=f+"</"+this.options.defaultTag+">"):f+=p.find("br").length>0?"":this.br,p.replaceWith(f)}else p.replaceWith(p.html().replace(/\u200B/gi,""));else this.parents(e(u[0]),"ol, ul").length>0&&(p.append('<span class="open-li" data-fr-verified="true"></span>'),p.before('<span class="close-li" data-fr-verified="true"></span>'));a=!0}else o=!1;a&&this.cleanupLists(),(o===!1||s===!0)&&(this.wrapText(),this.restoreSelectionByMarkers(),l=this.getSelectionElements(),this.saveSelectionByMarkers(),this.elementsToList(l,t),this.unwrapText(),this.cleanupLists())}this.options.paragraphy&&!s&&this.wrapText(!0),this.restoreSelectionByMarkers(),i&&this.repositionEditor(),t="insertUnorderedList"==t?"unorderedListInserted":"orderedListInserted",this.triggerEvent(t)},e.Editable.prototype.elementsToList=function(t,i){var n="<ol>";"insertUnorderedList"==i&&(n="<ul>"),t[0]==this.$element.get(0)&&(t=this.$element.find("> "+this.valid_nodes.join(", >")));for(var r=0;r<t.length;r++){var s=e(n);$element=e(t[r]),$element.get(0)!=this.$element.get(0)&&("TD"===$element.get(0).tagName||"TH"===$element.get(0).tagName?(this.wrapTextInElement($element,!0),this.elementsToList($element.find("> "+this.valid_nodes.join(", >")),i)):(""===$element.attr("class")&&$element.removeAttr("class"),s.append(e("<li>").html($element.get(0).tagName==this.options.defaultTag&&0===$element.get(0).attributes.length?$element.clone().html():$element.clone())),$element.replaceWith(s)))}},e.Editable.prototype.indentLi=function(t){var i=t.parents("ul, ol"),n=i.get(0).tagName.toLowerCase();t.find("> ul, > ol").length>0&&t.prev("li").length>0?(this.wrapTextInElement(t),t.find("> "+this.valid_nodes.join(" , > ")).each(function(t,i){e(i).wrap("<"+n+"></"+n+">").wrap("<li></li>")}),t.prev("li").append(t.find("> ul, > ol")),t.remove()):0===t.find("> ul, > ol").length&&t.prev("li").length>0&&(t.prev().append(e("<"+n+">").append(t.clone())),t.remove(),e(i.find("li").get().reverse()).each(function(t,i){var n=e(i);n.find(" > ul, > ol").length>0&&n.prev()&&n.prev().find(" > ul, > ol").length>0&&1===n.contents().length&&(n.prev().append(n.html()),n.remove())}))},e.Editable.prototype.outdentLi=function(t){var i=e(t.parents("ul, ol")[0]),n=this.parents(i,"ul, ol"),r=i.get(0).tagName.toLowerCase();0===t.prev("li").length&&this.parents(t,"li").length>0?(t.before('<span class="close-'+r+'" data-fr-verified="true"></span>'),t.before('<span class="close-li" data-fr-verified="true"></span>'),t.before('<span class="open-li" data-fr-verified="true"></span>'),t.after('<span class="open-'+r+'" data-fr-verified="true"></span>'),t.replaceWith(t.html())):(t.before('<span class="close-'+r+'" data-fr-verified="true"></span>'),t.after('<span class="open-'+r+'" data-fr-verified="true"></span>'),this.parents(t,"li").length>0&&(t.before('<span class="close-li" data-fr-verified="true"></span>'),t.after('<span class="open-li" data-fr-verified="true"></span>'))),n.length||(0===t.find(this.valid_nodes.join(",")).length?t.replaceWith(t.html().replace(/\u200b/gi,"")+this.br):(t.find(this.valid_nodes.join(", ")).each(e.proxy(function(t,i){this.emptyElement(i)&&e(i).append(this.br)},this)),t.replaceWith(t.html().replace(/\u200b/gi,""))))},e.Editable.prototype.listTextEmpty=function(t){var i=e(t).text().replace(/(\r\n|\n|\r|\t|\u200B)/gm,"");return(""===i||t===this.$element.get(0))&&1===e(t).find("br").length}}(jQuery),/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){e.Editable.commands=e.extend(e.Editable.commands,{table:{title:"Table",icon:"fa fa-table",callback:function(e,t,i){this.table_commands[t]?this.table_commands[t].apply(this,[t,i]):this.table_commands.insertTable.apply(this,[t,i]),this.cleanupTables()}}}),e.Editable.DEFAULTS.buttons[e.Editable.DEFAULTS.buttons.indexOf("insertHorizontalRule")]="table",e.Editable.prototype.table_commands={insertTable:function(e,t){this.insertTable(e,t)},insertRowAbove:function(){this.insertRow("above")},insertRowBelow:function(){this.insertRow("below")},insertColumnBefore:function(){this.insertColumn("before")},insertColumnAfter:function(){this.insertColumn("after")},deleteColumn:function(){this.deleteColumn()},deleteRow:function(){this.deleteRow()},insertCellBefore:function(){this.insertCell("before")},insertCellAfter:function(){this.insertCell("after")},mergeCells:function(){this.mergeCells()},deleteCell:function(){this.deleteCell()},splitVertical:function(){this.splitVertical()},splitHorizontal:function(){this.splitHorizontal()},insertHeader:function(){this.insertHeader()},deleteHeader:function(){this.deleteHeader()},deleteTable:function(){this.deleteTable()}},e.Editable.prototype.command_dispatcher=e.extend(e.Editable.prototype.command_dispatcher,{table:function(e){var t=this.buildDropdownTable(),i=this.buildDropdownButton(e,t,"fr-table");return this.bindTableDropdownEvents(),i}}),e.Editable.prototype.tableTab=function(){var t;this.currentCell&&(t=this.currentCell());var i=e(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:t&&this.nextCell()?(this.setSelection(this.nextCell()),!1):void 0},e.Editable.prototype.tableShiftTab=function(){var t;this.currentCell&&(t=this.currentCell());var i=e(this.getSelectionElement());return i.parents("ul, ol").length>0?!0:t&&this.prevCell()?(this.setSelection(this.prevCell()),!1):void 0},e.Editable.prototype.initTable=function(){var t=this;this.$editor.on("click mouseup touch touchend",".fr-table a",function(i){i.preventDefault(),i.stopPropagation(),t.android()&&(e(this).parent().siblings().removeClass("hover"),e(this).parent().addClass("hover"))}),this.addListener("tab",this.tableTab),this.addListener("shift+tab",this.tableShiftTab)},e.Editable.initializers.push(e.Editable.prototype.initTable),e.Editable.prototype.buildDropdownTable=function(){var e='<ul class="fr-dropdown-menu fr-table">';e+='<li> <a href="#"><span data-text="true">Insert table</span> <i class="fa fa-chevron-right"></i></a><div class="select-table"> ',e+='<div class="fr-t-info">1 x 1</div>';for(var t=1;10>=t;t++){for(var i=1;10>=i;i++){var n="inline-block";(t>5||i>5)&&(n="none");var r="fr-bttn ";1==t&&1==i&&(r+=" hover"),e+='<span class="'+r+'" data-cmd="table" data-val="'+t+'" data-param="'+i+'" style="display: '+n+';"><span></span></span>'}e+='<div class="new-line"></div>'}return e+="</div> </li>",e+='<li><a href="#"><span data-text="true">Cell</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertCellBefore"><a href="#" data-text="true">Insert cell before</a></li><li data-cmd="table" data-val="insertCellAfter"><a href="#" data-text="true">Insert cell after</a></li><li data-cmd="table" data-val="deleteCell"><a href="#" data-text="true">Delete cell</a></li><li data-cmd="table" data-val="mergeCells"><a href="#" data-text="true">Merge cells</a></li><li data-cmd="table" data-val="splitHorizontal"><a href="#" data-text="true">Horizontal split</a></li><li data-cmd="table" data-val="splitVertical"><a href="#" data-text="true">Vertical split</a></li></ul></li>',e+='<li><a href="#"><span data-text="true">Row</span> <i class="fa fa-chevron-right"></i></a> <ul><li data-cmd="table" data-val="insertRowAbove"><a href="#" data-text="true">Insert row above</a></li><li data-cmd="table" data-val="insertRowBelow"><a href="#" data-text="true">Insert row below</a></li><li data-cmd="table" data-val="deleteRow"><a href="#" data-text="true">Delete row</a></li></ul></li>',e+='<li><a href="#"><span data-text="true">Column</span> <i class="fa fa-chevron-right"></i></a> <ul> <li data-cmd="table" data-val="insertColumnBefore"><a href="#" data-text="true">Insert column before</a></li> <li data-cmd="table" data-val="insertColumnAfter"><a href="#" data-text="true">Insert column after</a></li> <li data-cmd="table" data-val="deleteColumn"><a href="#" data-text="true">Delete column</a></li> </ul></li>',e+='<li data-cmd="table" data-val="deleteTable"><a href="#" data-text="true">Delete table</a></li>',e+="</ul>"},e.Editable.prototype.bindTableDropdownEvents=function(){var t=this;this.$bttn_wrapper.on("mouseenter",".fr-table .select-table > span",function(){var i=e(this).data("val"),n=e(this).data("param");t.$bttn_wrapper.find(".fr-table .select-table .fr-t-info").text(i+" x "+n),t.$bttn_wrapper.find(".fr-table .select-table > span").removeClass("hover");for(var r=1;10>=r;r++)for(var s=0;10>=s;s++){var o=t.$bttn_wrapper.find('.fr-table .select-table > span[data-val="'+r+'"][data-param="'+s+'"]');i>=r&&n>=s?o.addClass("hover"):(i+1>=r||5>=r)&&(n+1>=s||5>=s)?o.css("display","inline-block"):(r>5||s>5)&&o.css("display","none")}}),this.$bttn_wrapper.on("mouseleave",".fr-table .select-table",function(){t.$bttn_wrapper.find('.fr-table .select-table > span[data-val="1"][data-param="1"]').trigger("mouseenter")}),this.android()&&this.$bttn_wrapper.on("touchend",".fr-table .fr-trigger",function(){e(this).parents(".fr-table").find(".hover").removeClass("hover")})},e.Editable.prototype.tableMap=function(){var t=this.currentTable(),i=[];return t&&t.find("tr:not(:empty)").each(function(t,n){var r=e(n),s=0;r.find("th, td").each(function(n,r){for(var o=e(r),a=parseInt(o.attr("colspan"),10)||1,l=parseInt(o.attr("rowspan"),10)||1,d=t;t+l>d;d++)for(var c=s;s+a>c;c++)i[d]||(i[d]=[]),i[d][c]?s++:i[d][c]=r;s+=a})}),i},e.Editable.prototype.cellOrigin=function(e,t){for(var i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++)if(t[i][n]==e)return{row:i,col:n}},e.Editable.prototype.canMergeCells=function(){var t=this.getSelectionCells();if(t.length<2)return!1;for(var i=this.tableMap(),n=0,r=32e3,s=0,o=32e3,a=0,l=0;l<t.length;l++){var d=e(t[l]),c=parseInt(d.attr("colspan"),10)||1,h=parseInt(d.attr("rowspan"),10)||1,p=this.cellOrigin(t[l],i);n+=c*h,r=Math.min(r,p.col),s=Math.max(s,p.col+c),o=Math.min(o,p.row),a=Math.max(a,p.row+h)}return n==(s-r)*(a-o)?{row:o,col:r,colspan:s-r,rowspan:a-o,map:i,cells:t}:null},e.Editable.prototype.getSelectionCells=function(){var t,i=[];if(this.browser.webkit||this.browser.msie){var n=this.getSelectionElements();for(t=0;t<n.length;t++)("TD"==n[t].tagName||"TH"==n[t].tagName)&&i.push(n[t])}else{var r=this.getRanges();for(t=0;t<r.length;t++){var s=r[t],o=!1;if("TD"==s.startContainer.tagName||"TH"==s.startContainer.tagName)i.push(s.startContainer),o=!0;else{var a=s.startContainer.childNodes,l=s.startOffset;if(a.length>l&&l>=0){var d=a[l];("TD"==d.tagName||"TH"==d.tagName)&&(i.push(d),o=!0)}}if(o===!1){var c=e(s.startContainer).parents("td:first, th:first");c.length>0&&i.push(c.get(0))}}}return i},e.Editable.prototype.currentCell=function(){var e=this.getSelectionCells();return e.length>0?e[0]:null},e.Editable.prototype.prevCell=function(){var t=this.currentCell();if(t){if(e(t).prev("td").length)return e(t).prev("td").get(0);if(e(t).parent().prev("tr").find("td").length)return e(t).parent().prev("tr").find("td:last").get(0)}return null},e.Editable.prototype.nextCell=function(){var t=this.currentCell();if(t){if(e(t).next("td").length)return e(t).next("td").get(0);if(e(t).parent().next("tr").find("td").length)return e(t).parent().next("tr").find("td").get(0)}return null},e.Editable.prototype.currentTable=function(){for(var t=e(this.getSelectionElement());t.get(0)!=this.$element.get(0)&&t.get(0)!=this.$document.find("body").get(0)&&"TABLE"!=t.get(0).tagName;)t=t.parent();return t.get(0)!=this.$element.get(0)?t:null},e.Editable.prototype.focusOnTable=function(){var e=this.currentTable();if(e){var t=e.find("td:first");this.setSelection(t.get(0))}},e.Editable.prototype.insertCell=function(t){for(var i=this.getSelectionCells(),n=0;n<i.length;n++){var r=e(i[n]);"before"==t?r.before(r.clone().removeAttr("colspan").removeAttr("rowspan").html(e.Editable.INVISIBLE_SPACE)):"after"==t&&r.after(r.clone().removeAttr("colspan").removeAttr("rowspan").html(e.Editable.INVISIBLE_SPACE))}"before"==t?this.triggerEvent("cellInsertedBefore"):"after"==t&&this.triggerEvent("cellInsertedAfter")},e.Editable.prototype.mergeCells=function(){var t=this.canMergeCells();if(t){var i=e(t.map[t.row][t.col]);i.attr("colspan",t.colspan),i.attr("rowspan",t.rowspan);for(var n=0;n<t.cells.length;n++){var r=t.cells[n];if(i.get(0)!=r){var s=e(r);i.append(s.html()),s.remove()}}this.setSelection(i.get(0))}this.hide(),this.triggerEvent("cellsMerged")},e.Editable.prototype.deleteCell=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]);n.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("cellDeleted")},e.Editable.prototype.insertHeader=function(){var e=this.currentTable();e&&e.find(" > thead").length>0&&this.triggerEvent("headerInserted")},e.Editable.prototype.deleteHeader=function(){},e.Editable.prototype.insertColumn=function(t){var i=this.currentCell();if(i)for(var n=e(i),r=this.tableMap(),s=this.cellOrigin(n.get(0),r),o=0;o<r.length;o++){var a=r[o][s.col],l=parseInt(e(a).attr("colspan"),10)||1,d=parseInt(e(a).attr("rowspan"),10)||1;if("before"==t){var c=r[o][s.col-1];c?c==a?e(c).attr("colspan",l+1):d>1?e(c).after("<"+c.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+c.tagName+">"):e(a).before("<"+a.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+a.tagName+">"):e(a).before("<"+a.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+a.tagName+">")}else if("after"==t){var h=r[o][s.col+1];h?h==a?e(h).attr("colspan",l+1):d>1?e(h).before("<"+h.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+h.tagName+">"):e(a).after("<"+a.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+a.tagName+">"):e(a).after("<"+a.tagName+">"+e.Editable.INVISIBLE_SPACE+"</"+a.tagName+">")}}this.hide(),"before"==t?this.triggerEvent("columnInsertedBefore"):"after"==t&&this.triggerEvent("columnInsertedAfter")},e.Editable.prototype.deleteColumn=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++)for(var n=e(t[i]),r=this.tableMap(),s=this.cellOrigin(n.get(0),r),o=0;o<r.length;o++){var a=r[o][s.col],l=parseInt(e(a).attr("colspan"),10)||1;1==l?e(a).remove():e(a).attr("colspan",l-1)}this.focusOnTable(),this.hide(),this.triggerEvent("columnDeleted")},e.Editable.prototype.insertRow=function(t){var i,n=this.currentCell();if(n){var r=e(n),s=this.tableMap(),o=this.cellOrigin(r.get(0),s),a=0,l=null;for(i=0;i<s[o.row].length;i++){var d=s[o.row][i],c=parseInt(e(d).attr("rowspan"),10)||1;if("above"==t)if(0===o.row)a++;else{var h=s[o.row-1][i];h==d&&l!=d?e(d).attr("rowspan",c+1):a++}else if("below"==t)if(o.row==s.length-1)a++;else{var p=s[o.row+1][i];p==d&&l!=d?e(d).attr("rowspan",c+1):a++}l=s[o.row][i]}var u="<tr>";for(i=0;a>i;i++)u+="<td>"+e.Editable.INVISIBLE_SPACE+"</td>";u+="</tr>","below"==t?r.closest("tr").after(u):"above"==t&&r.closest("tr").before(u)}this.hide(),"below"==t?this.triggerEvent("rowInsertedBelow"):"above"==t&&this.triggerEvent("rowInsertedAbove")},e.Editable.prototype.deleteRow=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]),r=this.tableMap(),s=this.cellOrigin(n.get(0),r),o=n.parents("tr:first");if(s)for(var a=0;a<r[s.row].length;a++){var l=r[s.row][a],d=parseInt(e(l).attr("rowspan"),10)||1;if(1==d)e(l).remove();else{var c=this.cellOrigin(l,r);if(e(l).attr("rowspan",d-1),c.row==s.row){var h=r[s.row+1];h&&h[a-1]&&(e(h[a-1]).after(e(l).clone()),e(l).remove())}}}o.remove()}this.focusOnTable(),this.hide(),this.triggerEvent("rowDeleted")},e.Editable.prototype.splitVertical=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]),r=this.tableMap(),s=this.cellOrigin(n.get(0),r),o=parseInt(n.attr("colspan"),10)||1,a=parseInt(n.attr("rowspan"),10)||1;if(a>1){var l=Math.floor(a/2),d=s.row+(a-l),c=r[d][s.col-1];c||(c=r[d][s.col+o]),c?e(c).before(n.clone().attr("rowspan",l).html(e.Editable.INVISIBLE_SPACE)):n.parents("tr:first").after(e("<tr>").append(n.clone().attr("rowspan",l).html(e.Editable.INVISIBLE_SPACE))),n.attr("rowspan",a-l)}else{for(var h=e("<tr>").append(n.clone().html(e.Editable.INVISIBLE_SPACE)),p=null,u=0;u<r[s.row].length;u++){var f=r[s.row][u],m=parseInt(e(f).attr("rowspan"),10)||1;p!=f&&f!=n.get(0)&&e(f).attr("rowspan",m+1),p=f}n.parents("tr:first").after(h)}}this.hide(),this.triggerEvent("cellVerticalSplit")},e.Editable.prototype.splitHorizontal=function(){for(var t=this.getSelectionCells(),i=0;i<t.length;i++){var n=e(t[i]),r=this.tableMap(),s=this.cellOrigin(n.get(0),r),o=parseInt(n.attr("colspan"),10)||1;if(o>1){var a=Math.floor(o/2);n.after(n.clone().attr("colspan",a).html(e.Editable.INVISIBLE_SPACE)),n.attr("colspan",o-a)}else{for(var l=null,d=0;d<r.length;d++){var c=r[d][s.col],h=parseInt(e(c).attr("colspan"),10)||1;l!=c&&c!=n.get(0)&&e(c).attr("colspan",h+1),l=c}n.after(n.clone().html(e.Editable.INVISIBLE_SPACE))}}this.hide(),this.triggerEvent("cellHorizontalSplit")},e.Editable.prototype.insertTable=function(t,i){for(var n='<table data-last-table="true" width="100%">',r=0;t>r;r++){n+="<tr>";for(var s=0;i>s;s++)n+="<td>"+e.Editable.INVISIBLE_SPACE+"</td>";n+="</tr>"}n+="</table>",this.focus();var o=this.getSelectionElement();this.breakHTML(n,this.parents(e(o),"li").length<0);var a=this.$element.find('table[data-last-table="true"]');a.removeAttr("data-last-table"),this.setSelection(a.find("td:first").get(0)),this.hide(),this.triggerEvent("tableInserted")},e.Editable.prototype.deleteTable=function(){var e=this.currentTable();e&&(e.remove(),this.focus(),this.hide(),this.triggerEvent("tableDeleted"))},e.Editable.prototype.cleanupTables=function(){this.$element.find('td[colspan="1"], th[colspan="1"]').each(function(){e(this).removeAttr("colspan")}),this.$element.find('td[rowspan="1"], th[rowspan="1"]').each(function(){e(this).removeAttr("rowspan")})}}(jQuery),/*
 *
 * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
 *
 * Copyright (c) 2012, Matias Meno
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */
function(){var e,t,i,n,r,s,o,a,l=[].slice,d={}.hasOwnProperty,c=function(e,t){function i(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};o=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,r,s;if(n=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},i=this._callbacks[n])for(r=0,s=i.length;s>r;r++)t=i[r],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,r,s,o;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(n=this._callbacks[e],!n)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(r=s=0,o=n.length;o>s;r=++s)if(i=n[r],i===t){n.splice(r,1);break}return this},e}(),e=function(e){function i(e,t){var r,s,o;if(this.element=e,this.version=i.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(i.instances.push(this),this.element.dropzone=this,r=null!=(o=i.optionsForElement(this.element))?o:{},this.options=n({},this.defaultOptions,r,null!=t?t:{}),this.options.forceFallback||!i.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),this.options.previewsContainer!==!1&&(this.previewsContainer=this.options.previewsContainer?i.getElement(this.options.previewsContainer,"previewsContainer"):this.element),this.options.clickable&&(this.clickableElements=this.options.clickable===!0?[this.element]:i.getElements(this.options.clickable,"clickable")),this.init()}var n,r;return c(i,e),i.prototype.Emitter=t,i.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],i.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return o},forceFallback:!1,fallback:function(){var e,t,n,r,s,o;for(this.element.className=""+this.element.className+" dz-browser-not-supported",o=this.element.getElementsByTagName("div"),r=0,s=o.length;s>r;r++)e=o[r],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=i.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),n=t.getElementsByTagName("span")[0],n&&(n.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):i>n?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:o,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:o,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,n,r,s,o,a,l,d,c,h,p,u,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=i.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),h=e.previewElement.querySelectorAll("[data-dz-name]"),s=0,l=h.length;l>s;s++)t=h[s],t.textContent=e.name;for(p=e.previewElement.querySelectorAll("[data-dz-size]"),o=0,d=p.length;d>o;o++)t=p[o],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),n=function(t){return function(n){return n.preventDefault(),n.stopPropagation(),e.status===i.UPLOADING?i.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?i.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),u=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],a=0,c=u.length;c>a;a++)r=u[a],f.push(r.addEventListener("click",n));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,r,s;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),s=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,r=s.length;r>n;n++)i=s[n],i.alt=e.name,i.src=t;return setTimeout(function(){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var i,n,r,s,o;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),s=e.previewElement.querySelectorAll("[data-dz-errormessage]"),o=[],n=0,r=s.length;r>n;n++)i=s[n],o.push(i.textContent=t);return o}},errormultiple:o,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:o,uploadprogress:function(e,t){var i,n,r,s,o;if(e.previewElement){for(s=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),o=[],n=0,r=s.length;r>n;n++)i=s[n],o.push("PROGRESS"===i.nodeName?i.value=t:i.style.width=""+t+"%");return o}},totaluploadprogress:o,sending:o,sendingmultiple:o,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:o,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:o,complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:o,maxfilesexceeded:o,maxfilesreached:o,queuecomplete:o,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},n=function(){var e,t,i,n,r,s,o;for(n=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],s=0,o=i.length;o>s;s++){t=i[s];for(e in t)r=t[e],n[e]=r}return n},i.prototype.getAcceptedFiles=function(){var e,t,i,n,r;for(n=this.files,r=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted&&r.push(e);return r},i.prototype.getRejectedFiles=function(){var e,t,i,n,r;for(n=this.files,r=[],t=0,i=n.length;i>t;t++)e=n[t],e.accepted||r.push(e);return r},i.prototype.getFilesWithStatus=function(e){var t,i,n,r,s;for(r=this.files,s=[],i=0,n=r.length;n>i;i++)t=r[i],t.status===e&&s.push(t);return s},i.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(i.QUEUED)},i.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(i.UPLOADING)},i.prototype.getActiveFiles=function(){var e,t,n,r,s;for(r=this.files,s=[],t=0,n=r.length;n>t;t++)e=r[t],(e.status===i.UPLOADING||e.status===i.QUEUED)&&s.push(e);return s},i.prototype.init=function(){var e,t,n,r,s,o,a;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(n=function(e){return function(){return e.hiddenFileInput&&document.body.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.body.appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,i,r,s;if(i=e.hiddenFileInput.files,i.length)for(r=0,s=i.length;s>r;r++)t=i[r],e.addFile(t);return n()})}}(this))(),this.URL=null!=(o=window.URL)?o:window.webkitURL,a=this.events,r=0,s=a.length;s>r;r++)e=a[r],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(){return 0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(i){return t(i),e.emit("dragenter",i)}}(this),dragover:function(e){return function(i){var n;try{n=i.dataTransfer.effectAllowed}catch(r){}return i.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",t(i),e.emit("dragover",i)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(i){return t(i),e.drop(i)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(n){return t!==e.element||n.target===e.element||i.elementInside(n.target,e.element.querySelector(".dz-message"))?e.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},i.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,i.instances.splice(i.instances.indexOf(this),1)},i.prototype.updateTotalUploadProgress=function(){var e,t,i,n,r,s,o,a;if(n=0,i=0,e=this.getActiveFiles(),e.length){for(a=this.getActiveFiles(),s=0,o=a.length;o>s;s++)t=a[s],n+=t.upload.bytesSent,i+=t.upload.total;r=100*n/i}else r=100;return this.emit("totaluploadprogress",r,i,n)},i.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},i.prototype.getFallbackForm=function(){var e,t,n,r;return(e=this.getExistingFallback())?e:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=i.createElement(n),"FORM"!==this.element.tagName?(r=i.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:t)},i.prototype.getExistingFallback=function(){var e,t,i,n,r,s;for(t=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},s=["div","form"],n=0,r=s.length;r>n;n++)if(i=s[n],e=t(this.element.getElementsByTagName(i)))return e},i.prototype.setupEventListeners=function(){var e,t,i,n,r,s,o;for(s=this.listeners,o=[],n=0,r=s.length;r>n;n++)e=s[n],o.push(function(){var n,r;n=e.events,r=[];for(t in n)i=n[t],r.push(e.element.addEventListener(t,i,!1));return r}());return o},i.prototype.removeEventListeners=function(){var e,t,i,n,r,s,o;for(s=this.listeners,o=[],n=0,r=s.length;r>n;n++)e=s[n],o.push(function(){var n,r;n=e.events,r=[];for(t in n)i=n[t],r.push(e.element.removeEventListener(t,i,!1));return r}());return o},i.prototype.disable=function(){var e,t,i,n,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),n=this.files,r=[],t=0,i=n.length;i>t;t++)e=n[t],r.push(this.cancelUpload(e));return r},i.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},i.prototype.filesize=function(e){var t,i,n,r,s,o,a,l;for(o=["TB","GB","MB","KB","b"],n=r=null,i=a=0,l=o.length;l>a;i=++a)if(s=o[i],t=Math.pow(this.options.filesizeBase,4-i)/10,e>=t){n=e/Math.pow(this.options.filesizeBase,4-i),r=s;break}return n=Math.round(10*n)/10,"<strong>"+n+"</strong> "+r},i.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},i.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,t.length&&(i=e.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},i.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},i.prototype.handleFiles=function(e){var t,i,n,r;for(r=[],i=0,n=e.length;n>i;i++)t=e[i],r.push(this.addFile(t));return r},i.prototype._addFilesFromItems=function(e){var t,i,n,r,s;for(s=[],n=0,r=e.length;r>n;n++)i=e[n],s.push(null!=i.webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?this.addFile(i.getAsFile()):t.isDirectory?this._addFilesFromDirectory(t,t.name):void 0:null!=i.getAsFile?null==i.kind||"file"===i.kind?this.addFile(i.getAsFile()):void 0:void 0);return s},i.prototype._addFilesFromDirectory=function(e,t){var i,n;return i=e.createReader(),n=function(e){return function(i){var n,r,s;for(r=0,s=i.length;s>r;r++)n=i[r],n.isFile?n.file(function(i){return e.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+t+"/"+i.name,e.addFile(i))}):n.isDirectory&&e._addFilesFromDirectory(n,""+t+"/"+n.name)}}(this),i.readEntries(n,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},i.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):i.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},i.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=i.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(i){return i?(e.accepted=!1,t._errorProcessing([e],i)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},i.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;n>i;i++)t=e[i],this.enqueueFile(t);return null},i.prototype.enqueueFile=function(e){if(e.status!==i.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=i.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},i.prototype._thumbnailQueue=[],i.prototype._processingThumbnail=!1,i.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},i.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},i.prototype.removeFile=function(e){return e.status===i.UPLOADING&&this.cancelUpload(e),this.files=a(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},i.prototype.removeAllFiles=function(e){var t,n,r,s;for(null==e&&(e=!1),s=this.files.slice(),n=0,r=s.length;r>n;n++)t=s[n],(t.status!==i.UPLOADING||e)&&this.removeFile(t);return null},i.prototype.createThumbnail=function(e,t){var i;return i=new FileReader,i.onload=function(n){return function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}}(this),i.readAsDataURL(e)},i.prototype.createThumbnailFromUrl=function(e,t,i){var n;return n=document.createElement("img"),n.onload=function(t){return function(){var r,o,a,l,d,c,h,p;return e.width=n.width,e.height=n.height,a=t.options.resize.call(t,e),null==a.trgWidth&&(a.trgWidth=a.optWidth),null==a.trgHeight&&(a.trgHeight=a.optHeight),r=document.createElement("canvas"),o=r.getContext("2d"),r.width=a.trgWidth,r.height=a.trgHeight,s(o,n,null!=(d=a.srcX)?d:0,null!=(c=a.srcY)?c:0,a.srcWidth,a.srcHeight,null!=(h=a.trgX)?h:0,null!=(p=a.trgY)?p:0,a.trgWidth,a.trgHeight),l=r.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=i?i():void 0}}(this),null!=i&&(n.onerror=i),n.src=t},i.prototype.processQueue=function(){var e,t,i,n;if(t=this.options.parallelUploads,i=this.getUploadingFiles().length,e=i,!(i>=t)&&(n=this.getQueuedFiles(),n.length>0)){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;t>e;){if(!n.length)return;this.processFile(n.shift()),e++}}},i.prototype.processFile=function(e){return this.processFiles([e])},i.prototype.processFiles=function(e){var t,n,r;for(n=0,r=e.length;r>n;n++)t=e[n],t.processing=!0,t.status=i.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},i.prototype._getFilesWithXhr=function(e){var t,i;return i=function(){var i,n,r,s;for(r=this.files,s=[],i=0,n=r.length;n>i;i++)t=r[i],t.xhr===e&&s.push(t);return s}.call(this)},i.prototype.cancelUpload=function(e){var t,n,r,s,o,a,l;if(e.status===i.UPLOADING){for(n=this._getFilesWithXhr(e.xhr),r=0,o=n.length;o>r;r++)t=n[r],t.status=i.CANCELED;for(e.xhr.abort(),s=0,a=n.length;a>s;s++)t=n[s],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else((l=e.status)===i.ADDED||l===i.QUEUED)&&(e.status=i.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},r=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},i.prototype.uploadFile=function(e){return this.uploadFiles([e])},i.prototype.uploadFiles=function(e){var t,s,o,a,l,d,c,h,p,u,f,m,g,v,b,y,w,x,C,k,S,E,T,$,_,I,L,A,N,D,R,M,O,F;for(C=new XMLHttpRequest,k=0,$=e.length;$>k;k++)t=e[k],t.xhr=C;m=r(this.options.method,e),w=r(this.options.url,e),C.open(m,w,!0),C.withCredentials=!!this.options.withCredentials,b=null,o=function(i){return function(){var n,r,s;for(s=[],n=0,r=e.length;r>n;n++)t=e[n],s.push(i._errorProcessing(e,b||i.options.dictResponseError.replace("{{statusCode}}",C.status),C));return s}}(this),y=function(i){return function(n){var r,s,o,a,l,d,c,h,p;if(null!=n)for(s=100*n.loaded/n.total,o=0,d=e.length;d>o;o++)t=e[o],t.upload={progress:s,total:n.total,bytesSent:n.loaded};else{for(r=!0,s=100,a=0,c=e.length;c>a;a++)t=e[a],(100!==t.upload.progress||t.upload.bytesSent!==t.upload.total)&&(r=!1),t.upload.progress=s,t.upload.bytesSent=t.upload.total;if(r)return}for(p=[],l=0,h=e.length;h>l;l++)t=e[l],p.push(i.emit("uploadprogress",t,s,t.upload.bytesSent));return p}}(this),C.onload=function(t){return function(n){var r;if(e[0].status!==i.CANCELED&&4===C.readyState){if(b=C.responseText,C.getResponseHeader("content-type")&&~C.getResponseHeader("content-type").indexOf("application/json"))try{b=JSON.parse(b)}catch(s){n=s,b="Invalid JSON response from server."}return y(),200<=(r=C.status)&&300>r?t._finished(e,b,n):o()}}}(this),C.onerror=function(){return function(){return e[0].status!==i.CANCELED?o():void 0}}(this),v=null!=(N=C.upload)?N:C,v.onprogress=y,d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&n(d,this.options.headers);for(a in d)l=d[a],C.setRequestHeader(a,l);if(s=new FormData,this.options.params){D=this.options.params;for(f in D)x=D[f],s.append(f,x)}for(S=0,_=e.length;_>S;S++)t=e[S],this.emit("sending",t,C,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,C,s),"FORM"===this.element.tagName)for(R=this.element.querySelectorAll("input, textarea, select, button"),E=0,I=R.length;I>E;E++)if(h=R[E],p=h.getAttribute("name"),u=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(M=h.options,T=0,L=M.length;L>T;T++)g=M[T],g.selected&&s.append(p,g.value);else(!u||"checkbox"!==(O=u.toLowerCase())&&"radio"!==O||h.checked)&&s.append(p,h.value);for(c=A=0,F=e.length-1;F>=0?F>=A:A>=F;c=F>=0?++A:--A)s.append(this._getParamName(c),e[c],e[c].name);return C.send(s)},i.prototype._finished=function(e,t,n){var r,s,o;for(s=0,o=e.length;o>s;s++)r=e[s],r.status=i.SUCCESS,this.emit("success",r,t,n),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},i.prototype._errorProcessing=function(e,t,n){var r,s,o;for(s=0,o=e.length;o>s;s++)r=e[s],r.status=i.ERROR,this.emit("error",r,t,n),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",e,t,n),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},i}(t),e.version="4.0.1",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[i(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,i,n,r,s,o;for(document.querySelectorAll?n=document.querySelectorAll(".dropzone"):(n=[],t=function(e){var t,i,r,s;for(s=[],i=0,r=e.length;r>i;i++)t=e[i],s.push(/(^| )dropzone($| )/.test(t.className)?n.push(t):void 0);return s},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),o=[],r=0,s=n.length;s>r;r++)i=n[r],o.push(e.optionsForElement(i)!==!1?new e(i):void 0);return o},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,i,n,r,s;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(s=e.blacklistedBrowsers,n=0,r=s.length;r>n;n++)i=s[n],i.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},a=function(e,t){var i,n,r,s;for(s=[],n=0,r=e.length;r>n;n++)i=e[n],i!==t&&s.push(i);return s},i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},e.getElements=function(e,t){var i,n,r,s,o,a,l,d;if(e instanceof Array){r=[];try{for(s=0,a=e.length;a>s;s++)n=e[s],r.push(this.getElement(n,t))}catch(c){i=c,r=null}}else if("string"==typeof e)for(r=[],d=document.querySelectorAll(e),o=0,l=d.length;l>o;o++)n=d[o],r.push(n);else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},e.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},e.isValidFile=function(e,t){var i,n,r,s,o;if(!t)return!0;for(t=t.split(","),n=e.type,i=n.replace(/\/.*$/,""),s=0,o=t.length;o>s;s++)if(r=t[s],r=r.trim(),"."===r.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(i===r.replace(/\/.*$/,""))return!0}else if(n===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",r=function(e){var t,i,n,r,s,o,a,l,d,c;for(a=e.naturalWidth,o=e.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=o,n=i.getContext("2d"),n.drawImage(e,0,0),r=n.getImageData(0,0,1,o).data,c=0,s=o,l=o;l>c;)t=r[4*(l-1)+3],0===t?s=l:c=l,l=s+c>>1;return d=l/o,0===d?1:d},s=function(e,t,i,n,s,o,a,l,d,c){var h;return h=r(t),e.drawImage(t,i,n,s,o,a,l,d,c/h)},n=function(e,t){var i,n,r,s,o,a,l,d,c;if(r=!1,c=!0,n=e.document,d=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",s=function(i){return"readystatechange"!==i.type||"complete"===n.readyState?(("load"===i.type?e:n)[l](a+i.type,s,!1),!r&&(r=!0)?t.call(e,i.type||i):void 0):void 0},o=function(){var e;try{d.doScroll("left")}catch(t){return e=t,void setTimeout(o,50)}return s("poll")},"complete"!==n.readyState){if(n.createEventObject&&d.doScroll){try{c=!e.frameElement}catch(h){}c&&o()}return n[i](a+"DOMContentLoaded",s,!1),n[i](a+"readystatechange",s,!1),e[i](a+"load",s,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0
},n(window,e._autoDiscoverFunction)}.call(this),function(e){var t,i,n,r,s,o,a,l="Close",d="BeforeClose",c="AfterClose",h="BeforeAppend",p="MarkupParse",u="Open",f="Change",m="mfp",g="."+m,v="mfp-ready",b="mfp-removing",y="mfp-prevent-close",w=function(){},x=!!window.jQuery,C=e(window),k=function(e,i){t.ev.on(m+e+g,i)},S=function(t,i,n,r){var s=document.createElement("div");return s.className="mfp-"+t,n&&(s.innerHTML=n),r?i&&i.appendChild(s):(s=e(s),i&&s.appendTo(i)),s},E=function(i,n){t.ev.triggerHandler(m+i,n),t.st.callbacks&&(i=i.charAt(0).toLowerCase()+i.slice(1),t.st.callbacks[i]&&t.st.callbacks[i].apply(t,e.isArray(n)?n:[n]))},T=function(i){return i===a&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),a=i),t.currTemplate.closeBtn},$=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},_=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var i=navigator.appVersion;t.isIE7=-1!==i.indexOf("MSIE 7."),t.isIE8=-1!==i.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(i),t.isIOS=/iphone|ipad|ipod/gi.test(i),t.supportsTransition=_(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=e(document),t.popupsCache={}},open:function(i){n=e(document.body);var s;if(i.isObj===!1){t.items=i.items.toArray(),t.index=0;var a,l=i.items;for(s=0;s<l.length;s++)if(a=l[s],a.parsed&&(a=a.el[0]),a===i.el[0]){t.index=s;break}}else t.items=e.isArray(i.items)?i.items:[i.items],t.index=i.index||0;if(t.isOpen)return void t.updateItemHTML();t.types=[],o="",t.ev=i.mainEl&&i.mainEl.length?i.mainEl.eq(0):r,i.key?(t.popupsCache[i.key]||(t.popupsCache[i.key]={}),t.currTemplate=t.popupsCache[i.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,i),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=S("bg").on("click"+g,function(){t.close()}),t.wrap=S("wrap").attr("tabindex",-1).on("click"+g,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=S("container",t.wrap)),t.contentContainer=S("content"),t.st.preloader&&(t.preloader=S("preloader",t.container,t.st.tLoading));var d=e.magnificPopup.modules;for(s=0;s<d.length;s++){var c=d[s];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}E("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(k(p,function(e,t,i,n){i.close_replaceWith=T(n.type)}),o+=" mfp-close-btn-in"):t.wrap.append(T())),t.st.alignTop&&(o+=" mfp-align-top"),t.wrap.css(t.fixedContentPos?{overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}:{top:C.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:r.height(),position:"absolute"}),t.st.enableEscapeKey&&r.on("keyup"+g,function(e){27===e.keyCode&&t.close()}),C.on("resize"+g,function(){t.updateSize()}),t.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&t.wrap.addClass(o);var h=t.wH=C.height(),f={};if(t.fixedContentPos&&t._hasScrollBar(h)){var m=t._getScrollbarSize();m&&(f.marginRight=m)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):f.overflow="hidden");var b=t.st.mainClass;return t.isIE7&&(b+=" mfp-ie7"),b&&t._addClassToMFP(b),t.updateItemHTML(),E("BuildControls"),e("html").css(f),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||n),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),r.on("focusin"+g,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(h),E(u),i},close:function(){t.isOpen&&(E(d),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(b),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){E(l);var i=b+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(i+=t.st.mainClass+" "),t._removeClassFromMFP(i),t.fixedContentPos){var n={marginRight:""};t.isIE7?e("body, html").css("overflow",""):n.overflow="",e("html").css(n)}r.off("keyup"+g+" focusin"+g),t.ev.off(g),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,E(c)},updateSize:function(e){if(t.isIOS){var i=document.documentElement.clientWidth/window.innerWidth,n=window.innerHeight*i;t.wrap.css("height",n),t.wH=n}else t.wH=e||C.height();t.fixedContentPos||t.wrap.css("height",t.wH),E("Resize")},updateItemHTML:function(){var i=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),i.parsed||(i=t.parseEl(t.index));var n=i.type;if(E("BeforeChange",[t.currItem?t.currItem.type:"",n]),t.currItem=i,!t.currTemplate[n]){var r=t.st[n]?t.st[n].markup:!1;E("FirstMarkupParse",r),t.currTemplate[n]=r?e(r):!0}s&&s!==i.type&&t.container.removeClass("mfp-"+s+"-holder");var o=t["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,t.currTemplate[n]);t.appendContent(o,n),i.preloaded=!0,E(f,i),s=i.type,t.container.prepend(t.contentContainer),E("AfterChange")},appendContent:function(e,i){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[i]===!0?t.content.find(".mfp-close").length||t.content.append(T()):t.content=e:t.content="",E(h),t.container.addClass("mfp-"+i+"-holder"),t.contentContainer.append(t.content)},parseEl:function(i){var n=t.items[i],r=n.type;if(n=n.tagName?{el:e(n)}:{data:n,src:n.src},n.el){for(var s=t.types,o=0;o<s.length;o++)if(n.el.hasClass("mfp-"+s[o])){r=s[o];break}n.src=n.el.attr("data-mfp-src"),n.src||(n.src=n.el.attr("href"))}return n.type=r||t.st.type||"inline",n.index=i,n.parsed=!0,t.items[i]=n,E("ElementParse",n),t.items[i]},addGroup:function(e,i){var n=function(n){n.mfpEl=this,t._openClick(n,e,i)};i||(i={});var r="click.magnificPopup";i.mainEl=e,i.items?(i.isObj=!0,e.off(r).on(r,n)):(i.isObj=!1,i.delegate?e.off(r).on(r,i.delegate,n):(i.items=e,e.off(r).on(r,n)))},_openClick:function(i,n,r){var s=void 0!==r.midClick?r.midClick:e.magnificPopup.defaults.midClick;if(s||2!==i.which&&!i.ctrlKey&&!i.metaKey){var o=void 0!==r.disableOn?r.disableOn:e.magnificPopup.defaults.disableOn;if(o)if(e.isFunction(o)){if(!o.call(t))return!0}else if(C.width()<o)return!0;i.type&&(i.preventDefault(),t.isOpen&&i.stopPropagation()),r.el=e(i.mfpEl),r.delegate&&(r.items=n.find(r.delegate)),t.open(r)}},updateStatus:function(e,n){if(t.preloader){i!==e&&t.container.removeClass("mfp-s-"+i),n||"loading"!==e||(n=t.st.tLoading);var r={status:e,text:n};E("UpdateStatus",r),e=r.status,n=r.text,t.preloader.html(n),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),i=e}},_checkIfClose:function(i){if(!e(i).hasClass(y)){var n=t.st.closeOnContentClick,r=t.st.closeOnBgClick;if(n&&r)return!0;if(!t.content||e(i).hasClass("mfp-close")||t.preloader&&i===t.preloader[0])return!0;if(i===t.content[0]||e.contains(t.content[0],i)){if(n)return!0}else if(r&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?r.height():document.body.scrollHeight)>(e||C.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(i){return i.target===t.wrap[0]||e.contains(t.wrap[0],i.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,i,n){var r;n.data&&(i=e.extend(n.data,i)),E(p,[t,i,n]),e.each(i,function(e,i){if(void 0===i||i===!1)return!0;if(r=e.split("_"),r.length>1){var n=t.find(g+"-"+r[0]);if(n.length>0){var s=r[1];"replaceWith"===s?n[0]!==i[0]&&n.replaceWith(i):"img"===s?n.is("img")?n.attr("src",i):n.replaceWith('<img src="'+i+'" class="'+n.attr("class")+'" />'):n.attr(r[1],i)}}else t.find(g+"-"+e).html(i)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.id="mfp-sbm",e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,i){return $(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=i||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){i.options&&(e.magnificPopup.defaults[t]=i.options),e.extend(this.proto,i.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(i){$();var n=e(this);if("string"==typeof i)if("open"===i){var r,s=x?n.data("magnificPopup"):n[0].magnificPopup,o=parseInt(arguments[1],10)||0;s.items?r=s.items[o]:(r=n,s.delegate&&(r=r.find(s.delegate)),r=r.eq(o)),t._openClick({mfpEl:r},n,s)}else t.isOpen&&t[i].apply(t,Array.prototype.slice.call(arguments,1));else i=e.extend(!0,{},i),x?n.data("magnificPopup",i):n[0].magnificPopup=i,t.addGroup(n,i);return n};var I,L,A,N="inline",D=function(){A&&(L.after(A.addClass(I)).detach(),A=null)};e.magnificPopup.registerModule(N,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(N),k(l+"."+N,function(){D()})},getInline:function(i,n){if(D(),i.src){var r=t.st.inline,s=e(i.src);if(s.length){var o=s[0].parentNode;o&&o.tagName&&(L||(I=r.hiddenClass,L=S(I),I="mfp-"+I),A=s.after(L).detach().removeClass(I)),t.updateStatus("ready")}else t.updateStatus("error",r.tNotFound),s=e("<div>");return i.inlineElement=s,s}return t.updateStatus("ready"),t._parseMarkup(n,{},i),n}}});var R,M="ajax",O=function(){R&&n.removeClass(R)},F=function(){O(),t.req&&t.req.abort()};e.magnificPopup.registerModule(M,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(M),R=t.st.ajax.cursor,k(l+"."+M,F),k("BeforeChange."+M,F)},getAjax:function(i){R&&n.addClass(R),t.updateStatus("loading");var r=e.extend({url:i.src,success:function(n,r,s){var o={data:n,xhr:s};E("ParseAjax",o),t.appendContent(e(o.data),M),i.finished=!0,O(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),E("AjaxContentAdded")},error:function(){O(),i.finished=i.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",i.src))}},t.st.ajax.settings);return t.req=e.ajax(r),""}}});var H,P=function(i){if(i.data&&void 0!==i.data.title)return i.data.title;var n=t.st.image.titleSrc;if(n){if(e.isFunction(n))return n.call(t,i);if(i.el)return i.el.attr(n)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,i=".image";t.types.push("image"),k(u+i,function(){"image"===t.currItem.type&&e.cursor&&n.addClass(e.cursor)}),k(l+i,function(){e.cursor&&n.removeClass(e.cursor),C.off("resize"+g)}),k("Resize"+i,t.resizeImage),t.isLowIE&&k("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var i=0;t.isLowIE&&(i=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-i)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,H&&clearInterval(H),e.isCheckingImgSize=!1,E("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var i=0,n=e.img[0],r=function(s){H&&clearInterval(H),H=setInterval(function(){return n.naturalWidth>0?void t._onImageHasSize(e):(i>200&&clearInterval(H),i++,void(3===i?r(10):40===i?r(50):100===i&&r(500)))},s)};r(1)},getImage:function(i,n){var r=0,s=function(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,E("ImageLoadComplete")):(r++,200>r?setTimeout(s,100):o()))},o=function(){i&&(i.img.off(".mfploader"),i===t.currItem&&(t._onImageHasSize(i),t.updateStatus("error",a.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)},a=t.st.image,l=n.find(".mfp-img");if(l.length){var d=document.createElement("img");d.className="mfp-img",i.img=e(d).on("load.mfploader",s).on("error.mfploader",o),d.src=i.src,l.is("img")&&(i.img=i.img.clone()),d=i.img[0],d.naturalWidth>0?i.hasSize=!0:d.width||(i.hasSize=!1)}return t._parseMarkup(n,{title:P(i),img_replaceWith:i.img},i),t.resizeImage(),i.hasSize?(H&&clearInterval(H),i.loadError?(n.addClass("mfp-loading"),t.updateStatus("error",a.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),t.updateStatus("ready")),n):(t.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),t.findImageSize(i)),n)}}});var B,z=function(){return void 0===B&&(B=void 0!==document.createElement("p").style.MozTransform),B};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i=t.st.zoom,n=".zoom";if(i.enabled&&t.supportsTransition){var r,s,o=i.duration,a=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),n="all "+i.duration/1e3+"s "+i.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return r["-webkit-"+s]=r["-moz-"+s]=r["-o-"+s]=r[s]=n,t.css(r),t},c=function(){t.content.css("visibility","visible")};k("BuildControls"+n,function(){if(t._allowZoom()){if(clearTimeout(r),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return void c();s=a(e),s.css(t._getOffset()),t.wrap.append(s),r=setTimeout(function(){s.css(t._getOffset(!0)),r=setTimeout(function(){c(),setTimeout(function(){s.remove(),e=s=null,E("ZoomAnimationEnded")},16)},o)},16)}}),k(d+n,function(){if(t._allowZoom()){if(clearTimeout(r),t.st.removalDelay=o,!e){if(e=t._getItemToZoom(),!e)return;s=a(e)}s.css(t._getOffset(!0)),t.wrap.append(s),t.content.css("visibility","hidden"),setTimeout(function(){s.css(t._getOffset())},16)}}),k(l+n,function(){t._allowZoom()&&(c(),s&&s.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(i){var n;n=i?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var r=n.offset(),s=parseInt(n.css("padding-top"),10),o=parseInt(n.css("padding-bottom"),10);r.top-=e(window).scrollTop()-s;var a={width:n.width(),height:(x?n.innerHeight():n[0].offsetHeight)-o-s};return z()?a["-moz-transform"]=a.transform="translate("+r.left+"px,"+r.top+"px)":(a.left=r.left,a.top=r.top),a}}});var j="iframe",W="//about:blank",U=function(e){if(t.currTemplate[j]){var i=t.currTemplate[j].find("iframe");i.length&&(e||(i[0].src=W),t.isIE8&&i.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(j,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(j),k("BeforeChange",function(e,t,i){t!==i&&(t===j?U():i===j&&U(!0))}),k(l+"."+j,function(){U()})},getIframe:function(i,n){var r=i.src,s=t.st.iframe;e.each(s.patterns,function(){return r.indexOf(this.index)>-1?(this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1):void 0});var o={};return s.srcAction&&(o[s.srcAction]=r),t._parseMarkup(n,o,i),t.updateStatus("ready"),n}}});var q=function(e){var i=t.items.length;return e>i-1?e-i:0>e?i+e:e},V=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=t.st.gallery,n=".mfp-gallery",s=Boolean(e.fn.mfpFastClick);return t.direction=!0,i&&i.enabled?(o+=" mfp-gallery",k(u+n,function(){i.navigateByImgClick&&t.wrap.on("click"+n,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),r.on("keydown"+n,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),k("UpdateStatus"+n,function(e,i){i.text&&(i.text=V(i.text,t.currItem.index,t.items.length))}),k(p+n,function(e,n,r,s){var o=t.items.length;r.counter=o>1?V(i.tCounter,s.index,o):""}),k("BuildControls"+n,function(){if(t.items.length>1&&i.arrows&&!t.arrowLeft){var n=i.arrowMarkup,r=t.arrowLeft=e(n.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(y),o=t.arrowRight=e(n.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(y),a=s?"mfpFastClick":"click";r[a](function(){t.prev()}),o[a](function(){t.next()}),t.isIE7&&(S("b",r[0],!1,!0),S("a",r[0],!1,!0),S("b",o[0],!1,!0),S("a",o[0],!1,!0)),t.container.append(r.add(o))}}),k(f+n,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),void k(l+n,function(){r.off(n),t.wrap.off("click"+n),t.arrowLeft&&s&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null})):!1},next:function(){t.direction=!0,t.index=q(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=q(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,i=t.st.gallery.preload,n=Math.min(i[0],t.items.length),r=Math.min(i[1],t.items.length);for(e=1;e<=(t.direction?r:n);e++)t._preloadItem(t.index+e);for(e=1;e<=(t.direction?n:r);e++)t._preloadItem(t.index-e)},_preloadItem:function(i){if(i=q(i),!t.items[i].preloaded){var n=t.items[i];n.parsed||(n=t.parseEl(i)),E("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,E("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0}}}});var Q="retina";e.magnificPopup.registerModule(Q,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,i=e.ratio;i=isNaN(i)?i():i,i>1&&(k("ImageHasSize."+Q,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/i,width:"100%"})}),k("ElementParse."+Q,function(t,n){n.src=e.replaceSrc(n,i)}))}}}}),function(){var t=1e3,i="ontouchstart"in window,n=function(){C.off("touchmove"+s+" touchend"+s)},r="mfpFastClick",s="."+r;e.fn.mfpFastClick=function(r){return e(this).each(function(){var o,a=e(this);if(i){var l,d,c,h,p,u;a.on("touchstart"+s,function(e){h=!1,u=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],d=p.clientX,c=p.clientY,C.on("touchmove"+s,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,u=p.length,p=p[0],(Math.abs(p.clientX-d)>10||Math.abs(p.clientY-c)>10)&&(h=!0,n())}).on("touchend"+s,function(e){n(),h||u>1||(o=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){o=!1},t),r())})})}a.on("click"+s,function(){o||r()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+s+" click"+s),i&&C.off("touchmove"+s+" touchend"+s)}}(),$()}(window.jQuery||window.Zepto),/*
Copyright 2012 Igor Vaynberg

Version: 3.5.2 Timestamp: Sat Nov  1 14:43:36 EDT 2014

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var i=e([0]),n=-1,r=this.length;++n<r&&(i.context=i[0]=this[n])&&t.call(i[0],n,i)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function i(t){var i=e(document.createTextNode(""));t.before(i),i.before(t),i.remove()}function n(e){function t(e){return B[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function r(e,t){for(var i=0,n=t.length;n>i;i+=1)if(o(e,t[i]))return i;return-1}function s(){var t=e(P);t.appendTo(document.body);var i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),i}function o(e,i){return e===i?!0:e===t||i===t?!1:null===e||null===i?!1:e.constructor===String?e+""==i+"":i.constructor===String?i+""==e+"":!1}function a(e,t,i){var n,r,s;if(null===e||e.length<1)return[];for(n=e.split(t),r=0,s=n.length;s>r;r+=1)n[r]=i(n[r]);return n}function l(e){return e.outerWidth(!1)-e.width()}function d(i){var n="keyup-change-value";i.on("keydown",function(){e.data(i,n)===t&&e.data(i,n,i.val())}),i.on("keyup",function(){var r=e.data(i,n);r!==t&&i.val()!==r&&(e.removeData(i,n),i.trigger("keyup-change"))})}function c(i){i.on("mousemove",function(i){var n=F;(n===t||n.x!==i.pageX||n.y!==i.pageY)&&e(i.target).trigger("mousemove-filtered",i)})}function h(e,i,n){n=n||t;var r;return function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){i.apply(n,t)},e)}}function p(e,t){var i=h(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){r(e.target,t.get())>=0&&i(e)})}function u(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,i=e[0],n=e.val().length;e.focus();var r=i.offsetWidth>0||i.offsetHeight>0;r&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(n,n):i.createTextRange&&(t=i.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var i=0,n=0;if("selectionStart"in t)i=t.selectionStart,n=t.selectionEnd-i;else if("selection"in document){t.focus();var r=document.selection.createRange();n=document.selection.createRange().text.length,r.moveStart("character",-t.value.length),i=r.text.length-n}return{offset:i,length:n}}function m(e){e.preventDefault(),e.stopPropagation()}function g(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!R){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);R=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),R.attr("class","select2-sizer"),e(document.body).append(R)}return R.text(t.val()),R.width()}function b(t,i,n){var r,s,o=[];r=e.trim(t.attr("class")),r&&(r=""+r,e(r.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),r=e.trim(i.attr("class")),r&&(r=""+r,e(r.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(s=n(this),s&&o.push(s))})),t.attr("class",o.join(" "))}function y(e,t,i,r){var s=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),o=t.length;return 0>s?void i.push(r(e)):(i.push(r(e.substring(0,s))),i.push("<span class='select2-match'>"),i.push(r(e.substring(s,s+o))),i.push("</span>"),void i.push(r(e.substring(s+o,e.length))))}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function x(i){var n,r=null,s=i.quietMillis||100,o=i.url,a=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){var n=i.data,s=o,d=i.transport||e.fn.select2.ajaxDefaults.transport,c={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},h=e.extend({},e.fn.select2.ajaxDefaults.params,c);n=n?n.call(a,l.term,l.page,l.context):null,s="function"==typeof s?s.call(a,l.term,l.page,l.context):s,r&&"function"==typeof r.abort&&r.abort(),i.params&&(e.isFunction(i.params)?e.extend(h,i.params.call(a)):e.extend(h,i.params)),e.extend(h,{url:s,dataType:i.dataType,data:n,success:function(e){var t=i.results(e,l.page,l);l.callback(t)},error:function(e,t,i){var n={hasError:!0,jqXHR:e,textStatus:t,errorThrown:i};l.callback(n)}}),r=d.call(a,h)},s)}}function C(t){var i,n,r=t,s=function(e){return""+e.text};e.isArray(r)&&(n=r,r={results:n}),e.isFunction(r)===!1&&(n=r,r=function(){return n});var o=r();return o.text&&(s=o.text,e.isFunction(s)||(i=o.text,s=function(e){return e[i]})),function(t){var i,n=t.term,o={results:[]};return""===n?void t.callback(r()):(i=function(r,o){var a,l;if(r=r[0],r.children){a={};for(l in r)r.hasOwnProperty(l)&&(a[l]=r[l]);a.children=[],e(r.children).each2(function(e,t){i(t,a.children)}),(a.children.length||t.matcher(n,s(a),r))&&o.push(a)}else t.matcher(n,s(r),r)&&o.push(r)},e(r().results).each2(function(e,t){i(t,o.results)}),void t.callback(o))}}function k(i){var n=e.isFunction(i);return function(r){var s=r.term,o={results:[]},a=n?i(r):i;e.isArray(a)&&(e(a).each(function(){var e=this.text!==t,i=e?this.text:this;(""===s||r.matcher(s,i))&&o.results.push(e?this:{id:this,text:this})}),r.callback(o))}}function S(t,i){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(i+" must be a string, function, or falsy value")}function E(t,i){if(e.isFunction(t)){var n=Array.prototype.slice.call(arguments,2);return t.apply(i,n)}return t}function T(t){var i=0;return e.each(t,function(e,t){t.children?i+=T(t.children):i++}),i}function $(e,i,n,r){var s,a,l,d,c,h=e,p=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(a=-1,l=0,d=r.tokenSeparators.length;d>l&&(c=r.tokenSeparators[l],a=e.indexOf(c),!(a>=0));l++);if(0>a)break;if(s=e.substring(0,a),e=e.substring(a+c.length),s.length>0&&(s=r.createSearchChoice.call(this,s,i),s!==t&&null!==s&&r.id(s)!==t&&null!==r.id(s))){for(p=!1,l=0,d=i.length;d>l;l++)if(o(r.id(s),r.id(i[l]))){p=!0;break}p||n(s)}}return h!==e?e:void 0}function _(){var t=this;e.each(arguments,function(e,i){t[i].remove(),t[i]=null})}function I(t,i){var n=function(){};return n.prototype=new t,n.prototype.constructor=n,n.prototype.parent=t.prototype,n.prototype=e.extend(n.prototype,i),n}if(window.Select2===t){var L,A,N,D,R,M,O,F={x:0,y:0},H={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case H.LEFT:case H.RIGHT:case H.UP:case H.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case H.SHIFT:case H.CTRL:case H.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},P="<div class='select2-measure-scrollbar'></div>",B={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};M=e(document),D=function(){var e=1;return function(){return e++}}(),L=I(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(i){var n,r,o=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==t&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+D()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",i.element.attr("title")),this.body=e(document.body),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(E(i.containerCss,this.opts.element)),this.container.addClass(E(i.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",m),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(i.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",m),this.results=n=this.container.find(o),this.search=r=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",m),c(this.results),this.dropdown.on("mousemove-filtered",o,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",o,this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",o,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),p(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&n.mousewheel(function(e,t,i,r){var s=n.scrollTop();r>0&&0>=s-r?(n.scrollTop(0),m(e)):0>r&&n.get(0).scrollHeight-n.scrollTop()+r<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),m(e))}),d(r),r.on("keyup-change input paste",this.bind(this.updateResults)),r.on("focus",function(){r.addClass("select2-focused")}),r.on("blur",function(){r.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var a=i.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var l=i.element.prop("readonly");l===t&&(l=!1),this.readonly(l),O=O||s(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",i.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,i=e.data("select2"),n=this;this.close(),e.length&&e[0].detachEvent&&n._sync&&e.each(function(){n._sync&&this.detachEvent("onpropertychange",n._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),e.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show()),_.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:o(e.attr("locked"),"locked")||o(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(i){var n,r,s,l,d=this;if(n=i.element,"select"===n.get(0).tagName.toLowerCase()&&(this.select=r=i.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=e.extend({},{populateResults:function(n,r,s){var o,a=this.opts.id,l=this.liveRegion;(o=function(n,r,c){var h,p,u,f,m,g,v,b,y,w;n=i.sortResults(n,r,s);var x=[];for(h=0,p=n.length;p>h;h+=1)u=n[h],m=u.disabled===!0,f=!m&&a(u)!==t,g=u.children&&u.children.length>0,v=e("<li></li>"),v.addClass("select2-results-dept-"+c),v.addClass("select2-result"),v.addClass(f?"select2-result-selectable":"select2-result-unselectable"),m&&v.addClass("select2-disabled"),g&&v.addClass("select2-result-with-children"),v.addClass(d.opts.formatResultCssClass(u)),v.attr("role","presentation"),b=e(document.createElement("div")),b.addClass("select2-result-label"),b.attr("id","select2-result-label-"+D()),b.attr("role","option"),w=i.formatResult(u,b,s,d.opts.escapeMarkup),w!==t&&(b.html(w),v.append(b)),g&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),o(u.children,y,c+1),v.append(y)),v.data("select2-data",u),x.push(v[0]);r.append(x),l.text(i.formatMatches(n.length))})(r,n,0)}},e.fn.select2.defaults,i),"function"!=typeof i.id&&(s=i.id,i.id=function(e){return e[s]}),e.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(r?(i.query=this.bind(function(e){var i,r,s,o={results:[],more:!1},a=e.term;s=function(t,i){var n;t.is("option")?e.matcher(a,t.text(),t)&&i.push(d.optionToData(t)):t.is("optgroup")&&(n=d.optionToData(t),t.children().each2(function(e,t){s(t,n.children)}),n.children.length>0&&i.push(n))},i=n.children(),this.getPlaceholder()!==t&&i.length>0&&(r=this.getPlaceholderOption(),r&&(i=i.not(r))),i.each2(function(e,t){s(t,o.results)}),e.callback(o)}),i.id=function(e){return e.id}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=x.call(i.element,i.ajax)):"data"in i?i.query=C(i.data):"tags"in i&&(i.query=k(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,n){var r=[];e(a(t.val(),i.separator,i.transformVal)).each(function(){var t={id:this,text:this},n=i.tags;e.isFunction(n)&&(n=n()),e(n).each(function(){return o(this.id,t.id)?(t=this,!1):void 0}),r.push(t)}),n(r)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");if("top"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===i.createSearchChoicePosition)i.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof i.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return i},monitorSource:function(){var i,n=this.opts.element,r=this;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var e=n.prop("disabled");e===t&&(e=!1),this.enable(!e);var i=n.prop("readonly");i===t&&(i=!1),this.readonly(i),this.container&&(b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(E(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(E(this.opts.dropdownCssClass,this.opts.element)))}),n.length&&n[0].attachEvent&&n.each(function(){this.attachEvent("onpropertychange",r._sync)}),i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,i!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(function(t){e.each(t,r._sync)}),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container?this.container.hasClass("select2-dropdown-open"):!1},positionDropdown:function(){var t,i,n,r,s,o=this.dropdown,a=this.container,l=a.offset(),d=a.outerHeight(!1),c=a.outerWidth(!1),h=o.outerHeight(!1),p=e(window),u=p.width(),f=p.height(),m=p.scrollLeft()+u,g=p.scrollTop()+f,v=l.top+d,b=l.left,y=g>=v+h,w=l.top-h>=p.scrollTop(),x=o.outerWidth(!1),C=function(){return m>=b+x},k=function(){return l.left+m+a.outerWidth(!1)>x},S=o.hasClass("select2-drop-above");S?(i=!0,!w&&y&&(n=!0,i=!1)):(i=!1,!y&&w&&(n=!0,i=!0)),n&&(o.hide(),l=this.container.offset(),d=this.container.outerHeight(!1),c=this.container.outerWidth(!1),h=o.outerHeight(!1),m=p.scrollLeft()+u,g=p.scrollTop()+f,v=l.top+d,b=l.left,x=o.outerWidth(!1),o.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(s=e(".select2-results",o)[0],o.addClass("select2-drop-auto-width"),o.css("width",""),x=o.outerWidth(!1)+(s.scrollHeight===s.clientHeight?0:O.width),x>c?c=x:x=c,h=o.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(t=this.body.offset(),v-=t.top,b-=t.left),!C()&&k()&&(b=l.left+this.container.outerWidth(!1)-x),r={left:b,width:c},i?(r.top=l.top-h,r.bottom="auto",this.container.addClass("select2-drop-above"),o.addClass("select2-drop-above")):(r.top=v,r.bottom="auto",this.container.removeClass("select2-drop-above"),o.removeClass("select2-drop-above")),r=e.extend(r,E(this.opts.dropdownCss,this.opts.element)),o.css(r)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),M.on("mousemove.select2Event",function(e){F.x=e.pageX,F.y=e.pageY}),!0):!1},opening:function(){var t,n=this.containerEventName,r="scroll."+n,s="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),t=e("#select2-drop-mask"),0===t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(n){i(t);var r,s=e("#select2-drop");s.length>0&&(r=s.data("select2"),r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(s+" "+r+" "+o,function(){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,i="scroll."+t,n="resize."+t,r="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(i).off(n).off(r)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),M.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return E(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,i,n,r,s,o,a,l,d=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return void d.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),n=e(t[i]),l=(n.offset()||{}).top||0,r=l+n.outerHeight(!0),i===t.length-1&&(a=d.find("li.select2-more-results"),a.length>0&&(r=a.offset().top+a.outerHeight(!0))),s=d.offset().top+d.outerHeight(!1),r>s&&d.scrollTop(d.scrollTop()+(r-s)),o=l-d.offset().top,0>o&&"none"!=n.css("display")&&d.scrollTop(d.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var i=this.findHighlightableChoices(),n=this.highlight();n>-1&&n<i.length;){n+=t;var r=e(i[n]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(n);break}}},highlight:function(t){var i,n,s=this.findHighlightableChoices();return 0===arguments.length?r(s.filter(".select2-highlighted")[0],s.get()):(t>=s.length&&(t=s.length-1),0>t&&(t=0),this.removeHighlight(),i=e(s[t]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),n=i.data("select2-data"),void(n&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")
},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=e(t.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var n=this.findHighlightableChoices();this.highlight(n.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,i=t.find("li.select2-more-results"),n=this.resultsPage+1,r=this,s=this.search.val(),o=this.context;0!==i.length&&(e=i.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:n,context:o,matcher:this.opts.matcher,callback:this.bind(function(e){r.opened()&&(r.opts.populateResults.call(this,t,e.results,{term:s,page:n,context:o}),r.postprocessResults(e,!1,!1),e.more===!0?(i.detach().appendTo(t).html(r.opts.escapeMarkup(E(r.opts.formatLoadMore,r.opts.element,n+1))),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):i.remove(),r.positionDropdown(),r.resultsPage=n,r.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(i){function n(){d.removeClass("select2-active"),p.positionDropdown(),p.liveRegion.text(c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.text():p.opts.formatMatches(c.find('.select2-result-selectable:not(".select2-selected")').length))}function r(e){c.html(e),n()}var s,a,l,d=this.search,c=this.results,h=this.opts,p=this,u=d.val(),f=e.data(this.container,"select2-last-term");if((i===!0||!f||!o(u,f))&&(e.data(this.container,"select2-last-term",u),i===!0||this.showSearchInput!==!1&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(s=this.data(),e.isArray(s)&&s.length>=m&&S(h.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+E(h.formatSelectionTooBig,h.element,m)+"</li>");if(d.val().length<h.minimumInputLength)return r(S(h.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+E(h.formatInputTooShort,h.element,d.val(),h.minimumInputLength)+"</li>":""),void(i&&this.showSearch&&this.showSearch(!0));if(h.maximumInputLength&&d.val().length>h.maximumInputLength)return void r(S(h.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+E(h.formatInputTooLong,h.element,d.val(),h.maximumInputLength)+"</li>":"");h.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+E(h.formatSearching,h.element)+"</li>"),d.addClass("select2-active"),this.removeHighlight(),a=this.tokenize(),a!=t&&null!=a&&d.val(a),this.resultsPage=1,h.query({element:h.element,term:d.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(s){var a;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(s.hasError!==t&&S(h.formatAjaxError,"formatAjaxError"))return void r("<li class='select2-ajax-error'>"+E(h.formatAjaxError,h.element,s.jqXHR,s.textStatus,s.errorThrown)+"</li>");if(this.context=s.context===t?null:s.context,this.opts.createSearchChoice&&""!==d.val()&&(a=this.opts.createSearchChoice.call(p,d.val(),s.results),a!==t&&null!==a&&p.id(a)!==t&&null!==p.id(a)&&0===e(s.results).filter(function(){return o(p.id(this),p.id(a))}).length&&this.opts.createSearchChoicePosition(s.results,a)),0===s.results.length&&S(h.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+E(h.formatNoMatches,h.element,d.val())+"</li>");c.empty(),p.opts.populateResults.call(this,c,s.results,{term:d.val(),page:this.resultsPage,context:null}),s.more===!0&&S(h.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.escapeMarkup(E(h.formatLoadMore,h.element,this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(s,i),n(),this.opts.element.trigger({type:"select2-loaded",items:s})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){u(this.search)},selectHighlighted:function(e){if(this._touchMoved)return void this.clearTouchMoved();var t=this.highlight(),i=this.results.find(".select2-highlighted"),n=i.closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var i=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&i||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(i.text())&&""===i.val())return i}},initContainerWidth:function(){function i(){var i,n,r,s,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(i=this.opts.element.attr("style"),i!==t)for(n=i.split(";"),s=0,o=n.length;o>s;s+=1)if(a=n[s].replace(/\s/g,""),r=a.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=i.call(this);null!==n&&this.container.css("width",n)}}),A=I(L,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,n,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),i=this.search.get(0),i.createTextRange?(n=i.createTextRange(),n.collapse(!1),n.select()):i.setSelectionRange&&(r=this.search.val().length,i.setSelectionRange(r,r))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),_.call(this,"selection","focusser")},initContainer:function(){var t,n,r=this.container,s=this.dropdown,o=D();this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=t=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+o),this.focusser.attr("aria-labelledby","select2-chosen-"+o),this.results.attr("id","select2-results-"+o),this.search.attr("aria-owns","select2-results-"+o),this.focusser.attr("id","s2id_autogen"+o),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode){if(e.which===H.PAGE_UP||e.which===H.PAGE_DOWN)return void m(e);switch(e.which){case H.UP:case H.DOWN:return this.moveHighlight(e.which===H.UP?-1:1),void m(e);case H.ENTER:return this.selectHighlighted(),void m(e);case H.TAB:return void this.selectHighlighted({noFocus:!0});case H.ESC:return this.cancel(e),void m(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==H.TAB&&!H.isControl(e)&&!H.isFunctionKey(e)&&e.which!==H.ESC){if(this.opts.openOnEnter===!1&&e.which===H.ENTER)return void m(e);if(e.which==H.DOWN||e.which==H.UP||e.which==H.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void m(e)}return e.which==H.DELETE||e.which==H.BACKSPACE?(this.opts.allowClear&&this.clear(),void m(e)):void 0}})),d(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),g(e),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(n){i(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),m(n)})),s.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){m(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var i=this.selection.data("select2-data");if(i){var n=e.Event("select2-clearing");if(this.opts.element.trigger(n),n.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(i,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()===t?!1:(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val()},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=e.find("option").filter(function(){return this.selected&&!this.disabled});t(i.optionToData(n))}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var r=i.val(),s=null;t.query({matcher:function(e,i,n){var a=o(r,t.id(n));return a&&(s=n),a},callback:e.isFunction(n)?function(){n(s)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,i){var n=0,r=this;if(this.findHighlightableChoices().each2(function(e,t){return o(r.id(t.data("select2-data")),r.opts.element.val())?(n=e,!1):void 0}),i!==!1&&this.highlight(t===!0&&n>=0?n:0),t===!0){var s=this.opts.minimumResultsForSearch;s>=0&&this.showSearch(T(e.results)>=s)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var i=this.opts.element.val(),n=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(i,this.id(e))||this.triggerChange({added:e,removed:n})}},updateSelection:function(e){var i,n,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),r.empty(),null!==e&&(i=this.opts.formatSelection(e,r,this.opts.escapeMarkup)),i!==t&&r.append(i),n=this.opts.formatSelectionCssClass(e,r),n!==t&&r.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,n=null,r=this,s=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return n=r.optionToData(t),!1}),this.updateSelection(n),this.setPlaceholder(),i&&this.triggerChange({added:n,removed:s});else{if(!e&&0!==e)return void this.clear(i);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder(),i&&r.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,n=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(arguments.length>1&&(n=arguments[1]),void(e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),n&&this.triggerChange({added:e,removed:i})):this.clear(n)))}}),N=I(L,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){n.push(i.optionToData(t))}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(i,n){var r=a(i.val(),t.separator,t.transformVal),s=[];t.query({matcher:function(i,n,a){var l=e.grep(r,function(e){return o(e,t.id(a))}).length;return l&&s.push(a),l},callback:e.isFunction(n)?function(){for(var e=[],i=0;i<r.length;i++)for(var a=r[i],l=0;l<s.length;l++){var d=s[l];if(o(a,t.id(d))){e.push(d),s.splice(l,1);break}}n(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),_.call(this,"searchContainer","selection")},initContainer:function(){var t,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(i);var n=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(){n.search[0].focus(),n.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+D()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var i=t.find(".select2-search-choice-focus"),n=i.prev(".select2-search-choice:not(.select2-locked)"),r=i.next(".select2-search-choice:not(.select2-locked)"),s=f(this.search);if(i.length&&(e.which==H.LEFT||e.which==H.RIGHT||e.which==H.BACKSPACE||e.which==H.DELETE||e.which==H.ENTER)){var o=i;return e.which==H.LEFT&&n.length?o=n:e.which==H.RIGHT?o=r.length?r:null:e.which===H.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),o=n.length?n:r):e.which==H.DELETE?this.unselect(i.first())&&(this.search.width(10),o=r.length?r:null):e.which==H.ENTER&&(o=null),this.selectChoice(o),m(e),void(o&&o.length||this.open())}if((e.which===H.BACKSPACE&&1==this.keydowns||e.which==H.LEFT)&&0==s.offset&&!s.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void m(e);if(this.selectChoice(null),this.opened())switch(e.which){case H.UP:case H.DOWN:return this.moveHighlight(e.which===H.UP?-1:1),void m(e);case H.ENTER:return this.selectHighlighted(),void m(e);case H.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case H.ESC:return this.cancel(e),void m(e)}if(e.which!==H.TAB&&!H.isControl(e)&&!H.isFunctionKey(e)&&e.which!==H.BACKSPACE&&e.which!==H.ESC){if(e.which===H.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===H.PAGE_UP||e.which===H.PAGE_DOWN)&&m(e),e.which===H.ENTER&&m(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",i,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",i,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&null!==i&&(e.updateSelection(i),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],n=[],s=this;e(t).each(function(){r(s.id(this),i)<0&&(i.push(s.id(this)),n.push(this))}),t=n,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,i){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var n,r,s=!i.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),l=s?o:a,d=this.id(i),c=this.getVal();n=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup),n!=t&&l.find("div").replaceWith(e("<div></div>").html(n)),r=this.opts.formatSelectionCssClass(i,l.find("div")),r!=t&&l.addClass(r),s&&l.find(".select2-search-choice-close").on("mousedown",m).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),m(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),l.data("select2-data",i),l.insertBefore(this.searchContainer),c.push(d),this.setVal(c)},unselect:function(t){var i,n,s=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){var o=e.Event("select2-removing");if(o.val=this.id(i),o.choice=i,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(n=r(this.id(i),s))>=0;)s.splice(n,1),this.setVal(s),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(e,t,i){var n=this.getVal(),s=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),a=this;s.each2(function(e,t){var i=a.id(t.data("select2-data"));r(i,n)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&this.opts.closeOnSelect===!0&&a.highlight(0),!this.opts.createSearchChoice&&!s.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&S(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+E(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-l(this.search)},resizeSearch:function(){var e,t,i,n,r,s=l(this.search);e=v(this.search)+10,t=this.search.offset().left,i=this.selection.width(),n=this.selection.offset().left,r=i-(t-n)-s,e>r&&(r=i-s),40>r&&(r=i-s),0>=r&&(r=e),this.search.width(Math.floor(r))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator,this.opts.transformVal))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){r(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),i=0;i<t.length;i++)for(var n=0;n<e.length;n++)o(this.opts.id(t[i]),this.opts.id(e[n]))&&(t.splice(i,1),i>0&&i--,e.splice(n,1),n--);return{added:t,removed:e}},val:function(i,n){var r,s=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(n&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),n&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=e.map(t,s.id);s.setVal(i),s.updateSelection(t),s.clearSearch(),n&&s.triggerChange(s.buildChangeDetails(r,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,i){var n,r,s=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(r=this.data(),t||(t=[]),n=e.map(t,function(e){return s.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),i&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),e.fn.select2=function(){var i,n,s,o,a,l=Array.prototype.slice.call(arguments,0),d=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],h=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===l.length||"object"==typeof l[0])i=0===l.length?{}:e.extend({},l[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.prop("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),n=a?new window.Select2["class"].multi:new window.Select2["class"].single,n.init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(r(l[0],d)<0)throw"Unknown method: "+l[0];if(o=t,n=e(this).data("select2"),n===t)return;if(s=l[0],"container"===s?o=n.container:"dropdown"===s?o=n.dropdown:(p[s]&&(s=p[s]),o=n[s].apply(n,l.slice(1))),r(l[0],c)>=0||r(l[0],h)>=0&&1==l.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,i,n){var r=[];return y(this.text(e),i.term,r,n),r.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,i,n){return e?n(this.text(e)):t},sortResults:function(e){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:$,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){var t="ontouchstart"in window||navigator.msMaxTouchPoints>0;return t&&e.opts.minimumResultsForSearch<0?!1:!0}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(){return"Loading failed"},formatInputTooShort:function(e,t){var i=t-e.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(e,t){var i=e.length-t;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results\u2026"},formatSearching:function(){return"Searching\u2026"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:x,local:C,tags:k},util:{debounce:h,markMatch:y,escapeMarkup:w,stripDiacritics:n},"class":{"abstract":L,single:A,multi:N}}}}(jQuery),/*
 * Metadata - jQuery plugin for parsing metadata from elements
 *
 * Copyright (c) 2006 John Resig, Yehuda Katz, Jörn Zaefferer, Paul McLanahan
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/(\{.*\})/,single:"metadata"},setType:function(e,t){this.defaults.type=e,this.defaults.name=t},get:function(elem,opts){var data,m,e,attr,settings=$.extend({},this.defaults,opts);if(settings.single.length||(settings.single="metadata"),data=$.data(elem,settings.single))return data;if(data="{}","class"===settings.type)m=settings.cre.exec(elem.className),m&&(data=m[1]);else if("elem"===settings.type){if(!elem.getElementsByTagName)return void 0;e=elem.getElementsByTagName(settings.name),e.length&&(data=$.trim(e[0].innerHTML))}else void 0!==elem.getAttribute&&(attr=elem.getAttribute(settings.name),attr&&(data=attr));return data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"),$.data(elem,settings.single,data),data}}}),$.fn.metadata=function(e){return $.metadata.get(this[0],e)}}(jQuery),function(e){"use strict";e.extend({tablesorter:new function(){function t(){var e=arguments[0],t=arguments.length>1?Array.prototype.slice.call(arguments):e;"undefined"!=typeof console&&"undefined"!=typeof console.log?console[/error/i.test(e)?"error":/warn/i.test(e)?"warn":"log"](t):alert(t)}function i(e,i){t(e+" ("+((new Date).getTime()-i.getTime())+"ms)")}function n(e){for(var t in e)return!1;return!0}function r(i,n,r,s){for(var o,a,l=i.config,d=x.parsers.length,c=!1,h="",p=!0;""===h&&p;)r++,n[r]?(c=n[r].cells[s],h=x.getElementText(l,c,s),a=e(c),i.config.debug&&t("Checking if value was empty on row "+r+", column: "+s+': "'+h+'"')):p=!1;for(;--d>=0;)if(o=x.parsers[d],o&&"text"!==o.id&&o.is&&o.is(h,i,c,a))return o;return x.getParserById("text")}function s(e,t,i,n){"undefined"==typeof n&&(n=x.getElementText(e,t,i));var r=""+n,s=e.parsers[i],o=e.extractors[i];return s&&(o&&"function"==typeof o.format&&(n=o.format(n,e.table,t,i)),r="no-parser"===s.id?"":s.format(""+n,e.table,t,i),e.ignoreCase&&"string"==typeof r&&(r=r.toLowerCase())),r}function o(e){var n,s,o,a,l,d,c,h,p,u,f=e.config,m=f.$tbodies=f.$table.children("tbody:not(."+f.cssInfoBlock+")"),g=0,v="",b=m.length;if(0===b)return f.debug?t("Warning: *Empty table!* Not building a parser cache"):"";for(f.debug&&(u=new Date,t("Detecting parsers for each column")),s={extractors:[],parsers:[]};b>g;){if(n=m[g].rows,n.length)for(o=f.columns,a=0;o>a;a++)l=f.$headerIndexed[a],d=x.getColumnData(e,f.headers,a),p=x.getParserById(x.getData(l,d,"extractor")),h=x.getParserById(x.getData(l,d,"sorter")),c="false"===x.getData(l,d,"parser"),f.empties[a]=(x.getData(l,d,"empty")||f.emptyTo||(f.emptyToBottom?"bottom":"top")).toLowerCase(),f.strings[a]=(x.getData(l,d,"string")||f.stringTo||"max").toLowerCase(),c&&(h=x.getParserById("no-parser")),p||(p=!1),h||(h=r(e,n,-1,a)),f.debug&&(v+="column:"+a+"; extractor:"+p.id+"; parser:"+h.id+"; string:"+f.strings[a]+"; empty: "+f.empties[a]+"\n"),s.parsers[a]=h,s.extractors[a]=p;g+=s.parsers.length?b:1}f.debug&&(t(v?v:"No parsers detected"),i("Completed detecting parsers",u)),f.parsers=s.parsers,f.extractors=s.extractors}function a(n){var r,o,a,l,d,c,h,p,u,f,m,g,v,b=n.config,y=b.$tbodies,w=b.parsers;if(b.cache={},b.totalRows=0,!w)return b.debug?t("Warning: *Empty table!* Not building a cache"):"";for(b.debug&&(u=new Date),b.showProcessing&&x.isProcessing(n,!0),c=0;c<y.length;c++){for(v=[],r=b.cache[c]={normalized:[]},f=y[c]&&y[c].rows.length||0,l=0;f>l;++l)if(m={child:[],raw:[]},h=e(y[c].rows[l]),p=[],h.hasClass(b.cssChildRow)&&0!==l)for(o=r.normalized.length-1,g=r.normalized[o][b.columns],g.$row=g.$row.add(h),h.prev().hasClass(b.cssChildRow)||h.prev().addClass(x.css.cssHasChild),a=h.children("th, td"),o=g.child.length,g.child[o]=[],d=0;d<b.columns;d++)g.child[o][d]=s(b,a[d],d);else{for(m.$row=h,m.order=l,d=0;d<b.columns;++d)"undefined"!=typeof w[d]?(o=x.getElementText(b,h[0].cells[d],d),m.raw.push(o),a=s(b,h[0].cells[d],d,o),p.push(a),"numeric"===(w[d].type||"").toLowerCase()&&(v[d]=Math.max(Math.abs(a)||0,v[d]||0))):b.debug&&t("No parser found for cell:",h[0].cells[d],"does it have a header?");p[b.columns]=m,r.normalized.push(p)}r.colMax=v,b.totalRows+=r.normalized.length}b.showProcessing&&x.isProcessing(n),b.debug&&i("Building cache for "+f+" rows",u)}function l(e,t){var r,s,o,a,l,d,c,h=e.config,p=h.widgetOptions,u=h.$tbodies,f=[],m=h.cache;if(n(m))return h.appender?h.appender(e,f):e.isUpdating?h.$table.trigger("updateComplete",e):"";for(h.debug&&(c=new Date),d=0;d<u.length;d++)if(o=u.eq(d),o.length){for(a=x.processTbody(e,o,!0),r=m[d].normalized,s=r.length,l=0;s>l;l++)f.push(r[l][h.columns].$row),h.appender&&(!h.pager||h.pager.removeRows&&p.pager_removeRows||h.pager.ajax)||a.append(r[l][h.columns].$row);x.processTbody(e,a,!1)}h.appender&&h.appender(e,f),h.debug&&i("Rebuilt table",c),t||h.appender||x.applyWidget(e),e.isUpdating&&h.$table.trigger("updateComplete",e)}function d(e){return/^d/i.test(e)||1===e}function c(n){var r,s,o,a,l,c,h,u,f=n.config;for(f.headerList=[],f.headerContent=[],f.debug&&(h=new Date),f.columns=x.computeColumnIndex(f.$table.children("thead, tfoot").children("tr")),a=f.cssIcon?'<i class="'+(f.cssIcon===x.css.icon?x.css.icon:f.cssIcon+" "+x.css.icon)+'"></i>':"",f.$headers=e(e.map(e(n).find(f.selectorHeaders),function(t,i){return s=e(t),s.parent().hasClass(f.cssIgnoreRow)?void 0:(r=x.getColumnData(n,f.headers,i,!0),f.headerContent[i]=s.html(),""===f.headerTemplate||s.find("."+x.css.headerIn).length||(l=f.headerTemplate.replace(/\{content\}/g,s.html()).replace(/\{icon\}/g,s.find("."+x.css.icon).length?"":a),f.onRenderTemplate&&(o=f.onRenderTemplate.apply(s,[i,l]),o&&"string"==typeof o&&(l=o)),s.html('<div class="'+x.css.headerIn+'">'+l+"</div>")),f.onRenderHeader&&f.onRenderHeader.apply(s,[i,f,f.$table]),t.column=parseInt(s.attr("data-column"),10),t.order=d(x.getData(s,r,"sortInitialOrder")||f.sortInitialOrder)?[1,0,2]:[0,1,2],t.count=-1,t.lockedOrder=!1,c=x.getData(s,r,"lockedOrder")||!1,"undefined"!=typeof c&&c!==!1&&(t.order=t.lockedOrder=d(c)?[1,1,1]:[0,0,0]),s.addClass(x.css.header+" "+f.cssHeader),f.headerList[i]=t,s.parent().addClass(x.css.headerRow+" "+f.cssHeaderRow).attr("role","row"),f.tabIndex&&s.attr("tabindex",0),t)})),f.$headerIndexed=[],u=0;u<f.columns;u++)s=f.$headers.filter('[data-column="'+u+'"]'),f.$headerIndexed[u]=s.not(".sorter-false").length?s.not(".sorter-false").filter(":last"):s.filter(":last");e(n).find(f.selectorHeaders).attr({scope:"col",role:"columnheader"}),p(n),f.debug&&(i("Built headers:",h),t(f.$headers))}function h(e,t,i){var n=e.config;n.$table.find(n.selectorRemove).remove(),o(e),a(e),y(n,t,i)}function p(e){var t,i,n,r,s=e.config,o=s.$headers.length;for(t=0;o>t;t++)n=s.$headers.eq(t),r=x.getColumnData(e,s.headers,t,!0),i="false"===x.getData(n,r,"sorter")||"false"===x.getData(n,r,"parser"),n[0].sortDisabled=i,n[i?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+i),e.id&&(i?n.removeAttr("aria-controls"):n.attr("aria-controls",e.id))}function u(t){var i,n,r,s,o,a,l,d,c=t.config,h=c.sortList,p=h.length,u=x.css.sortNone+" "+c.cssNone,f=[x.css.sortAsc+" "+c.cssAsc,x.css.sortDesc+" "+c.cssDesc],m=[c.cssIconAsc,c.cssIconDesc,c.cssIconNone],g=["ascending","descending"],v=e(t).find("tfoot tr").children().add(e(c.namespace+"_extra_headers")).removeClass(f.join(" "));for(c.$headers.removeClass(f.join(" ")).addClass(u).attr("aria-sort","none").find("."+x.css.icon).removeClass(m.join(" ")).addClass(m[2]),r=0;p>r;r++)if(2!==h[r][1]&&(i=c.$headers.not(".sorter-false").filter('[data-column="'+h[r][0]+'"]'+(1===p?":last":"")),i.length)){for(s=0;s<i.length;s++)i[s].sortDisabled||i.eq(s).removeClass(u).addClass(f[h[r][1]]).attr("aria-sort",g[h[r][1]]).find("."+x.css.icon).removeClass(m[2]).addClass(m[h[r][1]]);v.length&&v.filter('[data-column="'+h[r][0]+'"]').removeClass(u).addClass(f[h[r][1]])}for(p=c.$headers.length,o=c.$headers.not(".sorter-false"),r=0;p>r;r++)a=o.eq(r),a.length&&(n=o[r],l=n.order[(n.count+1)%(c.sortReset?3:2)],d=e.trim(a.text())+": "+x.language[a.hasClass(x.css.sortAsc)?"sortAsc":a.hasClass(x.css.sortDesc)?"sortDesc":"sortNone"]+x.language[0===l?"nextAsc":1===l?"nextDesc":"nextNone"],a.attr("aria-label",d))}function f(t,i){var n,r,s,o,a,l,d,c,h=t.config,p=i||h.sortList,u=p.length;for(h.sortList=[],a=0;u>a;a++)if(c=p[a],n=parseInt(c[0],10),n<h.columns&&h.$headerIndexed[n]){switch(o=h.$headerIndexed[n][0],r=(""+c[1]).match(/^(1|d|s|o|n)/),r=r?r[0]:""){case"1":case"d":r=1;break;case"s":r=l||0;break;case"o":d=o.order[(l||0)%(h.sortReset?3:2)],r=0===d?1:1===d?0:2;break;case"n":o.count=o.count+1,r=o.order[o.count%(h.sortReset?3:2)];break;default:r=0}l=0===a?r:l,s=[n,parseInt(r,10)||0],h.sortList.push(s),r=e.inArray(s[1],o.order),o.count=r>=0?r:s[1]%(h.sortReset?3:2)}}function m(e,t){return e&&e[t]?e[t].type||"":""}function g(t,i,n){if(t.isUpdating)return setTimeout(function(){g(t,i,n)},50);var r,s,o,a,d,c,h,p=t.config,f=!n[p.sortMultiSortKey],m=p.$table,b=p.$headers.length;if(m.trigger("sortStart",t),i.count=n[p.sortResetKey]?2:(i.count+1)%(p.sortReset?3:2),p.sortRestart)for(s=i,o=0;b>o;o++)h=p.$headers.eq(o),h[0]===s||!f&&h.is("."+x.css.sortDesc+",."+x.css.sortAsc)||(h[0].count=-1);if(s=parseInt(e(i).attr("data-column"),10),f){if(p.sortList=[],null!==p.sortForce)for(r=p.sortForce,a=0;a<r.length;a++)r[a][0]!==s&&p.sortList.push(r[a]);if(d=i.order[i.count],2>d&&(p.sortList.push([s,d]),i.colSpan>1))for(a=1;a<i.colSpan;a++)p.sortList.push([s+a,d])}else{if(p.sortAppend&&p.sortList.length>1)for(a=0;a<p.sortAppend.length;a++)c=x.isValueInArray(p.sortAppend[a][0],p.sortList),c>=0&&p.sortList.splice(c,1);if(x.isValueInArray(s,p.sortList)>=0)for(a=0;a<p.sortList.length;a++)c=p.sortList[a],d=p.$headerIndexed[c[0]][0],c[0]===s&&(c[1]=d.order[i.count],2===c[1]&&(p.sortList.splice(a,1),d.count=-1));else if(d=i.order[i.count],2>d&&(p.sortList.push([s,d]),i.colSpan>1))for(a=1;a<i.colSpan;a++)p.sortList.push([s+a,d])}if(null!==p.sortAppend)for(r=p.sortAppend,a=0;a<r.length;a++)r[a][0]!==s&&p.sortList.push(r[a]);m.trigger("sortBegin",t),setTimeout(function(){u(t),v(t),l(t),m.trigger("sortEnd",t)},1)}function v(e){var t,r,s,o,a,l,d,c,h,p,u,f=0,g=e.config,v=g.textSorter||"",b=g.sortList,y=b.length,w=g.$tbodies.length;if(!g.serverSideSorting&&!n(g.cache)){for(g.debug&&(a=new Date),r=0;w>r;r++)l=g.cache[r].colMax,d=g.cache[r].normalized,d.sort(function(i,n){for(t=0;y>t;t++){if(o=b[t][0],c=b[t][1],f=0===c,g.sortStable&&i[o]===n[o]&&1===y)return i[g.columns].order-n[g.columns].order;if(s=/n/i.test(m(g.parsers,o)),s&&g.strings[o]?(s="boolean"==typeof g.string[g.strings[o]]?(f?1:-1)*(g.string[g.strings[o]]?-1:1):g.strings[o]?g.string[g.strings[o]]||0:0,h=g.numberSorter?g.numberSorter(i[o],n[o],f,l[o],e):x["sortNumeric"+(f?"Asc":"Desc")](i[o],n[o],s,l[o],o,e)):(p=f?i:n,u=f?n:i,h="function"==typeof v?v(p[o],u[o],f,o,e):"object"==typeof v&&v.hasOwnProperty(o)?v[o](p[o],u[o],f,o,e):x["sortNatural"+(f?"Asc":"Desc")](i[o],n[o],o,e,g)),h)return h}return i[g.columns].order-n[g.columns].order});g.debug&&i("Sorting on "+b.toString()+" and dir "+c+" time",a)}}function b(t,i){t.table.isUpdating&&t.$table.trigger("updateComplete",t.table),e.isFunction(i)&&i(t.table)}function y(t,i,n){var r=e.isArray(i)?i:t.sortList,s="undefined"==typeof i?t.resort:i;s===!1||t.serverSideSorting||t.table.isProcessing?(b(t,n),x.applyWidget(t.table,!1)):r.length?t.$table.trigger("sorton",[r,function(){b(t,n)},!0]):t.$table.trigger("sortReset",[function(){b(t,n),x.applyWidget(t.table,!1)}])}function w(t){var i=t.config,r=i.$table,d="sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(i.namespace+" ");r.unbind(d.replace(/\s+/g," ")).bind("sortReset"+i.namespace,function(n,r){n.stopPropagation(),i.sortList=[],u(t),v(t),l(t),e.isFunction(r)&&r(t)}).bind("updateAll"+i.namespace,function(e,n,r){e.stopPropagation(),t.isUpdating=!0,x.refreshWidgets(t,!0,!0),c(t),x.bindEvents(t,i.$headers,!0),w(t),h(t,n,r)}).bind("update"+i.namespace+" updateRows"+i.namespace,function(e,i,n){e.stopPropagation(),t.isUpdating=!0,p(t),h(t,i,n)}).bind("updateCell"+i.namespace,function(n,o,a,l){n.stopPropagation(),t.isUpdating=!0,r.find(i.selectorRemove).remove();var d,c,h,p,u=i.$tbodies,f=e(o),m=u.index(e.fn.closest?f.closest("tbody"):f.parents("tbody").filter(":first")),g=i.cache[m],v=e.fn.closest?f.closest("tr"):f.parents("tr").filter(":first");o=f[0],u.length&&m>=0&&(c=u.eq(m).find("tr").index(v),p=g.normalized[c],h=f.index(),d=s(i,o,h),p[h]=d,p[i.columns].$row=v,"numeric"===(i.parsers[h].type||"").toLowerCase()&&(g.colMax[h]=Math.max(Math.abs(d)||0,g.colMax[h]||0)),d="undefined"!==a?a:i.resort,d!==!1?y(i,d,l):(e.isFunction(l)&&l(t),i.$table.trigger("updateComplete",i.table)))}).bind("addRows"+i.namespace,function(r,a,l,d){if(r.stopPropagation(),t.isUpdating=!0,n(i.cache))p(t),h(t,l,d);else{a=e(a).attr("role","row");var c,u,f,m,g,v=a.filter("tr").length,b=i.$tbodies.index(a.parents("tbody").filter(":first"));for(i.parsers&&i.parsers.length||o(t),c=0;v>c;c++){for(f=a[c].cells.length,g=[],m={child:[],$row:a.eq(c),order:i.cache[b].normalized.length},u=0;f>u;u++)g[u]=s(i,a[c].cells[u],u),"numeric"===(i.parsers[u].type||"").toLowerCase()&&(i.cache[b].colMax[u]=Math.max(Math.abs(g[u])||0,i.cache[b].colMax[u]||0));g.push(m),i.cache[b].normalized.push(g)}y(i,l,d)}}).bind("updateComplete"+i.namespace,function(){t.isUpdating=!1}).bind("sorton"+i.namespace,function(i,s,o,d){var c=t.config;i.stopPropagation(),r.trigger("sortStart",this),f(t,s),u(t),c.delayInit&&n(c.cache)&&a(t),r.trigger("sortBegin",this),v(t),l(t,d),r.trigger("sortEnd",this),x.applyWidget(t),e.isFunction(o)&&o(t)}).bind("appendCache"+i.namespace,function(i,n,r){i.stopPropagation(),l(t,r),e.isFunction(n)&&n(t)}).bind("updateCache"+i.namespace,function(n,r){i.parsers&&i.parsers.length||o(t),a(t),e.isFunction(r)&&r(t)}).bind("applyWidgetId"+i.namespace,function(e,n){e.stopPropagation(),x.getWidgetById(n).format(t,i,i.widgetOptions)}).bind("applyWidgets"+i.namespace,function(e,i){e.stopPropagation(),x.applyWidget(t,i)}).bind("refreshWidgets"+i.namespace,function(e,i,n){e.stopPropagation(),x.refreshWidgets(t,i,n)}).bind("destroy"+i.namespace,function(e,i,n){e.stopPropagation(),x.destroy(t,i,n)}).bind("resetToLoadState"+i.namespace,function(){x.removeWidget(t,!0,!1),i=e.extend(!0,x.defaults,i.originalSettings),t.hasInitialized=!1,x.setup(t,i)})}var x=this;x.version="2.22.1",x.parsers=[],x.widgets=[],x.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,widgetClass:"widget-{name}",initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},x.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},x.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},x.instanceMethods={},x.log=t,x.benchmark=i,x.getElementText=function(t,i,n){if(!i)return"";var r,s=t.textExtraction||"",o=i.jquery?i:e(i);return e.trim("string"==typeof s?("basic"===s?o.attr(t.textAttribute)||i.textContent:i.textContent)||o.text():"function"==typeof s?s(o[0],t.table,n):"function"==typeof(r=x.getColumnData(t.table,s,n))?r(o[0],t.table,n):o[0].textContent||o.text())},x.construct=function(t){return this.each(function(){var i=this,n=e.extend(!0,{},x.defaults,t,x.instanceMethods);n.originalSettings=t,!i.hasInitialized&&x.buildTable&&"TABLE"!==this.nodeName?x.buildTable(i,n):x.setup(i,n)})},x.setup=function(i,n){if(!i||!i.tHead||0===i.tBodies.length||i.hasInitialized===!0)return n.debug?t("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var r="",s=e(i),l=e.metadata;i.hasInitialized=!1,i.isProcessing=!0,i.config=n,e.data(i,"tablesorter",n),n.debug&&e.data(i,"startoveralltimer",new Date),n.supportsDataObject=function(e){return e[0]=parseInt(e[0],10),e[0]>1||1===e[0]&&parseInt(e[1],10)>=4}(e.fn.jquery.split(".")),n.string={max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},n.emptyTo=n.emptyTo.toLowerCase(),n.stringTo=n.stringTo.toLowerCase(),/tablesorter\-/.test(s.attr("class"))||(r=""!==n.theme?" tablesorter-"+n.theme:""),n.table=i,n.$table=s.addClass(x.css.table+" "+n.tableClass+r).attr("role","grid"),n.$headers=s.find(n.selectorHeaders),n.namespace=n.namespace?"."+n.namespace.replace(/\W/g,""):".tablesorter"+Math.random().toString(16).slice(2),n.$table.children().children("tr").attr("role","row"),n.$tbodies=s.children("tbody:not(."+n.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),n.$table.children("caption").length&&(r=n.$table.children("caption")[0],r.id||(r.id=n.namespace.slice(1)+"caption"),n.$table.attr("aria-labelledby",r.id)),n.widgetInit={},n.textExtraction=n.$table.attr("data-text-extraction")||n.textExtraction||"basic",c(i),x.fixColumnWidth(i),x.applyWidgetOptions(i,n),o(i),n.totalRows=0,n.delayInit||a(i),x.bindEvents(i,n.$headers,!0),w(i),n.supportsDataObject&&"undefined"!=typeof s.data().sortlist?n.sortList=s.data().sortlist:l&&s.metadata()&&s.metadata().sortlist&&(n.sortList=s.metadata().sortlist),x.applyWidget(i,!0),n.sortList.length>0?s.trigger("sorton",[n.sortList,{},!n.initWidgets,!0]):(u(i),n.initWidgets&&x.applyWidget(i,!1)),n.showProcessing&&s.unbind("sortBegin"+n.namespace+" sortEnd"+n.namespace).bind("sortBegin"+n.namespace+" sortEnd"+n.namespace,function(e){clearTimeout(n.processTimer),x.isProcessing(i),"sortBegin"===e.type&&(n.processTimer=setTimeout(function(){x.isProcessing(i,!0)},500))}),i.hasInitialized=!0,i.isProcessing=!1,n.debug&&x.benchmark("Overall initialization time",e.data(i,"startoveralltimer")),s.trigger("tablesorter-initialized",i),"function"==typeof n.initialized&&n.initialized(i)},x.fixColumnWidth=function(t){t=e(t)[0];var i,n,r,s,o,a=t.config,l=a.$table.children("colgroup");if(l.length&&l.hasClass(x.css.colgroup)&&l.remove(),a.widthFixed&&0===a.$table.children("colgroup").length){for(l=e('<colgroup class="'+x.css.colgroup+'">'),i=a.$table.width(),r=a.$tbodies.find("tr:first").children(":visible"),s=r.length,o=0;s>o;o++)n=parseInt(r.eq(o).width()/i*1e3,10)/10+"%",l.append(e("<col>").css("width",n));a.$table.prepend(l)}},x.getColumnData=function(t,i,n,r,s){if("undefined"!=typeof i&&null!==i){t=e(t)[0];var o,a,l=t.config,d=s||l.$headers,c=l.$headerIndexed&&l.$headerIndexed[n]||d.filter('[data-column="'+n+'"]:last');if(i[n])return r?i[n]:i[d.index(c)];for(a in i)if("string"==typeof a&&(o=c.filter(a).add(c.find(a)),o.length))return i[a]}},x.computeColumnIndex=function(t){var i,n,r,s,o,a,l,d,c,h,p,u,f=[],m=[],g={};for(i=0;i<t.length;i++)for(l=t[i].cells,n=0;n<l.length;n++){for(a=l[n],o=e(a),d=a.parentNode.rowIndex,c=d+"-"+o.index(),h=a.rowSpan||1,p=a.colSpan||1,"undefined"==typeof f[d]&&(f[d]=[]),r=0;r<f[d].length+1;r++)if("undefined"==typeof f[d][r]){u=r;break}for(g[c]=u,o.attr({"data-column":u}),r=d;d+h>r;r++)for("undefined"==typeof f[r]&&(f[r]=[]),m=f[r],s=u;u+p>s;s++)m[s]="x"}return m.length},x.isProcessing=function(t,i,n){t=e(t);var r=t[0].config,s=n||t.find("."+x.css.header);i?("undefined"!=typeof n&&r.sortList.length>0&&(s=s.filter(function(){return this.sortDisabled?!1:x.isValueInArray(parseFloat(e(this).attr("data-column")),r.sortList)>=0})),t.add(s).addClass(x.css.processing+" "+r.cssProcessing)):t.add(s).removeClass(x.css.processing+" "+r.cssProcessing)},x.processTbody=function(t,i,n){t=e(t)[0];var r;return n?(t.isProcessing=!0,i.before('<span class="tablesorter-savemyplace"/>'),r=e.fn.detach?i.detach():i.remove()):(r=e(t).find("span.tablesorter-savemyplace"),i.insertAfter(r),r.remove(),void(t.isProcessing=!1))},x.clearTableBody=function(t){e(t)[0].config.$tbodies.children().detach()},x.bindEvents=function(t,i,r){t=e(t)[0];var s,o=null,l=t.config;r!==!0&&(i.addClass(l.namespace.slice(1)+"_extra_headers"),s=e.fn.closest?i.closest("table")[0]:i.parents("table")[0],s&&"TABLE"===s.nodeName&&s!==t&&e(s).addClass(l.namespace.slice(1)+"_extra_table")),s=(l.pointerDown+" "+l.pointerUp+" "+l.pointerClick+" sort keyup ").replace(/\s+/g," ").split(" ").join(l.namespace+" "),i.find(l.selectorSort).add(i.filter(l.selectorSort)).unbind(s).bind(s,function(r,s){var d,c,h=e(r.target),p=" "+r.type+" ";if(!(1!==(r.which||r.button)&&!p.match(" "+l.pointerClick+" | sort | keyup ")||" keyup "===p&&13!==r.which||p.match(" "+l.pointerClick+" ")&&"undefined"!=typeof r.which||p.match(" "+l.pointerUp+" ")&&o!==r.target&&s!==!0)){if(p.match(" "+l.pointerDown+" "))return o=r.target,c=h.jquery.split("."),void("1"===c[0]&&c[1]<4&&r.preventDefault());if(o=null,/(input|select|button|textarea)/i.test(r.target.nodeName)||h.hasClass(l.cssNoSort)||h.parents("."+l.cssNoSort).length>0||h.parents("button").length>0)return!l.cancelSelection;l.delayInit&&n(l.cache)&&a(t),d=e.fn.closest?e(this).closest("th, td")[0]:/TH|TD/.test(this.nodeName)?this:e(this).parents("th, td")[0],d=l.$headers[i.index(d)],d.sortDisabled||g(t,d,r)}}),l.cancelSelection&&i.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},x.restoreHeaders=function(t){var i,n,r=e(t)[0].config,s=r.$table.find(r.selectorHeaders),o=s.length;for(i=0;o>i;i++)n=s.eq(i),n.find("."+x.css.headerIn).length&&n.html(r.headerContent[i])},x.destroy=function(t,i,n){if(t=e(t)[0],t.hasInitialized){x.removeWidget(t,!0,!1);var r,s=e(t),o=t.config,a=s.find("thead:first"),l=a.find("tr."+x.css.headerRow).removeClass(x.css.headerRow+" "+o.cssHeaderRow),d=s.find("tfoot:first > tr").children("th, td");i===!1&&e.inArray("uitheme",o.widgets)>=0&&(s.trigger("applyWidgetId",["uitheme"]),s.trigger("applyWidgetId",["zebra"])),a.find("tr").not(l).remove(),r="sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache "+"applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(o.namespace+" "),s.removeData("tablesorter").unbind(r.replace(/\s+/g," ")),o.$headers.add(d).removeClass([x.css.header,o.cssHeader,o.cssAsc,o.cssDesc,x.css.sortAsc,x.css.sortDesc,x.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),l.find(o.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(o.namespace+" ").replace(/\s+/g," ")),x.restoreHeaders(t),s.toggleClass(x.css.table+" "+o.tableClass+" tablesorter-"+o.theme,i===!1),t.hasInitialized=!1,delete t.config.cache,"function"==typeof n&&n(t)}},x.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i},x.sortNatural=function(e,t){if(e===t)return 0;var i,n,r,s,o,a,l,d,c=x.regex;if(c.hex.test(t)){if(n=parseInt(e.match(c.hex),16),s=parseInt(t.match(c.hex),16),s>n)return-1;if(n>s)return 1}for(i=e.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),r=t.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),d=Math.max(i.length,r.length),l=0;d>l;l++){if(o=isNaN(i[l])?i[l]||0:parseFloat(i[l])||0,a=isNaN(r[l])?r[l]||0:parseFloat(r[l])||0,isNaN(o)!==isNaN(a))return isNaN(o)?1:-1;if(typeof o!=typeof a&&(o+="",a+=""),a>o)return-1;if(o>a)return 1}return 0},x.sortNaturalAsc=function(e,t,i,n,r){if(e===t)return 0;var s=r.string[r.empties[i]||r.emptyTo];return""===e&&0!==s?"boolean"==typeof s?s?-1:1:-s||-1:""===t&&0!==s?"boolean"==typeof s?s?1:-1:s||1:x.sortNatural(e,t)},x.sortNaturalDesc=function(e,t,i,n,r){if(e===t)return 0;var s=r.string[r.empties[i]||r.emptyTo];return""===e&&0!==s?"boolean"==typeof s?s?-1:1:s||1:""===t&&0!==s?"boolean"==typeof s?s?1:-1:-s||-1:x.sortNatural(t,e)},x.sortText=function(e,t){return e>t?1:t>e?-1:0},x.getTextValue=function(e,t,i){if(i){var n,r=e?e.length:0,s=i+t;for(n=0;r>n;n++)s+=e.charCodeAt(n);return t*s}return 0},x.sortNumericAsc=function(e,t,i,n,r,s){if(e===t)return 0;var o=s.config,a=o.string[o.empties[r]||o.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(e)&&(e=x.getTextValue(e,i,n)),isNaN(t)&&(t=x.getTextValue(t,i,n)),e-t)},x.sortNumericDesc=function(e,t,i,n,r,s){if(e===t)return 0;var o=s.config,a=o.string[o.empties[r]||o.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(e)&&(e=x.getTextValue(e,i,n)),isNaN(t)&&(t=x.getTextValue(t,i,n)),t-e)},x.sortNumeric=function(e,t){return e-t},x.characterEquivalents={a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6\u014d",O:"\xd3\xd2\xd4\xd5\xd6\u014c",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},x.replaceAccents=function(e){var t,i="[",n=x.characterEquivalents;if(!x.characterRegex){x.characterRegexArray={};for(t in n)"string"==typeof t&&(i+=n[t],x.characterRegexArray[t]=new RegExp("["+n[t]+"]","g"));x.characterRegex=new RegExp(i+"]")}if(x.characterRegex.test(e))for(t in n)"string"==typeof t&&(e=e.replace(x.characterRegexArray[t],t));return e},x.isValueInArray=function(e,t){var i,n=t.length;for(i=0;n>i;i++)if(t[i][0]===e)return i;return-1},x.addParser=function(e){var t,i=x.parsers.length,n=!0;for(t=0;i>t;t++)x.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(n=!1);n&&x.parsers.push(e)},x.addInstanceMethods=function(t){e.extend(x.instanceMethods,t)},x.getParserById=function(e){if("false"==e)return!1;var t,i=x.parsers.length;for(t=0;i>t;t++)if(x.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return x.parsers[t];return!1},x.addWidget=function(e){x.widgets.push(e)},x.hasWidget=function(t,i){return t=e(t),t.length&&t[0].config&&t[0].config.widgetInit[i]||!1},x.getWidgetById=function(e){var t,i,n=x.widgets.length;for(t=0;n>t;t++)if(i=x.widgets[t],i&&i.hasOwnProperty("id")&&i.id.toLowerCase()===e.toLowerCase())return i},x.applyWidgetOptions=function(t,i){var n,r,s=i.widgets.length,o=i.widgetOptions;if(s)for(n=0;s>n;n++)r=x.getWidgetById(i.widgets[n]),r&&"options"in r&&(o=t.config.widgetOptions=e.extend(!0,{},r.options,o))},x.applyWidget=function(t,n,r){t=e(t)[0];var s,o,a,l,d,c,h,p=t.config,u=p.widgetOptions,f=" "+p.table.className+" ",m=[];if(n===!1||!t.hasInitialized||!t.isApplyingWidgets&&!t.isUpdating){if(p.debug&&(l=new Date),h=new RegExp("\\s"+p.widgetClass.replace(/\{name\}/i,"([\\w-]+)")+"\\s","g"),f.match(h)&&(c=f.match(h)))for(o=c.length,s=0;o>s;s++)p.widgets.push(c[s].replace(h,"$1"));if(p.widgets.length){for(t.isApplyingWidgets=!0,p.widgets=e.grep(p.widgets,function(t,i){return e.inArray(t,p.widgets)===i}),a=p.widgets||[],o=a.length,s=0;o>s;s++)h=x.getWidgetById(a[s]),h&&h.id&&(h.priority||(h.priority=10),m[s]=h);for(m.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),o=m.length,s=0;o>s;s++)m[s]&&((n||!p.widgetInit[m[s].id])&&(p.widgetInit[m[s].id]=!0,t.hasInitialized&&x.applyWidgetOptions(t,p),"init"in m[s]&&(p.debug&&(d=new Date),m[s].init(t,m[s],p,u),p.debug&&x.benchmark("Initializing "+m[s].id+" widget",d))),!n&&"format"in m[s]&&(p.debug&&(d=new Date),m[s].format(t,p,u,!1),p.debug&&x.benchmark((n?"Initializing ":"Applying ")+m[s].id+" widget",d)));n||"function"!=typeof r||r(t)}setTimeout(function(){t.isApplyingWidgets=!1,e.data(t,"lastWidgetApplication",new Date)},0),p.debug&&(c=p.widgets.length,i("Completed "+(n===!0?"initializing ":"applying ")+c+" widget"+(1!==c?"s":""),l))}},x.removeWidget=function(i,n,r){i=e(i)[0];var s,o,a,l,d=i.config;if(n===!0)for(n=[],l=x.widgets.length,a=0;l>a;a++)o=x.widgets[a],o&&o.id&&n.push(o.id);else n=(e.isArray(n)?n.join(","):n||"").toLowerCase().split(/[\s,]+/);for(l=n.length,s=0;l>s;s++)o=x.getWidgetById(n[s]),a=e.inArray(n[s],d.widgets),o&&"remove"in o&&(d.debug&&a>=0&&t('Removing "'+n[s]+'" widget'),o.remove(i,d,d.widgetOptions,r),d.widgetInit[n[s]]=!1),a>=0&&r!==!0&&d.widgets.splice(a,1)},x.refreshWidgets=function(t,i,n){t=e(t)[0];var r,s=t.config,o=s.widgets,a=x.widgets,l=a.length,d=[],c=function(t){e(t).trigger("refreshComplete")};for(r=0;l>r;r++)a[r]&&a[r].id&&(i||e.inArray(a[r].id,o)<0)&&d.push(a[r].id);x.removeWidget(t,d.join(","),!0),n!==!0?(x.applyWidget(t,i||!1,c),i&&x.applyWidget(t,!1,c)):c(t)},x.getColumnText=function(t,i,r){t=e(t)[0];var s,o,a,l,d,c,h,p,u,f,m="function"==typeof r,g="all"===i,v={raw:[],parsed:[],$cell:[]},b=t.config;if(!n(b)){for(d=b.$tbodies.length,s=0;d>s;s++)for(a=b.cache[s].normalized,c=a.length,o=0;c>o;o++)f=!0,l=a[o],p=g?l.slice(0,b.columns):l[i],l=l[b.columns],h=g?l.raw:l.raw[i],u=g?l.$row.children():l.$row.children().eq(i),m&&(f=r({tbodyIndex:s,rowIndex:o,parsed:p,raw:h,$row:l.$row,$cell:u})),f!==!1&&(v.parsed.push(p),v.raw.push(h),v.$cell.push(u));return v}},x.getData=function(t,i,n){var r,s,o="",a=e(t);return a.length?(r=e.metadata?a.metadata():!1,s=" "+(a.attr("class")||""),"undefined"!=typeof a.data(n)||"undefined"!=typeof a.data(n.toLowerCase())?o+=a.data(n)||a.data(n.toLowerCase()):r&&"undefined"!=typeof r[n]?o+=r[n]:i&&"undefined"!=typeof i[n]?o+=i[n]:" "!==s&&s.match(" "+n+"-")&&(o=s.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),e.trim(o)):""},x.formatFloat=function(t,i){if("string"!=typeof t||""===t)return t;var n,r=i&&i.config?i.config.usNumberFormat!==!1:"undefined"!=typeof i?i:!0;return t=r?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(([.\d]+)\)/,"-$1")),n=parseFloat(t),isNaN(n)?e.trim(t):n},x.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):""!==e}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),t.addParser({id:"text",is:function(){return!0},format:function(i,n){var r=n.config;return i&&(i=e.trim(r.ignoreCase?i.toLocaleLowerCase():i),i=r.sortLocaleCompare?t.replaceAccents(i):i),i},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(i,n){var r=t.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),n);return i&&"number"==typeof r?r:i?e.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[+\-,. ]/g,""))},format:function(i,n){var r=t.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),n);return i&&"number"==typeof r?r:i?e.trim(i&&n.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},parsed:!0,type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e){var t=e?new Date(e.replace(/-/g,"/")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,i){return e?t.formatFloat(e.replace(/%/g,""),i):e},type:"numeric"}),t.addParser({id:"image",is:function(e,t,i,n){return n.find("img").length>0},format:function(t,i,n){return e(n).find("img").attr(i.config.imgAttr||"alt")||t},parsed:!0,type:"text"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)
},format:function(e){var t=e?new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,i,n,r){if(e){var s,o,a=i.config,l=a.$headerIndexed[r],d=l.length&&l[0].dateFormat||t.getData(l,t.getColumnData(i,a.headers,r),"dateFormat")||a.dateFormat;return o=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===d?o=o.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===d?o=o.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===d&&(o=o.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")),s=new Date(o),s instanceof Date&&isFinite(s)?s.getTime():e}return e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e){var t=e?new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")):e;return t instanceof Date&&isFinite(t)?t.getTime():e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,i,n){var r=i.config,s=r.parserMetadataName?r.parserMetadataName:"sortValue";return e(n).metadata()[s]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(t,i,n){var r,s,o,a,l,d,c,h,p=new RegExp(i.cssChildRow,"i"),u=i.$tbodies.add(e(i.namespace+"_extra_table").children("tbody"));for(i.debug&&(l=new Date),d=0;d<u.length;d++)for(o=0,r=u.eq(d).children("tr:visible").not(i.selectorRemove),h=r.length,c=0;h>c;c++)s=r.eq(c),p.test(s[0].className)||o++,a=o%2===0,s.removeClass(n.zebra[a?1:0]).addClass(n.zebra[a?0:1])},remove:function(e,i,n,r){if(!r){var s,o,a=i.$tbodies,l=(n.zebra||["even","odd"]).join(" ");for(s=0;s<a.length;s++)o=t.processTbody(e,a.eq(s),!0),o.children().removeClass(l),t.processTbody(e,o,!1)}}})}(jQuery),/*! tablesorter (FORK) - updated 05-18-2015 (v2.22.1)*/
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){return function(e,t,i){"use strict";var n=e.tablesorter||{};n.storage=function(r,s,o,a){r=e(r)[0];var l,d,c,h=!1,p={},u=r.config,f=u&&u.widgetOptions,m=a&&a.useSessionStorage||f&&f.storage_useSessionStorage?"sessionStorage":"localStorage",g=e(r),v=a&&a.id||g.attr(a&&a.group||f&&f.storage_group||"data-table-group")||f&&f.storage_tableId||r.id||e(".tablesorter").index(g),b=a&&a.url||g.attr(a&&a.page||f&&f.storage_page||"data-table-page")||f&&f.storage_fixedUrl||u&&u.fixedUrl||t.location.pathname;if(m in t)try{t[m].setItem("_tmptest","temp"),h=!0,t[m].removeItem("_tmptest")}catch(y){u&&u.debug&&n.log(m+" is not supported in this browser")}return e.parseJSON&&(h?p=e.parseJSON(t[m][s]||"null")||{}:(d=i.cookie.split(/[;\s|=]/),l=e.inArray(s,d)+1,p=0!==l?e.parseJSON(d[l]||"null")||{}:{})),(o||""===o)&&t.JSON&&JSON.hasOwnProperty("stringify")?(p[b]||(p[b]={}),p[b][v]=o,h?t[m][s]=JSON.stringify(p):(c=new Date,c.setTime(c.getTime()+31536e6),i.cookie=s+"="+JSON.stringify(p).replace(/\"/g,'"')+"; expires="+c.toGMTString()+"; path=/"),void 0):p&&p[b]?p[b][v]:""}}(jQuery,window,document),function(e){"use strict";var t=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",iconSortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s",iconSortAsc:"ui-icon-carat-1-n",iconSortDesc:"ui-icon-carat-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},e.extend(t.css,{wrapper:"tablesorter-wrapper"}),t.addWidget({id:"uitheme",priority:10,format:function(i,n,r){var s,o,a,l,d,c,h,p,u,f,m,g,v=t.themes,b=n.$table.add(e(n.namespace+"_extra_table")),y=n.$headers.add(e(n.namespace+"_extra_headers")),w=n.theme||"jui",x=v[w]||{},C=e.trim([x.sortNone,x.sortDesc,x.sortAsc,x.active].join(" ")),k=e.trim([x.iconSortNone,x.iconSortDesc,x.iconSortAsc].join(" "));for(n.debug&&(l=new Date),b.hasClass("tablesorter-"+w)&&n.theme===n.appliedTheme&&r.uitheme_applied||(r.uitheme_applied=!0,u=v[n.appliedTheme]||{},g=!e.isEmptyObject(u),f=g?[u.sortNone,u.sortDesc,u.sortAsc,u.active].join(" "):"",m=g?[u.iconSortNone,u.iconSortDesc,u.iconSortAsc].join(" "):"",g&&(r.zebra[0]=e.trim(" "+r.zebra[0].replace(" "+u.even,"")),r.zebra[1]=e.trim(" "+r.zebra[1].replace(" "+u.odd,"")),n.$tbodies.children().removeClass([u.even,u.odd].join(" "))),x.even&&(r.zebra[0]+=" "+x.even),x.odd&&(r.zebra[1]+=" "+x.odd),b.children("caption").removeClass(u.caption||"").addClass(x.caption),h=b.removeClass((n.appliedTheme?"tablesorter-"+(n.appliedTheme||""):"")+" "+(u.table||"")).addClass("tablesorter-"+w+" "+(x.table||"")).children("tfoot"),n.appliedTheme=n.theme,h.length&&h.children("tr").removeClass(u.footerRow||"").addClass(x.footerRow).children("th, td").removeClass(u.footerCells||"").addClass(x.footerCells),y.removeClass((g?[u.header,u.hover,f].join(" "):"")||"").addClass(x.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)["mouseenter"===t.type?"addClass":"removeClass"](x.hover||"")}),y.each(function(){var i=e(this);i.find("."+t.css.wrapper).length||i.wrapInner('<div class="'+t.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),n.cssIcon&&y.find("."+t.css.icon).removeClass(g?[u.icons,m].join(" "):"").addClass(x.icons||""),b.hasClass("hasFilters")&&b.children("thead").children("."+t.css.filterRow).removeClass(g?u.filterRow||"":"").addClass(x.filterRow||"")),s=0;s<n.columns;s++)d=n.$headers.add(e(n.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+s+'"]'),c=t.css.icon?d.find("."+t.css.icon):e(),p=y.not(".sorter-false").filter('[data-column="'+s+'"]:last'),p.length&&(d.removeClass(C),c.removeClass(k),p[0].sortDisabled?c.removeClass(x.icons||""):(o=x.sortNone,a=x.iconSortNone,p.hasClass(t.css.sortAsc)?(o=[x.sortAsc,x.active].join(" "),a=x.iconSortAsc):p.hasClass(t.css.sortDesc)&&(o=[x.sortDesc,x.active].join(" "),a=x.iconSortDesc),d.addClass(o),c.addClass(a||"")));n.debug&&t.benchmark("Applying "+w+" theme",l)},remove:function(e,i,n,r){if(n.uitheme_applied){var s=i.$table,o=i.appliedTheme||"jui",a=t.themes[o]||t.themes.jui,l=s.children("thead").children(),d=a.sortNone+" "+a.sortDesc+" "+a.sortAsc,c=a.iconSortNone+" "+a.iconSortDesc+" "+a.iconSortAsc;s.removeClass("tablesorter-"+o+" "+a.table),n.uitheme_applied=!1,r||(s.find(t.css.header).removeClass(a.header),l.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(a.hover+" "+d+" "+a.active).filter("."+t.css.filterRow).removeClass(a.filterRow),l.find("."+t.css.icon).removeClass(a.icons+" "+c))}}})}(jQuery),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(i,n,r){var s,o,a,l,d,c,h,p,u=n.$table,f=n.$tbodies,m=n.sortList,g=m.length,v=r&&r.columns||["primary","secondary","tertiary"],b=v.length-1;for(h=v.join(" "),o=0;o<f.length;o++)s=t.processTbody(i,f.eq(o),!0),a=s.children("tr"),a.each(function(){if(d=e(this),"none"!==this.style.display&&(c=d.children().removeClass(h),m&&m[0]&&(c.eq(m[0][0]).addClass(v[0]),g>1)))for(p=1;g>p;p++)c.eq(m[p][0]).addClass(v[p]||v[b])}),t.processTbody(i,s,!1);if(l=r.columns_thead!==!1?["thead tr"]:[],r.columns_tfoot!==!1&&l.push("tfoot tr"),l.length&&(a=u.find(l.join(",")).children().removeClass(h),g))for(p=0;g>p;p++)a.filter('[data-column="'+m[p][0]+'"]').addClass(v[p]||v[b])},remove:function(i,n,r){var s,o,a=n.$tbodies,l=(r.columns||["primary","secondary","tertiary"]).join(" ");for(n.$headers.removeClass(l),n.$table.children("tfoot").children("tr").children("th, td").removeClass(l),s=0;s<a.length;s++)o=t.processTbody(i,a.eq(s),!0),o.children("tr").each(function(){e(this).children().removeClass(l)}),t.processTbody(i,o,!1)}})}(jQuery),function(e){"use strict";var t=e.tablesorter||{},i=t.css;e.extend(i,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),t.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_childByColumn:!1,filter_columnFilters:!0,filter_columnAnyMatch:!0,filter_cellFilter:"",filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(e,i,n){i.$table.hasClass("hasFilters")||t.filter.init(e,i,n)},remove:function(n,r,s,o){var a,l,d=r.$table,c=r.$tbodies,h="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(r.namespace+"filter ");if(d.removeClass("hasFilters").unbind(h.replace(/\s+/g," ")).find("."+i.filterRow).remove(),!o){for(a=0;a<c.length;a++)l=t.processTbody(n,c.eq(a),!0),l.children().removeClass(s.filter_filteredRow).show(),t.processTbody(n,l,!1);s.filter_reset&&e(document).undelegate(s.filter_reset,"click.tsfilter")}}}),t.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g,query:"(q|query)"},types:{regex:function(e,i){if(t.filter.regex.regex.test(i.filter)){var n,r=i.filter_regexCache[i.index]||t.filter.regex.regex.exec(i.filter),s=r instanceof RegExp;try{s||(i.filter_regexCache[i.index]=r=new RegExp(r[1],r[2])),n=r.test(i.exact)}catch(o){n=!1}return n}return null},operators:function(i,n){if(/^[<>]=?/.test(n.iFilter)&&""!==n.iExact){var r,s,o,a=i.table,l=n.index,d=n.parsed[l],c=t.formatFloat(n.iFilter.replace(t.filter.regex.operators,""),a),h=i.parsers[l],p=c;return(d||"numeric"===h.type)&&(o=e.trim(""+n.iFilter.replace(t.filter.regex.operators,"")),s=t.filter.parseFilter(i,o,l,!0),c="number"!=typeof s||""===s||isNaN(s)?c:s),!d&&"numeric"!==h.type||isNaN(c)||"undefined"==typeof n.cache?(o=isNaN(n.iExact)?n.iExact.replace(t.filter.regex.nondigit,""):n.iExact,r=t.formatFloat(o,a)):r=n.cache,/>/.test(n.iFilter)?s=/>=/.test(n.iFilter)?r>=c:r>c:/</.test(n.iFilter)&&(s=/<=/.test(n.iFilter)?c>=r:c>r),s||""!==p||(s=!0),s}return null},notMatch:function(i,n){if(/^\!/.test(n.iFilter)){var r,s=n.iFilter.replace("!",""),o=t.filter.parseFilter(i,s,n.index,n.parsed[n.index])||"";return t.filter.regex.exact.test(o)?(o=o.replace(t.filter.regex.exact,""),""===o?!0:e.trim(o)!==n.iExact):(r=n.iExact.search(e.trim(o)),""===o?!0:!(i.widgetOptions.filter_startsWith?0===r:r>=0))}return null},exact:function(i,n){if(t.filter.regex.exact.test(n.iFilter)){var r=n.iFilter.replace(t.filter.regex.exact,""),s=t.filter.parseFilter(i,r,n.index,n.parsed[n.index])||"";return n.anyMatch?e.inArray(s,n.rowArray)>=0:s==n.iExact}return null},and:function(i,n){if(t.filter.regex.andTest.test(n.filter)){for(var r=n.index,s=n.parsed[r],o=n.iFilter.split(t.filter.regex.andSplit),a=n.iExact.search(e.trim(t.filter.parseFilter(i,o[0],r,s)))>=0,l=o.length-1;a&&l;)a=a&&n.iExact.search(e.trim(t.filter.parseFilter(i,o[l],r,s)))>=0,l--;return a}return null},range:function(e,i){if(t.filter.regex.toTest.test(i.iFilter)){var n,r,s,o,a=e.table,l=i.index,d=i.parsed[l],c=i.iFilter.split(t.filter.regex.toSplit);return r=c[0].replace(t.filter.regex.nondigit,"")||"",s=t.formatFloat(t.filter.parseFilter(e,r,l,d),a),r=c[1].replace(t.filter.regex.nondigit,"")||"",o=t.formatFloat(t.filter.parseFilter(e,r,l,d),a),(d||"numeric"===e.parsers[l].type)&&(n=e.parsers[l].format(""+c[0],a,e.$headers.eq(l),l),s=""===n||isNaN(n)?s:n,n=e.parsers[l].format(""+c[1],a,e.$headers.eq(l),l),o=""===n||isNaN(n)?o:n),!d&&"numeric"!==e.parsers[l].type||isNaN(s)||isNaN(o)?(r=isNaN(i.iExact)?i.iExact.replace(t.filter.regex.nondigit,""):i.iExact,n=t.formatFloat(r,a)):n=i.cache,s>o&&(r=s,s=o,o=r),n>=s&&o>=n||""===s||""===o}return null},wild:function(i,n){if(/[\?\*\|]/.test(n.iFilter)||t.filter.regex.orReplace.test(n.filter)){var r=n.index,s=n.parsed[r],o=n.iFilter.replace(t.filter.regex.orReplace,"|"),a=""+(t.filter.parseFilter(i,o,r,s)||"");return!i.$headerIndexed[r].hasClass("filter-match")&&/\|/.test(a)&&("|"===a[a.length-1]&&(a+="*"),a=n.anyMatch&&e.isArray(n.rowArray)?"("+a+")":"^("+a+")$"),new RegExp(a.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(n.iExact)}return null},fuzzy:function(e,i){if(/^~/.test(i.iFilter)){var n,r=0,s=i.iExact.length,o=i.iFilter.slice(1),a=t.filter.parseFilter(e,o,i.index,i.parsed[i.index])||"";for(n=0;s>n;n++)i.iExact[n]===a[r]&&(r+=1);return r===a.length?!0:!1}return null}},init:function(n,r,s){t.language=e.extend(!0,{},{to:"to",or:"or",and:"and"},t.language);var o,a,l,d,c,h,p,u,f,m=t.filter.regex;if(r.$table.addClass("hasFilters"),s.searchTimer=null,s.filter_initTimer=null,s.filter_formatterCount=0,s.filter_formatterInit=[],s.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',s.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',p="\\{"+t.filter.regex.query+"\\}",e.extend(m,{child:new RegExp(r.cssChildRow),filtered:new RegExp(s.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+t.language.or+"|-|"+t.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+t.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+t.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+t.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+t.language.and+"|&&)\\s+)","gi"),orReplace:new RegExp("\\s+("+t.language.or+")\\s+","gi"),iQuery:new RegExp(p,"i"),igQuery:new RegExp(p,"ig")}),p=r.$headers.filter(".filter-false, .parser-false").length,s.filter_columnFilters!==!1&&p!==r.$headers.length&&t.filter.buildRow(n,r,s),l="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(r.namespace+"filter "),r.$table.bind(l,function(o,a){return p=s.filter_hideEmpty&&e.isEmptyObject(r.cache)&&!(r.delayInit&&"appendCache"===o.type),r.$table.find("."+i.filterRow).toggleClass(s.filter_filteredRow,p),/(search|filter)/.test(o.type)||(o.stopPropagation(),t.filter.buildDefault(n,!0)),"filterReset"===o.type?(r.$table.find("."+i.filter).add(s.filter_$externalFilters).val(""),t.filter.searching(n,[])):"filterEnd"===o.type?t.filter.buildDefault(n,!0):(a="search"===o.type?a:"updateComplete"===o.type?r.$table.data("lastSearch"):"",/(update|add)/.test(o.type)&&"updateComplete"!==o.type&&(r.lastCombinedFilter=null,r.lastSearch=[]),t.filter.searching(n,a,!0)),!1}),s.filter_reset&&(s.filter_reset instanceof e?s.filter_reset.click(function(){r.$table.trigger("filterReset")}):e(s.filter_reset).length&&e(document).undelegate(s.filter_reset,"click.tsfilter").delegate(s.filter_reset,"click.tsfilter",function(){r.$table.trigger("filterReset")})),s.filter_functions)for(c=0;c<r.columns;c++)if(u=t.getColumnData(n,s.filter_functions,c))if(d=r.$headerIndexed[c].removeClass("filter-select"),f=!(d.hasClass("filter-false")||d.hasClass("parser-false")),o="",u===!0&&f)t.filter.buildSelect(n,c);else if("object"==typeof u&&f){for(a in u)"string"==typeof a&&(o+=""===o?'<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||s.filter_placeholder.select||"")+"</option>":"",p=a,l=a,a.indexOf(s.filter_selectSourceSeparator)>=0&&(p=a.split(s.filter_selectSourceSeparator),l=p[1],p=p[0]),o+="<option "+(l===p?"":'data-function-name="'+a+'" ')+'value="'+p+'">'+l+"</option>");r.$table.find("thead").find("select."+i.filter+'[data-column="'+c+'"]').append(o),l=s.filter_selectSource,u=e.isFunction(l)?!0:t.getColumnData(n,l,c),u&&t.filter.buildSelect(r.table,c,"",!0,d.hasClass(s.filter_onlyAvail))}t.filter.buildDefault(n,!0),t.filter.bindSearch(n,r.$table.find("."+i.filter),!0),s.filter_external&&t.filter.bindSearch(n,s.filter_external),s.filter_hideFilters&&t.filter.hideFilters(n,r),r.showProcessing&&(l="filterStart filterEnd ".split(" ").join(r.namespace+"filter "),r.$table.unbind(l.replace(/\s+/g," ")).bind(l,function(s,o){d=o?r.$table.find("."+i.header).filter("[data-column]").filter(function(){return""!==o[e(this).data("column")]}):"",t.isProcessing(n,"filterStart"===s.type,o?d:"")})),r.filteredRows=r.totalRows,l="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(r.namespace+"filter "),r.$table.unbind(l.replace(/\s+/g," ")).bind(l,function(){var e=this.config.widgetOptions;h=t.filter.setDefaults(n,r,e)||[],h.length&&(r.delayInit&&""===h.join("")||t.setFilters(n,h,!0)),r.$table.trigger("filterFomatterUpdate"),setTimeout(function(){e.filter_initialized||t.filter.filterInitComplete(r)},100)}),r.pager&&r.pager.initialized&&!s.filter_initialized&&(r.$table.trigger("filterFomatterUpdate"),setTimeout(function(){t.filter.filterInitComplete(r)},100))},formatterUpdated:function(e,t){var i=e.closest("table")[0].config.widgetOptions;i.filter_initialized||(i.filter_formatterInit[t]=1)},filterInitComplete:function(i){var n,r,s=i.widgetOptions,o=0,a=function(){s.filter_initialized=!0,i.$table.trigger("filterInit",i),t.filter.findRows(i.table,i.$table.data("lastSearch")||[])};if(e.isEmptyObject(s.filter_formatter))a();else{for(r=s.filter_formatterInit.length,n=0;r>n;n++)1===s.filter_formatterInit[n]&&o++;clearTimeout(s.filter_initTimer),s.filter_initialized||o!==s.filter_formatterCount?s.filter_initialized||(s.filter_initTimer=setTimeout(function(){a()},500)):a()}},setDefaults:function(i,n,r){var s,o,a,l,d,c=t.getFilters(i)||[];if(r.filter_saveFilters&&t.storage&&(o=t.storage(i,"tablesorter-filters")||[],s=e.isArray(o),s&&""===o.join("")||!s||(c=o)),""===c.join(""))for(d=n.$headers.add(r.filter_$externalFilters).filter("["+r.filter_defaultAttrib+"]"),a=0;a<=n.columns;a++)l=a===n.columns?"all":a,c[a]=d.filter('[data-column="'+l+'"]').attr(r.filter_defaultAttrib)||c[a]||"";return n.$table.data("lastSearch",c),c},parseFilter:function(e,t,i,n){return n?e.parsers[i].format(t,e.table,[],i):t},buildRow:function(n,r,s){var o,a,l,d,c,h,p,u,f=s.filter_cellFilter,m=r.columns,g=e.isArray(f),v='<tr role="row" class="'+i.filterRow+" "+r.cssIgnoreRow+'">';for(a=0;m>a;a++)v+="<td",v+=g?f[a]?' class="'+f[a]+'"':"":""!==f?' class="'+f+'"':"",v+="></td>";for(r.$filters=e(v+="</tr>").appendTo(r.$table.children("thead").eq(0)).find("td"),a=0;m>a;a++)c=!1,l=r.$headerIndexed[a],p=t.getColumnData(n,s.filter_functions,a),d=s.filter_functions&&p&&"function"!=typeof p||l.hasClass("filter-select"),o=t.getColumnData(n,r.headers,a),c="false"===t.getData(l[0],o,"filter")||"false"===t.getData(l[0],o,"parser"),d?v=e("<select>").appendTo(r.$filters.eq(a)):(p=t.getColumnData(n,s.filter_formatter,a),p?(s.filter_formatterCount++,v=p(r.$filters.eq(a),a),v&&0===v.length&&(v=r.$filters.eq(a).children("input")),v&&(0===v.parent().length||v.parent().length&&v.parent()[0]!==r.$filters[a])&&r.$filters.eq(a).append(v)):v=e('<input type="search">').appendTo(r.$filters.eq(a)),v&&(u=l.data("placeholder")||l.attr("data-placeholder")||s.filter_placeholder.search||"",v.attr("placeholder",u))),v&&(h=(e.isArray(s.filter_cssFilter)?"undefined"!=typeof s.filter_cssFilter[a]?s.filter_cssFilter[a]||"":"":s.filter_cssFilter)||"",v.addClass(i.filter+" "+h).attr("data-column",a),c&&(v.attr("placeholder","").addClass(i.filterDisabled)[0].disabled=!0))},bindSearch:function(i,n,r){if(i=e(i)[0],n=e(n),n.length){var s,o=i.config,a=o.widgetOptions,l=o.namespace+"filter",d=a.filter_$externalFilters;r!==!0&&(s=a.filter_anyColumnSelector+","+a.filter_multipleColumnSelector,a.filter_$anyMatch=n.filter(s),a.filter_$externalFilters=d&&d.length?a.filter_$externalFilters.add(n):n,t.setFilters(i,o.$table.data("lastSearch")||[],r===!1)),s="keypress keyup search change ".split(" ").join(l+" "),n.attr("data-lastSearchTime",(new Date).getTime()).unbind(s.replace(/\s+/g," ")).bind("keyup"+l,function(n){if(e(this).attr("data-lastSearchTime",(new Date).getTime()),27===n.which)this.value="";else{if(a.filter_liveSearch===!1)return;if(""!==this.value&&("number"==typeof a.filter_liveSearch&&this.value.length<a.filter_liveSearch||13!==n.which&&8!==n.which&&(n.which<32||n.which>=37&&n.which<=40)))return}t.filter.searching(i,!0,!0)}).bind("search change keypress ".split(" ").join(l+" "),function(n){var r=e(this).data("column");(13===n.which||"search"===n.type||"change"===n.type&&this.value!==o.lastSearch[r])&&(n.preventDefault(),e(this).attr("data-lastSearchTime",(new Date).getTime()),t.filter.searching(i,!1,!0))})}},searching:function(e,i,n){var r=e.config.widgetOptions;clearTimeout(r.searchTimer),"undefined"==typeof i||i===!0?r.searchTimer=setTimeout(function(){t.filter.checkFilters(e,i,n)},r.filter_liveSearch?r.filter_searchDelay:10):t.filter.checkFilters(e,i,n)},checkFilters:function(n,r,s){var o=n.config,a=o.widgetOptions,l=e.isArray(r),d=l?r:t.getFilters(n,!0),c=(d||[]).join("");return e.isEmptyObject(o.cache)?void(o.delayInit&&o.pager&&o.pager.initialized&&o.$table.trigger("updateCache",[function(){t.filter.checkFilters(n,!1,s)}])):(l&&(t.setFilters(n,d,!1,s!==!0),a.filter_initialized||(o.lastCombinedFilter="")),a.filter_hideFilters&&o.$table.find("."+i.filterRow).trigger(""===c?"mouseleave":"mouseenter"),o.lastCombinedFilter!==c||r===!1?(r===!1&&(o.lastCombinedFilter=null,o.lastSearch=[]),a.filter_initialized&&o.$table.trigger("filterStart",[d]),o.showProcessing?void setTimeout(function(){return t.filter.findRows(n,d,c),!1},30):(t.filter.findRows(n,d,c),!1)):void 0)},hideFilters:function(n,r){var s,o,a;e(n).find("."+i.filterRow).addClass(i.filterRowHide).bind("mouseenter mouseleave",function(t){var n=t;s=e(this),clearTimeout(a),a=setTimeout(function(){/enter|over/.test(n.type)?s.removeClass(i.filterRowHide):e(document.activeElement).closest("tr")[0]!==s[0]&&""===r.lastCombinedFilter&&s.addClass(i.filterRowHide)},200)}).find("input, select").bind("focus blur",function(n){o=e(this).closest("tr"),clearTimeout(a);var s=n;a=setTimeout(function(){""===t.getFilters(r.$table).join("")&&o.toggleClass(i.filterRowHide,"focus"===s.type)},200)})},defaultFilter:function(i,n){if(""===i)return i;var r=t.filter.regex.iQuery,s=n.match(t.filter.regex.igQuery).length,o=s>1?e.trim(i).split(/\s/):[e.trim(i)],a=o.length-1,l=0,d=n;for(1>a&&s>1&&(o[1]=o[0]);r.test(d);)d=d.replace(r,o[l++]||""),r.test(d)&&a>l&&""!==(o[l]||"")&&(d=n.replace(r,d));return d},getLatestSearch:function(t){return t?t.sort(function(t,i){return e(i).attr("data-lastSearchTime")-e(t).attr("data-lastSearchTime")}):e()},multipleColumns:function(i,n){var r,s,o,a,l,d,c,h,p,u=i.widgetOptions,f=u.filter_initialized||!n.filter(u.filter_anyColumnSelector).length,m=[],g=e.trim(t.filter.getLatestSearch(n).attr("data-column")||"");if(f&&/-/.test(g))for(s=g.match(/(\d+)\s*-\s*(\d+)/g),p=s.length,h=0;p>h;h++){for(o=s[h].split(/\s*-\s*/),a=parseInt(o[0],10)||0,l=parseInt(o[1],10)||i.columns-1,a>l&&(r=a,a=l,l=r),l>=i.columns&&(l=i.columns-1);l>=a;a++)m.push(a);g=g.replace(s[h],"")}if(f&&/,/.test(g))for(d=g.split(/\s*,\s*/),p=d.length,c=0;p>c;c++)""!==d[c]&&(h=parseInt(d[c],10),h<i.columns&&m.push(h));if(!m.length)for(h=0;h<i.columns;h++)m.push(h);return m},processRow:function(i,n,r){var s,o,a,l,d,c,h,p,u,f,m,g=t.filter.regex,v=i.widgetOptions,b=!0;if(n.$cells=n.$row.children(),n.anyMatchFlag){o=t.filter.multipleColumns(i,v.filter_$anyMatch),n.anyMatch=!0,n.rowArray=n.$cells.map(function(r){return e.inArray(r,o)>-1?(n.parsed[r]?m=n.cacheArray[r]:(m=n.rawArray[r],m=e.trim(v.filter_ignoreCase?m.toLowerCase():m),i.sortLocaleCompare&&(m=t.replaceAccents(m))),m):void 0}).get(),n.filter=n.anyMatchFilter,n.iFilter=n.iAnyMatchFilter,n.exact=n.rowArray.join(" "),n.iExact=v.filter_ignoreCase?n.exact.toLowerCase():n.exact,n.cache=n.cacheArray.slice(0,-1).join(" "),h=null,l=null;for(f in t.filter.types)e.inArray(f,r.noAnyMatch)<0&&null===l&&(l=t.filter.types[f](i,n),null!==l&&(h=l));if(null!==h)b=h;else if(v.filter_startsWith)for(b=!1,o=i.columns;!b&&o>0;)o--,b=b||0===n.rowArray[o].indexOf(n.iFilter);else b=(n.iExact+n.childRowText).indexOf(n.iFilter)>=0;if(n.anyMatch=!1,n.filters.join("")===n.filter)return b}for(o=0;o<i.columns;o++)if(n.filter=n.filters[o],n.index=o,p=r.excludeFilter[o],n.filter){if(n.cache=n.cacheArray[o],v.filter_useParsedData||n.parsed[o]?n.exact=n.cache:(d=n.rawArray[o]||"",n.exact=i.sortLocaleCompare?t.replaceAccents(d):d),n.iExact=!g.type.test(typeof n.exact)&&v.filter_ignoreCase?n.exact.toLowerCase():n.exact,d=b,f=v.filter_columnFilters?i.$filters.add(i.$externalFilters).filter('[data-column="'+o+'"]').find("select option:selected").attr("data-function-name")||"":"",i.sortLocaleCompare&&(n.filter=t.replaceAccents(n.filter)),c=!0,v.filter_defaultFilter&&g.iQuery.test(r.defaultColFilter[o])&&(n.filter=t.filter.defaultFilter(n.filter,r.defaultColFilter[o]),c=!1),n.iFilter=v.filter_ignoreCase?(n.filter||"").toLowerCase():n.filter,u=r.functions[o],s=i.$headerIndexed[o],a=s.hasClass("filter-select"),h=null,(u||a&&c)&&(u===!0||a?h=s.hasClass("filter-match")?n.iExact.search(n.iFilter)>=0:n.filter===n.exact:"function"==typeof u?h=u(n.exact,n.cache,n.filter,o,n.$row,i,n):"function"==typeof u[f||n.filter]&&(m=f||n.filter,h=u[m](n.exact,n.cache,n.filter,o,n.$row,i,n))),null===h){l=null;for(f in t.filter.types)e.inArray(f,p)<0&&null===l&&(l=t.filter.types[f](i,n),null!==l&&(h=l));null!==h?d=h:(m=(n.iExact+n.childRowText).indexOf(t.filter.parseFilter(i,n.iFilter,o,n.parsed[o])),d=!v.filter_startsWith&&m>=0||v.filter_startsWith&&0===m)}else d=h;b=d?b:!1}return b},findRows:function(i,n,r){if(i.config.lastCombinedFilter!==r&&i.config.widgetOptions.filter_initialized){var s,o,a,l,d,c,h,p,u,f,m,g,v,b,y,w,x,C,k,S,E,T,$=e.extend([],n),_=t.filter.regex,I=i.config,L=I.widgetOptions,A={anyMatch:!1,filters:n,filter_regexCache:[]},N={noAnyMatch:["range","notMatch","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:t.getColumnData(i,L.filter_defaultFilter,I.columns,!0)||""};for(A.parsed=I.$headers.map(function(n){return I.parsers&&I.parsers[n]&&I.parsers[n].parsed||t.getData&&"parsed"===t.getData(I.$headerIndexed[n],t.getColumnData(i,I.headers,n),"filter")||e(this).hasClass("filter-parsed")}).get(),p=0;p<I.columns;p++)N.functions[p]=t.getColumnData(i,L.filter_functions,p),N.defaultColFilter[p]=t.getColumnData(i,L.filter_defaultFilter,p)||"",N.excludeFilter[p]=(t.getColumnData(i,L.filter_excludeFilter,p,!0)||"").split(/\s+/);for(I.debug&&(t.log("Filter: Starting filter widget search",n),v=new Date),I.filteredRows=0,I.totalRows=0,r=($||[]).join(""),c=0;c<I.$tbodies.length;c++){if(h=t.processTbody(i,I.$tbodies.eq(c),!0),p=I.columns,o=I.cache[c].normalized,l=e(e.map(o,function(e){return e[p].$row.get()})),""===r||L.filter_serversideFiltering)l.removeClass(L.filter_filteredRow).not("."+I.cssChildRow).css("display","");else{if(l=l.not("."+I.cssChildRow),s=l.length,(L.filter_$anyMatch&&L.filter_$anyMatch.length||"undefined"!=typeof n[I.columns])&&(A.anyMatchFlag=!0,A.anyMatchFilter=""+(n[I.columns]||L.filter_$anyMatch&&t.filter.getLatestSearch(L.filter_$anyMatch).val()||""),L.filter_columnAnyMatch)){for(C=A.anyMatchFilter.split(_.andSplit),k=!1,y=0;y<C.length;y++)S=C[y].split(":"),S.length>1&&(E=parseInt(S[0],10)-1,E>=0&&E<I.columns&&(n[E]=S[1],C.splice(y,1),y--,k=!0));k&&(A.anyMatchFilter=C.join(" && "))}if(x=L.filter_searchFiltered,m=I.lastSearch||I.$table.data("lastSearch")||[],x)for(y=0;p+1>y;y++)b=n[y]||"",x||(y=p),x=!(!x||!m.length||0!==b.indexOf(m[y]||"")||_.alreadyFiltered.test(b)||/[=\"\|!]/.test(b)||/(>=?\s*-\d)/.test(b)||/(<=?\s*\d)/.test(b)||""!==b&&I.$filters&&I.$filters.eq(y).find("select").length&&!I.$headerIndexed[y].hasClass("filter-match"));for(w=l.not("."+L.filter_filteredRow).length,x&&0===w&&(x=!1),I.debug&&t.log("Filter: Searching through "+(x&&s>w?w:"all")+" rows"),A.anyMatchFlag&&(I.sortLocaleCompare&&(A.anyMatchFilter=t.replaceAccents(A.anyMatchFilter)),L.filter_defaultFilter&&_.iQuery.test(N.defaultAnyFilter)&&(A.anyMatchFilter=t.filter.defaultFilter(A.anyMatchFilter,N.defaultAnyFilter),x=!1),A.iAnyMatchFilter=L.filter_ignoreCase&&I.ignoreCase?A.anyMatchFilter.toLowerCase():A.anyMatchFilter),d=0;s>d;d++)if(T=l[d].className,u=d&&_.child.test(T),!(u||x&&_.filtered.test(T))){if(A.$row=l.eq(d),A.cacheArray=o[d],a=A.cacheArray[I.columns],A.rawArray=a.raw,A.childRowText="",!L.filter_childByColumn){for(T="",f=a.child,y=0;y<f.length;y++)T+=" "+f[y].join("")||"";A.childRowText=L.filter_childRows?L.filter_ignoreCase?T.toLowerCase():T:""}if(g=t.filter.processRow(I,A,N),f=a.$row.filter(":gt( 0 )"),L.filter_childRows&&f.length){if(L.filter_childByColumn)for(y=0;y<f.length;y++)A.$row=f.eq(y),A.cacheArray=a.child[y],A.rawArray=A.cacheArray,g=g||t.filter.processRow(I,A,N);f.toggleClass(L.filter_filteredRow,!g)}a.$row.toggleClass(L.filter_filteredRow,!g)[0].display=g?"":"none"}}I.filteredRows+=l.not("."+L.filter_filteredRow).length,I.totalRows+=l.length,t.processTbody(i,h,!1)}I.lastCombinedFilter=r,I.lastSearch=$,I.$table.data("lastSearch",$),L.filter_saveFilters&&t.storage&&t.storage(i,"tablesorter-filters",$),I.debug&&t.benchmark("Completed filter widget search",v),L.filter_initialized&&I.$table.trigger("filterEnd",I),setTimeout(function(){I.$table.trigger("applyWidgets")},0)}},getOptionSource:function(i,n,r){i=e(i)[0];var s,o,a,l=i.config,d=l.widgetOptions,c=[],h=!1,p=d.filter_selectSource,u=l.$table.data("lastSearch")||[],f=e.isFunction(p)?!0:t.getColumnData(i,p,n);if(r&&""!==u[n]&&(r=!1),f===!0)h=p(i,n,r);else{if(f instanceof e||"string"===e.type(f)&&f.indexOf("</option>")>=0)return f;e.isArray(f)?h=f:"object"===e.type(p)&&f&&(h=f(i,n,r))}if(h===!1&&(h=t.filter.getOptions(i,n,r)),h=e.grep(h,function(t,i){return e.inArray(t,h)===i}),l.$headerIndexed[n].hasClass("filter-select-nosort"))return h;for(a=h.length,o=0;a>o;o++)c.push({t:h[o],p:l.parsers&&l.parsers[n].format(h[o],i,[],n)});for(s=l.textSorter||"",c.sort(function(r,o){var a=r.p.toString(),l=o.p.toString();return e.isFunction(s)?s(a,l,!0,n,i):"object"==typeof s&&s.hasOwnProperty(n)?s[n](a,l,!0,n,i):t.sortNatural?t.sortNatural(a,l):!0}),h=[],a=c.length,o=0;a>o;o++)h.push(c[o].t);return h},getOptions:function(t,i,n){t=e(t)[0];var r,s,o,a,l,d=t.config,c=d.widgetOptions,h=[];for(s=0;s<d.$tbodies.length;s++)for(l=d.cache[s],o=d.cache[s].normalized.length,r=0;o>r;r++)a=l.row?l.row[r]:l.normalized[r][d.columns].$row[0],n&&a.className.match(c.filter_filteredRow)||h.push(c.filter_useParsedData||d.parsers[i].parsed||d.$headerIndexed[i].hasClass("filter-parsed")?""+l.normalized[r][i]:l.normalized[r][d.columns].raw[i]);return h},buildSelect:function(n,r,s,o,a){if(n=e(n)[0],r=parseInt(r,10),n.config.cache&&!e.isEmptyObject(n.config.cache)){var l,d,c,h,p,u,f=n.config,m=f.widgetOptions,g=f.$headerIndexed[r],v='<option value="">'+(g.data("placeholder")||g.attr("data-placeholder")||m.filter_placeholder.select||"")+"</option>",b=f.$table.find("thead").find("select."+i.filter+'[data-column="'+r+'"]').val();if(("undefined"==typeof s||""===s)&&(s=t.filter.getOptionSource(n,r,a)),e.isArray(s)){for(l=0;l<s.length;l++)c=s[l]=(""+s[l]).replace(/\"/g,"&quot;"),d=c,c.indexOf(m.filter_selectSourceSeparator)>=0&&(h=c.split(m.filter_selectSourceSeparator),d=h[0],c=h[1]),v+=""!==s[l]?"<option "+(d===c?"":'data-function-name="'+s[l]+'" ')+'value="'+d+'">'+c+"</option>":"";s=[]}p=(f.$filters?f.$filters:f.$table.children("thead")).find("."+i.filter),m.filter_$externalFilters&&(p=p&&p.length?p.add(m.filter_$externalFilters):m.filter_$externalFilters),u=p.filter('select[data-column="'+r+'"]'),u.length&&(u[o?"html":"append"](v),e.isArray(s)||u.append(s).val(b),u.val(b))}},buildDefault:function(e,i){var n,r,s,o=e.config,a=o.widgetOptions,l=o.columns;for(n=0;l>n;n++)r=o.$headerIndexed[n],s=!(r.hasClass("filter-false")||r.hasClass("parser-false")),(r.hasClass("filter-select")||t.getColumnData(e,a.filter_functions,n)===!0)&&s&&t.filter.buildSelect(e,n,"",i,r.hasClass(a.filter_onlyAvail))}},t.getFilters=function(n,r,s,o){var a,l,d,c,h=!1,p=n?e(n)[0].config:"",u=p?p.widgetOptions:"";if(r!==!0&&u&&!u.filter_columnFilters||e.isArray(s)&&s.join("")===p.lastCombinedFilter)return e(n).data("lastSearch");if(p&&(p.$filters&&(l=p.$filters.find("."+i.filter)),u.filter_$externalFilters&&(l=l&&l.length?l.add(u.filter_$externalFilters):u.filter_$externalFilters),l&&l.length))for(h=s||[],a=0;a<p.columns+1;a++)c=a===p.columns?u.filter_anyColumnSelector+","+u.filter_multipleColumnSelector:'[data-column="'+a+'"]',d=l.filter(c),d.length&&(d=t.filter.getLatestSearch(d),e.isArray(s)?(o&&d.slice(1),a===p.columns&&(c=d.filter(u.filter_anyColumnSelector),d=c.length?c:d),d.val(s[a]).trigger("change.tsfilter")):(h[a]=d.val()||"",a===p.columns?d.slice(1).filter('[data-column*="'+d.attr("data-column")+'"]').val(h[a]):d.slice(1).val(h[a])),a===p.columns&&d.length&&(u.filter_$anyMatch=d));return 0===h.length&&(h=!1),h},t.setFilters=function(i,n,r,s){var o=i?e(i)[0].config:"",a=t.getFilters(i,!0,n,s);return o&&r&&(o.lastCombinedFilter=null,o.lastSearch=[],t.filter.searching(o.table,n,s),o.$table.trigger("filterFomatterUpdate")),!!a}}(jQuery),function(e,t){"use strict";var i=e.tablesorter||{};e.extend(i.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),i.addHeaderResizeEvent=function(t,i,n){t=e(t)[0];var r,s={timer:250},o=e.extend({},s,n),a=t.config,l=a.widgetOptions,d=function(t){l.resize_flag=!0,r=[],a.$headers.each(function(){var t=e(this),i=t.data("savedSizes")||[0,0],n=this.offsetWidth,s=this.offsetHeight;(n!==i[0]||s!==i[1])&&(t.data("savedSizes",[n,s]),r.push(this))}),r.length&&t!==!1&&a.$table.trigger("resize",[r]),l.resize_flag=!1};return d(!1),clearInterval(l.resize_timer),i?(l.resize_flag=!1,!1):void(l.resize_timer=setInterval(function(){l.resize_flag||d()},o.timer))},i.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,r,s){if(!(r.$table.hasClass("hasStickyHeaders")||e.inArray("filter",r.widgets)>=0&&!r.$table.hasClass("hasFilters"))){var o,a=r.$table,l=e(s.stickyHeaders_attachTo),d=r.namespace+"stickyheaders ",c=e(s.stickyHeaders_yScroll||s.stickyHeaders_attachTo||t),h=e(s.stickyHeaders_xScroll||s.stickyHeaders_attachTo||t),p=a.children("thead:first"),u=p.children("tr").not(".sticky-false").children(),f=a.children("tfoot"),m=isNaN(s.stickyHeaders_offset)?e(s.stickyHeaders_offset):"",g=m.length?m.height()||0:parseInt(s.stickyHeaders_offset,10)||0,v=a.parent().closest("."+i.css.table).hasClass("hasStickyHeaders")?a.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],b=v.length?v.height():0,y=s.$sticky=a.clone().addClass("containsStickyHeaders "+i.css.sticky+" "+s.stickyHeaders+" "+r.namespace.slice(1)+"_extra_table").wrap('<div class="'+i.css.stickyWrap+'">'),w=y.parent().addClass(i.css.stickyHide).css({position:l.length?"absolute":"fixed",padding:parseInt(y.parent().parent().css("padding-left"),10),top:g+b,left:0,visibility:"hidden",zIndex:s.stickyHeaders_zIndex||2}),x=y.children("thead:first"),C="",k=0,S=function(i,n){i.filter(":visible").each(function(i){var r,s,o=n.filter(":visible").eq(i),a=e(this);
"border-box"===a.css("box-sizing")?r=a.outerWidth():"collapse"===o.css("border-collapse")?t.getComputedStyle?r=parseFloat(t.getComputedStyle(this,null).width):(s=parseFloat(a.css("border-width")),r=a.outerWidth()-parseFloat(a.css("padding-left"))-parseFloat(a.css("padding-right"))-s):r=a.width(),o.css({"min-width":r,"max-width":r})})},E=function(){g=m.length?m.height()||0:parseInt(s.stickyHeaders_offset,10)||0,k=0,w.css({left:l.length?parseInt(l.css("padding-left"),10)||0:a.offset().left-parseInt(a.css("margin-left"),10)-h.scrollLeft()-k,width:a.outerWidth()}),S(a,y),S(u,o)};l.length&&!l.css("position")&&l.css("position","relative"),y.attr("id")&&(y[0].id+=s.stickyHeaders_cloneId),y.find("thead:gt(0), tr.sticky-false").hide(),y.find("tbody, tfoot").remove(),y.find("caption").toggle(s.stickyHeaders_includeCaption),o=x.children().children(),y.css({height:0,width:0,margin:0}),o.find("."+i.css.resizer).remove(),a.addClass("hasStickyHeaders").bind("pagerComplete"+d,function(){E()}),i.bindEvents(n,x.children().children("."+i.css.header)),a.after(w),r.onRenderHeader&&x.children("tr").children().each(function(t){r.onRenderHeader.apply(e(this),[t,r,y])}),h.add(c).unbind("scroll resize ".split(" ").join(d).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(d),function(t){if(a.is(":visible")){b=v.length?v.offset().top-c.scrollTop()+v.height():0;var n=a.offset(),r=e.isWindow(c[0]),s=e.isWindow(h[0]),o=(l.length?r?c.scrollTop():c.offset().top:c.scrollTop())+g+b,d=a.height()-(w.height()+(f.height()||0)),p=o>n.top&&o<n.top+d?"visible":"hidden",u={visibility:p};l.length&&(u.top=r?o-l.offset().top:l.scrollTop()),s&&(u.left=a.offset().left-parseInt(a.css("margin-left"),10)-h.scrollLeft()-k),v.length&&(u.top=(u.top||0)+g+b),w.removeClass(i.css.stickyVis+" "+i.css.stickyHide).addClass("visible"===p?i.css.stickyVis:i.css.stickyHide).css(u),(p!==C||"resize"===t.type)&&(E(),C=p)}}),s.stickyHeaders_addResizeEvent&&i.addHeaderResizeEvent(n),a.hasClass("hasFilters")&&s.filter_columnFilters&&(a.bind("filterEnd"+d,function(){var n=e(document.activeElement).closest("td"),o=n.parent().children().index(n);w.hasClass(i.css.stickyVis)&&s.stickyHeaders_filteredToTop&&(t.scrollTo(0,a.position().top),o>=0&&r.$filters&&r.$filters.eq(o).find("a, select, input").filter(":visible").focus())}),i.filter.bindSearch(a,o.find("."+i.css.filter)),s.filter_hideFilters&&i.filter.hideFilters(y,r)),a.trigger("stickyHeadersInit")}},remove:function(n,r,s){var o=r.namespace+"stickyheaders ";r.$table.removeClass("hasStickyHeaders").unbind("pagerComplete filterEnd ".split(" ").join(o).replace(/\s+/g," ")).next("."+i.css.stickyWrap).remove(),s.$sticky&&s.$sticky.length&&s.$sticky.remove(),e(t).add(s.stickyHeaders_xScroll).add(s.stickyHeaders_yScroll).add(s.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(o).replace(/\s+/g," ")),i.addHeaderResizeEvent(n,!1)}})}(jQuery,window),function(e,t){"use strict";var i=e.tablesorter||{};e.extend(i.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),e(function(){var t="<style>body."+i.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+i.css.resizableContainer+" { position: relative; height: 1px; }."+i.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px; top: 1px;cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";e(t).appendTo("body")}),i.resizable={init:function(t,n){if(!t.$table.hasClass("hasResizable")){t.$table.addClass("hasResizable"),i.resizableReset(t.table,!0),n.resizable_={$wrap:t.$table.parent(),mouseXPosition:0,$target:null,$next:null,overflow:"auto"===t.$table.parent().css("overflow"),fullWidth:Math.abs(t.$table.parent().width()-t.$table.width())<20,storedSizes:[]};var r,s,o,a,l=parseInt(t.$table.css("margin-top"),10);for(n.resizable_.storedSizes=a=(i.storage&&n.resizable!==!1?i.storage(t.table,i.css.resizableStorage):[])||[],i.resizable.setWidths(t,n,a),n.$resizable_container=e('<div class="'+i.css.resizableContainer+'">').css({top:l}).insertBefore(t.$table),o=0;o<t.columns;o++)s=t.$headerIndexed[o],r="false"===i.getData(s,i.getColumnData(t.table,t.headers,o),"resizable"),r||e('<div class="'+i.css.resizableHandle+'">').appendTo(n.$resizable_container).attr({"data-column":o,unselectable:"on"}).data("header",s).bind("selectstart",!1);t.$table.one("tablesorter-initialized",function(){i.resizable.setHandlePosition(t,n),i.resizable.bindings(this.config,this.config.widgetOptions)})}},setWidth:function(e,t){e.css({width:t,"min-width":"","max-width":""})},setWidths:function(t,n,r){var s,o=e(t.namespace+"_extra_headers"),a=t.$table.children("colgroup").children("col");if(r=r||n.resizable_.storedSizes||[],r.length){for(s=0;s<t.columns;s++)t.$headerIndexed[s].width(r[s]),o.length&&i.resizable.setWidth(o.eq(s).add(a.eq(s)),r[s]);e(t.namespace+"_extra_table").length&&!i.hasWidget(t.table,"scroller")&&i.resizable.setWidth(e(t.namespace+"_extra_table"),t.$table.outerWidth())}},setHandlePosition:function(t,n){var r,s=i.hasWidget(t.table,"scroller"),o=t.$table.height(),a=n.$resizable_container.children(),l=Math.floor(a.width()/2);s&&(o=0,t.$table.closest("."+i.css.scrollerWrap).children().each(function(){var t=e(this);o+=t.filter('[style*="height"]').length?t.height():t.children("table").height()})),r=t.$table.position().left,a.each(function(){var i=e(this),s=parseInt(i.attr("data-column"),10),a=t.columns-1,d=i.data("header");d&&(d.is(":visible")?(a>s||s===a&&n.resizable_addLastColumn)&&i.css({display:"inline-block",height:o,left:d.position().left-r+d.outerWidth()-l}):i.hide())})},toggleTextSelection:function(t,n){var r=t.namespace+"tsresize";t.widgetOptions.resizable_.disabled=n,e("body").toggleClass(i.css.resizableNoSelect,n),n?e("body").attr("unselectable","on").bind("selectstart"+r,!1):e("body").removeAttr("unselectable").unbind("selectstart"+r)},bindings:function(n,r){var s=n.namespace+"tsresize";r.$resizable_container.children().bind("mousedown",function(t){var s,o,a=r.resizable_,l=e(n.namespace+"_extra_headers"),d=e(t.target).data("header");for(s=parseInt(d.attr("data-column"),10),a.$target=d=d.add(l.filter('[data-column="'+s+'"]')),a.target=s,a.$next=t.shiftKey||r.resizable_targetLast?d.parent().children().not(".resizable-false").filter(":last"):d.nextAll(":not(.resizable-false)").eq(0),s=parseInt(a.$next.attr("data-column"),10),a.$next=a.$next.add(l.filter('[data-column="'+s+'"]')),a.next=s,a.mouseXPosition=t.pageX,a.storedSizes=[],s=0;s<n.columns;s++)o=n.$headerIndexed[s],a.storedSizes[s]=o.is(":visible")?o.width():0;i.resizable.toggleTextSelection(n,!0)}),e(document).bind("mousemove"+s,function(e){var t=r.resizable_;t.disabled&&0!==t.mouseXPosition&&t.$target&&(r.resizable_throttle?(clearTimeout(t.timer),t.timer=setTimeout(function(){i.resizable.mouseMove(n,r,e)},isNaN(r.resizable_throttle)?5:r.resizable_throttle)):i.resizable.mouseMove(n,r,e))}).bind("mouseup"+s,function(){r.resizable_.disabled&&(i.resizable.toggleTextSelection(n,!1),i.resizable.stopResize(n,r),i.resizable.setHandlePosition(n,r))}),e(t).bind("resize"+s+" resizeEnd"+s,function(){i.resizable.setHandlePosition(n,r)}),n.$table.bind("columnUpdate"+s,function(){i.resizable.setHandlePosition(n,r)}).find("thead:first").add(e(n.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+s,function(){var e=0===r.resizable_.storedSizes.length;return i.resizableReset(n.table),i.resizable.setHandlePosition(n,r),r.resizable_.storedSizes=[],e})},mouseMove:function(t,n,r){if(0!==n.resizable_.mouseXPosition&&n.resizable_.$target){var s=n.resizable_,o=s.$next,a=r.pageX-s.mouseXPosition;s.fullWidth?(s.storedSizes[s.target]+=a,s.storedSizes[s.next]-=a,i.resizable.setWidths(t,n)):s.overflow?(t.$table.add(e(t.namespace+"_extra_table")).width(function(e,t){return t+a}),o.length||(s.$wrap[0].scrollLeft=t.$table.width())):(s.storedSizes[s.target]+=a,i.resizable.setWidths(t,n)),s.mouseXPosition=r.pageX}},stopResize:function(n,r){var s,o,a=r.resizable_;if(a.storedSizes=[],i.storage){for(a.storedSizes=[],o=0;o<n.columns;o++)s=n.$headerIndexed[o],a.storedSizes[o]=s.is(":visible")?s.width():0;r.resizable!==!1&&i.storage(n.table,i.css.resizableStorage,a.storedSizes)}a.mouseXPosition=0,a.$target=a.$next=null,e(t).trigger("resize")}},i.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(e,t,n,r){i.resizable.init(n,r)},remove:function(t,n,r,s){if(r.$resizable_container){var o=n.namespace+"tsresize";n.$table.add(e(n.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+o),r.$resizable_container.remove(),i.resizable.toggleTextSelection(n,!1),i.resizableReset(t,s),e(document).unbind("mousemove"+o+" mouseup"+o)}}}),i.resizableReset=function(n,r){e(n).each(function(){var s,o,a=this.config,l=a&&a.widgetOptions;if(n&&a&&a.$headerIndexed.length){for(s=0;s<a.columns;s++)o=a.$headerIndexed[s],l.resizable_widths&&l.resizable_widths[s]?o.css("width",l.resizable_widths[s]):o.hasClass("resizable-false")||o.css("width","");e(t).trigger("resize"),i.storage&&!r&&i.storage(this,i.css.resizableStorage,{})}})}}(jQuery,window),function(e){"use strict";var t=e.tablesorter||{};t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,i,n){t.format(e,i,n,!0)},format:function(i,n,r,s){var o,a,l=n.$table,d=r.saveSort!==!1,c={sortList:n.sortList};n.debug&&(a=new Date),l.hasClass("hasSaveSort")?d&&i.hasInitialized&&t.storage&&(t.storage(i,"tablesorter-savesort",c),n.debug&&t.benchmark("saveSort widget: Saving last sort: "+n.sortList,a)):(l.addClass("hasSaveSort"),c="",t.storage&&(o=t.storage(i,"tablesorter-savesort"),c=o&&o.hasOwnProperty("sortList")&&e.isArray(o.sortList)?o.sortList:"",n.debug&&t.benchmark('saveSort: Last sort loaded: "'+c+'"',a),l.bind("saveSortReset",function(e){e.stopPropagation(),t.storage(i,"tablesorter-savesort","")})),s&&c&&c.length>0?n.sortList=c:i.hasInitialized&&c&&c.length>0&&l.trigger("sorton",[c]))},remove:function(e,i){i.$table.removeClass("hasSaveSort"),t.storage&&t.storage(e,"tablesorter-savesort","")}})}(jQuery),e.tablesorter}),window.UnobtrusiveFlash={},$(function(){function e(e){var t=new Date;t.setDate(t.getDate()-1);var i=window.location.hostname.split(".").reverse(),n=i.shift();$.each(i,function(i,r){n=r+"."+n,document.cookie=e+"=; path=/;expires="+t+"; domain="+n}),document.cookie=e+"=; path=/",expires=+t+"; domain="}function t(){var t=null;if(document.cookie&&""!==document.cookie){for(var i=document.cookie.split(";"),n="flash",r=null,s=0;s<i.length;s++){var o=jQuery.trim(i[s]);if(o.substring(0,n.length+1)==n+"="&&(r=decodeURIComponent(o.substring(n.length+1).replace(/\+/g,"%20")),r.length>0))break}try{t=$.parseJSON(r)}catch(a){}e("flash")}return t}window.UnobtrusiveFlash.showFlashFromCookies=function(){var e=t();null!==e&&$.each(e,function(e,t){$(window).trigger("rails:flash",{type:t[0],message:t[1]})})},$(window).load(function(){UnobtrusiveFlash.showFlashFromCookies()}),$(document).on("page:change page:load",UnobtrusiveFlash.showFlashFromCookies),$(document).ajaxSuccess(function(){UnobtrusiveFlash.showFlashFromCookies()})}),window.UnobtrusiveFlash.flashOptions={type:"notice",timeout:0},$(function(){UnobtrusiveFlash.showFlashMessage=function(e,t){t=$.extend(UnobtrusiveFlash.flashOptions,t),"notice"==t.type?t.type="info":"alert"==t.type?t.type="warning":"error"==t.type&&(t.type="danger");var i=$('<div class="alert alert-'+t.type+'"><button type="button" class="close" data-dismiss="alert">&times;</button>'+e+"</div>"),n=$($(".unobtrusive-flash-container")[0]||$(".container")[0]||$(".container-fluid")[0]||$("body")[0]);n.prepend(i),i.hide().delay(300).slideDown(100),i.alert(),t.timeout>0&&setTimeout(function(){i.alert("close")},t.timeout)},flashHandler=function(e,t){UnobtrusiveFlash.showFlashMessage(t.message,{type:t.type})},$(window).bind("rails:flash",flashHandler)}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,r,s,o,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,i=0;s>i;i+=1)o[i]=str(i,l)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+a+"]":"["+o.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(s=rep.length,i=0;s>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],r=str(n,l),r&&o.push(quote(n)+(gap?": ":":")+r));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r=str(n,l),r&&o.push(quote(n)+(gap?": ":":")+r));return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+a+"}":"{"+o.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,n,r=e[t];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=walk(r,i),void 0!==n?r[i]=n:delete r[i]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),/**
 * History.js Native Adapter
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e,t){"use strict";var i=e.History=e.History||{};if("undefined"!=typeof i.Adapter)throw new Error("History.js Adapter has already been loaded...");i.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=i.Adapter._uid++)},bind:function(e,t,n){var r=i.Adapter.uid(e);i.Adapter.handlers[r]=i.Adapter.handlers[r]||{},i.Adapter.handlers[r][t]=i.Adapter.handlers[r][t]||[],i.Adapter.handlers[r][t].push(n),e["on"+t]=function(e,t){return function(n){i.Adapter.trigger(e,t,n)}}(e,t)},trigger:function(e,t,n){n=n||{};var r,s,o=i.Adapter.uid(e);for(i.Adapter.handlers[o]=i.Adapter.handlers[o]||{},i.Adapter.handlers[o][t]=i.Adapter.handlers[o][t]||[],r=0,s=i.Adapter.handlers[o][t].length;s>r;++r)i.Adapter.handlers[o][t][r].apply(this,[n])},extractEventData:function(e,i){var n=i&&i[e]||t;return n},onDomLoad:function(t){var i=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(i),t()}}},"undefined"!=typeof i.init&&i.init()}(window),/**
 * History.js HTML4 Support
 * Depends on the HTML5 Support
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e){"use strict";var t=e.document,i=e.setTimeout||i,n=e.clearTimeout||n,r=e.setInterval||r,s=e.History=e.History||{};if("undefined"!=typeof s.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");s.initHtml4=function(){return"undefined"!=typeof s.initHtml4.initialized?!1:(s.initHtml4.initialized=!0,s.enabled=!0,s.savedHashes=[],s.isLastHash=function(e){var t,i=s.getHashByIndex();return t=e===i},s.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},s.saveHash=function(e){return s.isLastHash(e)?!1:(s.savedHashes.push(e),!0)},s.getHashByIndex=function(e){var t=null;return t="undefined"==typeof e?s.savedHashes[s.savedHashes.length-1]:0>e?s.savedHashes[s.savedHashes.length+e]:s.savedHashes[e]},s.discardedHashes={},s.discardedStates={},s.discardState=function(e,t,i){var n,r=s.getHashByState(e);return n={discardedState:e,backState:i,forwardState:t},s.discardedStates[r]=n,!0},s.discardHash=function(e,t,i){var n={discardedHash:e,backState:i,forwardState:t};return s.discardedHashes[e]=n,!0},s.discardedState=function(e){var t,i=s.getHashByState(e);return t=s.discardedStates[i]||!1},s.discardedHash=function(e){var t=s.discardedHashes[e]||!1;return t},s.recycleState=function(e){var t=s.getHashByState(e);return s.discardedState(e)&&delete s.discardedStates[t],!0},s.emulated.hashChange&&(s.hashChangeInit=function(){s.checkerFunction=null;var i,n,o,a,l="",d=Boolean(s.getHash());return s.isInternetExplorer()?(i="historyjs-iframe",n=t.createElement("iframe"),n.setAttribute("id",i),n.setAttribute("src","#"),n.style.display="none",t.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),o="",a=!1,s.checkerFunction=function(){if(a)return!1;a=!0;var t=s.getHash(),i=s.getHash(n.contentWindow.document);return t!==l?(l=t,i!==t&&(o=i=t,n.contentWindow.document.open(),n.contentWindow.document.close(),n.contentWindow.document.location.hash=s.escapeHash(t)),s.Adapter.trigger(e,"hashchange")):i!==o&&(o=i,d&&""===i?s.back():s.setHash(i,!1)),a=!1,!0}):s.checkerFunction=function(){var t=s.getHash()||"";return t!==l&&(l=t,s.Adapter.trigger(e,"hashchange")),!0},s.intervalList.push(r(s.checkerFunction,s.options.hashChangeInterval)),!0},s.Adapter.onDomLoad(s.hashChangeInit)),s.emulated.pushState&&(s.onHashChange=function(t){var i,n=t&&t.newURL||s.getLocationHref(),r=s.getHashByUrl(n),o=null,a=null;return s.isLastHash(r)?(s.busy(!1),!1):(s.doubleCheckComplete(),s.saveHash(r),r&&s.isTraditionalAnchor(r)?(s.Adapter.trigger(e,"anchorchange"),s.busy(!1),!1):(o=s.extractState(s.getFullUrl(r||s.getLocationHref()),!0),s.isLastSavedState(o)?(s.busy(!1),!1):(a=s.getHashByState(o),(i=s.discardedState(o))?(s.getHashByIndex(-2)===s.getHashByState(i.forwardState)?s.back(!1):s.forward(!1),!1):(s.pushState(o.data,o.title,encodeURI(o.url),!1),!0))))},s.Adapter.bind(e,"hashchange",s.onHashChange),s.pushState=function(t,i,n,r){if(n=encodeURI(n).replace(/%25/g,"%"),s.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(r!==!1&&s.busy())return s.pushQueue({scope:s,callback:s.pushState,args:arguments,queue:r}),!1;s.busy(!0);var o=s.createStateObject(t,i,n),a=s.getHashByState(o),l=s.getState(!1),d=s.getHashByState(l),c=s.getHash(),h=s.expectedStateId==o.id;return s.storeState(o),s.expectedStateId=o.id,s.recycleState(o),s.setTitle(o),a===d?(s.busy(!1),!1):(s.saveState(o),h||s.Adapter.trigger(e,"statechange"),s.isHashEqual(a,c)||s.isHashEqual(a,s.getShortUrl(s.getLocationHref()))||s.setHash(a,!1),s.busy(!1),!0)},s.replaceState=function(t,i,n,r){if(n=encodeURI(n).replace(/%25/g,"%"),s.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(r!==!1&&s.busy())return s.pushQueue({scope:s,callback:s.replaceState,args:arguments,queue:r}),!1;s.busy(!0);var o=s.createStateObject(t,i,n),a=s.getHashByState(o),l=s.getState(!1),d=s.getHashByState(l),c=s.getStateByIndex(-2);return s.discardState(l,o,c),a===d?(s.storeState(o),s.expectedStateId=o.id,s.recycleState(o),s.setTitle(o),s.saveState(o),s.Adapter.trigger(e,"statechange"),s.busy(!1)):s.pushState(o.data,o.title,o.url,!1),!0}),void(s.emulated.pushState&&s.getHash()&&!s.emulated.hashChange&&s.Adapter.onDomLoad(function(){s.Adapter.trigger(e,"hashchange")})))},"undefined"!=typeof s.init&&s.init()}(window),/**
 * History.js Core
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e,t){"use strict";var i=e.console||t,n=e.document,r=e.navigator,s=e.sessionStorage||!1,o=e.setTimeout,a=e.clearTimeout,l=e.setInterval,d=e.clearInterval,c=e.JSON,h=e.alert,p=e.History=e.History||{},u=e.history;try{s.setItem("TEST","1"),s.removeItem("TEST")}catch(f){s=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,"undefined"!=typeof p.init)throw new Error("History.js Core has already been loaded...");p.init=function(){return"undefined"==typeof p.Adapter?!1:("undefined"!=typeof p.initCore&&p.initCore(),"undefined"!=typeof p.initHtml4&&p.initHtml4(),!0)},p.initCore=function(){if("undefined"!=typeof p.initCore.initialized)return!1;if(p.initCore.initialized=!0,p.options=p.options||{},p.options.hashChangeInterval=p.options.hashChangeInterval||100,p.options.safariPollInterval=p.options.safariPollInterval||500,p.options.doubleCheckInterval=p.options.doubleCheckInterval||500,p.options.disableSuid=p.options.disableSuid||!1,p.options.storeInterval=p.options.storeInterval||1e3,p.options.busyDelay=p.options.busyDelay||250,p.options.debug=p.options.debug||!1,p.options.initialTitle=p.options.initialTitle||n.title,p.options.html4Mode=p.options.html4Mode||!1,p.options.delayInit=p.options.delayInit||!1,p.intervalList=[],p.clearAllIntervals=function(){var e,t=p.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)d(t[e]);p.intervalList=null}},p.debug=function(){p.options.debug&&p.log.apply(p,arguments)},p.log=function(){var e,t,r,s,o,a=!("undefined"==typeof i||"undefined"==typeof i.log||"undefined"==typeof i.log.apply),l=n.getElementById("log");for(a?(s=Array.prototype.slice.call(arguments),e=s.shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[e,s]):i.log.apply(i,[e,s])):e="\n"+arguments[0]+"\n",t=1,r=arguments.length;r>t;++t){if(o=arguments[t],"object"==typeof o&&"undefined"!=typeof c)try{o=c.stringify(o)}catch(d){}e+="\n"+o+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):a||h(e),!0},p.getInternetExplorerMajorVersion=function(){var e=p.getInternetExplorerMajorVersion.cached="undefined"!=typeof p.getInternetExplorerMajorVersion.cached?p.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=n.createElement("div"),i=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&i[0];);return e>4?e:!1}();return e},p.isInternetExplorer=function(){var e=p.isInternetExplorer.cached="undefined"!=typeof p.isInternetExplorer.cached?p.isInternetExplorer.cached:Boolean(p.getInternetExplorerMajorVersion());return e},p.emulated=p.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent))),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in n)||p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8)},p.enabled=!p.emulated.pushState,p.bugs={setHash:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!p.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(p.isInternetExplorer()&&p.getInternetExplorerMajorVersion()<7)},p.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},p.cloneObject=function(e){var t,i;return e?(t=c.stringify(e),i=c.parse(t)):i={},i},p.getRootUrl=function(){var e=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(e+=":"+n.location.port),e+="/"},p.getBaseHref=function(){var e=n.getElementsByTagName("base"),t=null,i="";return 1===e.length&&(t=e[0],i=t.href.replace(/[^\/]+$/,"")),i=i.replace(/\/+$/,""),i&&(i+="/"),i},p.getBaseUrl=function(){var e=p.getBaseHref()||p.getBasePageUrl()||p.getRootUrl();return e},p.getPageUrl=function(){var e,t=p.getState(!1,!1),i=(t||{}).url||p.getLocationHref();return e=i.replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},p.getBasePageUrl=function(){var e=p.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},p.getFullUrl=function(e,t){var i=e,n=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(i="/"===n?p.getRootUrl()+e.replace(/^\/+/,""):"#"===n?p.getPageUrl().replace(/#.*/,"")+e:"?"===n?p.getPageUrl().replace(/[\?#].*/,"")+e:t?p.getBaseUrl()+e.replace(/^(\.\/)+/,""):p.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},p.getShortUrl=function(e){var t=e,i=p.getBaseUrl(),n=p.getRootUrl();return p.emulated.pushState&&(t=t.replace(i,"")),t=t.replace(n,"/"),t="./"+t,t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},p.getLocationHref=function(e){return e=e||n,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},p.store={},p.idToState=p.idToState||{},p.stateToId=p.stateToId||{},p.urlToId=p.urlToId||{},p.storedStates=p.storedStates||[],p.savedStates=p.savedStates||[],p.normalizeStore=function(){p.store.idToState=p.store.idToState||{},p.store.urlToId=p.store.urlToId||{},p.store.stateToId=p.store.stateToId||{}},p.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var i=p.getLastSavedState();return!i&&t&&(i=p.createStateObject()),e&&(i=p.cloneObject(i),i.url=i.cleanUrl||i.url),i},p.getIdByState=function(e){var t,i=p.extractId(e.url);if(!i)if(t=p.getStateString(e),"undefined"!=typeof p.stateToId[t])i=p.stateToId[t];else if("undefined"!=typeof p.store.stateToId[t])i=p.store.stateToId[t];else{for(;;)if(i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof p.idToState[i]&&"undefined"==typeof p.store.idToState[i])break;p.stateToId[t]=i,p.idToState[i]=e}return i},p.normalizeState=function(e){var t,i;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=p.getFullUrl(e.url?e.url:p.getLocationHref()),t.hash=p.getShortUrl(t.url),t.data=p.cloneObject(e.data),t.id=p.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,i=!p.isEmptyObject(t.data),(t.title||i)&&p.options.disableSuid!==!0&&(t.hash=p.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=p.getFullUrl(t.hash),(p.emulated.pushState||p.bugs.safariPoll)&&p.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},p.createStateObject=function(e,t,i){var n={data:e,title:t,url:i};return n=p.normalizeState(n)},p.getStateById=function(e){e=String(e);var i=p.idToState[e]||p.store.idToState[e]||t;return i},p.getStateString=function(e){var t,i,n;return t=p.normalizeState(e),i={data:t.data,title:e.title,url:e.url},n=c.stringify(i)},p.getStateId=function(e){var t,i;return t=p.normalizeState(e),i=t.id},p.getHashByState=function(e){var t,i;return t=p.normalizeState(e),i=t.hash},p.extractId=function(e){var t,i,n,r;return r=-1!=e.indexOf("#")?e.split("#")[0]:e,i=/(.*)\&_suid=([0-9]+)$/.exec(r),n=i?i[1]||e:e,t=i?String(i[2]||""):"",t||!1},p.isTraditionalAnchor=function(e){var t=!/[\/\\.]/.test(e);return t},p.extractState=function(e,t){var i,n,r=null;return t=t||!1,i=p.extractId(e),i&&(r=p.getStateById(i)),r||(n=p.getFullUrl(e),i=p.getIdByUrl(n)||!1,i&&(r=p.getStateById(i)),r||!t||p.isTraditionalAnchor(e)||(r=p.createStateObject(null,null,n))),r},p.getIdByUrl=function(e){var i=p.urlToId[e]||p.store.urlToId[e]||t;return i},p.getLastSavedState=function(){return p.savedStates[p.savedStates.length-1]||t},p.getLastStoredState=function(){return p.storedStates[p.storedStates.length-1]||t},p.hasUrlDuplicate=function(e){var t,i=!1;return t=p.extractState(e.url),i=t&&t.id!==e.id},p.storeState=function(e){return p.urlToId[e.url]=e.id,p.storedStates.push(p.cloneObject(e)),e},p.isLastSavedState=function(e){var t,i,n,r=!1;return p.savedStates.length&&(t=e.id,i=p.getLastSavedState(),n=i.id,r=t===n),r},p.saveState=function(e){return p.isLastSavedState(e)?!1:(p.savedStates.push(p.cloneObject(e)),!0)},p.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?p.savedStates[p.savedStates.length-1]:0>e?p.savedStates[p.savedStates.length+e]:p.savedStates[e]},p.getCurrentIndex=function(){var e=null;return e=p.savedStates.length<1?0:p.savedStates.length-1},p.getHash=function(e){var t,i=p.getLocationHref(e);return t=p.getHashByUrl(i)},p.unescapeHash=function(e){var t=p.normalizeHash(e);return t=decodeURIComponent(t)},p.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},p.setHash=function(e,t){var i,r;return t!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.setHash,args:arguments,queue:t}),!1):(p.busy(!0),i=p.extractState(e,!0),i&&!p.emulated.pushState?p.pushState(i.data,i.title,i.url,!1):p.getHash()!==e&&(p.bugs.setHash?(r=p.getPageUrl(),p.pushState(null,null,r+"#"+e,!1)):n.location.hash=e),p)},p.escapeHash=function(t){var i=p.normalizeHash(t);return i=e.encodeURIComponent(i),p.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},p.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=p.unescapeHash(t)},p.setTitle=function(e){var t,i=e.title;i||(t=p.getStateByIndex(0),t&&t.url===e.url&&(i=t.title||p.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(r){}return n.title=i,p},p.queues=[],p.busy=function(e){if("undefined"!=typeof e?p.busy.flag=e:"undefined"==typeof p.busy.flag&&(p.busy.flag=!1),!p.busy.flag){a(p.busy.timeout);var t=function(){var e,i,n;if(!p.busy.flag)for(e=p.queues.length-1;e>=0;--e)i=p.queues[e],0!==i.length&&(n=i.shift(),p.fireQueueItem(n),p.busy.timeout=o(t,p.options.busyDelay))};p.busy.timeout=o(t,p.options.busyDelay)}return p.busy.flag},p.busy.flag=!1,p.fireQueueItem=function(e){return e.callback.apply(e.scope||p,e.args||[])},p.pushQueue=function(e){return p.queues[e.queue||0]=p.queues[e.queue||0]||[],p.queues[e.queue||0].push(e),p},p.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),p.busy()?p.pushQueue(e):p.fireQueueItem(e),p},p.clearQueue=function(){return p.busy.flag=!1,p.queues=[],p},p.stateChanged=!1,p.doubleChecker=!1,p.doubleCheckComplete=function(){return p.stateChanged=!0,p.doubleCheckClear(),p},p.doubleCheckClear=function(){return p.doubleChecker&&(a(p.doubleChecker),p.doubleChecker=!1),p},p.doubleCheck=function(e){return p.stateChanged=!1,p.doubleCheckClear(),p.bugs.ieDoubleCheck&&(p.doubleChecker=o(function(){return p.doubleCheckClear(),p.stateChanged||e(),!0},p.options.doubleCheckInterval)),p},p.safariStatePoll=function(){var t,i=p.extractState(p.getLocationHref());if(!p.isLastSavedState(i))return t=i,t||(t=p.createStateObject()),p.Adapter.trigger(e,"popstate"),p},p.back=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.back,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.back(!1)}),u.go(-1),!0)},p.forward=function(e){return e!==!1&&p.busy()?(p.pushQueue({scope:p,callback:p.forward,args:arguments,queue:e}),!1):(p.busy(!0),p.doubleCheck(function(){p.forward(!1)}),u.go(1),!0)},p.go=function(e,t){var i;if(e>0)for(i=1;e>=i;++i)p.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=e;--i)p.back(t)}return p},p.emulated.pushState){var f=function(){};p.pushState=p.pushState||f,p.replaceState=p.replaceState||f}else p.onPopState=function(t,i){var n,r,s=!1,o=!1;return p.doubleCheckComplete(),(n=p.getHash())?(r=p.extractState(n||p.getLocationHref(),!0),r?p.replaceState(r.data,r.title,r.url,!1):(p.Adapter.trigger(e,"anchorchange"),p.busy(!1)),p.expectedStateId=!1,!1):(s=p.Adapter.extractEventData("state",t,i)||!1,o=s?p.getStateById(s):p.expectedStateId?p.getStateById(p.expectedStateId):p.extractState(p.getLocationHref()),o||(o=p.createStateObject(null,null,p.getLocationHref())),p.expectedStateId=!1,p.isLastSavedState(o)?(p.busy(!1),!1):(p.storeState(o),p.saveState(o),p.setTitle(o),p.Adapter.trigger(e,"statechange"),p.busy(!1),!0))},p.Adapter.bind(e,"popstate",p.onPopState),p.pushState=function(t,i,n,r){if(p.getHashByUrl(n)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.pushState,args:arguments,queue:r}),!1;p.busy(!0);var s=p.createStateObject(t,i,n);return p.isLastSavedState(s)?p.busy(!1):(p.storeState(s),p.expectedStateId=s.id,u.pushState(s.id,s.title,s.url),p.Adapter.trigger(e,"popstate")),!0},p.replaceState=function(t,i,n,r){if(p.getHashByUrl(n)&&p.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&p.busy())return p.pushQueue({scope:p,callback:p.replaceState,args:arguments,queue:r}),!1;p.busy(!0);var s=p.createStateObject(t,i,n);return p.isLastSavedState(s)?p.busy(!1):(p.storeState(s),p.expectedStateId=s.id,u.replaceState(s.id,s.title,s.url),p.Adapter.trigger(e,"popstate")),!0};if(s){try{p.store=c.parse(s.getItem("History.store"))||{}}catch(m){p.store={}}p.normalizeStore()}else p.store={},p.normalizeStore();p.Adapter.bind(e,"unload",p.clearAllIntervals),p.saveState(p.storeState(p.extractState(p.getLocationHref(),!0))),s&&(p.onUnload=function(){var e,t,i;try{e=c.parse(s.getItem("History.store"))||{}}catch(n){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in p.idToState)p.idToState.hasOwnProperty(t)&&(e.idToState[t]=p.idToState[t]);for(t in p.urlToId)p.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=p.urlToId[t]);for(t in p.stateToId)p.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=p.stateToId[t]);p.store=e,p.normalizeStore(),i=c.stringify(e);try{s.setItem("History.store",i)}catch(r){if(r.code!==DOMException.QUOTA_EXCEEDED_ERR)throw r;s.length&&(s.removeItem("History.store"),s.setItem("History.store",i))}},p.intervalList.push(l(p.onUnload,p.options.storeInterval)),p.Adapter.bind(e,"beforeunload",p.onUnload),p.Adapter.bind(e,"unload",p.onUnload)),p.emulated.pushState||(p.bugs.safariPoll&&p.intervalList.push(l(p.safariStatePoll,p.options.safariPollInterval)),("Apple Computer, Inc."===r.vendor||"Mozilla"===(r.appCodeName||""))&&(p.Adapter.bind(e,"hashchange",function(){p.Adapter.trigger(e,"popstate")}),p.getHash()&&p.Adapter.onDomLoad(function(){p.Adapter.trigger(e,"hashchange")})))},p.options&&p.options.delayInit||p.init()}(window),function(){var e;e=function(){function e(){}return e.prototype.parse=function(e){return this._get_parser()(e)},e.prototype._get_parser=function(){return null!=this._document_parser?this._document_parser:this._document_parser=this._parser_factory()},e.prototype._parser_factory=function(){var t,i,n,r,s,o;i=function(t){return(new e).parseFromString(t,"text/html")},t=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},n=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t};try{if(window.DOMParser)return o=i("<html><body><p>test"),i}catch(a){return r=a,o=t("<html><body><p>test"),t}finally{if(1!==(null!=o&&null!=(s=o.body)?s.childNodes.length:void 0))return n}},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.DOMParser=e}.call(this),function(){var e;e=function(){function e(e,t,i){this.html=e,this.xhr=t,this.$target=i}return e._document_parser=null,e._get_document_parser=function(){return null!=e._document_parser?e._document_parser:e._document_parser=new window._Wiselinks.DOMParser},e.prototype.url=function(){return this.xhr.getResponseHeader("X-Wiselinks-Url")},e.prototype.assets_digest=function(){return this._is_full_document_response()?$('meta[name="assets-digest"]',this._get_doc()).attr("content"):this.xhr.getResponseHeader("X-Wiselinks-Assets-Digest")},e.prototype.content=function(){return null!=this._content?this._content:this._content=this._extract_content()},e.prototype.title=function(){return null!=this._title?this._title:this._title=this._extract_title()},e.prototype._extract_title=function(){return this._is_full_document_response()?$("title",this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Title")},e.prototype.description=function(){return null!=this._description?this._description:this._description=this._extract_description()},e.prototype._extract_description=function(){return this._is_full_document_response()?$('meta[name="description"]',this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Description")},e.prototype._extract_content=function(){return this._is_full_document_response()?this._get_doc_target_node().html():this.html},e.prototype._is_full_document_response=function(){return 1===this._get_doc_target_node().length},e.prototype._get_doc_target_node=function(){return null!=this.$doc_target_node?this.$doc_target_node:this.$doc_target_node=$(this.$target.selector,this._get_doc())},e.prototype._get_doc=function(){return null!=this._doc?this._doc:this._doc=e._get_document_parser().parse(this.html)},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Response=e}.call(this),function(){var e;e=function(){function e(e){this.options=null!=e?e:{}}return e.prototype.call=function(e,t){var i;return i=this,null!=this.redirected?void(this.redirected=null):(i._loading(e,t),$.ajax({url:t.url,headers:{"X-Wiselinks":t.data.render,"X-Wiselinks-Referer":t.data.referer},dataType:"html"}).done(function(t,n,r){return i._html_loaded(e,t,n,r)}).fail(function(n,r,s){return i._fail(e,r,t,s,n.status)}).always(function(n,r){return i._always(e,r,t)}))},e.prototype._normalize=function(e){return null!=e?e=e.replace(/\/+$/,""):void 0},e.prototype._assets_changed=function(e){return null!=this.options.assets_digest&&this.options.assets_digest!==e},e.prototype._redirect_to=function(e,t,i,n){return n&&n.readyState<4&&(n.onreadystatechange=$.noop,n.abort()),this.redirected=!0,$(document).trigger("page:redirected",[t,i.data.render,e]),History.replaceState(i.data,document.title,e)},e.prototype._loading=function(e,t){return $(document).trigger("page:loading",[e,t.data.render,decodeURI(t.url)])},e.prototype._done=function(e,t,i,n){return $(document).trigger("page:done",[e,t,decodeURI(i.url),n])},e.prototype._html_loaded=function(e,t,i,n){var r,s,o,a;return s=new window._Wiselinks.Response(t,n,e),a=this._normalize(s.url()),r=s.assets_digest(),this._assets_changed(r)?window.location.reload(!0):(o=History.getState(),null!=a&&a!==this._normalize(o.url)&&this._redirect_to(a,e,o,n),e.html(s.content()).promise().done(function(t){return function(){return t._title(s.title()),t._description(s.description()),t._done(e,i,o,s.content())}}(this)))},e.prototype._fail=function(e,t,i,n,r){return $(document).trigger("page:fail",[e,t,decodeURI(i.url),n,r])},e.prototype._always=function(e,t,i){return $(document).trigger("page:always",[e,t,decodeURI(i.url)])},e.prototype._title=function(e){return null!=e?($(document).trigger("page:title",decodeURI(e)),document.title=decodeURI(e)):void 0},e.prototype._description=function(e){return null!=e?($(document).trigger("page:description",decodeURI(e)),$('meta[name="description"]').attr("content",decodeURI(e))):void 0},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.RequestManager=e}.call(this),function(){var e;e=function(){function e(e,t){var i;this.$target=e,this.options=t,i=this,this.template_id=(new Date).getTime(),this.request_manager=new _Wiselinks.RequestManager(this.options),this.$target=i._wrap(this.$target),i._try_target(this.$target),History.emulated.pushState&&this.options.html4===!0&&-1===window.location.href.indexOf("#.")&&this.options.html4_normalize_path===!0&&window.location.pathname!==this.options.html4_root_path&&(window.location.href=window.location.protocol+"//"+window.location.host+this.options.html4_root_path+"#."+window.location.pathname),History.Adapter.bind(window,"statechange",function(){var e;return e=History.getState(),i._call(i._template_id_changed(e)?i._reset_state(e):e)}),$(document).on("click","a[data-push], a[data-replace]",function(e){var t;return(t=new _Wiselinks.Link(i,$(this))).allows_process(e)?(e.preventDefault(),t.process(),!1):void 0}),$(document).on("submit","form[data-push], form[data-replace]",function(e){var t;return(t=new _Wiselinks.Form(i,$(this)))?(e.preventDefault(),t.process(),!1):void 0})}return e.prototype.load=function(e,t,i){var n,r;return null==i&&(i="template"),"partial"!==i&&(this.template_id=(new Date).getTime()),r=null!=t?(n=this._wrap(t),this._try_target(n),n.selector):void 0,History.pushState({timestamp:(new Date).getTime(),template_id:this.template_id,render:i,target:r,referer:window.location.href},document.title,e)},e.prototype.reload=function(){return History.replaceState({timestamp:(new Date).getTime(),template_id:this.template_id,render:"template",referer:window.location.href},document.title,History.getState().url)},e.prototype._call=function(e){var t;return t=null!=e.data.target?$(e.data.target):this.$target,this.request_manager.call(t,e)},e.prototype._template_id_changed=function(e){return null==e.data.template_id||e.data.template_id!==this.template_id},e.prototype._make_state=function(e,t,i,n){return null==i&&(i="template"),{url:e,data:{target:t,render:i,referer:n}}},e.prototype._reset_state=function(e){return null==e.data&&(e.data={}),e.data.target=null,e.data.render="template",e},e.prototype._try_target=function(e){if(0===e.length&&"exception"===this.options.target_missing)throw new Error("[Wiselinks] Target missing: `"+e.selector+"`")},e.prototype._wrap=function(e){return $(e)},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Page=e}.call(this),function(){var e;e=function(){function e(e,t){this.page=e,this.$link=t}return e.prototype.allows_process=function(e){return!(this._cross_origin_link(e.currentTarget)||this._non_standard_click(e))},e.prototype.process=function(){var e;return e="partial"===this.$link.data("push")?"partial":"template",this.page.load(this.$link.attr("href"),this.$link.data("target"),e)},e.prototype._cross_origin_link=function(e){return this._different_protocol(e)||this._different_host(e)||this._different_port(e)},e.prototype._different_protocol=function(e){return":"===e.protocol||""===e.protocol?!1:location.protocol!==e.protocol},e.prototype._different_host=function(e){return""===e.host?!1:location.host.split(":")[0]!==e.host.split(":")[0]},e.prototype._different_port=function(e){var t;return t=location.port===e.port||""===location.port&&("80"===e.port||"443"===e.port),!t},e.prototype._non_standard_click=function(e){return e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Link=e}.call(this),function(){var e;e=function(){function e(e,t){this.page=e,this.$form=t}return e.prototype.process=function(){var e;return e=this,e._include_blank_url_params()?e.page.load(e._url(),e._target(),e._type()):e._without_blank_url_params(function(){return e.page.load(e._url(),e._target(),e._type())})},e.prototype._without_blank_url_params=function(e){var t,i;return i="select:not(:disabled),input:not(:disabled)",t=this.$form.find(i).filter(function(){return!$(this).val()}),t.attr("disabled",!0),e(),t.attr("disabled",!1)},e.prototype._params=function(){var e,t,i,n,r,s;for(e={},s=this.$form.serializeArray(),t=0,n=s.length;n>t;t++)i=s[t],"utf8"!==i.name&&(r=-1!==i.name.indexOf("[]",i.name.length-"[]".length)?i.name.substr(0,i.name.length-2):i.name,e[r]=null!=e[r]?e[r]+(","+i.value):i.value);return e},e.prototype._include_blank_url_params=function(){return this.$form.data("include-blank-url-params")===!0},e.prototype._optimize_url_params=function(){return this.$form.data("optimize-url-params")!==!1},e.prototype._type=function(){return"partial"===this.$form.data("push")?"partial":"template"},e.prototype._target=function(){return this.$form.data("target")},e.prototype._url=function(){var e,t,i,n,r,s;return i=this,n=function(){var n;if(i._optimize_url_params()){t=[],n=this._params();for(e in n)s=n[e],t.push(e+"="+encodeURIComponent(s).replace(/%2C/g,","));return t.join("&")}return this.$form.serialize()}.call(this),r=this.$form.attr("action").replace(/\?.*$/,""),n.length>0&&(r+="?"+n),r},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Form=e}.call(this),function(){var e;e=function(){function e(e,t){null==e&&(e=$("body")),this.options=null!=t?t:{},this._try_jquery(),this.options=$.extend(this._defaults(),this.options),this.enabled()&&(this.options.disable_suid&&(History.options.disableSuid=!0),this.page=new _Wiselinks.Page(e,this.options))}return e.prototype.enabled=function(){return!History.emulated.pushState||this.options.html4===!0},e.prototype.load=function(e,t,i){return null==i&&(i="template"),this.page.load(e,t,i)},e.prototype.reload=function(){return this.page.reload()},e.prototype._defaults=function(){return{disable_suid:!0,html4:!0,html4_root_path:"/",html4_normalize_path:!0,target_missing:null,assets_digest:$("meta[name='assets-digest']").attr("content")}},e.prototype._try_jquery=function(){if(null==window.jQuery)throw new Error("[Wiselinks] jQuery is not loaded")},e}(),window.Wiselinks=e}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){$.fn.extend({initialize:function(){return $(".gallery",this).each(function(){return $(this).magnificPopup({delegate:".image-link",type:"image",gallery:{enabled:!0}})}),$('[data-toggle="tooltip"]',this).tooltip(),$('[data-toggle="popover"]',this).popover({html:!0,trigger:"hover"}),$(".select2",this).select2({width:"resolve",dropdownAutoWidth:!0}),$('.nav-tabs[role="tablist"]').stickyTabs({backToTop:!0})}}),jQuery(function(){return window.wiselinks=new Wiselinks,$(document).initialize(),$(document).on("change","form.immediate",function(e){return $(e.currentTarget).trigger("submit.rails")}),$(document).on("click","button.stateful",function(e){return $(e.currentTarget).prop("disabled",!0)}),$(document).on("click",'a[href="#print"]',function(e){return e.preventDefault(),$.print()})})}.call(this),!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.sortable=t(e.jQuery)}(this,function(e){"use strict";var t,i,n=e(),r=[],s=function(e){e.off("dragstart.h5s"),e.off("dragend.h5s"),e.off("selectstart.h5s"),e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},o=function(e){e.off("dragover.h5s"),e.off("dragenter.h5s"),e.off("drop.h5s")},a=function(e,t){e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text",""),e.dataTransfer.setDragImage&&e.dataTransfer.setDragImage(t.item,t.x,t.y)},l=function(e,t){return t.x||(t.x=parseInt(e.pageX-t.draggedItem.offset().left)),t.y||(t.y=parseInt(e.pageY-t.draggedItem.offset().top)),t},d=function(e){return{item:e[0],draggedItem:e}},c=function(e,t){var i=d(t);i=l(e,i),a(e,i)},h=function(e,t){return"undefined"==typeof e?t:e},p=function(e){e.removeData("opts"),e.removeData("connectWith"),e.removeData("items"),e.removeAttr("aria-dropeffect")},u=function(e){e.removeAttr("aria-grabbed"),e.removeAttr("draggable"),e.removeAttr("role")},f=function(e,t){return e[0]===t[0]?!0:void 0!==e.data("connectWith")?e.data("connectWith")===t.data("connectWith"):!1},m=function(e){var t=e.data("opts")||{},i=e.children(t.items),n=t.handle?i.find(t.handle):i;o(e),p(e),n.off("mousedown.h5s"),s(i),u(i)},g=function(t){var i=t.data("opts"),n=t.children(i.items),r=i.handle?n.find(i.handle):n;t.attr("aria-dropeffect","move"),r.attr("draggable","true"),"function"!=typeof document.createElement("span").dragDrop||i.disableIEFix||r.on("mousedown.h5s",function(){-1!==n.index(this)?this.dragDrop():e(this).parents(i.items)[0].dragDrop()})},v=function(e){var t=e.data("opts"),i=e.children(t.items),n=t.handle?i.find(t.handle):i;e.attr("aria-dropeffect","none"),n.attr("draggable",!1),n.off("mousedown.h5s")},b=function(e){var t=e.data("opts"),i=e.children(t.items),n=t.handle?i.find(t.handle):i;s(i),n.off("mousedown.h5s"),o(e)},y=function(s,o){var l=e(s),d=String(o);return o=e.extend({connectWith:!1,placeholder:null,dragImage:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging"},o),l.each(function(){var s=e(this);if(/enable|disable|destroy/.test(d))return void y[d](s);o=h(s.data("opts"),o),s.data("opts",o),b(s);var l,p,u,m=s.children(o.items),v=null===o.placeholder?e("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="'+o.placeholderClass+'"/>'):e(o.placeholder).addClass(o.placeholderClass);if(!s.attr("data-sortable-id")){var w=r.length;r[w]=s,s.attr("data-sortable-id",w),m.attr("data-item-sortable-id",w)}s.data("items",o.items),n=n.add(v),o.connectWith&&s.data("connectWith",o.connectWith),g(s),m.attr("role","option"),m.attr("aria-grabbed","false"),m.on("dragstart.h5s",function(n){n.stopImmediatePropagation(),o.dragImage?(a(n.originalEvent,{item:o.dragImage,x:0,y:0}),console.log("WARNING: dragImage option is deprecated and will be removed in the future!")):c(n.originalEvent,e(this),o.dragImage),t=e(this),t.addClass(o.draggingClass),t.attr("aria-grabbed","true"),l=t.index(),i=t.height(),p=e(this).parent(),t.parent().triggerHandler("sortstart",{item:t,startparent:p})}),m.on("dragend.h5s",function(){t&&(t.removeClass(o.draggingClass),t.attr("aria-grabbed","false"),t.show(),n.detach(),u=e(this).parent(),t.parent().triggerHandler("sortstop",{item:t,startparent:p}),(l!==t.index()||p.get(0)!==u.get(0))&&t.parent().triggerHandler("sortupdate",{item:t,index:u.children(u.data("items")).index(t),oldindex:m.index(t),elementIndex:t.index(),oldElementIndex:l,startparent:p,endparent:u}),t=null,i=null)}),e(this).add([v]).on("drop.h5s",function(i){return f(s,e(t).parent())?(i.stopPropagation(),n.filter(":visible").after(t),t.trigger("dragend.h5s"),!1):void 0}),m.add([this,v]).on("dragover.h5s dragenter.h5s",function(r){if(f(s,e(t).parent())){if(r.preventDefault(),r.originalEvent.dataTransfer.dropEffect="move",m.is(this)){var a=e(this).height();if(o.forcePlaceholderSize&&v.height(i),a>i){var l=a-i,d=e(this).offset().top;if(v.index()<e(this).index()&&r.originalEvent.pageY<d+l)return!1;if(v.index()>e(this).index()&&r.originalEvent.pageY>d+a-l)return!1}t.hide(),v.index()<e(this).index()?e(this).after(v):e(this).before(v),n.not(v).detach()}else n.is(this)||e(this).children(o.items).length||(n.detach(),e(this).append(v));return!1}})})};return y.destroy=function(e){m(e)},y.enable=function(e){g(e)},y.disable=function(e){v(e)},e.fn.sortable=function(e){return y(this,e)},y}),function(e){e.fn.stickyTabs=function(t){var i=this,n=e.extend({getHashCallback:function(e){return e},selectorAttribute:"href",backToTop:!1,initialTab:e("li.active > a",i)},t),r=function(){var t="href"==n.selectorAttribute?window.location.hash:window.location.hash.substring(1),r=t?"a["+n.selectorAttribute+'="'+t+'"]':n.initialTab;e(r,i).tab("show"),setTimeout(o,1)},s=function(e){history&&history.pushState?history.pushState(null,null,window.location.pathname+window.location.search+"#"+e):(scrollV=document.body.scrollTop,scrollH=document.body.scrollLeft,window.location.hash=e,document.body.scrollTop=scrollV,document.body.scrollLeft=scrollH)},o=function(){n.backToTop===!0&&window.scrollTo(0,0)};return r(),e(window).on("hashchange",r),e("a",i).on("click",function(){var e=this.href.split("#")[1],t=n.getHashCallback(e,this);s(t),setTimeout(o,1)}),this}}(jQuery),function(){$.print=function(){var e;return e=jsPrintSetup,e.setPaperSizeData(9),e.setOption("orientation",e.kPortraitOrientation),e.setOption("scaling",100),e.setOption("shrinkToFit",0),e.setOption("marginTop",0),e.setOption("marginBottom",0),e.setOption("marginLeft",0),e.setOption("marginRight",0),e.setOption("headerStrLeft",""),e.setOption("headerStrCenter",""),e.setOption("headerStrRight",""),e.setOption("footerStrLeft",""),e.setOption("footerStrCenter",""),e.setOption("footerStrRight",""),e.setOption("printBGColors",1),e.setOption("printBGImages",1),e.print()}}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){UnobtrusiveFlash.flashOptions.timeout=5e3}.call(this);