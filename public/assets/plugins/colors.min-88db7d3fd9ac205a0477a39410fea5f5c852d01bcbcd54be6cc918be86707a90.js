/*!
 * froala_editor v1.2.8 (https://www.froala.com/wysiwyg-editor)
 * License https://www.froala.com/wysiwyg-editor/terms
 * Copyright 2014-2015 Froala Labs
 */
!function(e){e.Editable.DEFAULTS=e.extend(e.Editable.DEFAULTS,{colors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],colorsStep:7,colorGroups:[{text:"Text",cmd:"foreColor"},{text:"Background",cmd:"backColor"}],defaultColorGroup:"foreColor"}),e.Editable.prototype.refreshColors=function(){var e=this.getSelectionElement();this.$editor.find(".fr-color-picker button.fr-color-bttn").removeClass("active"),this.refreshColor(e,"background-color","backColor"),this.refreshColor(e,"color","foreColor")},e.Editable.prototype.refreshColor=function(t,i,n){for(;e(t).get(0)!=this.$element.get(0);){if("transparent"!==e(t).css(i)&&"rgba(0, 0, 0, 0)"!==e(t).css(i)){this.$editor.find('.fr-color-picker button.fr-color-bttn[data-param="'+n+'"][data-val="'+e.Editable.RGBToHex(e(t).css(i))+'"]').addClass("active");break}t=e(t).parent()}},e.Editable.commands=e.extend(e.Editable.commands,{color:{icon:"fa fa-tint",title:"Color",refreshOnShow:e.Editable.prototype.refreshColors,callback:function(e,t,i){this[i].apply(this,[t])},callbackWithoutSelection:function(t,i,n){"backColor"===n&&(n="background-color"),"foreColor"===n&&(n="color"),this._startInFontExec(n,t,i),"#123456"===i&&""===this.text()&&(this.cleanify(!0,!1),this.$element.find("span").each(function(t,i){var n=e(i),o=n.css("background-color");("#123456"===o||"#123456"===e.Editable.RGBToHex(o))&&n.css("background-color",""),o=n.css("color"),("#123456"===o||"#123456"===e.Editable.RGBToHex(o))&&n.css("color","")}))},undo:!0}}),e.Editable.prototype.command_dispatcher=e.extend(e.Editable.prototype.command_dispatcher,{color:function(e){var t=this.buildDropdownColor(e),i=this.buildDropdownButton(e,t,"fr-color-picker");return i}}),e.Editable.prototype.buildColorList=function(e,t){for(var i=this.options.defaultColorGroup==e?"block":"none",n='<div class="fr-color-set fr-'+e+'" style="display: '+i+'">',o=0;o<t.length;o++){var a=t[o];n+="REMOVE"!==a?'<button type="button" class="fr-color-bttn" data-val="'+a+'" data-cmd="color" data-param="'+e+'" style="background: '+a+';">&nbsp;</button>':'<button type="button" class="fr-color-bttn" data-val="#123456" data-cmd="color" data-param="'+e+'" style="background: #FFF;"><i class="fa fa-eraser"></i></button>',o%this.options.colorsStep==this.options.colorsStep-1&&o>0&&(n+="<hr/>",o!=this.options.colorsStep-1&&o!=2*this.options.colorsStep-1||!this.options.colorsTopChoices||(n+='<div class="separator"></div>'))}return n+="</div>"},e.Editable.prototype.buildDropdownColor=function(){for(var t="",i='<div class="fr-dropdown-menu">',n=0;n<this.options.colorGroups.length;n++)i+=this.buildColorList(this.options.colorGroups[n].cmd,this.options.colorGroups[n].colors||this.options.colors);for(i+="<p>",n=0;n<this.options.colorGroups.length;n++)t=this.options.defaultColorGroup==this.options.colorGroups[n].cmd?"active":"",i+='<span class="fr-choose-color '+t+'" data-text="true" data-param="'+this.options.colorGroups[n].cmd+'" style="width: '+100/this.options.colorGroups.length+'%;">'+this.options.colorGroups[n].text+"</span>";i+="</p></div>",this.$bttn_wrapper.on(this.mousedown,".fr-choose-color",function(e){return e.preventDefault(),e.stopPropagation(),"mousedown"===e.type&&1!==e.which?!0:void 0});var o=this;return this.$bttn_wrapper.on(this.mouseup,".fr-choose-color",function(t){if(t.preventDefault(),t.stopPropagation(),"mouseup"===t.type&&1!==t.which)return!0;var i=e(this);i.siblings().removeClass("active"),i.addClass("active"),i.parents(".fr-dropdown-menu").find("button").attr("data-param",i.attr("data-param")),i.parents(".fr-dropdown-menu").find(".fr-color-set").hide(),i.parents(".fr-dropdown-menu").find(".fr-color-set.fr-"+i.attr("data-param")).show(),o.refreshColors()}),i},e.Editable.prototype.backColor=function(t){this.inlineStyle("background-color","backColor",t),this.saveSelectionByMarkers(),this.$element.find("span").each(function(t,i){var n=e(i),o=n.css("background-color");("#123456"===o||"#123456"===e.Editable.RGBToHex(o))&&(n.css("background-color",""),n.find("span").each(function(t,i){var n=e(i);n.css("background-color",""),""!==n.attr("style")||n.hasClass("f-marker")||n.replaceWith(n.contents())})),""!==n.attr("style")||n.hasClass("f-marker")||n.replaceWith(n.contents())}),this.restoreSelectionByMarkers(),this.cleanify();var i=this.$editor.find('button.fr-color-bttn[data-cmd="backColor"][data-val="'+t+'"]');i.addClass("active"),i.siblings().removeClass("active")},e.Editable.prototype.foreColor=function(t){this.inlineStyle("color","foreColor",t),this.saveSelectionByMarkers(),this.$element.find("span").each(function(t,i){var n=e(i),o=n.css("color");("#123456"===o||"#123456"===e.Editable.RGBToHex(o))&&(n.css("color",""),n.find("span").each(function(t,i){var n=e(i);n.css("color",""),""!==n.attr("style")||n.hasClass("f-marker")||n.replaceWith(n.contents())})),""!==n.attr("style")||n.hasClass("f-marker")||n.replaceWith(n.contents())}),this.restoreSelectionByMarkers(),this.cleanify();var i=this.$editor.find('button.fr-color-bttn[data-cmd="foreColor"][data-val="'+t+'"]');i.addClass("active"),i.siblings().removeClass("active")}}(jQuery);